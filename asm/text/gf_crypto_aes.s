.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gfCryptoAES$7__ct
gfCryptoAES$7__ct:
/* 80037DD0 0002DB50  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80037DD4 0002DB54  7C 08 02 A6 */	mflr r0
/* 80037DD8 0002DB58  3C 80 80 42 */	lis r4, lbl_804208B0@ha
/* 80037DDC 0002DB5C  38 A0 00 0C */	li r5, 0xc
/* 80037DE0 0002DB60  90 01 00 14 */	stw r0, 0x14(r1)
/* 80037DE4 0002DB64  38 84 08 B0 */	addi r4, r4, lbl_804208B0@l
/* 80037DE8 0002DB68  38 C0 10 00 */	li r6, 0x1000
/* 80037DEC 0002DB6C  38 E0 00 3A */	li r7, 0x3a
/* 80037DF0 0002DB70  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80037DF4 0002DB74  7C 7F 1B 78 */	mr r31, r3
/* 80037DF8 0002DB78  90 83 00 00 */	stw r4, 0(r3)
/* 80037DFC 0002DB7C  7F E4 FB 78 */	mr r4, r31
/* 80037E00 0002DB80  4B FF 78 29 */	bl gfThread$7createThread
/* 80037E04 0002DB84  3C A0 80 42 */	lis r5, lbl_804233B8@ha
/* 80037E08 0002DB88  3C 80 80 42 */	lis r4, lbl_80423398@ha
/* 80037E0C 0002DB8C  38 A5 33 B8 */	addi r5, r5, lbl_804233B8@l
/* 80037E10 0002DB90  38 7F 03 40 */	addi r3, r31, 0x340
/* 80037E14 0002DB94  90 BF 00 00 */	stw r5, 0(r31)
/* 80037E18 0002DB98  38 84 33 98 */	addi r4, r4, lbl_80423398@l
/* 80037E1C 0002DB9C  38 A0 00 10 */	li r5, 0x10
/* 80037E20 0002DBA0  4B FC C5 19 */	bl func_80004338
/* 80037E24 0002DBA4  3C 80 80 42 */	lis r4, lbl_804233A8@ha
/* 80037E28 0002DBA8  38 7F 03 50 */	addi r3, r31, 0x350
/* 80037E2C 0002DBAC  38 84 33 A8 */	addi r4, r4, lbl_804233A8@l
/* 80037E30 0002DBB0  38 A0 00 10 */	li r5, 0x10
/* 80037E34 0002DBB4  4B FC C5 05 */	bl func_80004338
/* 80037E38 0002DBB8  38 00 00 00 */	li r0, 0
/* 80037E3C 0002DBBC  7F E3 FB 78 */	mr r3, r31
/* 80037E40 0002DBC0  98 1F 03 70 */	stb r0, 0x370(r31)
/* 80037E44 0002DBC4  90 1F 03 74 */	stw r0, 0x374(r31)
/* 80037E48 0002DBC8  90 1F 03 78 */	stw r0, 0x378(r31)
/* 80037E4C 0002DBCC  98 1F 03 80 */	stb r0, 0x380(r31)
/* 80037E50 0002DBD0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80037E54 0002DBD4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80037E58 0002DBD8  7C 08 03 A6 */	mtlr r0
/* 80037E5C 0002DBDC  38 21 00 10 */	addi r1, r1, 0x10
/* 80037E60 0002DBE0  4E 80 00 20 */	blr 

.global gfCryptoAES$7__dt
gfCryptoAES$7__dt:
/* 80037E64 0002DBE4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80037E68 0002DBE8  7C 08 02 A6 */	mflr r0
/* 80037E6C 0002DBEC  2C 03 00 00 */	cmpwi r3, 0
/* 80037E70 0002DBF0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80037E74 0002DBF4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80037E78 0002DBF8  7C 9F 23 78 */	mr r31, r4
/* 80037E7C 0002DBFC  93 C1 00 08 */	stw r30, 8(r1)
/* 80037E80 0002DC00  7C 7E 1B 78 */	mr r30, r3
/* 80037E84 0002DC04  41 82 00 64 */	beq lbl_80037EE8
/* 80037E88 0002DC08  88 03 03 70 */	lbz r0, 0x370(r3)
/* 80037E8C 0002DC0C  3C 80 80 42 */	lis r4, lbl_804233B8@ha
/* 80037E90 0002DC10  38 84 33 B8 */	addi r4, r4, lbl_804233B8@l
/* 80037E94 0002DC14  2C 00 00 00 */	cmpwi r0, 0
/* 80037E98 0002DC18  90 83 00 00 */	stw r4, 0(r3)
/* 80037E9C 0002DC1C  40 82 00 0C */	bne lbl_80037EA8
/* 80037EA0 0002DC20  38 63 00 08 */	addi r3, r3, 8
/* 80037EA4 0002DC24  48 1A 94 C1 */	bl OSResumeThread
lbl_80037EA8:
/* 80037EA8 0002DC28  88 1E 03 80 */	lbz r0, 0x380(r30)
/* 80037EAC 0002DC2C  2C 00 00 00 */	cmpwi r0, 0
/* 80037EB0 0002DC30  41 82 00 1C */	beq lbl_80037ECC
/* 80037EB4 0002DC34  80 7E 03 78 */	lwz r3, 0x378(r30)
/* 80037EB8 0002DC38  2C 03 00 00 */	cmpwi r3, 0
/* 80037EBC 0002DC3C  41 82 00 10 */	beq lbl_80037ECC
/* 80037EC0 0002DC40  4B FE CB 8D */	bl free__13gfHeapManagerFPv
/* 80037EC4 0002DC44  38 00 00 00 */	li r0, 0
/* 80037EC8 0002DC48  90 1E 03 78 */	stw r0, 0x378(r30)
lbl_80037ECC:
/* 80037ECC 0002DC4C  7F C3 F3 78 */	mr r3, r30
/* 80037ED0 0002DC50  38 80 00 00 */	li r4, 0
/* 80037ED4 0002DC54  4B FF 76 E5 */	bl gfThread$7__dt
/* 80037ED8 0002DC58  2C 1F 00 00 */	cmpwi r31, 0
/* 80037EDC 0002DC5C  40 81 00 0C */	ble lbl_80037EE8
/* 80037EE0 0002DC60  7F C3 F3 78 */	mr r3, r30
/* 80037EE4 0002DC64  4B FD 49 E5 */	bl __dl__FPv
lbl_80037EE8:
/* 80037EE8 0002DC68  7F C3 F3 78 */	mr r3, r30
/* 80037EEC 0002DC6C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80037EF0 0002DC70  83 C1 00 08 */	lwz r30, 8(r1)
/* 80037EF4 0002DC74  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80037EF8 0002DC78  7C 08 03 A6 */	mtlr r0
/* 80037EFC 0002DC7C  38 21 00 10 */	addi r1, r1, 0x10
/* 80037F00 0002DC80  4E 80 00 20 */	blr 

.global gfCryptoAES$7encrypt
gfCryptoAES$7encrypt:
/* 80037F04 0002DC84  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80037F08 0002DC88  7C 08 02 A6 */	mflr r0
/* 80037F0C 0002DC8C  90 01 00 14 */	stw r0, 0x14(r1)
/* 80037F10 0002DC90  88 03 03 70 */	lbz r0, 0x370(r3)
/* 80037F14 0002DC94  2C 00 00 00 */	cmpwi r0, 0
/* 80037F18 0002DC98  41 82 00 0C */	beq lbl_80037F24
/* 80037F1C 0002DC9C  38 60 00 00 */	li r3, 0
/* 80037F20 0002DCA0  48 00 00 44 */	b lbl_80037F64
lbl_80037F24:
/* 80037F24 0002DCA4  2C 04 00 00 */	cmpwi r4, 0
/* 80037F28 0002DCA8  40 82 00 0C */	bne lbl_80037F34
/* 80037F2C 0002DCAC  38 60 00 00 */	li r3, 0
/* 80037F30 0002DCB0  48 00 00 34 */	b lbl_80037F64
lbl_80037F34:
/* 80037F34 0002DCB4  54 80 06 FF */	clrlwi. r0, r4, 0x1b
/* 80037F38 0002DCB8  41 82 00 0C */	beq lbl_80037F44
/* 80037F3C 0002DCBC  38 60 00 00 */	li r3, 0
/* 80037F40 0002DCC0  48 00 00 24 */	b lbl_80037F64
lbl_80037F44:
/* 80037F44 0002DCC4  38 00 00 01 */	li r0, 1
/* 80037F48 0002DCC8  90 83 03 60 */	stw r4, 0x360(r3)
/* 80037F4C 0002DCCC  90 A3 03 64 */	stw r5, 0x364(r3)
/* 80037F50 0002DCD0  90 C3 03 68 */	stw r6, 0x368(r3)
/* 80037F54 0002DCD4  90 03 03 6C */	stw r0, 0x36c(r3)
/* 80037F58 0002DCD8  38 63 00 08 */	addi r3, r3, 8
/* 80037F5C 0002DCDC  48 1A 94 09 */	bl OSResumeThread
/* 80037F60 0002DCE0  38 60 00 01 */	li r3, 1
lbl_80037F64:
/* 80037F64 0002DCE4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80037F68 0002DCE8  7C 08 03 A6 */	mtlr r0
/* 80037F6C 0002DCEC  38 21 00 10 */	addi r1, r1, 0x10
/* 80037F70 0002DCF0  4E 80 00 20 */	blr 

.global gfCryptoAES$7decrypt
gfCryptoAES$7decrypt:
/* 80037F74 0002DCF4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80037F78 0002DCF8  7C 08 02 A6 */	mflr r0
/* 80037F7C 0002DCFC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80037F80 0002DD00  88 03 03 70 */	lbz r0, 0x370(r3)
/* 80037F84 0002DD04  2C 00 00 00 */	cmpwi r0, 0
/* 80037F88 0002DD08  41 82 00 0C */	beq lbl_80037F94
/* 80037F8C 0002DD0C  38 60 00 00 */	li r3, 0
/* 80037F90 0002DD10  48 00 00 5C */	b lbl_80037FEC
lbl_80037F94:
/* 80037F94 0002DD14  2C 04 00 00 */	cmpwi r4, 0
/* 80037F98 0002DD18  40 82 00 0C */	bne lbl_80037FA4
/* 80037F9C 0002DD1C  38 60 00 00 */	li r3, 0
/* 80037FA0 0002DD20  48 00 00 4C */	b lbl_80037FEC
lbl_80037FA4:
/* 80037FA4 0002DD24  28 05 00 10 */	cmplwi r5, 0x10
/* 80037FA8 0002DD28  41 80 00 0C */	blt lbl_80037FB4
/* 80037FAC 0002DD2C  54 A0 07 3F */	clrlwi. r0, r5, 0x1c
/* 80037FB0 0002DD30  41 82 00 0C */	beq lbl_80037FBC
lbl_80037FB4:
/* 80037FB4 0002DD34  38 60 00 00 */	li r3, 0
/* 80037FB8 0002DD38  48 00 00 34 */	b lbl_80037FEC
lbl_80037FBC:
/* 80037FBC 0002DD3C  54 80 06 FF */	clrlwi. r0, r4, 0x1b
/* 80037FC0 0002DD40  41 82 00 0C */	beq lbl_80037FCC
/* 80037FC4 0002DD44  38 60 00 00 */	li r3, 0
/* 80037FC8 0002DD48  48 00 00 24 */	b lbl_80037FEC
lbl_80037FCC:
/* 80037FCC 0002DD4C  38 00 00 02 */	li r0, 2
/* 80037FD0 0002DD50  90 83 03 60 */	stw r4, 0x360(r3)
/* 80037FD4 0002DD54  90 A3 03 64 */	stw r5, 0x364(r3)
/* 80037FD8 0002DD58  90 C3 03 68 */	stw r6, 0x368(r3)
/* 80037FDC 0002DD5C  90 03 03 6C */	stw r0, 0x36c(r3)
/* 80037FE0 0002DD60  38 63 00 08 */	addi r3, r3, 8
/* 80037FE4 0002DD64  48 1A 93 81 */	bl OSResumeThread
/* 80037FE8 0002DD68  38 60 00 01 */	li r3, 1
lbl_80037FEC:
/* 80037FEC 0002DD6C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80037FF0 0002DD70  7C 08 03 A6 */	mtlr r0
/* 80037FF4 0002DD74  38 21 00 10 */	addi r1, r1, 0x10
/* 80037FF8 0002DD78  4E 80 00 20 */	blr 

.global gfCryptoAES$7run
gfCryptoAES$7run:
/* 80037FFC 0002DD7C  54 2B 06 FE */	clrlwi r11, r1, 0x1b
/* 80038000 0002DD80  7C 2C 0B 78 */	mr r12, r1
/* 80038004 0002DD84  21 6B FE 80 */	subfic r11, r11, -384
/* 80038008 0002DD88  7C 21 59 6E */	stwux r1, r1, r11
/* 8003800C 0002DD8C  7C 08 02 A6 */	mflr r0
/* 80038010 0002DD90  90 0C 00 04 */	stw r0, 4(r12)
/* 80038014 0002DD94  93 EC FF FC */	stw r31, -4(r12)
/* 80038018 0002DD98  7C 7F 1B 78 */	mr r31, r3
/* 8003801C 0002DD9C  93 CC FF F8 */	stw r30, -8(r12)
/* 80038020 0002DDA0  93 AC FF F4 */	stw r29, -0xc(r12)
/* 80038024 0002DDA4  80 A3 03 6C */	lwz r5, 0x36c(r3)
/* 80038028 0002DDA8  2C 05 00 00 */	cmpwi r5, 0
/* 8003802C 0002DDAC  41 82 01 9C */	beq lbl_800381C8
/* 80038030 0002DDB0  80 83 03 64 */	lwz r4, 0x364(r3)
/* 80038034 0002DDB4  38 00 FF FF */	li r0, -1
/* 80038038 0002DDB8  2C 05 00 01 */	cmpwi r5, 1
/* 8003803C 0002DDBC  90 03 03 74 */	stw r0, 0x374(r3)
/* 80038040 0002DDC0  90 83 03 7C */	stw r4, 0x37c(r3)
/* 80038044 0002DDC4  40 82 00 10 */	bne lbl_80038054
/* 80038048 0002DDC8  38 04 00 0F */	addi r0, r4, 0xf
/* 8003804C 0002DDCC  54 00 00 36 */	rlwinm r0, r0, 0, 0, 0x1b
/* 80038050 0002DDD0  90 03 03 7C */	stw r0, 0x37c(r3)
lbl_80038054:
/* 80038054 0002DDD4  80 63 03 68 */	lwz r3, 0x368(r3)
/* 80038058 0002DDD8  38 A0 00 20 */	li r5, 0x20
/* 8003805C 0002DDDC  80 9F 03 7C */	lwz r4, 0x37c(r31)
/* 80038060 0002DDE0  4B FE C9 A1 */	bl alloc__13gfHeapManagerFUlUl_379
/* 80038064 0002DDE4  2C 03 00 00 */	cmpwi r3, 0
/* 80038068 0002DDE8  90 7F 03 78 */	stw r3, 0x378(r31)
/* 8003806C 0002DDEC  41 82 01 28 */	beq lbl_80038194
/* 80038070 0002DDF0  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 80038074 0002DDF4  3F C0 80 00 */	lis r30, 0x8000
/* 80038078 0002DDF8  3B A3 4D D3 */	addi r29, r3, 0x10624DD3@l
/* 8003807C 0002DDFC  48 00 00 1C */	b lbl_80038098
lbl_80038080:
/* 80038080 0002DE00  80 1E 00 F8 */	lwz r0, 0xf8(r30)
/* 80038084 0002DE04  38 60 00 00 */	li r3, 0
/* 80038088 0002DE08  54 00 F0 BE */	srwi r0, r0, 2
/* 8003808C 0002DE0C  7C 1D 00 16 */	mulhwu r0, r29, r0
/* 80038090 0002DE10  54 04 D1 BE */	srwi r4, r0, 6
/* 80038094 0002DE14  48 1A 99 ED */	bl OSSleepTicks
lbl_80038098:
/* 80038098 0002DE18  48 35 73 99 */	bl NETLockCrypto
/* 8003809C 0002DE1C  2C 03 00 00 */	cmpwi r3, 0
/* 800380A0 0002DE20  41 82 FF E0 */	beq lbl_80038080
/* 800380A4 0002DE24  38 61 00 40 */	addi r3, r1, 0x40
/* 800380A8 0002DE28  38 9F 03 50 */	addi r4, r31, 0x350
/* 800380AC 0002DE2C  38 DF 03 40 */	addi r6, r31, 0x340
/* 800380B0 0002DE30  38 A0 00 10 */	li r5, 0x10
/* 800380B4 0002DE34  48 35 7C B1 */	bl NETAESCreate
/* 800380B8 0002DE38  2C 03 00 00 */	cmpwi r3, 0
/* 800380BC 0002DE3C  41 82 00 D0 */	beq lbl_8003818C
/* 800380C0 0002DE40  80 1F 03 6C */	lwz r0, 0x36c(r31)
/* 800380C4 0002DE44  2C 00 00 01 */	cmpwi r0, 1
/* 800380C8 0002DE48  40 82 00 98 */	bne lbl_80038160
/* 800380CC 0002DE4C  80 1F 03 64 */	lwz r0, 0x364(r31)
/* 800380D0 0002DE50  54 1D 06 FE */	clrlwi r29, r0, 0x1b
/* 800380D4 0002DE54  7F DD 00 51 */	subf. r30, r29, r0
/* 800380D8 0002DE58  41 82 00 20 */	beq lbl_800380F8
/* 800380DC 0002DE5C  80 9F 03 78 */	lwz r4, 0x378(r31)
/* 800380E0 0002DE60  7F C6 F3 78 */	mr r6, r30
/* 800380E4 0002DE64  80 BF 03 60 */	lwz r5, 0x360(r31)
/* 800380E8 0002DE68  38 61 00 40 */	addi r3, r1, 0x40
/* 800380EC 0002DE6C  48 35 7C 85 */	bl NETAESEncrypt
/* 800380F0 0002DE70  2C 03 00 00 */	cmpwi r3, 0
/* 800380F4 0002DE74  41 82 00 A8 */	beq lbl_8003819C
lbl_800380F8:
/* 800380F8 0002DE78  2C 1D 00 00 */	cmpwi r29, 0
/* 800380FC 0002DE7C  41 82 00 58 */	beq lbl_80038154
/* 80038100 0002DE80  38 61 00 20 */	addi r3, r1, 0x20
/* 80038104 0002DE84  38 80 00 00 */	li r4, 0
/* 80038108 0002DE88  38 A0 00 20 */	li r5, 0x20
/* 8003810C 0002DE8C  4B FC C3 31 */	bl func_8000443C
/* 80038110 0002DE90  80 1F 03 60 */	lwz r0, 0x360(r31)
/* 80038114 0002DE94  7F A5 EB 78 */	mr r5, r29
/* 80038118 0002DE98  38 61 00 20 */	addi r3, r1, 0x20
/* 8003811C 0002DE9C  7C 80 F2 14 */	add r4, r0, r30
/* 80038120 0002DEA0  4B FC C2 19 */	bl func_80004338
/* 80038124 0002DEA4  28 1D 00 10 */	cmplwi r29, 0x10
/* 80038128 0002DEA8  41 81 00 0C */	bgt lbl_80038134
/* 8003812C 0002DEAC  38 C0 00 10 */	li r6, 0x10
/* 80038130 0002DEB0  48 00 00 08 */	b lbl_80038138
lbl_80038134:
/* 80038134 0002DEB4  38 C0 00 20 */	li r6, 0x20
lbl_80038138:
/* 80038138 0002DEB8  80 1F 03 78 */	lwz r0, 0x378(r31)
/* 8003813C 0002DEBC  38 61 00 40 */	addi r3, r1, 0x40
/* 80038140 0002DEC0  38 A1 00 20 */	addi r5, r1, 0x20
/* 80038144 0002DEC4  7C 80 F2 14 */	add r4, r0, r30
/* 80038148 0002DEC8  48 35 7C 29 */	bl NETAESEncrypt
/* 8003814C 0002DECC  2C 03 00 00 */	cmpwi r3, 0
/* 80038150 0002DED0  41 82 00 4C */	beq lbl_8003819C
lbl_80038154:
/* 80038154 0002DED4  38 00 00 00 */	li r0, 0
/* 80038158 0002DED8  90 1F 03 74 */	stw r0, 0x374(r31)
/* 8003815C 0002DEDC  48 00 00 28 */	b lbl_80038184
lbl_80038160:
/* 80038160 0002DEE0  80 9F 03 78 */	lwz r4, 0x378(r31)
/* 80038164 0002DEE4  38 61 00 40 */	addi r3, r1, 0x40
/* 80038168 0002DEE8  80 BF 03 60 */	lwz r5, 0x360(r31)
/* 8003816C 0002DEEC  80 DF 03 7C */	lwz r6, 0x37c(r31)
/* 80038170 0002DEF0  48 35 7C B9 */	bl NETAESDecrypt
/* 80038174 0002DEF4  2C 03 00 00 */	cmpwi r3, 0
/* 80038178 0002DEF8  41 82 00 0C */	beq lbl_80038184
/* 8003817C 0002DEFC  38 00 00 00 */	li r0, 0
/* 80038180 0002DF00  90 1F 03 74 */	stw r0, 0x374(r31)
lbl_80038184:
/* 80038184 0002DF04  38 61 00 40 */	addi r3, r1, 0x40
/* 80038188 0002DF08  48 35 7B E5 */	bl NETAESDelete
lbl_8003818C:
/* 8003818C 0002DF0C  48 35 73 35 */	bl NETUnlockCrypto
/* 80038190 0002DF10  48 00 00 0C */	b lbl_8003819C
lbl_80038194:
/* 80038194 0002DF14  38 00 FF FE */	li r0, -2
/* 80038198 0002DF18  90 1F 03 74 */	stw r0, 0x374(r31)
lbl_8003819C:
/* 8003819C 0002DF1C  80 1F 03 74 */	lwz r0, 0x374(r31)
/* 800381A0 0002DF20  2C 00 00 00 */	cmpwi r0, 0
/* 800381A4 0002DF24  41 82 00 1C */	beq lbl_800381C0
/* 800381A8 0002DF28  80 7F 03 78 */	lwz r3, 0x378(r31)
/* 800381AC 0002DF2C  2C 03 00 00 */	cmpwi r3, 0
/* 800381B0 0002DF30  41 82 00 10 */	beq lbl_800381C0
/* 800381B4 0002DF34  4B FE C8 99 */	bl free__13gfHeapManagerFPv
/* 800381B8 0002DF38  38 00 00 00 */	li r0, 0
/* 800381BC 0002DF3C  90 1F 03 78 */	stw r0, 0x378(r31)
lbl_800381C0:
/* 800381C0 0002DF40  38 00 00 01 */	li r0, 1
/* 800381C4 0002DF44  98 1F 03 70 */	stb r0, 0x370(r31)
lbl_800381C8:
/* 800381C8 0002DF48  81 41 00 00 */	lwz r10, 0(r1)
/* 800381CC 0002DF4C  80 0A 00 04 */	lwz r0, 4(r10)
/* 800381D0 0002DF50  83 EA FF FC */	lwz r31, -4(r10)
/* 800381D4 0002DF54  83 CA FF F8 */	lwz r30, -8(r10)
/* 800381D8 0002DF58  83 AA FF F4 */	lwz r29, -0xc(r10)
/* 800381DC 0002DF5C  7C 08 03 A6 */	mtlr r0
/* 800381E0 0002DF60  7D 41 53 78 */	mr r1, r10
/* 800381E4 0002DF64  4E 80 00 20 */	blr 

