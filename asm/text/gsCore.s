.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gsiCoreAtExitShutdown
gsiCoreAtExitShutdown:
/* 8035E380 00354100  3C 60 80 53 */	lis r3, lbl_805348E0@ha
/* 8035E384 00354104  38 63 48 E0 */	addi r3, r3, lbl_805348E0@l
/* 8035E388 00354108  38 63 00 10 */	addi r3, r3, 0x10
/* 8035E38C 0035410C  4B FF EE C8 */	b gsiDeleteCriticalSection

.global gsCoreInitialize
gsCoreInitialize:
/* 8035E390 00354110  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8035E394 00354114  7C 08 02 A6 */	mflr r0
/* 8035E398 00354118  90 01 00 14 */	stw r0, 0x14(r1)
/* 8035E39C 0035411C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8035E3A0 00354120  3F E0 80 53 */	lis r31, lbl_805348E0@ha
/* 8035E3A4 00354124  3B FF 48 E0 */	addi r31, r31, lbl_805348E0@l
/* 8035E3A8 00354128  48 00 00 0C */	b lbl_8035E3B4
lbl_8035E3AC:
/* 8035E3AC 0035412C  38 60 00 64 */	li r3, 0x64
/* 8035E3B0 00354130  4B FF F3 C5 */	bl msleep
lbl_8035E3B4:
/* 8035E3B4 00354134  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 8035E3B8 00354138  2C 00 00 00 */	cmpwi r0, 0
/* 8035E3BC 0035413C  40 82 FF F0 */	bne lbl_8035E3AC
/* 8035E3C0 00354140  7F E3 FB 78 */	mr r3, r31
/* 8035E3C4 00354144  4B FF ED F5 */	bl gsiInterlockedIncrement
/* 8035E3C8 00354148  28 03 00 01 */	cmplwi r3, 1
/* 8035E3CC 0035414C  40 82 00 80 */	bne lbl_8035E44C
/* 8035E3D0 00354150  80 1F 00 04 */	lwz r0, 4(r31)
/* 8035E3D4 00354154  2C 00 00 00 */	cmpwi r0, 0
/* 8035E3D8 00354158  40 82 00 20 */	bne lbl_8035E3F8
/* 8035E3DC 0035415C  38 7F 00 10 */	addi r3, r31, 0x10
/* 8035E3E0 00354160  4B FF EE 69 */	bl gsiInitializeCriticalSection
/* 8035E3E4 00354164  3C 60 80 36 */	lis r3, gsiCoreAtExitShutdown@ha
/* 8035E3E8 00354168  38 63 E3 80 */	addi r3, r3, gsiCoreAtExitShutdown@l
/* 8035E3EC 0035416C  48 09 E5 CD */	bl atexit
/* 8035E3F0 00354170  38 00 00 01 */	li r0, 1
/* 8035E3F4 00354174  90 1F 00 04 */	stw r0, 4(r31)
lbl_8035E3F8:
/* 8035E3F8 00354178  38 7F 00 10 */	addi r3, r31, 0x10
/* 8035E3FC 0035417C  4B FF EE 51 */	bl gsiEnterCriticalSection
/* 8035E400 00354180  38 7F 00 10 */	addi r3, r31, 0x10
/* 8035E404 00354184  4B FF EE 4D */	bl gsiLeaveCriticalSection
/* 8035E408 00354188  48 00 00 0C */	b lbl_8035E414
lbl_8035E40C:
/* 8035E40C 0035418C  38 60 00 64 */	li r3, 0x64
/* 8035E410 00354190  4B FF F3 65 */	bl msleep
lbl_8035E414:
/* 8035E414 00354194  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 8035E418 00354198  2C 00 00 00 */	cmpwi r0, 0
/* 8035E41C 0035419C  40 82 FF F0 */	bne lbl_8035E40C
/* 8035E420 003541A0  38 7F 00 28 */	addi r3, r31, 0x28
/* 8035E424 003541A4  38 80 00 00 */	li r4, 0
/* 8035E428 003541A8  38 A0 00 A0 */	li r5, 0xa0
/* 8035E42C 003541AC  4B CA 60 11 */	bl func_8000443C
/* 8035E430 003541B0  48 02 06 21 */	bl ghttpStartup
/* 8035E434 003541B4  38 00 00 01 */	li r0, 1
/* 8035E438 003541B8  90 1F 00 08 */	stw r0, 8(r31)
/* 8035E43C 003541BC  48 00 00 44 */	b lbl_8035E480
/* 8035E440 003541C0  48 00 00 0C */	b lbl_8035E44C
lbl_8035E444:
/* 8035E444 003541C4  38 60 00 64 */	li r3, 0x64
/* 8035E448 003541C8  4B FF F3 2D */	bl msleep
lbl_8035E44C:
/* 8035E44C 003541CC  80 1F 00 04 */	lwz r0, 4(r31)
/* 8035E450 003541D0  2C 00 00 00 */	cmpwi r0, 0
/* 8035E454 003541D4  41 82 FF F0 */	beq lbl_8035E444
/* 8035E458 003541D8  38 7F 00 10 */	addi r3, r31, 0x10
/* 8035E45C 003541DC  4B FF ED F1 */	bl gsiEnterCriticalSection
/* 8035E460 003541E0  38 7F 00 10 */	addi r3, r31, 0x10
/* 8035E464 003541E4  4B FF ED ED */	bl gsiLeaveCriticalSection
/* 8035E468 003541E8  48 00 00 0C */	b lbl_8035E474
lbl_8035E46C:
/* 8035E46C 003541EC  38 60 00 64 */	li r3, 0x64
/* 8035E470 003541F0  4B FF F3 05 */	bl msleep
lbl_8035E474:
/* 8035E474 003541F4  80 1F 00 08 */	lwz r0, 8(r31)
/* 8035E478 003541F8  2C 00 00 00 */	cmpwi r0, 0
/* 8035E47C 003541FC  41 82 FF F0 */	beq lbl_8035E46C
lbl_8035E480:
/* 8035E480 00354200  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8035E484 00354204  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8035E488 00354208  7C 08 03 A6 */	mtlr r0
/* 8035E48C 0035420C  38 21 00 10 */	addi r1, r1, 0x10
/* 8035E490 00354210  4E 80 00 20 */	blr 

.global gsCoreTaskThink
gsCoreTaskThink:
/* 8035E494 00354214  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8035E498 00354218  7C 08 02 A6 */	mflr r0
/* 8035E49C 0035421C  2C 03 00 00 */	cmpwi r3, 0
/* 8035E4A0 00354220  38 80 00 00 */	li r4, 0
/* 8035E4A4 00354224  90 01 00 24 */	stw r0, 0x24(r1)
/* 8035E4A8 00354228  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8035E4AC 0035422C  7C 7F 1B 78 */	mr r31, r3
/* 8035E4B0 00354230  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8035E4B4 00354234  3F C0 80 53 */	lis r30, lbl_805348E0@ha
/* 8035E4B8 00354238  3B DE 48 E0 */	addi r30, r30, lbl_805348E0@l
/* 8035E4BC 0035423C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8035E4C0 00354240  40 82 00 0C */	bne lbl_8035E4CC
/* 8035E4C4 00354244  38 60 00 04 */	li r3, 4
/* 8035E4C8 00354248  48 00 01 B8 */	b lbl_8035E680
lbl_8035E4CC:
/* 8035E4CC 0035424C  80 03 00 14 */	lwz r0, 0x14(r3)
/* 8035E4D0 00354250  2C 00 00 00 */	cmpwi r0, 0
/* 8035E4D4 00354254  41 82 00 20 */	beq lbl_8035E4F4
/* 8035E4D8 00354258  81 83 00 34 */	lwz r12, 0x34(r3)
/* 8035E4DC 0035425C  2C 0C 00 00 */	cmpwi r12, 0
/* 8035E4E0 00354260  41 82 00 14 */	beq lbl_8035E4F4
/* 8035E4E4 00354264  80 63 00 20 */	lwz r3, 0x20(r3)
/* 8035E4E8 00354268  7D 89 03 A6 */	mtctr r12
/* 8035E4EC 0035426C  4E 80 04 21 */	bctrl 
/* 8035E4F0 00354270  7C 64 1B 78 */	mr r4, r3
lbl_8035E4F4:
/* 8035E4F4 00354274  80 1F 00 18 */	lwz r0, 0x18(r31)
/* 8035E4F8 00354278  2C 00 00 00 */	cmpwi r0, 0
/* 8035E4FC 0035427C  40 82 00 B4 */	bne lbl_8035E5B0
/* 8035E500 00354280  2C 04 00 01 */	cmpwi r4, 1
/* 8035E504 00354284  40 82 00 AC */	bne lbl_8035E5B0
/* 8035E508 00354288  80 1F 00 04 */	lwz r0, 4(r31)
/* 8035E50C 0035428C  2C 00 00 00 */	cmpwi r0, 0
/* 8035E510 00354290  41 82 01 6C */	beq lbl_8035E67C
/* 8035E514 00354294  4B FF F2 15 */	bl current_time
/* 8035E518 00354298  80 9F 00 08 */	lwz r4, 8(r31)
/* 8035E51C 0035429C  80 1F 00 04 */	lwz r0, 4(r31)
/* 8035E520 003542A0  7C 64 18 50 */	subf r3, r4, r3
/* 8035E524 003542A4  7C 03 00 40 */	cmplw r3, r0
/* 8035E528 003542A8  40 81 01 54 */	ble lbl_8035E67C
/* 8035E52C 003542AC  3F C0 80 53 */	lis r30, lbl_805348E0@ha
/* 8035E530 003542B0  3B DE 48 E0 */	addi r30, r30, lbl_805348E0@l
/* 8035E534 003542B4  38 7E 00 10 */	addi r3, r30, 0x10
/* 8035E538 003542B8  4B FF ED 15 */	bl gsiEnterCriticalSection
/* 8035E53C 003542BC  80 1F 00 14 */	lwz r0, 0x14(r31)
/* 8035E540 003542C0  2C 00 00 00 */	cmpwi r0, 0
/* 8035E544 003542C4  41 82 00 30 */	beq lbl_8035E574
/* 8035E548 003542C8  80 1F 00 18 */	lwz r0, 0x18(r31)
/* 8035E54C 003542CC  2C 00 00 00 */	cmpwi r0, 0
/* 8035E550 003542D0  40 82 00 24 */	bne lbl_8035E574
/* 8035E554 003542D4  81 9F 00 2C */	lwz r12, 0x2c(r31)
/* 8035E558 003542D8  38 00 00 01 */	li r0, 1
/* 8035E55C 003542DC  90 1F 00 18 */	stw r0, 0x18(r31)
/* 8035E560 003542E0  2C 0C 00 00 */	cmpwi r12, 0
/* 8035E564 003542E4  41 82 00 10 */	beq lbl_8035E574
/* 8035E568 003542E8  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 8035E56C 003542EC  7D 89 03 A6 */	mtctr r12
/* 8035E570 003542F0  4E 80 04 21 */	bctrl 
lbl_8035E574:
/* 8035E574 003542F4  38 7E 00 10 */	addi r3, r30, 0x10
/* 8035E578 003542F8  4B FF EC D9 */	bl gsiLeaveCriticalSection
/* 8035E57C 003542FC  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 8035E580 00354300  2C 00 00 00 */	cmpwi r0, 0
/* 8035E584 00354304  41 82 00 F8 */	beq lbl_8035E67C
/* 8035E588 00354308  81 9F 00 28 */	lwz r12, 0x28(r31)
/* 8035E58C 0035430C  38 00 00 00 */	li r0, 0
/* 8035E590 00354310  90 1F 00 1C */	stw r0, 0x1c(r31)
/* 8035E594 00354314  2C 0C 00 00 */	cmpwi r12, 0
/* 8035E598 00354318  41 82 00 E4 */	beq lbl_8035E67C
/* 8035E59C 0035431C  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 8035E5A0 00354320  38 80 00 03 */	li r4, 3
/* 8035E5A4 00354324  7D 89 03 A6 */	mtctr r12
/* 8035E5A8 00354328  4E 80 04 21 */	bctrl 
/* 8035E5AC 0035432C  48 00 00 D0 */	b lbl_8035E67C
lbl_8035E5B0:
/* 8035E5B0 00354330  2C 04 00 01 */	cmpwi r4, 1
/* 8035E5B4 00354334  41 82 00 C8 */	beq lbl_8035E67C
/* 8035E5B8 00354338  80 1F 00 14 */	lwz r0, 0x14(r31)
/* 8035E5BC 0035433C  3B A0 00 01 */	li r29, 1
/* 8035E5C0 00354340  2C 00 00 00 */	cmpwi r0, 0
/* 8035E5C4 00354344  41 82 00 38 */	beq lbl_8035E5FC
/* 8035E5C8 00354348  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 8035E5CC 0035434C  2C 00 00 00 */	cmpwi r0, 0
/* 8035E5D0 00354350  41 82 00 24 */	beq lbl_8035E5F4
/* 8035E5D4 00354354  81 9F 00 28 */	lwz r12, 0x28(r31)
/* 8035E5D8 00354358  38 00 00 00 */	li r0, 0
/* 8035E5DC 0035435C  90 1F 00 1C */	stw r0, 0x1c(r31)
/* 8035E5E0 00354360  2C 0C 00 00 */	cmpwi r12, 0
/* 8035E5E4 00354364  41 82 00 10 */	beq lbl_8035E5F4
/* 8035E5E8 00354368  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 8035E5EC 0035436C  7D 89 03 A6 */	mtctr r12
/* 8035E5F0 00354370  4E 80 04 21 */	bctrl 
lbl_8035E5F4:
/* 8035E5F4 00354374  38 00 00 00 */	li r0, 0
/* 8035E5F8 00354378  90 1F 00 14 */	stw r0, 0x14(r31)
lbl_8035E5FC:
/* 8035E5FC 0035437C  81 9F 00 30 */	lwz r12, 0x30(r31)
/* 8035E600 00354380  2C 0C 00 00 */	cmpwi r12, 0
/* 8035E604 00354384  41 82 00 14 */	beq lbl_8035E618
/* 8035E608 00354388  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 8035E60C 0035438C  7D 89 03 A6 */	mtctr r12
/* 8035E610 00354390  4E 80 04 21 */	bctrl 
/* 8035E614 00354394  7C 7D 1B 78 */	mr r29, r3
lbl_8035E618:
/* 8035E618 00354398  2C 1D 00 00 */	cmpwi r29, 0
/* 8035E61C 0035439C  41 82 00 60 */	beq lbl_8035E67C
/* 8035E620 003543A0  38 7E 00 10 */	addi r3, r30, 0x10
/* 8035E624 003543A4  4B FF EC 29 */	bl gsiEnterCriticalSection
/* 8035E628 003543A8  38 00 00 28 */	li r0, 0x28
/* 8035E62C 003543AC  7F C3 F3 78 */	mr r3, r30
/* 8035E630 003543B0  38 80 00 00 */	li r4, 0
/* 8035E634 003543B4  7C 09 03 A6 */	mtctr r0
lbl_8035E638:
/* 8035E638 003543B8  80 03 00 28 */	lwz r0, 0x28(r3)
/* 8035E63C 003543BC  7C 00 F8 40 */	cmplw r0, r31
/* 8035E640 003543C0  40 82 00 20 */	bne lbl_8035E660
/* 8035E644 003543C4  54 80 10 3A */	slwi r0, r4, 2
/* 8035E648 003543C8  38 A0 00 00 */	li r5, 0
/* 8035E64C 003543CC  7C 9E 02 14 */	add r4, r30, r0
/* 8035E650 003543D0  7F E3 FB 78 */	mr r3, r31
/* 8035E654 003543D4  90 A4 00 28 */	stw r5, 0x28(r4)
/* 8035E658 003543D8  4B FF F9 B5 */	bl gsifree
/* 8035E65C 003543DC  48 00 00 10 */	b lbl_8035E66C
lbl_8035E660:
/* 8035E660 003543E0  38 63 00 04 */	addi r3, r3, 4
/* 8035E664 003543E4  38 84 00 01 */	addi r4, r4, 1
/* 8035E668 003543E8  42 00 FF D0 */	bdnz lbl_8035E638
lbl_8035E66C:
/* 8035E66C 003543EC  38 7E 00 10 */	addi r3, r30, 0x10
/* 8035E670 003543F0  4B FF EB E1 */	bl gsiLeaveCriticalSection
/* 8035E674 003543F4  38 60 00 04 */	li r3, 4
/* 8035E678 003543F8  48 00 00 08 */	b lbl_8035E680
lbl_8035E67C:
/* 8035E67C 003543FC  38 60 00 01 */	li r3, 1
lbl_8035E680:
/* 8035E680 00354400  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8035E684 00354404  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8035E688 00354408  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8035E68C 0035440C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8035E690 00354410  7C 08 03 A6 */	mtlr r0
/* 8035E694 00354414  38 21 00 20 */	addi r1, r1, 0x20
/* 8035E698 00354418  4E 80 00 20 */	blr 

.global gsCoreThink
gsCoreThink:
/* 8035E69C 0035441C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8035E6A0 00354420  7C 08 02 A6 */	mflr r0
/* 8035E6A4 00354424  90 01 00 24 */	stw r0, 0x24(r1)
/* 8035E6A8 00354428  39 61 00 20 */	addi r11, r1, 0x20
/* 8035E6AC 0035442C  48 09 2C 71 */	bl _savegpr_26
/* 8035E6B0 00354430  3F A0 80 53 */	lis r29, lbl_805348E0@ha
/* 8035E6B4 00354434  7C 7A 1B 78 */	mr r26, r3
/* 8035E6B8 00354438  3B BD 48 E0 */	addi r29, r29, lbl_805348E0@l
/* 8035E6BC 0035443C  3B 60 00 01 */	li r27, 1
/* 8035E6C0 00354440  80 1D 00 08 */	lwz r0, 8(r29)
/* 8035E6C4 00354444  2C 00 00 00 */	cmpwi r0, 0
/* 8035E6C8 00354448  41 82 00 8C */	beq lbl_8035E754
/* 8035E6CC 0035444C  38 7D 00 10 */	addi r3, r29, 0x10
/* 8035E6D0 00354450  4B FF EB 7D */	bl gsiEnterCriticalSection
/* 8035E6D4 00354454  4B FF F0 55 */	bl current_time
/* 8035E6D8 00354458  7C 7F 1B 78 */	mr r31, r3
/* 8035E6DC 0035445C  7F BE EB 78 */	mr r30, r29
/* 8035E6E0 00354460  3B 80 00 00 */	li r28, 0
lbl_8035E6E4:
/* 8035E6E4 00354464  80 7E 00 28 */	lwz r3, 0x28(r30)
/* 8035E6E8 00354468  2C 03 00 00 */	cmpwi r3, 0
/* 8035E6EC 0035446C  41 82 00 18 */	beq lbl_8035E704
/* 8035E6F0 00354470  80 03 00 0C */	lwz r0, 0xc(r3)
/* 8035E6F4 00354474  3B 60 00 00 */	li r27, 0
/* 8035E6F8 00354478  2C 00 00 01 */	cmpwi r0, 1
/* 8035E6FC 0035447C  40 82 00 08 */	bne lbl_8035E704
/* 8035E700 00354480  4B FF FD 95 */	bl gsCoreTaskThink
lbl_8035E704:
/* 8035E704 00354484  2C 1A 00 00 */	cmpwi r26, 0
/* 8035E708 00354488  41 82 00 14 */	beq lbl_8035E71C
/* 8035E70C 0035448C  4B FF F0 1D */	bl current_time
/* 8035E710 00354490  7C 1F 18 50 */	subf r0, r31, r3
/* 8035E714 00354494  7C 00 D0 40 */	cmplw r0, r26
/* 8035E718 00354498  41 81 00 14 */	bgt lbl_8035E72C
lbl_8035E71C:
/* 8035E71C 0035449C  3B 9C 00 01 */	addi r28, r28, 1
/* 8035E720 003544A0  3B DE 00 04 */	addi r30, r30, 4
/* 8035E724 003544A4  2C 1C 00 28 */	cmpwi r28, 0x28
/* 8035E728 003544A8  41 80 FF BC */	blt lbl_8035E6E4
lbl_8035E72C:
/* 8035E72C 003544AC  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 8035E730 003544B0  2C 00 00 00 */	cmpwi r0, 0
/* 8035E734 003544B4  41 82 00 18 */	beq lbl_8035E74C
/* 8035E738 003544B8  2C 1B 00 00 */	cmpwi r27, 0
/* 8035E73C 003544BC  41 82 00 10 */	beq lbl_8035E74C
/* 8035E740 003544C0  48 02 03 61 */	bl ghttpCleanup
/* 8035E744 003544C4  38 00 00 00 */	li r0, 0
/* 8035E748 003544C8  90 1D 00 0C */	stw r0, 0xc(r29)
lbl_8035E74C:
/* 8035E74C 003544CC  38 7D 00 10 */	addi r3, r29, 0x10
/* 8035E750 003544D0  4B FF EB 01 */	bl gsiLeaveCriticalSection
lbl_8035E754:
/* 8035E754 003544D4  39 61 00 20 */	addi r11, r1, 0x20
/* 8035E758 003544D8  48 09 2C 11 */	bl _restgpr_26
/* 8035E75C 003544DC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8035E760 003544E0  7C 08 03 A6 */	mtlr r0
/* 8035E764 003544E4  38 21 00 20 */	addi r1, r1, 0x20
/* 8035E768 003544E8  4E 80 00 20 */	blr 

.global gsCoreShutdown
gsCoreShutdown:
/* 8035E76C 003544EC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8035E770 003544F0  7C 08 02 A6 */	mflr r0
/* 8035E774 003544F4  90 01 00 24 */	stw r0, 0x24(r1)
/* 8035E778 003544F8  39 61 00 20 */	addi r11, r1, 0x20
/* 8035E77C 003544FC  48 09 2B A5 */	bl _savegpr_27
/* 8035E780 00354500  3C 60 80 53 */	lis r3, lbl_805348E0@ha
/* 8035E784 00354504  3B 83 48 E0 */	addi r28, r3, lbl_805348E0@l
/* 8035E788 00354508  80 1C 00 08 */	lwz r0, 8(r28)
/* 8035E78C 0035450C  2C 00 00 00 */	cmpwi r0, 0
/* 8035E790 00354510  41 82 00 A0 */	beq lbl_8035E830
/* 8035E794 00354514  38 7C 00 10 */	addi r3, r28, 0x10
/* 8035E798 00354518  4B FF EA B5 */	bl gsiEnterCriticalSection
/* 8035E79C 0035451C  7F 83 E3 78 */	mr r3, r28
/* 8035E7A0 00354520  4B FF EA 61 */	bl gsiInterlockedDecrement
/* 8035E7A4 00354524  2C 03 00 00 */	cmpwi r3, 0
/* 8035E7A8 00354528  41 82 00 10 */	beq lbl_8035E7B8
/* 8035E7AC 0035452C  38 7C 00 10 */	addi r3, r28, 0x10
/* 8035E7B0 00354530  4B FF EA A1 */	bl gsiLeaveCriticalSection
/* 8035E7B4 00354534  48 00 00 7C */	b lbl_8035E830
lbl_8035E7B8:
/* 8035E7B8 00354538  3B E0 00 01 */	li r31, 1
/* 8035E7BC 0035453C  7F 9E E3 78 */	mr r30, r28
/* 8035E7C0 00354540  93 FC 00 0C */	stw r31, 0xc(r28)
/* 8035E7C4 00354544  3B 60 00 00 */	li r27, 0
lbl_8035E7C8:
/* 8035E7C8 00354548  83 BE 00 28 */	lwz r29, 0x28(r30)
/* 8035E7CC 0035454C  2C 1D 00 00 */	cmpwi r29, 0
/* 8035E7D0 00354550  41 82 00 48 */	beq lbl_8035E818
/* 8035E7D4 00354554  38 7C 00 10 */	addi r3, r28, 0x10
/* 8035E7D8 00354558  4B FF EA 75 */	bl gsiEnterCriticalSection
/* 8035E7DC 0035455C  80 1D 00 14 */	lwz r0, 0x14(r29)
/* 8035E7E0 00354560  2C 00 00 00 */	cmpwi r0, 0
/* 8035E7E4 00354564  41 82 00 2C */	beq lbl_8035E810
/* 8035E7E8 00354568  80 1D 00 18 */	lwz r0, 0x18(r29)
/* 8035E7EC 0035456C  2C 00 00 00 */	cmpwi r0, 0
/* 8035E7F0 00354570  40 82 00 20 */	bne lbl_8035E810
/* 8035E7F4 00354574  93 FD 00 18 */	stw r31, 0x18(r29)
/* 8035E7F8 00354578  81 9D 00 2C */	lwz r12, 0x2c(r29)
/* 8035E7FC 0035457C  2C 0C 00 00 */	cmpwi r12, 0
/* 8035E800 00354580  41 82 00 10 */	beq lbl_8035E810
/* 8035E804 00354584  80 7D 00 20 */	lwz r3, 0x20(r29)
/* 8035E808 00354588  7D 89 03 A6 */	mtctr r12
/* 8035E80C 0035458C  4E 80 04 21 */	bctrl 
lbl_8035E810:
/* 8035E810 00354590  38 7C 00 10 */	addi r3, r28, 0x10
/* 8035E814 00354594  4B FF EA 3D */	bl gsiLeaveCriticalSection
lbl_8035E818:
/* 8035E818 00354598  3B 7B 00 01 */	addi r27, r27, 1
/* 8035E81C 0035459C  3B DE 00 04 */	addi r30, r30, 4
/* 8035E820 003545A0  2C 1B 00 28 */	cmpwi r27, 0x28
/* 8035E824 003545A4  41 80 FF A4 */	blt lbl_8035E7C8
/* 8035E828 003545A8  38 7C 00 10 */	addi r3, r28, 0x10
/* 8035E82C 003545AC  4B FF EA 25 */	bl gsiLeaveCriticalSection
lbl_8035E830:
/* 8035E830 003545B0  39 61 00 20 */	addi r11, r1, 0x20
/* 8035E834 003545B4  48 09 2B 39 */	bl _restgpr_27
/* 8035E838 003545B8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8035E83C 003545BC  7C 08 03 A6 */	mtlr r0
/* 8035E840 003545C0  38 21 00 20 */	addi r1, r1, 0x20
/* 8035E844 003545C4  4E 80 00 20 */	blr 

.global gsCoreIsShutdown
gsCoreIsShutdown:
/* 8035E848 003545C8  3C 60 80 53 */	lis r3, lbl_805348E0@ha
/* 8035E84C 003545CC  38 63 48 E0 */	addi r3, r3, lbl_805348E0@l
/* 8035E850 003545D0  80 03 00 0C */	lwz r0, 0xc(r3)
/* 8035E854 003545D4  2C 00 00 00 */	cmpwi r0, 0
/* 8035E858 003545D8  41 82 00 0C */	beq lbl_8035E864
/* 8035E85C 003545DC  38 60 00 01 */	li r3, 1
/* 8035E860 003545E0  4E 80 00 20 */	blr 
lbl_8035E864:
/* 8035E864 003545E4  80 03 00 00 */	lwz r0, 0(r3)
/* 8035E868 003545E8  38 60 00 00 */	li r3, 0
/* 8035E86C 003545EC  2C 00 00 00 */	cmpwi r0, 0
/* 8035E870 003545F0  4C 82 00 20 */	bnelr 
/* 8035E874 003545F4  38 60 00 02 */	li r3, 2
/* 8035E878 003545F8  4E 80 00 20 */	blr 

.global gsiCoreExecuteTask
gsiCoreExecuteTask:
/* 8035E87C 003545FC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8035E880 00354600  7C 08 02 A6 */	mflr r0
/* 8035E884 00354604  90 01 00 24 */	stw r0, 0x24(r1)
/* 8035E888 00354608  38 00 00 01 */	li r0, 1
/* 8035E88C 0035460C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8035E890 00354610  3F E0 80 53 */	lis r31, lbl_805348E0@ha
/* 8035E894 00354614  3B FF 48 E0 */	addi r31, r31, lbl_805348E0@l
/* 8035E898 00354618  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8035E89C 0035461C  3B C0 FF FF */	li r30, -1
/* 8035E8A0 00354620  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8035E8A4 00354624  7C 7D 1B 78 */	mr r29, r3
/* 8035E8A8 00354628  90 03 00 1C */	stw r0, 0x1c(r3)
/* 8035E8AC 0035462C  90 03 00 10 */	stw r0, 0x10(r3)
/* 8035E8B0 00354630  90 03 00 14 */	stw r0, 0x14(r3)
/* 8035E8B4 00354634  90 83 00 04 */	stw r4, 4(r3)
/* 8035E8B8 00354638  4B FF EE 71 */	bl current_time
/* 8035E8BC 0035463C  81 9D 00 24 */	lwz r12, 0x24(r29)
/* 8035E8C0 00354640  90 7D 00 08 */	stw r3, 8(r29)
/* 8035E8C4 00354644  2C 0C 00 00 */	cmpwi r12, 0
/* 8035E8C8 00354648  41 82 00 10 */	beq lbl_8035E8D8
/* 8035E8CC 0035464C  80 7D 00 20 */	lwz r3, 0x20(r29)
/* 8035E8D0 00354650  7D 89 03 A6 */	mtctr r12
/* 8035E8D4 00354654  4E 80 04 21 */	bctrl 
lbl_8035E8D8:
/* 8035E8D8 00354658  38 7F 00 10 */	addi r3, r31, 0x10
/* 8035E8DC 0035465C  4B FF E9 71 */	bl gsiEnterCriticalSection
/* 8035E8E0 00354660  38 00 00 04 */	li r0, 4
/* 8035E8E4 00354664  7F E3 FB 78 */	mr r3, r31
/* 8035E8E8 00354668  38 80 00 00 */	li r4, 0
/* 8035E8EC 0035466C  7C 09 03 A6 */	mtctr r0
lbl_8035E8F0:
/* 8035E8F0 00354670  80 03 00 28 */	lwz r0, 0x28(r3)
/* 8035E8F4 00354674  2C 00 00 00 */	cmpwi r0, 0
/* 8035E8F8 00354678  40 82 00 0C */	bne lbl_8035E904
/* 8035E8FC 0035467C  7C 9E 23 78 */	mr r30, r4
/* 8035E900 00354680  48 00 00 E8 */	b lbl_8035E9E8
lbl_8035E904:
/* 8035E904 00354684  80 03 00 2C */	lwz r0, 0x2c(r3)
/* 8035E908 00354688  38 84 00 01 */	addi r4, r4, 1
/* 8035E90C 0035468C  2C 00 00 00 */	cmpwi r0, 0
/* 8035E910 00354690  40 82 00 0C */	bne lbl_8035E91C
/* 8035E914 00354694  7C 9E 23 78 */	mr r30, r4
/* 8035E918 00354698  48 00 00 D0 */	b lbl_8035E9E8
lbl_8035E91C:
/* 8035E91C 0035469C  80 03 00 30 */	lwz r0, 0x30(r3)
/* 8035E920 003546A0  38 84 00 01 */	addi r4, r4, 1
/* 8035E924 003546A4  2C 00 00 00 */	cmpwi r0, 0
/* 8035E928 003546A8  40 82 00 0C */	bne lbl_8035E934
/* 8035E92C 003546AC  7C 9E 23 78 */	mr r30, r4
/* 8035E930 003546B0  48 00 00 B8 */	b lbl_8035E9E8
lbl_8035E934:
/* 8035E934 003546B4  80 03 00 34 */	lwz r0, 0x34(r3)
/* 8035E938 003546B8  38 84 00 01 */	addi r4, r4, 1
/* 8035E93C 003546BC  2C 00 00 00 */	cmpwi r0, 0
/* 8035E940 003546C0  40 82 00 0C */	bne lbl_8035E94C
/* 8035E944 003546C4  7C 9E 23 78 */	mr r30, r4
/* 8035E948 003546C8  48 00 00 A0 */	b lbl_8035E9E8
lbl_8035E94C:
/* 8035E94C 003546CC  80 03 00 38 */	lwz r0, 0x38(r3)
/* 8035E950 003546D0  38 84 00 01 */	addi r4, r4, 1
/* 8035E954 003546D4  2C 00 00 00 */	cmpwi r0, 0
/* 8035E958 003546D8  40 82 00 0C */	bne lbl_8035E964
/* 8035E95C 003546DC  7C 9E 23 78 */	mr r30, r4
/* 8035E960 003546E0  48 00 00 88 */	b lbl_8035E9E8
lbl_8035E964:
/* 8035E964 003546E4  80 03 00 3C */	lwz r0, 0x3c(r3)
/* 8035E968 003546E8  38 84 00 01 */	addi r4, r4, 1
/* 8035E96C 003546EC  2C 00 00 00 */	cmpwi r0, 0
/* 8035E970 003546F0  40 82 00 0C */	bne lbl_8035E97C
/* 8035E974 003546F4  7C 9E 23 78 */	mr r30, r4
/* 8035E978 003546F8  48 00 00 70 */	b lbl_8035E9E8
lbl_8035E97C:
/* 8035E97C 003546FC  80 03 00 40 */	lwz r0, 0x40(r3)
/* 8035E980 00354700  38 84 00 01 */	addi r4, r4, 1
/* 8035E984 00354704  2C 00 00 00 */	cmpwi r0, 0
/* 8035E988 00354708  40 82 00 0C */	bne lbl_8035E994
/* 8035E98C 0035470C  7C 9E 23 78 */	mr r30, r4
/* 8035E990 00354710  48 00 00 58 */	b lbl_8035E9E8
lbl_8035E994:
/* 8035E994 00354714  80 03 00 44 */	lwz r0, 0x44(r3)
/* 8035E998 00354718  38 84 00 01 */	addi r4, r4, 1
/* 8035E99C 0035471C  2C 00 00 00 */	cmpwi r0, 0
/* 8035E9A0 00354720  40 82 00 0C */	bne lbl_8035E9AC
/* 8035E9A4 00354724  7C 9E 23 78 */	mr r30, r4
/* 8035E9A8 00354728  48 00 00 40 */	b lbl_8035E9E8
lbl_8035E9AC:
/* 8035E9AC 0035472C  80 03 00 48 */	lwz r0, 0x48(r3)
/* 8035E9B0 00354730  38 84 00 01 */	addi r4, r4, 1
/* 8035E9B4 00354734  2C 00 00 00 */	cmpwi r0, 0
/* 8035E9B8 00354738  40 82 00 0C */	bne lbl_8035E9C4
/* 8035E9BC 0035473C  7C 9E 23 78 */	mr r30, r4
/* 8035E9C0 00354740  48 00 00 28 */	b lbl_8035E9E8
lbl_8035E9C4:
/* 8035E9C4 00354744  80 03 00 4C */	lwz r0, 0x4c(r3)
/* 8035E9C8 00354748  38 84 00 01 */	addi r4, r4, 1
/* 8035E9CC 0035474C  2C 00 00 00 */	cmpwi r0, 0
/* 8035E9D0 00354750  40 82 00 0C */	bne lbl_8035E9DC
/* 8035E9D4 00354754  7C 9E 23 78 */	mr r30, r4
/* 8035E9D8 00354758  48 00 00 10 */	b lbl_8035E9E8
lbl_8035E9DC:
/* 8035E9DC 0035475C  38 63 00 28 */	addi r3, r3, 0x28
/* 8035E9E0 00354760  38 84 00 01 */	addi r4, r4, 1
/* 8035E9E4 00354764  42 00 FF 0C */	bdnz lbl_8035E8F0
lbl_8035E9E8:
/* 8035E9E8 00354768  57 C0 10 3A */	slwi r0, r30, 2
/* 8035E9EC 0035476C  38 7F 00 10 */	addi r3, r31, 0x10
/* 8035E9F0 00354770  7C 9F 02 14 */	add r4, r31, r0
/* 8035E9F4 00354774  93 A4 00 28 */	stw r29, 0x28(r4)
/* 8035E9F8 00354778  4B FF E8 59 */	bl gsiLeaveCriticalSection
/* 8035E9FC 0035477C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8035EA00 00354780  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8035EA04 00354784  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8035EA08 00354788  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8035EA0C 0035478C  7C 08 03 A6 */	mtlr r0
/* 8035EA10 00354790  38 21 00 20 */	addi r1, r1, 0x20
/* 8035EA14 00354794  4E 80 00 20 */	blr 

.global gsiCoreCreateTask
gsiCoreCreateTask:
/* 8035EA18 00354798  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8035EA1C 0035479C  7C 08 02 A6 */	mflr r0
/* 8035EA20 003547A0  38 60 00 38 */	li r3, 0x38
/* 8035EA24 003547A4  90 01 00 14 */	stw r0, 0x14(r1)
/* 8035EA28 003547A8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8035EA2C 003547AC  4B FF F5 BD */	bl gsimalloc
/* 8035EA30 003547B0  2C 03 00 00 */	cmpwi r3, 0
/* 8035EA34 003547B4  7C 7F 1B 78 */	mr r31, r3
/* 8035EA38 003547B8  40 82 00 0C */	bne lbl_8035EA44
/* 8035EA3C 003547BC  38 60 00 00 */	li r3, 0
/* 8035EA40 003547C0  48 00 00 1C */	b lbl_8035EA5C
lbl_8035EA44:
/* 8035EA44 003547C4  38 80 00 00 */	li r4, 0
/* 8035EA48 003547C8  38 A0 00 38 */	li r5, 0x38
/* 8035EA4C 003547CC  4B CA 59 F1 */	bl func_8000443C
/* 8035EA50 003547D0  38 00 00 01 */	li r0, 1
/* 8035EA54 003547D4  7F E3 FB 78 */	mr r3, r31
/* 8035EA58 003547D8  90 1F 00 0C */	stw r0, 0xc(r31)
lbl_8035EA5C:
/* 8035EA5C 003547DC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8035EA60 003547E0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8035EA64 003547E4  7C 08 03 A6 */	mtlr r0
/* 8035EA68 003547E8  38 21 00 10 */	addi r1, r1, 0x10
/* 8035EA6C 003547EC  4E 80 00 20 */	blr 

