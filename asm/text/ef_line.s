.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global nw4r2ef15EmitterFormLineFPQ34nw4r2$7Emission
nw4r2ef15EmitterFormLineFPQ34nw4r2$7Emission:
/* 801708E8 00166668  94 21 FE 90 */	stwu r1, -0x170(r1)
/* 801708EC 0016666C  7C 08 02 A6 */	mflr r0
/* 801708F0 00166670  90 01 01 74 */	stw r0, 0x174(r1)
/* 801708F4 00166674  DB E1 01 60 */	stfd f31, 0x160(r1)
/* 801708F8 00166678  F3 E1 01 68 */	psq_st f31, 360(r1), 0, qr0
/* 801708FC 0016667C  DB C1 01 50 */	stfd f30, 0x150(r1)
/* 80170900 00166680  F3 C1 01 58 */	psq_st f30, 344(r1), 0, qr0
/* 80170904 00166684  DB A1 01 40 */	stfd f29, 0x140(r1)
/* 80170908 00166688  F3 A1 01 48 */	psq_st f29, 328(r1), 0, qr0
/* 8017090C 0016668C  DB 81 01 30 */	stfd f28, 0x130(r1)
/* 80170910 00166690  F3 81 01 38 */	psq_st f28, 312(r1), 0, qr0
/* 80170914 00166694  DB 61 01 20 */	stfd f27, 0x120(r1)
/* 80170918 00166698  F3 61 01 28 */	psq_st f27, 296(r1), 0, qr0
/* 8017091C 0016669C  DB 41 01 10 */	stfd f26, 0x110(r1)
/* 80170920 001666A0  F3 41 01 18 */	psq_st f26, 280(r1), 0, qr0
/* 80170924 001666A4  DB 21 01 00 */	stfd f25, 0x100(r1)
/* 80170928 001666A8  F3 21 01 08 */	psq_st f25, 264(r1), 0, qr0
/* 8017092C 001666AC  DB 01 00 F0 */	stfd f24, 0xf0(r1)
/* 80170930 001666B0  F3 01 00 F8 */	psq_st f24, 248(r1), 0, qr0
/* 80170934 001666B4  DA E1 00 E0 */	stfd f23, 0xe0(r1)
/* 80170938 001666B8  F2 E1 00 E8 */	psq_st f23, 232(r1), 0, qr0
/* 8017093C 001666BC  DA C1 00 D0 */	stfd f22, 0xd0(r1)
/* 80170940 001666C0  F2 C1 00 D8 */	psq_st f22, 216(r1), 0, qr0
/* 80170944 001666C4  DA A1 00 C0 */	stfd f21, 0xc0(r1)
/* 80170948 001666C8  F2 A1 00 C8 */	psq_st f21, 200(r1), 0, qr0
/* 8017094C 001666CC  DA 81 00 B0 */	stfd f20, 0xb0(r1)
/* 80170950 001666D0  F2 81 00 B8 */	psq_st f20, 184(r1), 0, qr0
/* 80170954 001666D4  DA 61 00 A0 */	stfd f19, 0xa0(r1)
/* 80170958 001666D8  F2 61 00 A8 */	psq_st f19, 168(r1), 0, qr0
/* 8017095C 001666DC  DA 41 00 90 */	stfd f18, 0x90(r1)
/* 80170960 001666E0  F2 41 00 98 */	psq_st f18, 152(r1), 0, qr0
/* 80170964 001666E4  39 61 00 90 */	addi r11, r1, 0x90
/* 80170968 001666E8  48 28 09 9D */	bl _savegpr_20
/* 8017096C 001666EC  3C 00 43 30 */	lis r0, 0x4330
/* 80170970 001666F0  FE 80 08 90 */	fmr f20, f1
/* 80170974 001666F4  2C 06 00 01 */	cmpwi r6, 1
/* 80170978 001666F8  90 01 00 50 */	stw r0, 0x50(r1)
/* 8017097C 001666FC  7C 74 1B 78 */	mr r20, r3
/* 80170980 00166700  7C 95 23 78 */	mr r21, r4
/* 80170984 00166704  90 01 00 58 */	stw r0, 0x58(r1)
/* 80170988 00166708  7C B6 2B 78 */	mr r22, r5
/* 8017098C 0016670C  7C D7 33 78 */	mr r23, r6
/* 80170990 00166710  7D 18 43 78 */	mr r24, r8
/* 80170994 00166714  7D 39 4B 78 */	mr r25, r9
/* 80170998 00166718  7D 5A 53 78 */	mr r26, r10
/* 8017099C 0016671C  41 80 02 60 */	blt lbl_80170BFC
/* 801709A0 00166720  3F C0 00 03 */	lis r30, 0x000343FD@ha
/* 801709A4 00166724  CB 82 9A E0 */	lfd f28, lbl_805A2E00-_SDA2_BASE_(r2)
/* 801709A8 00166728  CB 42 9A D8 */	lfd f26, lbl_805A2DF8-_SDA2_BASE_(r2)
/* 801709AC 0016672C  54 FD 03 9C */	rlwinm r29, r7, 0, 0xe, 0xe
/* 801709B0 00166730  C3 62 9A C0 */	lfs f27, lbl_805A2DE0-_SDA2_BASE_(r2)
/* 801709B4 00166734  54 FC 01 4A */	rlwinm r28, r7, 0, 5, 5
/* 801709B8 00166738  C3 A2 9A C8 */	lfs f29, lbl_805A2DE8-_SDA2_BASE_(r2)
/* 801709BC 0016673C  3B FE 43 FD */	addi r31, r30, 0x000343FD@l
/* 801709C0 00166740  C3 C2 9A C4 */	lfs f30, lbl_805A2DE4-_SDA2_BASE_(r2)
/* 801709C4 00166744  3B 60 00 00 */	li r27, 0
/* 801709C8 00166748  C3 E2 9A CC */	lfs f31, lbl_805A2DEC-_SDA2_BASE_(r2)
/* 801709CC 0016674C  C2 62 9A D0 */	lfs f19, lbl_805A2DF0-_SDA2_BASE_(r2)
/* 801709D0 00166750  48 00 02 24 */	b lbl_80170BF4
lbl_801709D4:
/* 801709D4 00166754  2C 1D 00 00 */	cmpwi r29, 0
/* 801709D8 00166758  40 82 00 34 */	bne lbl_80170A0C
/* 801709DC 0016675C  80 75 00 EC */	lwz r3, 0xec(r21)
/* 801709E0 00166760  38 1E 43 FD */	addi r0, r30, 0x43fd
/* 801709E4 00166764  7C 63 01 D6 */	mullw r3, r3, r0
/* 801709E8 00166768  3C 63 00 27 */	addis r3, r3, 0x27
/* 801709EC 0016676C  38 63 9E C3 */	addi r3, r3, -24893
/* 801709F0 00166770  54 60 84 3E */	srwi r0, r3, 0x10
/* 801709F4 00166774  90 75 00 EC */	stw r3, 0xec(r21)
/* 801709F8 00166778  90 01 00 54 */	stw r0, 0x54(r1)
/* 801709FC 0016677C  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 80170A00 00166780  EC 00 D0 28 */	fsubs f0, f0, f26
/* 80170A04 00166784  EE A0 D8 24 */	fdivs f21, f0, f27
/* 80170A08 00166788  48 00 00 3C */	b lbl_80170A44
lbl_80170A0C:
/* 80170A0C 0016678C  2C 17 00 01 */	cmpwi r23, 1
/* 80170A10 00166790  40 81 00 30 */	ble lbl_80170A40
/* 80170A14 00166794  38 17 FF FF */	addi r0, r23, -1
/* 80170A18 00166798  6F 63 80 00 */	xoris r3, r27, 0x8000
/* 80170A1C 0016679C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 80170A20 001667A0  90 61 00 5C */	stw r3, 0x5c(r1)
/* 80170A24 001667A4  90 01 00 54 */	stw r0, 0x54(r1)
/* 80170A28 001667A8  C8 21 00 58 */	lfd f1, 0x58(r1)
/* 80170A2C 001667AC  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 80170A30 001667B0  EC 21 E0 28 */	fsubs f1, f1, f28
/* 80170A34 001667B4  EC 00 E0 28 */	fsubs f0, f0, f28
/* 80170A38 001667B8  EE A1 00 24 */	fdivs f21, f1, f0
/* 80170A3C 001667BC  48 00 00 08 */	b lbl_80170A44
lbl_80170A40:
/* 80170A40 001667C0  C2 A2 9A C4 */	lfs f21, lbl_805A2DE4-_SDA2_BASE_(r2)
lbl_80170A44:
/* 80170A44 001667C4  2C 1C 00 00 */	cmpwi r28, 0
/* 80170A48 001667C8  41 82 00 08 */	beq lbl_80170A50
/* 80170A4C 001667CC  EE B5 E8 28 */	fsubs f21, f21, f29
lbl_80170A50:
/* 80170A50 001667D0  C0 18 00 00 */	lfs f0, 0(r24)
/* 80170A54 001667D4  C0 38 00 04 */	lfs f1, 4(r24)
/* 80170A58 001667D8  EE B5 00 32 */	fmuls f21, f21, f0
/* 80170A5C 001667DC  48 28 FF 85 */	bl sin
/* 80170A60 001667E0  C0 18 00 04 */	lfs f0, 4(r24)
/* 80170A64 001667E4  FF 20 08 18 */	frsp f25, f1
/* 80170A68 001667E8  FC 20 00 90 */	fmr f1, f0
/* 80170A6C 001667EC  48 28 FA 6D */	bl cos
/* 80170A70 001667F0  C0 18 00 08 */	lfs f0, 8(r24)
/* 80170A74 001667F4  FF 00 08 18 */	frsp f24, f1
/* 80170A78 001667F8  FC 20 00 90 */	fmr f1, f0
/* 80170A7C 001667FC  48 28 FF 65 */	bl sin
/* 80170A80 00166800  C0 18 00 08 */	lfs f0, 8(r24)
/* 80170A84 00166804  FE E0 08 18 */	frsp f23, f1
/* 80170A88 00166808  FC 20 00 90 */	fmr f1, f0
/* 80170A8C 0016680C  48 28 FA 4D */	bl cos
/* 80170A90 00166810  C0 18 00 0C */	lfs f0, 0xc(r24)
/* 80170A94 00166814  FE 40 08 18 */	frsp f18, f1
/* 80170A98 00166818  FC 20 00 90 */	fmr f1, f0
/* 80170A9C 0016681C  48 28 FF 45 */	bl sin
/* 80170AA0 00166820  C0 18 00 0C */	lfs f0, 0xc(r24)
/* 80170AA4 00166824  FE C0 08 18 */	frsp f22, f1
/* 80170AA8 00166828  FC 20 00 90 */	fmr f1, f0
/* 80170AAC 0016682C  48 28 FA 2D */	bl cos
/* 80170AB0 00166830  FC 40 08 18 */	frsp f2, f1
/* 80170AB4 00166834  38 C1 00 44 */	addi r6, r1, 0x44
/* 80170AB8 00166838  EC 38 05 F2 */	fmuls f1, f24, f23
/* 80170ABC 0016683C  D3 C1 00 38 */	stfs f30, 0x38(r1)
/* 80170AC0 00166840  EC 18 04 B2 */	fmuls f0, f24, f18
/* 80170AC4 00166844  7E 83 A3 78 */	mr r3, r20
/* 80170AC8 00166848  EC 98 00 B2 */	fmuls f4, f24, f2
/* 80170ACC 0016684C  D3 E1 00 3C */	stfs f31, 0x3c(r1)
/* 80170AD0 00166850  FC 40 10 50 */	fneg f2, f2
/* 80170AD4 00166854  7E A5 AB 78 */	mr r5, r21
/* 80170AD8 00166858  EC 79 05 B2 */	fmuls f3, f25, f22
/* 80170ADC 0016685C  D3 C1 00 40 */	stfs f30, 0x40(r1)
/* 80170AE0 00166860  EC 97 01 32 */	fmuls f4, f23, f4
/* 80170AE4 00166864  D3 C1 00 30 */	stfs f30, 0x30(r1)
/* 80170AE8 00166868  EC 42 06 72 */	fmuls f2, f2, f25
/* 80170AEC 0016686C  7C C8 33 78 */	mr r8, r6
/* 80170AF0 00166870  EC 36 00 72 */	fmuls f1, f22, f1
/* 80170AF4 00166874  38 81 00 20 */	addi r4, r1, 0x20
/* 80170AF8 00166878  EC 15 00 32 */	fmuls f0, f21, f0
/* 80170AFC 0016687C  38 E1 00 38 */	addi r7, r1, 0x38
/* 80170B00 00166880  EC 22 08 2A */	fadds f1, f2, f1
/* 80170B04 00166884  39 21 00 2C */	addi r9, r1, 0x2c
/* 80170B08 00166888  EC 64 18 2A */	fadds f3, f4, f3
/* 80170B0C 0016688C  D0 01 00 4C */	stfs f0, 0x4c(r1)
/* 80170B10 00166890  EC 35 00 72 */	fmuls f1, f21, f1
/* 80170B14 00166894  EC 55 00 F2 */	fmuls f2, f21, f3
/* 80170B18 00166898  D0 01 00 34 */	stfs f0, 0x34(r1)
/* 80170B1C 0016689C  D0 21 00 48 */	stfs f1, 0x48(r1)
/* 80170B20 001668A0  D0 41 00 44 */	stfs f2, 0x44(r1)
/* 80170B24 001668A4  D0 41 00 2C */	stfs f2, 0x2c(r1)
/* 80170B28 001668A8  4B FF F1 0D */	bl nw4r2ef11EmitterFormCFPQ34nw4r4mat$7CalcVelocity
/* 80170B2C 001668AC  80 15 00 EC */	lwz r0, 0xec(r21)
/* 80170B30 001668B0  FC 20 A0 90 */	fmr f1, f20
/* 80170B34 001668B4  7E 83 A3 78 */	mr r3, r20
/* 80170B38 001668B8  7F 24 CB 78 */	mr r4, r25
/* 80170B3C 001668BC  7C C0 F9 D6 */	mullw r6, r0, r31
/* 80170B40 001668C0  7E A5 AB 78 */	mr r5, r21
/* 80170B44 001668C4  3C C6 00 27 */	addis r6, r6, 0x27
/* 80170B48 001668C8  38 C6 9E C3 */	addi r6, r6, -24893
/* 80170B4C 001668CC  54 C0 84 3E */	srwi r0, r6, 0x10
/* 80170B50 001668D0  90 D5 00 EC */	stw r6, 0xec(r21)
/* 80170B54 001668D4  90 01 00 5C */	stw r0, 0x5c(r1)
/* 80170B58 001668D8  81 41 00 20 */	lwz r10, 0x20(r1)
/* 80170B5C 001668DC  C8 01 00 58 */	lfd f0, 0x58(r1)
/* 80170B60 001668E0  81 21 00 24 */	lwz r9, 0x24(r1)
/* 80170B64 001668E4  EC 00 D0 28 */	fsubs f0, f0, f26
/* 80170B68 001668E8  81 01 00 28 */	lwz r8, 0x28(r1)
/* 80170B6C 001668EC  80 E1 00 44 */	lwz r7, 0x44(r1)
/* 80170B70 001668F0  80 C1 00 48 */	lwz r6, 0x48(r1)
/* 80170B74 001668F4  EE 40 D8 24 */	fdivs f18, f0, f27
/* 80170B78 001668F8  80 01 00 4C */	lwz r0, 0x4c(r1)
/* 80170B7C 001668FC  91 41 00 08 */	stw r10, 8(r1)
/* 80170B80 00166900  91 21 00 0C */	stw r9, 0xc(r1)
/* 80170B84 00166904  91 01 00 10 */	stw r8, 0x10(r1)
/* 80170B88 00166908  90 E1 00 14 */	stw r7, 0x14(r1)
/* 80170B8C 0016690C  90 C1 00 18 */	stw r6, 0x18(r1)
/* 80170B90 00166910  90 01 00 1C */	stw r0, 0x1c(r1)
/* 80170B94 00166914  4B FF F5 BD */	bl nw4r2ef11EmitterFormFUsfPQ34nw4r2e$7CalcLife
/* 80170B98 00166918  88 15 00 67 */	lbz r0, 0x67(r21)
/* 80170B9C 0016691C  7C 64 1B 78 */	mr r4, r3
/* 80170BA0 00166920  81 96 00 1C */	lwz r12, 0x1c(r22)
/* 80170BA4 00166924  7E C3 B3 78 */	mr r3, r22
/* 80170BA8 00166928  7C 00 07 74 */	extsb r0, r0
/* 80170BAC 0016692C  7F 47 D3 78 */	mr r7, r26
/* 80170BB0 00166930  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 80170BB4 00166934  81 8C 00 14 */	lwz r12, 0x14(r12)
/* 80170BB8 00166938  90 01 00 54 */	stw r0, 0x54(r1)
/* 80170BBC 0016693C  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 80170BC0 00166940  38 A1 00 14 */	addi r5, r1, 0x14
/* 80170BC4 00166944  38 C1 00 08 */	addi r6, r1, 8
/* 80170BC8 00166948  C8 01 00 50 */	lfd f0, 0x50(r1)
/* 80170BCC 0016694C  39 15 00 FC */	addi r8, r21, 0xfc
/* 80170BD0 00166950  81 35 00 F8 */	lwz r9, 0xf8(r21)
/* 80170BD4 00166954  EC 00 E0 28 */	fsubs f0, f0, f28
/* 80170BD8 00166958  A1 55 00 E8 */	lhz r10, 0xe8(r21)
/* 80170BDC 0016695C  EC 13 00 32 */	fmuls f0, f19, f0
/* 80170BE0 00166960  EC 00 04 B2 */	fmuls f0, f0, f18
/* 80170BE4 00166964  EC 3F 00 2A */	fadds f1, f31, f0
/* 80170BE8 00166968  7D 89 03 A6 */	mtctr r12
/* 80170BEC 0016696C  4E 80 04 21 */	bctrl 
/* 80170BF0 00166970  3B 7B 00 01 */	addi r27, r27, 1
lbl_80170BF4:
/* 80170BF4 00166974  7C 1B B8 00 */	cmpw r27, r23
/* 80170BF8 00166978  41 80 FD DC */	blt lbl_801709D4
lbl_80170BFC:
/* 80170BFC 0016697C  E3 E1 01 68 */	psq_l f31, 360(r1), 0, qr0
/* 80170C00 00166980  CB E1 01 60 */	lfd f31, 0x160(r1)
/* 80170C04 00166984  E3 C1 01 58 */	psq_l f30, 344(r1), 0, qr0
/* 80170C08 00166988  CB C1 01 50 */	lfd f30, 0x150(r1)
/* 80170C0C 0016698C  E3 A1 01 48 */	psq_l f29, 328(r1), 0, qr0
/* 80170C10 00166990  CB A1 01 40 */	lfd f29, 0x140(r1)
/* 80170C14 00166994  E3 81 01 38 */	psq_l f28, 312(r1), 0, qr0
/* 80170C18 00166998  CB 81 01 30 */	lfd f28, 0x130(r1)
/* 80170C1C 0016699C  E3 61 01 28 */	psq_l f27, 296(r1), 0, qr0
/* 80170C20 001669A0  CB 61 01 20 */	lfd f27, 0x120(r1)
/* 80170C24 001669A4  E3 41 01 18 */	psq_l f26, 280(r1), 0, qr0
/* 80170C28 001669A8  CB 41 01 10 */	lfd f26, 0x110(r1)
/* 80170C2C 001669AC  E3 21 01 08 */	psq_l f25, 264(r1), 0, qr0
/* 80170C30 001669B0  CB 21 01 00 */	lfd f25, 0x100(r1)
/* 80170C34 001669B4  E3 01 00 F8 */	psq_l f24, 248(r1), 0, qr0
/* 80170C38 001669B8  CB 01 00 F0 */	lfd f24, 0xf0(r1)
/* 80170C3C 001669BC  E2 E1 00 E8 */	psq_l f23, 232(r1), 0, qr0
/* 80170C40 001669C0  CA E1 00 E0 */	lfd f23, 0xe0(r1)
/* 80170C44 001669C4  E2 C1 00 D8 */	psq_l f22, 216(r1), 0, qr0
/* 80170C48 001669C8  CA C1 00 D0 */	lfd f22, 0xd0(r1)
/* 80170C4C 001669CC  E2 A1 00 C8 */	psq_l f21, 200(r1), 0, qr0
/* 80170C50 001669D0  CA A1 00 C0 */	lfd f21, 0xc0(r1)
/* 80170C54 001669D4  E2 81 00 B8 */	psq_l f20, 184(r1), 0, qr0
/* 80170C58 001669D8  CA 81 00 B0 */	lfd f20, 0xb0(r1)
/* 80170C5C 001669DC  E2 61 00 A8 */	psq_l f19, 168(r1), 0, qr0
/* 80170C60 001669E0  CA 61 00 A0 */	lfd f19, 0xa0(r1)
/* 80170C64 001669E4  E2 41 00 98 */	psq_l f18, 152(r1), 0, qr0
/* 80170C68 001669E8  39 61 00 90 */	addi r11, r1, 0x90
/* 80170C6C 001669EC  CA 41 00 90 */	lfd f18, 0x90(r1)
/* 80170C70 001669F0  48 28 06 E1 */	bl _restgpr_20
/* 80170C74 001669F4  80 01 01 74 */	lwz r0, 0x174(r1)
/* 80170C78 001669F8  7C 08 03 A6 */	mtlr r0
/* 80170C7C 001669FC  38 21 01 70 */	addi r1, r1, 0x170
/* 80170C80 00166A00  4E 80 00 20 */	blr 

