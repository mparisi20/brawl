.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global NWC24InitMsgObj
NWC24InitMsgObj:
/* 8039AA1C 0039079C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8039AA20 003907A0  7C 08 02 A6 */	mflr r0
/* 8039AA24 003907A4  90 01 00 24 */	stw r0, 0x24(r1)
/* 8039AA28 003907A8  39 61 00 20 */	addi r11, r1, 0x20
/* 8039AA2C 003907AC  48 05 68 F1 */	bl _savegpr_26
/* 8039AA30 003907B0  7C 9E 23 78 */	mr r30, r4
/* 8039AA34 003907B4  7C 7F 1B 78 */	mr r31, r3
/* 8039AA38 003907B8  38 80 00 00 */	li r4, 0
/* 8039AA3C 003907BC  38 A0 01 00 */	li r5, 0x100
/* 8039AA40 003907C0  4B FF CD 09 */	bl Mail_memset
/* 8039AA44 003907C4  3B A0 00 00 */	li r29, 0
/* 8039AA48 003907C8  38 00 01 00 */	li r0, 0x100
/* 8039AA4C 003907CC  93 BF 00 00 */	stw r29, 0(r31)
/* 8039AA50 003907D0  90 1F 00 04 */	stw r0, 4(r31)
/* 8039AA54 003907D4  4B FF F0 75 */	bl NWC24GetAppId
/* 8039AA58 003907D8  90 7F 00 0C */	stw r3, 0xc(r31)
/* 8039AA5C 003907DC  93 BF 00 18 */	stw r29, 0x18(r31)
/* 8039AA60 003907E0  93 BF 00 14 */	stw r29, 0x14(r31)
/* 8039AA64 003907E4  4B FF F0 B1 */	bl NWC24GetGroupId
/* 8039AA68 003907E8  2C 1E 00 02 */	cmpwi r30, 2
/* 8039AA6C 003907EC  B0 7F 00 CA */	sth r3, 0xca(r31)
/* 8039AA70 003907F0  41 82 00 48 */	beq lbl_8039AAB8
/* 8039AA74 003907F4  40 80 00 14 */	bge lbl_8039AA88
/* 8039AA78 003907F8  2C 1E 00 00 */	cmpwi r30, 0
/* 8039AA7C 003907FC  41 82 00 1C */	beq lbl_8039AA98
/* 8039AA80 00390800  40 80 00 28 */	bge lbl_8039AAA8
/* 8039AA84 00390804  48 00 00 64 */	b lbl_8039AAE8
lbl_8039AA88:
/* 8039AA88 00390808  2C 1E 00 04 */	cmpwi r30, 4
/* 8039AA8C 0039080C  41 82 00 4C */	beq lbl_8039AAD8
/* 8039AA90 00390810  40 80 00 58 */	bge lbl_8039AAE8
/* 8039AA94 00390814  48 00 00 34 */	b lbl_8039AAC8
lbl_8039AA98:
/* 8039AA98 00390818  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039AA9C 0039081C  60 00 00 0D */	ori r0, r0, 0xd
/* 8039AAA0 00390820  90 1F 00 04 */	stw r0, 4(r31)
/* 8039AAA4 00390824  48 00 00 4C */	b lbl_8039AAF0
lbl_8039AAA8:
/* 8039AAA8 00390828  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039AAAC 0039082C  60 00 00 05 */	ori r0, r0, 5
/* 8039AAB0 00390830  90 1F 00 04 */	stw r0, 4(r31)
/* 8039AAB4 00390834  48 00 00 3C */	b lbl_8039AAF0
lbl_8039AAB8:
/* 8039AAB8 00390838  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039AABC 0039083C  60 00 00 09 */	ori r0, r0, 9
/* 8039AAC0 00390840  90 1F 00 04 */	stw r0, 4(r31)
/* 8039AAC4 00390844  48 00 00 2C */	b lbl_8039AAF0
lbl_8039AAC8:
/* 8039AAC8 00390848  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039AACC 0039084C  60 00 00 01 */	ori r0, r0, 1
/* 8039AAD0 00390850  90 1F 00 04 */	stw r0, 4(r31)
/* 8039AAD4 00390854  48 00 00 1C */	b lbl_8039AAF0
lbl_8039AAD8:
/* 8039AAD8 00390858  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039AADC 0039085C  60 00 00 02 */	ori r0, r0, 2
/* 8039AAE0 00390860  90 1F 00 04 */	stw r0, 4(r31)
/* 8039AAE4 00390864  48 00 00 0C */	b lbl_8039AAF0
lbl_8039AAE8:
/* 8039AAE8 00390868  38 60 FF FD */	li r3, -3
/* 8039AAEC 0039086C  48 00 01 08 */	b lbl_8039ABF4
lbl_8039AAF0:
/* 8039AAF0 00390870  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039AAF4 00390874  3B A0 00 00 */	li r29, 0
/* 8039AAF8 00390878  93 BF 00 28 */	stw r29, 0x28(r31)
/* 8039AAFC 0039087C  38 7F 00 20 */	addi r3, r31, 0x20
/* 8039AB00 00390880  64 00 00 20 */	oris r0, r0, 0x20
/* 8039AB04 00390884  90 1F 00 04 */	stw r0, 4(r31)
/* 8039AB08 00390888  93 BF 00 2C */	stw r29, 0x2c(r31)
/* 8039AB0C 0039088C  4B FF EA ED */	bl NWC24GetMyUserId
/* 8039AB10 00390890  9B BF 00 C8 */	stb r29, 0xc8(r31)
/* 8039AB14 00390894  7F FC FB 78 */	mr r28, r31
/* 8039AB18 00390898  3B 7F 00 88 */	addi r27, r31, 0x88
/* 8039AB1C 0039089C  3B 40 00 00 */	li r26, 0
lbl_8039AB20:
/* 8039AB20 003908A0  2C 1E 00 04 */	cmpwi r30, 4
/* 8039AB24 003908A4  40 82 00 10 */	bne lbl_8039AB34
/* 8039AB28 003908A8  7F 63 DB 78 */	mr r3, r27
/* 8039AB2C 003908AC  4B FF F1 8D */	bl NWC24Data_Init
/* 8039AB30 003908B0  48 00 00 0C */	b lbl_8039AB3C
lbl_8039AB34:
/* 8039AB34 003908B4  93 BC 00 8C */	stw r29, 0x8c(r28)
/* 8039AB38 003908B8  93 BC 00 88 */	stw r29, 0x88(r28)
lbl_8039AB3C:
/* 8039AB3C 003908BC  3B 5A 00 01 */	addi r26, r26, 1
/* 8039AB40 003908C0  3B 9C 00 08 */	addi r28, r28, 8
/* 8039AB44 003908C4  28 1A 00 08 */	cmplwi r26, 8
/* 8039AB48 003908C8  3B 7B 00 08 */	addi r27, r27, 8
/* 8039AB4C 003908CC  41 80 FF D4 */	blt lbl_8039AB20
/* 8039AB50 003908D0  38 7F 00 40 */	addi r3, r31, 0x40
/* 8039AB54 003908D4  4B FF F1 65 */	bl NWC24Data_Init
/* 8039AB58 003908D8  38 7F 00 48 */	addi r3, r31, 0x48
/* 8039AB5C 003908DC  4B FF F1 5D */	bl NWC24Data_Init
/* 8039AB60 003908E0  3B A0 00 00 */	li r29, 0
/* 8039AB64 003908E4  7F FB FB 78 */	mr r27, r31
/* 8039AB68 003908E8  93 BF 00 60 */	stw r29, 0x60(r31)
/* 8039AB6C 003908EC  3B 9F 00 68 */	addi r28, r31, 0x68
/* 8039AB70 003908F0  3B 40 00 00 */	li r26, 0
/* 8039AB74 003908F4  3F C0 00 01 */	lis r30, 1
/* 8039AB78 003908F8  93 BF 00 64 */	stw r29, 0x64(r31)
/* 8039AB7C 003908FC  9B BF 00 C9 */	stb r29, 0xc9(r31)
lbl_8039AB80:
/* 8039AB80 00390900  7F 83 E3 78 */	mr r3, r28
/* 8039AB84 00390904  4B FF F1 35 */	bl NWC24Data_Init
/* 8039AB88 00390908  93 BB 00 78 */	stw r29, 0x78(r27)
/* 8039AB8C 0039090C  3B 5A 00 01 */	addi r26, r26, 1
/* 8039AB90 00390910  28 1A 00 02 */	cmplwi r26, 2
/* 8039AB94 00390914  3B 9C 00 08 */	addi r28, r28, 8
/* 8039AB98 00390918  93 DB 00 80 */	stw r30, 0x80(r27)
/* 8039AB9C 0039091C  3B 7B 00 04 */	addi r27, r27, 4
/* 8039ABA0 00390920  41 80 FF E0 */	blt lbl_8039AB80
/* 8039ABA4 00390924  38 7F 00 30 */	addi r3, r31, 0x30
/* 8039ABA8 00390928  4B FF F1 11 */	bl NWC24Data_Init
/* 8039ABAC 0039092C  38 7F 00 38 */	addi r3, r31, 0x38
/* 8039ABB0 00390930  4B FF F1 09 */	bl NWC24Data_Init
/* 8039ABB4 00390934  38 7F 00 50 */	addi r3, r31, 0x50
/* 8039ABB8 00390938  4B FF F1 01 */	bl NWC24Data_Init
/* 8039ABBC 0039093C  38 7F 00 58 */	addi r3, r31, 0x58
/* 8039ABC0 00390940  4B FF F0 F9 */	bl NWC24Data_Init
/* 8039ABC4 00390944  38 7F 00 D0 */	addi r3, r31, 0xd0
/* 8039ABC8 00390948  4B FF F0 F1 */	bl NWC24Data_Init
/* 8039ABCC 0039094C  38 7F 00 D8 */	addi r3, r31, 0xd8
/* 8039ABD0 00390950  4B FF F0 E9 */	bl NWC24Data_Init
/* 8039ABD4 00390954  38 7F 00 E0 */	addi r3, r31, 0xe0
/* 8039ABD8 00390958  4B FF F0 E1 */	bl NWC24Data_Init
/* 8039ABDC 0039095C  38 80 00 00 */	li r4, 0
/* 8039ABE0 00390960  3C 00 80 00 */	lis r0, 0x8000
/* 8039ABE4 00390964  90 9F 00 CC */	stw r4, 0xcc(r31)
/* 8039ABE8 00390968  38 60 00 00 */	li r3, 0
/* 8039ABEC 0039096C  90 9F 00 EC */	stw r4, 0xec(r31)
/* 8039ABF0 00390970  90 1F 00 F0 */	stw r0, 0xf0(r31)
lbl_8039ABF4:
/* 8039ABF4 00390974  39 61 00 20 */	addi r11, r1, 0x20
/* 8039ABF8 00390978  48 05 67 71 */	bl _restgpr_26
/* 8039ABFC 0039097C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8039AC00 00390980  7C 08 03 A6 */	mtlr r0
/* 8039AC04 00390984  38 21 00 20 */	addi r1, r1, 0x20
/* 8039AC08 00390988  4E 80 00 20 */	blr 

.global NWC24SetMsgToId
NWC24SetMsgToId:
/* 8039AC0C 0039098C  80 83 00 04 */	lwz r4, 4(r3)
/* 8039AC10 00390990  54 80 05 EF */	rlwinm. r0, r4, 0, 0x17, 0x17
/* 8039AC14 00390994  41 82 00 0C */	beq lbl_8039AC20
/* 8039AC18 00390998  54 80 05 AD */	rlwinm. r0, r4, 0, 0x16, 0x16
/* 8039AC1C 0039099C  41 82 00 0C */	beq lbl_8039AC28
lbl_8039AC20:
/* 8039AC20 003909A0  38 60 FF F9 */	li r3, -7
/* 8039AC24 003909A4  4E 80 00 20 */	blr 
lbl_8039AC28:
/* 8039AC28 003909A8  54 80 07 FF */	clrlwi. r0, r4, 0x1f
/* 8039AC2C 003909AC  40 82 00 0C */	bne lbl_8039AC38
/* 8039AC30 003909B0  38 60 FF FC */	li r3, -4
/* 8039AC34 003909B4  4E 80 00 20 */	blr 
lbl_8039AC38:
/* 8039AC38 003909B8  88 03 00 C8 */	lbz r0, 0xc8(r3)
/* 8039AC3C 003909BC  28 00 00 08 */	cmplwi r0, 8
/* 8039AC40 003909C0  41 80 00 0C */	blt lbl_8039AC4C
/* 8039AC44 003909C4  38 60 FF FA */	li r3, -6
/* 8039AC48 003909C8  4E 80 00 20 */	blr 
lbl_8039AC4C:
/* 8039AC4C 003909CC  54 00 1D 78 */	rlwinm r0, r0, 3, 0x15, 0x1c
/* 8039AC50 003909D0  7C 83 02 14 */	add r4, r3, r0
/* 8039AC54 003909D4  90 C4 00 8C */	stw r6, 0x8c(r4)
/* 8039AC58 003909D8  90 A4 00 88 */	stw r5, 0x88(r4)
/* 8039AC5C 003909DC  88 83 00 C8 */	lbz r4, 0xc8(r3)
/* 8039AC60 003909E0  38 04 00 01 */	addi r0, r4, 1
/* 8039AC64 003909E4  98 03 00 C8 */	stb r0, 0xc8(r3)
/* 8039AC68 003909E8  38 60 00 00 */	li r3, 0
/* 8039AC6C 003909EC  4E 80 00 20 */	blr 

.global NWC24SetMsgSubject
NWC24SetMsgSubject:
/* 8039AC70 003909F0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8039AC74 003909F4  7C 08 02 A6 */	mflr r0
/* 8039AC78 003909F8  90 01 00 14 */	stw r0, 0x14(r1)
/* 8039AC7C 003909FC  80 C3 00 04 */	lwz r6, 4(r3)
/* 8039AC80 00390A00  54 C0 05 EF */	rlwinm. r0, r6, 0, 0x17, 0x17
/* 8039AC84 00390A04  41 82 00 0C */	beq lbl_8039AC90
/* 8039AC88 00390A08  54 C0 05 AD */	rlwinm. r0, r6, 0, 0x16, 0x16
/* 8039AC8C 00390A0C  41 82 00 0C */	beq lbl_8039AC98
lbl_8039AC90:
/* 8039AC90 00390A10  38 60 FF F9 */	li r3, -7
/* 8039AC94 00390A14  48 00 00 40 */	b lbl_8039ACD4
lbl_8039AC98:
/* 8039AC98 00390A18  2C 04 00 00 */	cmpwi r4, 0
/* 8039AC9C 00390A1C  41 82 00 10 */	beq lbl_8039ACAC
/* 8039ACA0 00390A20  88 04 00 00 */	lbz r0, 0(r4)
/* 8039ACA4 00390A24  7C 00 07 75 */	extsb. r0, r0
/* 8039ACA8 00390A28  40 82 00 0C */	bne lbl_8039ACB4
lbl_8039ACAC:
/* 8039ACAC 00390A2C  38 60 FF FB */	li r3, -5
/* 8039ACB0 00390A30  48 00 00 24 */	b lbl_8039ACD4
lbl_8039ACB4:
/* 8039ACB4 00390A34  7C 04 28 AE */	lbzx r0, r4, r5
/* 8039ACB8 00390A38  7C 00 07 75 */	extsb. r0, r0
/* 8039ACBC 00390A3C  41 82 00 0C */	beq lbl_8039ACC8
/* 8039ACC0 00390A40  38 60 FF E7 */	li r3, -25
/* 8039ACC4 00390A44  48 00 00 10 */	b lbl_8039ACD4
lbl_8039ACC8:
/* 8039ACC8 00390A48  38 63 00 40 */	addi r3, r3, 0x40
/* 8039ACCC 00390A4C  4B FF EF FD */	bl NWC24Data_SetDataP
/* 8039ACD0 00390A50  38 60 00 00 */	li r3, 0
lbl_8039ACD4:
/* 8039ACD4 00390A54  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8039ACD8 00390A58  7C 08 03 A6 */	mtlr r0
/* 8039ACDC 00390A5C  38 21 00 10 */	addi r1, r1, 0x10
/* 8039ACE0 00390A60  4E 80 00 20 */	blr 

.global NWC24SetMsgText
NWC24SetMsgText:
/* 8039ACE4 00390A64  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8039ACE8 00390A68  7C 08 02 A6 */	mflr r0
/* 8039ACEC 00390A6C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8039ACF0 00390A70  39 61 00 20 */	addi r11, r1, 0x20
/* 8039ACF4 00390A74  48 05 66 2D */	bl _savegpr_27
/* 8039ACF8 00390A78  81 03 00 04 */	lwz r8, 4(r3)
/* 8039ACFC 00390A7C  7C 7B 1B 78 */	mr r27, r3
/* 8039AD00 00390A80  7C 9C 23 78 */	mr r28, r4
/* 8039AD04 00390A84  7C BD 2B 78 */	mr r29, r5
/* 8039AD08 00390A88  55 00 05 EF */	rlwinm. r0, r8, 0, 0x17, 0x17
/* 8039AD0C 00390A8C  7C DE 33 78 */	mr r30, r6
/* 8039AD10 00390A90  7C FF 3B 78 */	mr r31, r7
/* 8039AD14 00390A94  41 82 00 0C */	beq lbl_8039AD20
/* 8039AD18 00390A98  55 00 05 AD */	rlwinm. r0, r8, 0, 0x16, 0x16
/* 8039AD1C 00390A9C  41 82 00 0C */	beq lbl_8039AD28
lbl_8039AD20:
/* 8039AD20 00390AA0  38 60 FF F9 */	li r3, -7
/* 8039AD24 00390AA4  48 00 00 E0 */	b lbl_8039AE04
lbl_8039AD28:
/* 8039AD28 00390AA8  7F C3 F3 78 */	mr r3, r30
/* 8039AD2C 00390AAC  48 00 2E 5D */	bl NWC24GetCharsetStr
/* 8039AD30 00390AB0  2C 03 00 00 */	cmpwi r3, 0
/* 8039AD34 00390AB4  40 82 00 0C */	bne lbl_8039AD40
/* 8039AD38 00390AB8  38 60 FF FD */	li r3, -3
/* 8039AD3C 00390ABC  48 00 00 C8 */	b lbl_8039AE04
lbl_8039AD40:
/* 8039AD40 00390AC0  7F E3 FB 78 */	mr r3, r31
/* 8039AD44 00390AC4  48 00 2E 8D */	bl NWC24GetEncodingStr
/* 8039AD48 00390AC8  2C 03 00 00 */	cmpwi r3, 0
/* 8039AD4C 00390ACC  40 82 00 0C */	bne lbl_8039AD58
/* 8039AD50 00390AD0  38 60 FF FD */	li r3, -3
/* 8039AD54 00390AD4  48 00 00 B0 */	b lbl_8039AE04
lbl_8039AD58:
/* 8039AD58 00390AD8  2C 1C 00 00 */	cmpwi r28, 0
/* 8039AD5C 00390ADC  40 82 00 14 */	bne lbl_8039AD70
/* 8039AD60 00390AE0  38 7B 00 48 */	addi r3, r27, 0x48
/* 8039AD64 00390AE4  4B FF EF 55 */	bl NWC24Data_Init
/* 8039AD68 00390AE8  38 60 00 00 */	li r3, 0
/* 8039AD6C 00390AEC  48 00 00 98 */	b lbl_8039AE04
lbl_8039AD70:
/* 8039AD70 00390AF0  2C 1F 00 01 */	cmpwi r31, 1
/* 8039AD74 00390AF4  40 82 00 18 */	bne lbl_8039AD8C
/* 8039AD78 00390AF8  80 1B 00 04 */	lwz r0, 4(r27)
/* 8039AD7C 00390AFC  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 8039AD80 00390B00  41 82 00 0C */	beq lbl_8039AD8C
/* 8039AD84 00390B04  38 60 FF FC */	li r3, -4
/* 8039AD88 00390B08  48 00 00 7C */	b lbl_8039AE04
lbl_8039AD8C:
/* 8039AD8C 00390B0C  2C 1F 00 00 */	cmpwi r31, 0
/* 8039AD90 00390B10  40 82 00 58 */	bne lbl_8039ADE8
/* 8039AD94 00390B14  7F 84 E3 78 */	mr r4, r28
/* 8039AD98 00390B18  7C BC EA 14 */	add r5, r28, r29
/* 8039AD9C 00390B1C  38 60 00 00 */	li r3, 0
/* 8039ADA0 00390B20  48 00 00 40 */	b lbl_8039ADE0
lbl_8039ADA4:
/* 8039ADA4 00390B24  88 04 00 00 */	lbz r0, 0(r4)
/* 8039ADA8 00390B28  2C 00 00 0D */	cmpwi r0, 0xd
/* 8039ADAC 00390B2C  40 82 00 1C */	bne lbl_8039ADC8
/* 8039ADB0 00390B30  88 04 00 01 */	lbz r0, 1(r4)
/* 8039ADB4 00390B34  2C 00 00 0A */	cmpwi r0, 0xa
/* 8039ADB8 00390B38  40 82 00 10 */	bne lbl_8039ADC8
/* 8039ADBC 00390B3C  38 60 00 00 */	li r3, 0
/* 8039ADC0 00390B40  38 84 00 01 */	addi r4, r4, 1
/* 8039ADC4 00390B44  48 00 00 18 */	b lbl_8039ADDC
lbl_8039ADC8:
/* 8039ADC8 00390B48  38 63 00 01 */	addi r3, r3, 1
/* 8039ADCC 00390B4C  28 03 03 E6 */	cmplwi r3, 0x3e6
/* 8039ADD0 00390B50  40 81 00 0C */	ble lbl_8039ADDC
/* 8039ADD4 00390B54  38 60 FF E8 */	li r3, -24
/* 8039ADD8 00390B58  48 00 00 2C */	b lbl_8039AE04
lbl_8039ADDC:
/* 8039ADDC 00390B5C  38 84 00 01 */	addi r4, r4, 1
lbl_8039ADE0:
/* 8039ADE0 00390B60  7C 04 28 40 */	cmplw r4, r5
/* 8039ADE4 00390B64  41 80 FF C0 */	blt lbl_8039ADA4
lbl_8039ADE8:
/* 8039ADE8 00390B68  7F 84 E3 78 */	mr r4, r28
/* 8039ADEC 00390B6C  7F A5 EB 78 */	mr r5, r29
/* 8039ADF0 00390B70  38 7B 00 48 */	addi r3, r27, 0x48
/* 8039ADF4 00390B74  4B FF EE D5 */	bl NWC24Data_SetDataP
/* 8039ADF8 00390B78  93 DB 00 60 */	stw r30, 0x60(r27)
/* 8039ADFC 00390B7C  38 60 00 00 */	li r3, 0
/* 8039AE00 00390B80  93 FB 00 64 */	stw r31, 0x64(r27)
lbl_8039AE04:
/* 8039AE04 00390B84  39 61 00 20 */	addi r11, r1, 0x20
/* 8039AE08 00390B88  48 05 65 65 */	bl _restgpr_27
/* 8039AE0C 00390B8C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8039AE10 00390B90  7C 08 03 A6 */	mtlr r0
/* 8039AE14 00390B94  38 21 00 20 */	addi r1, r1, 0x20
/* 8039AE18 00390B98  4E 80 00 20 */	blr 

.global NWC24SetMsgAttached
NWC24SetMsgAttached:
/* 8039AE1C 00390B9C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8039AE20 00390BA0  7C 08 02 A6 */	mflr r0
/* 8039AE24 00390BA4  90 01 00 24 */	stw r0, 0x24(r1)
/* 8039AE28 00390BA8  39 61 00 20 */	addi r11, r1, 0x20
/* 8039AE2C 00390BAC  48 05 64 F5 */	bl _savegpr_27
/* 8039AE30 00390BB0  80 E3 00 04 */	lwz r7, 4(r3)
/* 8039AE34 00390BB4  7C 7F 1B 78 */	mr r31, r3
/* 8039AE38 00390BB8  7C 9B 23 78 */	mr r27, r4
/* 8039AE3C 00390BBC  7C BC 2B 78 */	mr r28, r5
/* 8039AE40 00390BC0  54 E0 05 EF */	rlwinm. r0, r7, 0, 0x17, 0x17
/* 8039AE44 00390BC4  7C DD 33 78 */	mr r29, r6
/* 8039AE48 00390BC8  3B C0 00 00 */	li r30, 0
/* 8039AE4C 00390BCC  41 82 00 0C */	beq lbl_8039AE58
/* 8039AE50 00390BD0  54 E0 05 AD */	rlwinm. r0, r7, 0, 0x16, 0x16
/* 8039AE54 00390BD4  41 82 00 0C */	beq lbl_8039AE60
lbl_8039AE58:
/* 8039AE58 00390BD8  38 60 FF F9 */	li r3, -7
/* 8039AE5C 00390BDC  48 00 01 BC */	b lbl_8039B018
lbl_8039AE60:
/* 8039AE60 00390BE0  2C 04 00 00 */	cmpwi r4, 0
/* 8039AE64 00390BE4  41 82 00 0C */	beq lbl_8039AE70
/* 8039AE68 00390BE8  2C 05 00 00 */	cmpwi r5, 0
/* 8039AE6C 00390BEC  40 82 00 0C */	bne lbl_8039AE78
lbl_8039AE70:
/* 8039AE70 00390BF0  38 60 FF FB */	li r3, -5
/* 8039AE74 00390BF4  48 00 01 A4 */	b lbl_8039B018
lbl_8039AE78:
/* 8039AE78 00390BF8  88 03 00 C9 */	lbz r0, 0xc9(r3)
/* 8039AE7C 00390BFC  28 00 00 02 */	cmplwi r0, 2
/* 8039AE80 00390C00  41 80 00 0C */	blt lbl_8039AE8C
/* 8039AE84 00390C04  38 60 FF FA */	li r3, -6
/* 8039AE88 00390C08  48 00 01 90 */	b lbl_8039B018
lbl_8039AE8C:
/* 8039AE8C 00390C0C  7F A3 EB 78 */	mr r3, r29
/* 8039AE90 00390C10  48 00 2C 69 */	bl NWC24GetMIMETypeStr
/* 8039AE94 00390C14  2C 03 00 00 */	cmpwi r3, 0
/* 8039AE98 00390C18  40 82 00 0C */	bne lbl_8039AEA4
/* 8039AE9C 00390C1C  38 60 FF FD */	li r3, -3
/* 8039AEA0 00390C20  48 00 01 78 */	b lbl_8039B018
lbl_8039AEA4:
/* 8039AEA4 00390C24  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039AEA8 00390C28  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 8039AEAC 00390C2C  41 82 00 38 */	beq lbl_8039AEE4
/* 8039AEB0 00390C30  3C 1D FF FF */	addis r0, r29, 0xffff
/* 8039AEB4 00390C34  28 00 00 00 */	cmplwi r0, 0
/* 8039AEB8 00390C38  41 82 00 2C */	beq lbl_8039AEE4
/* 8039AEBC 00390C3C  28 00 00 01 */	cmplwi r0, 1
/* 8039AEC0 00390C40  41 82 00 24 */	beq lbl_8039AEE4
/* 8039AEC4 00390C44  3C 1D FF FE */	addis r0, r29, 0xfffe
/* 8039AEC8 00390C48  28 00 00 00 */	cmplwi r0, 0
/* 8039AECC 00390C4C  41 82 00 18 */	beq lbl_8039AEE4
/* 8039AED0 00390C50  3C 1D FF FD */	addis r0, r29, 0xfffd
/* 8039AED4 00390C54  28 00 00 00 */	cmplwi r0, 0
/* 8039AED8 00390C58  41 82 00 0C */	beq lbl_8039AEE4
/* 8039AEDC 00390C5C  38 60 FF FC */	li r3, -4
/* 8039AEE0 00390C60  48 00 01 38 */	b lbl_8039B018
lbl_8039AEE4:
/* 8039AEE4 00390C64  3C 1D FF FD */	addis r0, r29, 0xfffd
/* 8039AEE8 00390C68  28 00 00 02 */	cmplwi r0, 2
/* 8039AEEC 00390C6C  40 82 00 14 */	bne lbl_8039AF00
/* 8039AEF0 00390C70  28 1C 00 80 */	cmplwi r28, 0x80
/* 8039AEF4 00390C74  40 81 00 0C */	ble lbl_8039AF00
/* 8039AEF8 00390C78  38 60 FF FD */	li r3, -3
/* 8039AEFC 00390C7C  48 00 01 1C */	b lbl_8039B018
lbl_8039AF00:
/* 8039AF00 00390C80  88 BF 00 C9 */	lbz r5, 0xc9(r31)
/* 8039AF04 00390C84  38 C0 00 00 */	li r6, 0
/* 8039AF08 00390C88  2C 05 00 00 */	cmpwi r5, 0
/* 8039AF0C 00390C8C  41 82 00 9C */	beq lbl_8039AFA8
/* 8039AF10 00390C90  28 05 00 08 */	cmplwi r5, 8
/* 8039AF14 00390C94  38 65 FF F8 */	addi r3, r5, -8
/* 8039AF18 00390C98  40 81 00 68 */	ble lbl_8039AF80
/* 8039AF1C 00390C9C  38 03 00 07 */	addi r0, r3, 7
/* 8039AF20 00390CA0  7F E4 FB 78 */	mr r4, r31
/* 8039AF24 00390CA4  54 00 E8 FE */	srwi r0, r0, 3
/* 8039AF28 00390CA8  7C 09 03 A6 */	mtctr r0
/* 8039AF2C 00390CAC  28 03 00 00 */	cmplwi r3, 0
/* 8039AF30 00390CB0  40 81 00 50 */	ble lbl_8039AF80
lbl_8039AF34:
/* 8039AF34 00390CB4  80 64 00 78 */	lwz r3, 0x78(r4)
/* 8039AF38 00390CB8  38 C6 00 08 */	addi r6, r6, 8
/* 8039AF3C 00390CBC  80 04 00 7C */	lwz r0, 0x7c(r4)
/* 8039AF40 00390CC0  7F DE 1A 14 */	add r30, r30, r3
/* 8039AF44 00390CC4  80 64 00 80 */	lwz r3, 0x80(r4)
/* 8039AF48 00390CC8  7F DE 02 14 */	add r30, r30, r0
/* 8039AF4C 00390CCC  80 04 00 84 */	lwz r0, 0x84(r4)
/* 8039AF50 00390CD0  7F DE 1A 14 */	add r30, r30, r3
/* 8039AF54 00390CD4  80 64 00 88 */	lwz r3, 0x88(r4)
/* 8039AF58 00390CD8  7F DE 02 14 */	add r30, r30, r0
/* 8039AF5C 00390CDC  80 04 00 8C */	lwz r0, 0x8c(r4)
/* 8039AF60 00390CE0  7F DE 1A 14 */	add r30, r30, r3
/* 8039AF64 00390CE4  80 64 00 90 */	lwz r3, 0x90(r4)
/* 8039AF68 00390CE8  7F DE 02 14 */	add r30, r30, r0
/* 8039AF6C 00390CEC  80 04 00 94 */	lwz r0, 0x94(r4)
/* 8039AF70 00390CF0  7F DE 1A 14 */	add r30, r30, r3
/* 8039AF74 00390CF4  38 84 00 20 */	addi r4, r4, 0x20
/* 8039AF78 00390CF8  7F DE 02 14 */	add r30, r30, r0
/* 8039AF7C 00390CFC  42 00 FF B8 */	bdnz lbl_8039AF34
lbl_8039AF80:
/* 8039AF80 00390D00  54 C3 10 3A */	slwi r3, r6, 2
/* 8039AF84 00390D04  7C 06 28 50 */	subf r0, r6, r5
/* 8039AF88 00390D08  7C 7F 1A 14 */	add r3, r31, r3
/* 8039AF8C 00390D0C  7C 09 03 A6 */	mtctr r0
/* 8039AF90 00390D10  7C 06 28 40 */	cmplw r6, r5
/* 8039AF94 00390D14  40 80 00 14 */	bge lbl_8039AFA8
lbl_8039AF98:
/* 8039AF98 00390D18  80 03 00 78 */	lwz r0, 0x78(r3)
/* 8039AF9C 00390D1C  38 63 00 04 */	addi r3, r3, 4
/* 8039AFA0 00390D20  7F DE 02 14 */	add r30, r30, r0
/* 8039AFA4 00390D24  42 00 FF F4 */	bdnz lbl_8039AF98
lbl_8039AFA8:
/* 8039AFA8 00390D28  3C 60 00 02 */	lis r3, 0x000245B0@ha
/* 8039AFAC 00390D2C  7F DE E2 14 */	add r30, r30, r28
/* 8039AFB0 00390D30  38 03 45 B0 */	addi r0, r3, 0x000245B0@l
/* 8039AFB4 00390D34  7C 1E 00 40 */	cmplw r30, r0
/* 8039AFB8 00390D38  41 80 00 0C */	blt lbl_8039AFC4
/* 8039AFBC 00390D3C  38 60 FF F8 */	li r3, -8
/* 8039AFC0 00390D40  48 00 00 58 */	b lbl_8039B018
lbl_8039AFC4:
/* 8039AFC4 00390D44  54 A0 1D 78 */	rlwinm r0, r5, 3, 0x15, 0x1c
/* 8039AFC8 00390D48  7F 64 DB 78 */	mr r4, r27
/* 8039AFCC 00390D4C  7C 7F 02 14 */	add r3, r31, r0
/* 8039AFD0 00390D50  7F 85 E3 78 */	mr r5, r28
/* 8039AFD4 00390D54  38 63 00 68 */	addi r3, r3, 0x68
/* 8039AFD8 00390D58  4B FF EC F1 */	bl NWC24Data_SetDataP
/* 8039AFDC 00390D5C  88 1F 00 C9 */	lbz r0, 0xc9(r31)
/* 8039AFE0 00390D60  38 60 00 00 */	li r3, 0
/* 8039AFE4 00390D64  54 00 10 3A */	slwi r0, r0, 2
/* 8039AFE8 00390D68  7C 9F 02 14 */	add r4, r31, r0
/* 8039AFEC 00390D6C  93 84 00 78 */	stw r28, 0x78(r4)
/* 8039AFF0 00390D70  88 1F 00 C9 */	lbz r0, 0xc9(r31)
/* 8039AFF4 00390D74  54 00 10 3A */	slwi r0, r0, 2
/* 8039AFF8 00390D78  7C 9F 02 14 */	add r4, r31, r0
/* 8039AFFC 00390D7C  93 A4 00 80 */	stw r29, 0x80(r4)
/* 8039B000 00390D80  88 9F 00 C9 */	lbz r4, 0xc9(r31)
/* 8039B004 00390D84  80 1F 00 04 */	lwz r0, 4(r31)
/* 8039B008 00390D88  38 84 00 01 */	addi r4, r4, 1
/* 8039B00C 00390D8C  64 00 00 01 */	oris r0, r0, 1
/* 8039B010 00390D90  98 9F 00 C9 */	stb r4, 0xc9(r31)
/* 8039B014 00390D94  90 1F 00 04 */	stw r0, 4(r31)
lbl_8039B018:
/* 8039B018 00390D98  39 61 00 20 */	addi r11, r1, 0x20
/* 8039B01C 00390D9C  48 05 63 51 */	bl _restgpr_27
/* 8039B020 00390DA0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8039B024 00390DA4  7C 08 03 A6 */	mtlr r0
/* 8039B028 00390DA8  38 21 00 20 */	addi r1, r1, 0x20
/* 8039B02C 00390DAC  4E 80 00 20 */	blr 

.global NWC24SetMsgTag
NWC24SetMsgTag:
/* 8039B030 00390DB0  80 A3 00 04 */	lwz r5, 4(r3)
/* 8039B034 00390DB4  54 A0 05 EF */	rlwinm. r0, r5, 0, 0x17, 0x17
/* 8039B038 00390DB8  41 82 00 0C */	beq lbl_8039B044
/* 8039B03C 00390DBC  54 A0 05 AD */	rlwinm. r0, r5, 0, 0x16, 0x16
/* 8039B040 00390DC0  41 82 00 0C */	beq lbl_8039B04C
lbl_8039B044:
/* 8039B044 00390DC4  38 60 FF F9 */	li r3, -7
/* 8039B048 00390DC8  4E 80 00 20 */	blr 
lbl_8039B04C:
/* 8039B04C 00390DCC  54 A0 07 FF */	clrlwi. r0, r5, 0x1f
/* 8039B050 00390DD0  40 82 00 0C */	bne lbl_8039B05C
/* 8039B054 00390DD4  38 60 FF FC */	li r3, -4
/* 8039B058 00390DD8  4E 80 00 20 */	blr 
lbl_8039B05C:
/* 8039B05C 00390DDC  80 03 00 14 */	lwz r0, 0x14(r3)
/* 8039B060 00390DE0  50 04 00 1E */	rlwimi r4, r0, 0, 0, 0xf
/* 8039B064 00390DE4  90 83 00 14 */	stw r4, 0x14(r3)
/* 8039B068 00390DE8  38 60 00 00 */	li r3, 0
/* 8039B06C 00390DEC  4E 80 00 20 */	blr 

.global NWC24SetMsgLedPattern
NWC24SetMsgLedPattern:
/* 8039B070 00390DF0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8039B074 00390DF4  7C 08 02 A6 */	mflr r0
/* 8039B078 00390DF8  90 01 00 14 */	stw r0, 0x14(r1)
/* 8039B07C 00390DFC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8039B080 00390E00  7C 9F 23 78 */	mr r31, r4
/* 8039B084 00390E04  93 C1 00 08 */	stw r30, 8(r1)
/* 8039B088 00390E08  7C 7E 1B 78 */	mr r30, r3
/* 8039B08C 00390E0C  80 A3 00 04 */	lwz r5, 4(r3)
/* 8039B090 00390E10  54 A0 05 EF */	rlwinm. r0, r5, 0, 0x17, 0x17
/* 8039B094 00390E14  41 82 00 0C */	beq lbl_8039B0A0
/* 8039B098 00390E18  54 A0 05 AD */	rlwinm. r0, r5, 0, 0x16, 0x16
/* 8039B09C 00390E1C  41 82 00 0C */	beq lbl_8039B0A8
lbl_8039B0A0:
/* 8039B0A0 00390E20  38 60 FF F9 */	li r3, -7
/* 8039B0A4 00390E24  48 00 00 80 */	b lbl_8039B124
lbl_8039B0A8:
/* 8039B0A8 00390E28  2C 04 00 00 */	cmpwi r4, 0
/* 8039B0AC 00390E2C  40 82 00 0C */	bne lbl_8039B0B8
/* 8039B0B0 00390E30  38 60 FF FD */	li r3, -3
/* 8039B0B4 00390E34  48 00 00 70 */	b lbl_8039B124
lbl_8039B0B8:
/* 8039B0B8 00390E38  54 A0 07 FF */	clrlwi. r0, r5, 0x1f
/* 8039B0BC 00390E3C  41 82 00 0C */	beq lbl_8039B0C8
/* 8039B0C0 00390E40  54 A0 07 39 */	rlwinm. r0, r5, 0, 0x1c, 0x1c
/* 8039B0C4 00390E44  40 82 00 0C */	bne lbl_8039B0D0
lbl_8039B0C8:
/* 8039B0C8 00390E48  38 60 FF FC */	li r3, -4
/* 8039B0CC 00390E4C  48 00 00 58 */	b lbl_8039B124
lbl_8039B0D0:
/* 8039B0D0 00390E50  80 03 00 18 */	lwz r0, 0x18(r3)
/* 8039B0D4 00390E54  2C 00 00 00 */	cmpwi r0, 0
/* 8039B0D8 00390E58  41 82 00 14 */	beq lbl_8039B0EC
/* 8039B0DC 00390E5C  54 00 03 5B */	rlwinm. r0, r0, 0, 0xd, 0xd
/* 8039B0E0 00390E60  40 82 00 0C */	bne lbl_8039B0EC
/* 8039B0E4 00390E64  38 60 FF FC */	li r3, -4
/* 8039B0E8 00390E68  48 00 00 3C */	b lbl_8039B124
lbl_8039B0EC:
/* 8039B0EC 00390E6C  4B FF F1 89 */	bl NWC24IsMsgLibOpenedByTool
/* 8039B0F0 00390E70  2C 03 00 00 */	cmpwi r3, 0
/* 8039B0F4 00390E74  40 82 00 24 */	bne lbl_8039B118
/* 8039B0F8 00390E78  4B FF E9 D1 */	bl NWC24GetAppId
/* 8039B0FC 00390E7C  3C 03 B7 BF */	addis r0, r3, 0xb7bf
/* 8039B100 00390E80  28 00 45 41 */	cmplwi r0, 0x4541
/* 8039B104 00390E84  41 82 00 14 */	beq lbl_8039B118
/* 8039B108 00390E88  28 1F 40 00 */	cmplwi r31, 0x4000
/* 8039B10C 00390E8C  41 80 00 0C */	blt lbl_8039B118
/* 8039B110 00390E90  38 60 FF FD */	li r3, -3
/* 8039B114 00390E94  48 00 00 10 */	b lbl_8039B124
lbl_8039B118:
/* 8039B118 00390E98  67 E0 00 04 */	oris r0, r31, 4
/* 8039B11C 00390E9C  38 60 00 00 */	li r3, 0
/* 8039B120 00390EA0  90 1E 00 18 */	stw r0, 0x18(r30)
lbl_8039B124:
/* 8039B124 00390EA4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8039B128 00390EA8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8039B12C 00390EAC  83 C1 00 08 */	lwz r30, 8(r1)
/* 8039B130 00390EB0  7C 08 03 A6 */	mtlr r0
/* 8039B134 00390EB4  38 21 00 10 */	addi r1, r1, 0x10
/* 8039B138 00390EB8  4E 80 00 20 */	blr 

.global NWC24GetMsgSize
NWC24GetMsgSize:
/* 8039B13C 00390EBC  80 03 00 04 */	lwz r0, 4(r3)
/* 8039B140 00390EC0  54 00 05 AD */	rlwinm. r0, r0, 0, 0x16, 0x16
/* 8039B144 00390EC4  40 82 00 0C */	bne lbl_8039B150
/* 8039B148 00390EC8  38 60 FF F9 */	li r3, -7
/* 8039B14C 00390ECC  4E 80 00 20 */	blr 
lbl_8039B150:
/* 8039B150 00390ED0  80 03 00 08 */	lwz r0, 8(r3)
/* 8039B154 00390ED4  38 60 00 00 */	li r3, 0
/* 8039B158 00390ED8  90 04 00 00 */	stw r0, 0(r4)
/* 8039B15C 00390EDC  4E 80 00 20 */	blr 

.global NWC24GetMsgNumAttached
NWC24GetMsgNumAttached:
/* 8039B160 00390EE0  88 03 00 C9 */	lbz r0, 0xc9(r3)
/* 8039B164 00390EE4  38 60 00 00 */	li r3, 0
/* 8039B168 00390EE8  28 00 00 02 */	cmplwi r0, 2
/* 8039B16C 00390EEC  90 04 00 00 */	stw r0, 0(r4)
/* 8039B170 00390EF0  4C 81 00 20 */	blelr 
/* 8039B174 00390EF4  38 60 FF F2 */	li r3, -14
/* 8039B178 00390EF8  4E 80 00 20 */	blr 

.global NWC24GetMsgAttachedSize
NWC24GetMsgAttachedSize:
/* 8039B17C 00390EFC  28 04 00 02 */	cmplwi r4, 2
/* 8039B180 00390F00  40 80 00 10 */	bge lbl_8039B190
/* 8039B184 00390F04  88 03 00 C9 */	lbz r0, 0xc9(r3)
/* 8039B188 00390F08  7C 04 00 40 */	cmplw r4, r0
/* 8039B18C 00390F0C  41 80 00 0C */	blt lbl_8039B198
lbl_8039B190:
/* 8039B190 00390F10  38 60 FF FD */	li r3, -3
/* 8039B194 00390F14  4E 80 00 20 */	blr 
lbl_8039B198:
/* 8039B198 00390F18  54 80 10 3A */	slwi r0, r4, 2
/* 8039B19C 00390F1C  7C 83 02 14 */	add r4, r3, r0
/* 8039B1A0 00390F20  38 60 00 00 */	li r3, 0
/* 8039B1A4 00390F24  80 04 00 78 */	lwz r0, 0x78(r4)
/* 8039B1A8 00390F28  90 05 00 00 */	stw r0, 0(r5)
/* 8039B1AC 00390F2C  4E 80 00 20 */	blr 

.global NWC24GetMsgId
NWC24GetMsgId:
/* 8039B1B0 00390F30  80 03 00 00 */	lwz r0, 0(r3)
/* 8039B1B4 00390F34  38 60 00 00 */	li r3, 0
/* 8039B1B8 00390F38  90 04 00 00 */	stw r0, 0(r4)
/* 8039B1BC 00390F3C  4E 80 00 20 */	blr 

