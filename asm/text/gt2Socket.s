.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gti2ConnectionHash
gti2ConnectionHash:
/* 80377D34 0036DAB4  80 A3 00 00 */	lwz r5, 0(r3)
/* 80377D38 0036DAB8  80 65 00 00 */	lwz r3, 0(r5)
/* 80377D3C 0036DABC  A0 05 00 04 */	lhz r0, 4(r5)
/* 80377D40 0036DAC0  7C 63 01 D6 */	mullw r3, r3, r0
/* 80377D44 0036DAC4  7C 03 23 96 */	divwu r0, r3, r4
/* 80377D48 0036DAC8  7C 00 21 D6 */	mullw r0, r0, r4
/* 80377D4C 0036DACC  7C 60 18 50 */	subf r3, r0, r3
/* 80377D50 0036DAD0  4E 80 00 20 */	blr 

.global gti2ConnectionCompare
gti2ConnectionCompare:
/* 80377D54 0036DAD4  80 A3 00 00 */	lwz r5, 0(r3)
/* 80377D58 0036DAD8  80 84 00 00 */	lwz r4, 0(r4)
/* 80377D5C 0036DADC  80 65 00 00 */	lwz r3, 0(r5)
/* 80377D60 0036DAE0  80 04 00 00 */	lwz r0, 0(r4)
/* 80377D64 0036DAE4  7C 03 00 40 */	cmplw r3, r0
/* 80377D68 0036DAE8  41 82 00 0C */	beq lbl_80377D74
/* 80377D6C 0036DAEC  7C 60 18 50 */	subf r3, r0, r3
/* 80377D70 0036DAF0  4E 80 00 20 */	blr 
lbl_80377D74:
/* 80377D74 0036DAF4  A0 64 00 04 */	lhz r3, 4(r4)
/* 80377D78 0036DAF8  A0 05 00 04 */	lhz r0, 4(r5)
/* 80377D7C 0036DAFC  7C 03 00 50 */	subf r0, r3, r0
/* 80377D80 0036DB00  7C 03 07 34 */	extsh r3, r0
/* 80377D84 0036DB04  4E 80 00 20 */	blr 

.global gti2ConnectionFree
gti2ConnectionFree:
/* 80377D88 0036DB08  80 63 00 00 */	lwz r3, 0(r3)
/* 80377D8C 0036DB0C  4B FF CA 48 */	b gti2ConnectionCleanup

.global gti2SocketFindConnection
gti2SocketFindConnection:
/* 80377D90 0036DB10  94 21 FF 50 */	stwu r1, -0xb0(r1)
/* 80377D94 0036DB14  7C 08 02 A6 */	mflr r0
/* 80377D98 0036DB18  90 01 00 B4 */	stw r0, 0xb4(r1)
/* 80377D9C 0036DB1C  38 01 00 10 */	addi r0, r1, 0x10
/* 80377DA0 0036DB20  90 81 00 10 */	stw r4, 0x10(r1)
/* 80377DA4 0036DB24  38 81 00 08 */	addi r4, r1, 8
/* 80377DA8 0036DB28  B0 A1 00 14 */	sth r5, 0x14(r1)
/* 80377DAC 0036DB2C  90 01 00 08 */	stw r0, 8(r1)
/* 80377DB0 0036DB30  80 63 00 0C */	lwz r3, 0xc(r3)
/* 80377DB4 0036DB34  4B FE 34 11 */	bl TableLookup
/* 80377DB8 0036DB38  2C 03 00 00 */	cmpwi r3, 0
/* 80377DBC 0036DB3C  41 82 00 0C */	beq lbl_80377DC8
/* 80377DC0 0036DB40  80 63 00 00 */	lwz r3, 0(r3)
/* 80377DC4 0036DB44  48 00 00 08 */	b lbl_80377DCC
lbl_80377DC8:
/* 80377DC8 0036DB48  38 60 00 00 */	li r3, 0
lbl_80377DCC:
/* 80377DCC 0036DB4C  80 01 00 B4 */	lwz r0, 0xb4(r1)
/* 80377DD0 0036DB50  7C 08 03 A6 */	mtlr r0
/* 80377DD4 0036DB54  38 21 00 B0 */	addi r1, r1, 0xb0
/* 80377DD8 0036DB58  4E 80 00 20 */	blr 

.global gti2CreateSocket
gti2CreateSocket:
/* 80377DDC 0036DB5C  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80377DE0 0036DB60  7C 08 02 A6 */	mflr r0
/* 80377DE4 0036DB64  90 01 00 44 */	stw r0, 0x44(r1)
/* 80377DE8 0036DB68  39 61 00 40 */	addi r11, r1, 0x40
/* 80377DEC 0036DB6C  48 07 95 31 */	bl _savegpr_26
/* 80377DF0 0036DB70  7C 7A 1B 78 */	mr r26, r3
/* 80377DF4 0036DB74  7C 9F 23 78 */	mr r31, r4
/* 80377DF8 0036DB78  7C BB 2B 78 */	mr r27, r5
/* 80377DFC 0036DB7C  7C DC 33 78 */	mr r28, r6
/* 80377E00 0036DB80  7C FD 3B 78 */	mr r29, r7
/* 80377E04 0036DB84  7D 1E 43 78 */	mr r30, r8
/* 80377E08 0036DB88  4B FE 59 19 */	bl SocketStartUp
/* 80377E0C 0036DB8C  2C 1C 00 00 */	cmpwi r28, 0
/* 80377E10 0036DB90  40 82 00 08 */	bne lbl_80377E18
/* 80377E14 0036DB94  3F 80 00 01 */	lis r28, 1
lbl_80377E18:
/* 80377E18 0036DB98  2C 1B 00 00 */	cmpwi r27, 0
/* 80377E1C 0036DB9C  40 82 00 08 */	bne lbl_80377E24
/* 80377E20 0036DBA0  3F 60 00 01 */	lis r27, 1
lbl_80377E24:
/* 80377E24 0036DBA4  7F E3 FB 78 */	mr r3, r31
/* 80377E28 0036DBA8  38 81 00 10 */	addi r4, r1, 0x10
/* 80377E2C 0036DBAC  38 A1 00 08 */	addi r5, r1, 8
/* 80377E30 0036DBB0  48 00 0B 7D */	bl gt2StringToAddress
/* 80377E34 0036DBB4  2C 03 00 00 */	cmpwi r3, 0
/* 80377E38 0036DBB8  40 82 00 0C */	bne lbl_80377E44
/* 80377E3C 0036DBBC  38 60 00 04 */	li r3, 4
/* 80377E40 0036DBC0  48 00 01 C0 */	b lbl_80378000
lbl_80377E44:
/* 80377E44 0036DBC4  38 60 00 4C */	li r3, 0x4c
/* 80377E48 0036DBC8  4B FE 61 A1 */	bl gsimalloc
/* 80377E4C 0036DBCC  2C 03 00 00 */	cmpwi r3, 0
/* 80377E50 0036DBD0  7C 7F 1B 78 */	mr r31, r3
/* 80377E54 0036DBD4  40 82 00 0C */	bne lbl_80377E60
/* 80377E58 0036DBD8  38 60 00 01 */	li r3, 1
/* 80377E5C 0036DBDC  48 00 01 A4 */	b lbl_80378000
lbl_80377E60:
/* 80377E60 0036DBE0  38 80 00 00 */	li r4, 0
/* 80377E64 0036DBE4  38 A0 00 4C */	li r5, 0x4c
/* 80377E68 0036DBE8  4B C8 C5 D5 */	bl memset
/* 80377E6C 0036DBEC  38 00 FF FF */	li r0, -1
/* 80377E70 0036DBF0  3C C0 80 37 */	lis r6, gti2ConnectionHash@ha
/* 80377E74 0036DBF4  90 1F 00 00 */	stw r0, 0(r31)
/* 80377E78 0036DBF8  3C E0 80 37 */	lis r7, gti2ConnectionCompare@ha
/* 80377E7C 0036DBFC  38 C6 7D 34 */	addi r6, r6, gti2ConnectionHash@l
/* 80377E80 0036DC00  38 60 00 04 */	li r3, 4
/* 80377E84 0036DC04  93 9F 00 3C */	stw r28, 0x3c(r31)
/* 80377E88 0036DC08  38 E7 7D 54 */	addi r7, r7, gti2ConnectionCompare@l
/* 80377E8C 0036DC0C  38 80 00 20 */	li r4, 0x20
/* 80377E90 0036DC10  38 A0 00 02 */	li r5, 2
/* 80377E94 0036DC14  93 7F 00 38 */	stw r27, 0x38(r31)
/* 80377E98 0036DC18  39 00 00 00 */	li r8, 0
/* 80377E9C 0036DC1C  93 BF 00 24 */	stw r29, 0x24(r31)
/* 80377EA0 0036DC20  4B FE 30 31 */	bl TableNew2
/* 80377EA4 0036DC24  2C 03 00 00 */	cmpwi r3, 0
/* 80377EA8 0036DC28  90 7F 00 0C */	stw r3, 0xc(r31)
/* 80377EAC 0036DC2C  40 82 00 14 */	bne lbl_80377EC0
/* 80377EB0 0036DC30  7F E3 FB 78 */	mr r3, r31
/* 80377EB4 0036DC34  4B FE 61 59 */	bl gsifree
/* 80377EB8 0036DC38  38 60 00 01 */	li r3, 1
/* 80377EBC 0036DC3C  48 00 01 44 */	b lbl_80378000
lbl_80377EC0:
/* 80377EC0 0036DC40  3C A0 80 37 */	lis r5, gti2ConnectionFree@ha
/* 80377EC4 0036DC44  38 60 00 04 */	li r3, 4
/* 80377EC8 0036DC48  38 A5 7D 88 */	addi r5, r5, gti2ConnectionFree@l
/* 80377ECC 0036DC4C  38 80 00 04 */	li r4, 4
/* 80377ED0 0036DC50  4B FE 25 91 */	bl ArrayNew
/* 80377ED4 0036DC54  2C 03 00 00 */	cmpwi r3, 0
/* 80377ED8 0036DC58  90 7F 00 10 */	stw r3, 0x10(r31)
/* 80377EDC 0036DC5C  40 82 00 1C */	bne lbl_80377EF8
/* 80377EE0 0036DC60  80 7F 00 0C */	lwz r3, 0xc(r31)
/* 80377EE4 0036DC64  4B FE 30 91 */	bl TableFree
/* 80377EE8 0036DC68  7F E3 FB 78 */	mr r3, r31
/* 80377EEC 0036DC6C  4B FE 61 21 */	bl gsifree
/* 80377EF0 0036DC70  38 60 00 01 */	li r3, 1
/* 80377EF4 0036DC74  48 00 01 0C */	b lbl_80378000
lbl_80377EF8:
/* 80377EF8 0036DC78  38 60 00 02 */	li r3, 2
/* 80377EFC 0036DC7C  38 80 00 02 */	li r4, 2
/* 80377F00 0036DC80  38 A0 00 11 */	li r5, 0x11
/* 80377F04 0036DC84  4B FE 43 69 */	bl socket
/* 80377F08 0036DC88  90 7F 00 00 */	stw r3, 0(r31)
/* 80377F0C 0036DC8C  2C 1E 00 03 */	cmpwi r30, 3
/* 80377F10 0036DC90  93 DF 00 40 */	stw r30, 0x40(r31)
/* 80377F14 0036DC94  40 82 00 10 */	bne lbl_80377F24
/* 80377F18 0036DC98  38 00 00 00 */	li r0, 0
/* 80377F1C 0036DC9C  90 1F 00 44 */	stw r0, 0x44(r31)
/* 80377F20 0036DCA0  48 00 00 08 */	b lbl_80377F28
lbl_80377F24:
/* 80377F24 0036DCA4  93 DF 00 44 */	stw r30, 0x44(r31)
lbl_80377F28:
/* 80377F28 0036DCA8  80 1F 00 00 */	lwz r0, 0(r31)
/* 80377F2C 0036DCAC  2C 00 FF FF */	cmpwi r0, -1
/* 80377F30 0036DCB0  40 82 00 24 */	bne lbl_80377F54
/* 80377F34 0036DCB4  80 7F 00 0C */	lwz r3, 0xc(r31)
/* 80377F38 0036DCB8  4B FE 30 3D */	bl TableFree
/* 80377F3C 0036DCBC  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 80377F40 0036DCC0  4B FE 25 BD */	bl ArrayFree
/* 80377F44 0036DCC4  7F E3 FB 78 */	mr r3, r31
/* 80377F48 0036DCC8  4B FE 60 C5 */	bl gsifree
/* 80377F4C 0036DCCC  38 60 00 03 */	li r3, 3
/* 80377F50 0036DCD0  48 00 00 B0 */	b lbl_80378000
lbl_80377F54:
/* 80377F54 0036DCD4  38 61 00 18 */	addi r3, r1, 0x18
/* 80377F58 0036DCD8  38 80 00 00 */	li r4, 0
/* 80377F5C 0036DCDC  38 A0 00 08 */	li r5, 8
/* 80377F60 0036DCE0  4B C8 C4 DD */	bl memset
/* 80377F64 0036DCE4  80 01 00 10 */	lwz r0, 0x10(r1)
/* 80377F68 0036DCE8  38 60 00 02 */	li r3, 2
/* 80377F6C 0036DCEC  98 61 00 19 */	stb r3, 0x19(r1)
/* 80377F70 0036DCF0  A0 61 00 08 */	lhz r3, 8(r1)
/* 80377F74 0036DCF4  90 01 00 1C */	stw r0, 0x1c(r1)
/* 80377F78 0036DCF8  48 02 FB 8D */	bl SOHtoNs
/* 80377F7C 0036DCFC  2C 1E 00 03 */	cmpwi r30, 3
/* 80377F80 0036DD00  B0 61 00 1A */	sth r3, 0x1a(r1)
/* 80377F84 0036DD04  41 82 00 18 */	beq lbl_80377F9C
/* 80377F88 0036DD08  80 7F 00 00 */	lwz r3, 0(r31)
/* 80377F8C 0036DD0C  38 81 00 18 */	addi r4, r1, 0x18
/* 80377F90 0036DD10  38 A0 00 08 */	li r5, 8
/* 80377F94 0036DD14  4B FE 43 79 */	bl bind
/* 80377F98 0036DD18  7C 7E 1B 78 */	mr r30, r3
lbl_80377F9C:
/* 80377F9C 0036DD1C  2C 1E FF FF */	cmpwi r30, -1
/* 80377FA0 0036DD20  40 82 00 2C */	bne lbl_80377FCC
/* 80377FA4 0036DD24  80 7F 00 00 */	lwz r3, 0(r31)
/* 80377FA8 0036DD28  4B FE 42 FD */	bl closesocket
/* 80377FAC 0036DD2C  80 7F 00 0C */	lwz r3, 0xc(r31)
/* 80377FB0 0036DD30  4B FE 2F C5 */	bl TableFree
/* 80377FB4 0036DD34  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 80377FB8 0036DD38  4B FE 25 45 */	bl ArrayFree
/* 80377FBC 0036DD3C  7F E3 FB 78 */	mr r3, r31
/* 80377FC0 0036DD40  4B FE 60 4D */	bl gsifree
/* 80377FC4 0036DD44  38 60 00 03 */	li r3, 3
/* 80377FC8 0036DD48  48 00 00 38 */	b lbl_80378000
lbl_80377FCC:
/* 80377FCC 0036DD4C  38 00 00 08 */	li r0, 8
/* 80377FD0 0036DD50  38 81 00 18 */	addi r4, r1, 0x18
/* 80377FD4 0036DD54  90 01 00 0C */	stw r0, 0xc(r1)
/* 80377FD8 0036DD58  38 A1 00 0C */	addi r5, r1, 0xc
/* 80377FDC 0036DD5C  80 7F 00 00 */	lwz r3, 0(r31)
/* 80377FE0 0036DD60  4B FE 45 E5 */	bl getsockname
/* 80377FE4 0036DD64  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 80377FE8 0036DD68  90 1F 00 04 */	stw r0, 4(r31)
/* 80377FEC 0036DD6C  A0 61 00 1A */	lhz r3, 0x1a(r1)
/* 80377FF0 0036DD70  48 02 FB 09 */	bl SONtoHs
/* 80377FF4 0036DD74  B0 7F 00 08 */	sth r3, 8(r31)
/* 80377FF8 0036DD78  38 60 00 00 */	li r3, 0
/* 80377FFC 0036DD7C  93 FA 00 00 */	stw r31, 0(r26)
lbl_80378000:
/* 80378000 0036DD80  39 61 00 40 */	addi r11, r1, 0x40
/* 80378004 0036DD84  48 07 93 65 */	bl _restgpr_26
/* 80378008 0036DD88  80 01 00 44 */	lwz r0, 0x44(r1)
/* 8037800C 0036DD8C  7C 08 03 A6 */	mtlr r0
/* 80378010 0036DD90  38 21 00 40 */	addi r1, r1, 0x40
/* 80378014 0036DD94  4E 80 00 20 */	blr 

.global gti2CloseSocket
gti2CloseSocket:
/* 80378018 0036DD98  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8037801C 0036DD9C  7C 08 02 A6 */	mflr r0
/* 80378020 0036DDA0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80378024 0036DDA4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80378028 0036DDA8  7C 7F 1B 78 */	mr r31, r3
/* 8037802C 0036DDAC  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80378030 0036DDB0  2C 00 00 00 */	cmpwi r0, 0
/* 80378034 0036DDB4  41 82 00 10 */	beq lbl_80378044
/* 80378038 0036DDB8  38 00 00 01 */	li r0, 1
/* 8037803C 0036DDBC  90 03 00 14 */	stw r0, 0x14(r3)
/* 80378040 0036DDC0  48 00 00 28 */	b lbl_80378068
lbl_80378044:
/* 80378044 0036DDC4  80 63 00 00 */	lwz r3, 0(r3)
/* 80378048 0036DDC8  4B FE 42 5D */	bl closesocket
/* 8037804C 0036DDCC  80 7F 00 0C */	lwz r3, 0xc(r31)
/* 80378050 0036DDD0  4B FE 2F 25 */	bl TableFree
/* 80378054 0036DDD4  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 80378058 0036DDD8  4B FE 24 A5 */	bl ArrayFree
/* 8037805C 0036DDDC  7F E3 FB 78 */	mr r3, r31
/* 80378060 0036DDE0  4B FE 5F AD */	bl gsifree
/* 80378064 0036DDE4  4B FE 56 C1 */	bl SocketShutDown
lbl_80378068:
/* 80378068 0036DDE8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8037806C 0036DDEC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80378070 0036DDF0  7C 08 03 A6 */	mtlr r0
/* 80378074 0036DDF4  38 21 00 10 */	addi r1, r1, 0x10
/* 80378078 0036DDF8  4E 80 00 20 */	blr 

.global gti2Listen
gti2Listen:
/* 8037807C 0036DDFC  90 83 00 20 */	stw r4, 0x20(r3)
/* 80378080 0036DE00  4E 80 00 20 */	blr 

.global gti2NewSocketConnection
gti2NewSocketConnection:
/* 80378084 0036DE04  94 21 FE 90 */	stwu r1, -0x170(r1)
/* 80378088 0036DE08  7C 08 02 A6 */	mflr r0
/* 8037808C 0036DE0C  90 01 01 74 */	stw r0, 0x174(r1)
/* 80378090 0036DE10  39 61 01 70 */	addi r11, r1, 0x170
/* 80378094 0036DE14  48 07 92 8D */	bl _savegpr_27
/* 80378098 0036DE18  38 01 00 B8 */	addi r0, r1, 0xb8
/* 8037809C 0036DE1C  3B E0 00 00 */	li r31, 0
/* 803780A0 0036DE20  93 E1 00 10 */	stw r31, 0x10(r1)
/* 803780A4 0036DE24  7C 9C 23 78 */	mr r28, r4
/* 803780A8 0036DE28  7C 7B 1B 78 */	mr r27, r3
/* 803780AC 0036DE2C  7C BD 2B 78 */	mr r29, r5
/* 803780B0 0036DE30  90 A1 00 B8 */	stw r5, 0xb8(r1)
/* 803780B4 0036DE34  7C DE 33 78 */	mr r30, r6
/* 803780B8 0036DE38  38 81 00 0C */	addi r4, r1, 0xc
/* 803780BC 0036DE3C  B0 C1 00 BC */	sth r6, 0xbc(r1)
/* 803780C0 0036DE40  90 01 00 0C */	stw r0, 0xc(r1)
/* 803780C4 0036DE44  80 63 00 0C */	lwz r3, 0xc(r3)
/* 803780C8 0036DE48  4B FE 30 FD */	bl TableLookup
/* 803780CC 0036DE4C  2C 03 00 00 */	cmpwi r3, 0
/* 803780D0 0036DE50  41 82 00 08 */	beq lbl_803780D8
/* 803780D4 0036DE54  83 E3 00 00 */	lwz r31, 0(r3)
lbl_803780D8:
/* 803780D8 0036DE58  2C 1F 00 00 */	cmpwi r31, 0
/* 803780DC 0036DE5C  41 82 00 0C */	beq lbl_803780E8
/* 803780E0 0036DE60  38 60 00 05 */	li r3, 5
/* 803780E4 0036DE64  48 00 01 FC */	b lbl_803782E0
lbl_803780E8:
/* 803780E8 0036DE68  38 60 00 A0 */	li r3, 0xa0
/* 803780EC 0036DE6C  4B FE 5E FD */	bl gsimalloc
/* 803780F0 0036DE70  2C 03 00 00 */	cmpwi r3, 0
/* 803780F4 0036DE74  90 61 00 10 */	stw r3, 0x10(r1)
/* 803780F8 0036DE78  41 82 01 6C */	beq lbl_80378264
/* 803780FC 0036DE7C  38 80 00 00 */	li r4, 0
/* 80378100 0036DE80  38 A0 00 A0 */	li r5, 0xa0
/* 80378104 0036DE84  4B C8 C3 39 */	bl memset
/* 80378108 0036DE88  80 61 00 10 */	lwz r3, 0x10(r1)
/* 8037810C 0036DE8C  93 A3 00 00 */	stw r29, 0(r3)
/* 80378110 0036DE90  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378114 0036DE94  B3 C3 00 04 */	sth r30, 4(r3)
/* 80378118 0036DE98  80 61 00 10 */	lwz r3, 0x10(r1)
/* 8037811C 0036DE9C  93 63 00 08 */	stw r27, 8(r3)
/* 80378120 0036DEA0  4B FE 56 09 */	bl current_time
/* 80378124 0036DEA4  80 81 00 10 */	lwz r4, 0x10(r1)
/* 80378128 0036DEA8  3B E0 00 00 */	li r31, 0
/* 8037812C 0036DEAC  90 64 00 1C */	stw r3, 0x1c(r4)
/* 80378130 0036DEB0  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378134 0036DEB4  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 80378138 0036DEB8  90 03 00 88 */	stw r0, 0x88(r3)
/* 8037813C 0036DEBC  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378140 0036DEC0  B3 E3 00 64 */	sth r31, 0x64(r3)
/* 80378144 0036DEC4  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378148 0036DEC8  B3 E3 00 66 */	sth r31, 0x66(r3)
/* 8037814C 0036DECC  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378150 0036DED0  80 9B 00 3C */	lwz r4, 0x3c(r27)
/* 80378154 0036DED4  38 63 00 44 */	addi r3, r3, 0x44
/* 80378158 0036DED8  4B FF B6 29 */	bl gti2AllocateBuffer
/* 8037815C 0036DEDC  2C 03 00 00 */	cmpwi r3, 0
/* 80378160 0036DEE0  41 82 01 04 */	beq lbl_80378264
/* 80378164 0036DEE4  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378168 0036DEE8  80 9B 00 38 */	lwz r4, 0x38(r27)
/* 8037816C 0036DEEC  38 63 00 50 */	addi r3, r3, 0x50
/* 80378170 0036DEF0  4B FF B6 11 */	bl gti2AllocateBuffer
/* 80378174 0036DEF4  2C 03 00 00 */	cmpwi r3, 0
/* 80378178 0036DEF8  41 82 00 EC */	beq lbl_80378264
/* 8037817C 0036DEFC  38 60 00 10 */	li r3, 0x10
/* 80378180 0036DF00  38 80 00 40 */	li r4, 0x40
/* 80378184 0036DF04  38 A0 00 00 */	li r5, 0
/* 80378188 0036DF08  4B FE 22 D9 */	bl ArrayNew
/* 8037818C 0036DF0C  80 81 00 10 */	lwz r4, 0x10(r1)
/* 80378190 0036DF10  90 64 00 5C */	stw r3, 0x5c(r4)
/* 80378194 0036DF14  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378198 0036DF18  80 03 00 5C */	lwz r0, 0x5c(r3)
/* 8037819C 0036DF1C  2C 00 00 00 */	cmpwi r0, 0
/* 803781A0 0036DF20  41 82 00 C4 */	beq lbl_80378264
/* 803781A4 0036DF24  38 60 00 10 */	li r3, 0x10
/* 803781A8 0036DF28  38 80 00 40 */	li r4, 0x40
/* 803781AC 0036DF2C  38 A0 00 00 */	li r5, 0
/* 803781B0 0036DF30  4B FE 22 B1 */	bl ArrayNew
/* 803781B4 0036DF34  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803781B8 0036DF38  90 64 00 60 */	stw r3, 0x60(r4)
/* 803781BC 0036DF3C  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803781C0 0036DF40  80 03 00 60 */	lwz r0, 0x60(r3)
/* 803781C4 0036DF44  2C 00 00 00 */	cmpwi r0, 0
/* 803781C8 0036DF48  41 82 00 9C */	beq lbl_80378264
/* 803781CC 0036DF4C  38 60 00 04 */	li r3, 4
/* 803781D0 0036DF50  38 80 00 02 */	li r4, 2
/* 803781D4 0036DF54  38 A0 00 00 */	li r5, 0
/* 803781D8 0036DF58  4B FE 22 89 */	bl ArrayNew
/* 803781DC 0036DF5C  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803781E0 0036DF60  90 64 00 98 */	stw r3, 0x98(r4)
/* 803781E4 0036DF64  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803781E8 0036DF68  80 03 00 98 */	lwz r0, 0x98(r3)
/* 803781EC 0036DF6C  2C 00 00 00 */	cmpwi r0, 0
/* 803781F0 0036DF70  41 82 00 74 */	beq lbl_80378264
/* 803781F4 0036DF74  38 60 00 04 */	li r3, 4
/* 803781F8 0036DF78  38 80 00 02 */	li r4, 2
/* 803781FC 0036DF7C  38 A0 00 00 */	li r5, 0
/* 80378200 0036DF80  4B FE 22 61 */	bl ArrayNew
/* 80378204 0036DF84  80 81 00 10 */	lwz r4, 0x10(r1)
/* 80378208 0036DF88  90 64 00 9C */	stw r3, 0x9c(r4)
/* 8037820C 0036DF8C  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378210 0036DF90  80 03 00 9C */	lwz r0, 0x9c(r3)
/* 80378214 0036DF94  2C 00 00 00 */	cmpwi r0, 0
/* 80378218 0036DF98  41 82 00 4C */	beq lbl_80378264
/* 8037821C 0036DF9C  80 7B 00 0C */	lwz r3, 0xc(r27)
/* 80378220 0036DFA0  38 81 00 10 */	addi r4, r1, 0x10
/* 80378224 0036DFA4  4B FE 2E 55 */	bl TableEnter
/* 80378228 0036DFA8  38 01 00 18 */	addi r0, r1, 0x18
/* 8037822C 0036DFAC  93 A1 00 18 */	stw r29, 0x18(r1)
/* 80378230 0036DFB0  38 81 00 08 */	addi r4, r1, 8
/* 80378234 0036DFB4  B3 C1 00 1C */	sth r30, 0x1c(r1)
/* 80378238 0036DFB8  90 01 00 08 */	stw r0, 8(r1)
/* 8037823C 0036DFBC  80 7B 00 0C */	lwz r3, 0xc(r27)
/* 80378240 0036DFC0  4B FE 2F 85 */	bl TableLookup
/* 80378244 0036DFC4  2C 03 00 00 */	cmpwi r3, 0
/* 80378248 0036DFC8  41 82 00 08 */	beq lbl_80378250
/* 8037824C 0036DFCC  83 E3 00 00 */	lwz r31, 0(r3)
lbl_80378250:
/* 80378250 0036DFD0  2C 1F 00 00 */	cmpwi r31, 0
/* 80378254 0036DFD4  93 FC 00 00 */	stw r31, 0(r28)
/* 80378258 0036DFD8  41 82 00 0C */	beq lbl_80378264
/* 8037825C 0036DFDC  38 60 00 00 */	li r3, 0
/* 80378260 0036DFE0  48 00 00 80 */	b lbl_803782E0
lbl_80378264:
/* 80378264 0036DFE4  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378268 0036DFE8  2C 03 00 00 */	cmpwi r3, 0
/* 8037826C 0036DFEC  41 82 00 70 */	beq lbl_803782DC
/* 80378270 0036DFF0  80 63 00 44 */	lwz r3, 0x44(r3)
/* 80378274 0036DFF4  4B FE 5D 99 */	bl gsifree
/* 80378278 0036DFF8  80 61 00 10 */	lwz r3, 0x10(r1)
/* 8037827C 0036DFFC  80 63 00 50 */	lwz r3, 0x50(r3)
/* 80378280 0036E000  4B FE 5D 8D */	bl gsifree
/* 80378284 0036E004  80 61 00 10 */	lwz r3, 0x10(r1)
/* 80378288 0036E008  80 63 00 5C */	lwz r3, 0x5c(r3)
/* 8037828C 0036E00C  2C 03 00 00 */	cmpwi r3, 0
/* 80378290 0036E010  41 82 00 08 */	beq lbl_80378298
/* 80378294 0036E014  4B FE 22 69 */	bl ArrayFree
lbl_80378298:
/* 80378298 0036E018  80 61 00 10 */	lwz r3, 0x10(r1)
/* 8037829C 0036E01C  80 63 00 60 */	lwz r3, 0x60(r3)
/* 803782A0 0036E020  2C 03 00 00 */	cmpwi r3, 0
/* 803782A4 0036E024  41 82 00 08 */	beq lbl_803782AC
/* 803782A8 0036E028  4B FE 22 55 */	bl ArrayFree
lbl_803782AC:
/* 803782AC 0036E02C  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803782B0 0036E030  80 63 00 98 */	lwz r3, 0x98(r3)
/* 803782B4 0036E034  2C 03 00 00 */	cmpwi r3, 0
/* 803782B8 0036E038  41 82 00 08 */	beq lbl_803782C0
/* 803782BC 0036E03C  4B FE 22 41 */	bl ArrayFree
lbl_803782C0:
/* 803782C0 0036E040  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803782C4 0036E044  80 63 00 9C */	lwz r3, 0x9c(r3)
/* 803782C8 0036E048  2C 03 00 00 */	cmpwi r3, 0
/* 803782CC 0036E04C  41 82 00 08 */	beq lbl_803782D4
/* 803782D0 0036E050  4B FE 22 2D */	bl ArrayFree
lbl_803782D4:
/* 803782D4 0036E054  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803782D8 0036E058  4B FE 5D 35 */	bl gsifree
lbl_803782DC:
/* 803782DC 0036E05C  38 60 00 01 */	li r3, 1
lbl_803782E0:
/* 803782E0 0036E060  39 61 01 70 */	addi r11, r1, 0x170
/* 803782E4 0036E064  48 07 90 89 */	bl _restgpr_27
/* 803782E8 0036E068  80 01 01 74 */	lwz r0, 0x174(r1)
/* 803782EC 0036E06C  7C 08 03 A6 */	mtlr r0
/* 803782F0 0036E070  38 21 01 70 */	addi r1, r1, 0x170
/* 803782F4 0036E074  4E 80 00 20 */	blr 

.global gti2FreeSocketConnection
gti2FreeSocketConnection:
/* 803782F8 0036E078  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803782FC 0036E07C  7C 08 02 A6 */	mflr r0
/* 80378300 0036E080  90 01 00 24 */	stw r0, 0x24(r1)
/* 80378304 0036E084  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80378308 0036E088  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8037830C 0036E08C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80378310 0036E090  90 61 00 08 */	stw r3, 8(r1)
/* 80378314 0036E094  80 03 00 14 */	lwz r0, 0x14(r3)
/* 80378318 0036E098  2C 00 00 00 */	cmpwi r0, 0
/* 8037831C 0036E09C  40 82 00 8C */	bne lbl_803783A8
/* 80378320 0036E0A0  80 03 00 24 */	lwz r0, 0x24(r3)
/* 80378324 0036E0A4  2C 00 00 00 */	cmpwi r0, 0
/* 80378328 0036E0A8  41 82 00 08 */	beq lbl_80378330
/* 8037832C 0036E0AC  48 00 00 7C */	b lbl_803783A8
lbl_80378330:
/* 80378330 0036E0B0  80 03 00 0C */	lwz r0, 0xc(r3)
/* 80378334 0036E0B4  2C 00 00 07 */	cmpwi r0, 7
/* 80378338 0036E0B8  40 82 00 60 */	bne lbl_80378398
/* 8037833C 0036E0BC  80 63 00 08 */	lwz r3, 8(r3)
/* 80378340 0036E0C0  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80378344 0036E0C4  4B FE 22 4D */	bl ArrayLength
/* 80378348 0036E0C8  7C 7F 1B 78 */	mr r31, r3
/* 8037834C 0036E0CC  3B A0 00 00 */	li r29, 0
/* 80378350 0036E0D0  48 00 00 3C */	b lbl_8037838C
lbl_80378354:
/* 80378354 0036E0D4  83 C1 00 08 */	lwz r30, 8(r1)
/* 80378358 0036E0D8  7F A4 EB 78 */	mr r4, r29
/* 8037835C 0036E0DC  80 7E 00 08 */	lwz r3, 8(r30)
/* 80378360 0036E0E0  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80378364 0036E0E4  4B FE 22 35 */	bl ArrayNth
/* 80378368 0036E0E8  80 03 00 00 */	lwz r0, 0(r3)
/* 8037836C 0036E0EC  7C 1E 00 40 */	cmplw r30, r0
/* 80378370 0036E0F0  40 82 00 18 */	bne lbl_80378388
/* 80378374 0036E0F4  80 7E 00 08 */	lwz r3, 8(r30)
/* 80378378 0036E0F8  7F A4 EB 78 */	mr r4, r29
/* 8037837C 0036E0FC  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80378380 0036E100  4B FE 25 99 */	bl ArrayDeleteAt
/* 80378384 0036E104  48 00 00 24 */	b lbl_803783A8
lbl_80378388:
/* 80378388 0036E108  3B BD 00 01 */	addi r29, r29, 1
lbl_8037838C:
/* 8037838C 0036E10C  7C 1D F8 00 */	cmpw r29, r31
/* 80378390 0036E110  41 80 FF C4 */	blt lbl_80378354
/* 80378394 0036E114  48 00 00 14 */	b lbl_803783A8
lbl_80378398:
/* 80378398 0036E118  80 63 00 08 */	lwz r3, 8(r3)
/* 8037839C 0036E11C  38 81 00 08 */	addi r4, r1, 8
/* 803783A0 0036E120  80 63 00 0C */	lwz r3, 0xc(r3)
/* 803783A4 0036E124  4B FE 2D 7D */	bl TableRemove
lbl_803783A8:
/* 803783A8 0036E128  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803783AC 0036E12C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803783B0 0036E130  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803783B4 0036E134  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803783B8 0036E138  7C 08 03 A6 */	mtlr r0
/* 803783BC 0036E13C  38 21 00 20 */	addi r1, r1, 0x20
/* 803783C0 0036E140  4E 80 00 20 */	blr 

.global gti2SocketSend
gti2SocketSend:
/* 803783C4 0036E144  94 21 FF 30 */	stwu r1, -0xd0(r1)
/* 803783C8 0036E148  7C 08 02 A6 */	mflr r0
/* 803783CC 0036E14C  90 01 00 D4 */	stw r0, 0xd4(r1)
/* 803783D0 0036E150  93 E1 00 CC */	stw r31, 0xcc(r1)
/* 803783D4 0036E154  7C BF 2B 78 */	mr r31, r5
/* 803783D8 0036E158  93 C1 00 C8 */	stw r30, 0xc8(r1)
/* 803783DC 0036E15C  7C 9E 23 78 */	mr r30, r4
/* 803783E0 0036E160  38 81 00 0C */	addi r4, r1, 0xc
/* 803783E4 0036E164  93 A1 00 C4 */	stw r29, 0xc4(r1)
/* 803783E8 0036E168  7C 7D 1B 78 */	mr r29, r3
/* 803783EC 0036E16C  38 61 00 08 */	addi r3, r1, 8
/* 803783F0 0036E170  90 C1 00 08 */	stw r6, 8(r1)
/* 803783F4 0036E174  90 E1 00 0C */	stw r7, 0xc(r1)
/* 803783F8 0036E178  48 00 07 59 */	bl gti2MessageCheck
/* 803783FC 0036E17C  80 1D 00 40 */	lwz r0, 0x40(r29)
/* 80378400 0036E180  2C 00 00 03 */	cmpwi r0, 3
/* 80378404 0036E184  41 82 00 1C */	beq lbl_80378420
/* 80378408 0036E188  80 7D 00 00 */	lwz r3, 0(r29)
/* 8037840C 0036E18C  4B FE 4B 39 */	bl CanSendOnSocket
/* 80378410 0036E190  2C 03 00 00 */	cmpwi r3, 0
/* 80378414 0036E194  40 82 00 0C */	bne lbl_80378420
/* 80378418 0036E198  38 60 00 01 */	li r3, 1
/* 8037841C 0036E19C  48 00 01 A8 */	b lbl_803785C4
lbl_80378420:
/* 80378420 0036E1A0  38 61 00 18 */	addi r3, r1, 0x18
/* 80378424 0036E1A4  38 80 00 00 */	li r4, 0
/* 80378428 0036E1A8  38 A0 00 08 */	li r5, 8
/* 8037842C 0036E1AC  4B C8 C0 11 */	bl memset
/* 80378430 0036E1B0  38 00 00 02 */	li r0, 2
/* 80378434 0036E1B4  93 C1 00 1C */	stw r30, 0x1c(r1)
/* 80378438 0036E1B8  7F E3 FB 78 */	mr r3, r31
/* 8037843C 0036E1BC  98 01 00 19 */	stb r0, 0x19(r1)
/* 80378440 0036E1C0  48 02 F6 C5 */	bl SOHtoNs
/* 80378444 0036E1C4  B0 61 00 1A */	sth r3, 0x1a(r1)
/* 80378448 0036E1C8  38 E1 00 18 */	addi r7, r1, 0x18
/* 8037844C 0036E1CC  80 81 00 08 */	lwz r4, 8(r1)
/* 80378450 0036E1D0  38 C0 00 00 */	li r6, 0
/* 80378454 0036E1D4  80 7D 00 00 */	lwz r3, 0(r29)
/* 80378458 0036E1D8  39 00 00 08 */	li r8, 8
/* 8037845C 0036E1DC  80 A1 00 0C */	lwz r5, 0xc(r1)
/* 80378460 0036E1E0  4B FE 40 E5 */	bl sendto
/* 80378464 0036E1E4  2C 03 FF FF */	cmpwi r3, -1
/* 80378468 0036E1E8  40 82 00 EC */	bne lbl_80378554
/* 8037846C 0036E1EC  80 7D 00 00 */	lwz r3, 0(r29)
/* 80378470 0036E1F0  4B FE 41 E9 */	bl GOAGetLastError
/* 80378474 0036E1F4  2C 03 FF F1 */	cmpwi r3, -15
/* 80378478 0036E1F8  40 82 00 24 */	bne lbl_8037849C
/* 8037847C 0036E1FC  7F A3 EB 78 */	mr r3, r29
/* 80378480 0036E200  7F C4 F3 78 */	mr r4, r30
/* 80378484 0036E204  7F E5 FB 78 */	mr r5, r31
/* 80378488 0036E208  4B FF E6 25 */	bl gti2HandleConnectionReset
/* 8037848C 0036E20C  2C 03 00 00 */	cmpwi r3, 0
/* 80378490 0036E210  40 82 01 30 */	bne lbl_803785C0
/* 80378494 0036E214  38 60 00 00 */	li r3, 0
/* 80378498 0036E218  48 00 01 2C */	b lbl_803785C4
lbl_8037849C:
/* 8037849C 0036E21C  2C 03 FF E9 */	cmpwi r3, -23
/* 803784A0 0036E220  40 82 00 28 */	bne lbl_803784C8
/* 803784A4 0036E224  7F A3 EB 78 */	mr r3, r29
/* 803784A8 0036E228  7F C4 F3 78 */	mr r4, r30
/* 803784AC 0036E22C  7F E5 FB 78 */	mr r5, r31
/* 803784B0 0036E230  38 C0 00 01 */	li r6, 1
/* 803784B4 0036E234  4B FF E8 11 */	bl gti2HandleHostUnreachable
/* 803784B8 0036E238  2C 03 00 00 */	cmpwi r3, 0
/* 803784BC 0036E23C  40 82 01 04 */	bne lbl_803785C0
/* 803784C0 0036E240  38 60 00 00 */	li r3, 0
/* 803784C4 0036E244  48 00 01 00 */	b lbl_803785C4
lbl_803784C8:
/* 803784C8 0036E248  2C 03 FF D6 */	cmpwi r3, -42
/* 803784CC 0036E24C  41 82 00 0C */	beq lbl_803784D8
/* 803784D0 0036E250  2C 03 FF FA */	cmpwi r3, -6
/* 803784D4 0036E254  40 82 00 0C */	bne lbl_803784E0
lbl_803784D8:
/* 803784D8 0036E258  38 60 00 01 */	li r3, 1
/* 803784DC 0036E25C  48 00 00 E8 */	b lbl_803785C4
lbl_803784E0:
/* 803784E0 0036E260  2C 03 FF DD */	cmpwi r3, -35
/* 803784E4 0036E264  41 82 00 DC */	beq lbl_803785C0
/* 803784E8 0036E268  80 1D 00 18 */	lwz r0, 0x18(r29)
/* 803784EC 0036E26C  2C 00 00 00 */	cmpwi r0, 0
/* 803784F0 0036E270  40 82 00 5C */	bne lbl_8037854C
/* 803784F4 0036E274  3B E0 00 01 */	li r31, 1
/* 803784F8 0036E278  7F A3 EB 78 */	mr r3, r29
/* 803784FC 0036E27C  93 FD 00 18 */	stw r31, 0x18(r29)
/* 80378500 0036E280  4B FF C6 D5 */	bl gt2CloseAllConnectionsHard
/* 80378504 0036E284  7F A3 EB 78 */	mr r3, r29
/* 80378508 0036E288  4B FF B4 1D */	bl gti2SocketErrorCallback
/* 8037850C 0036E28C  2C 03 00 00 */	cmpwi r3, 0
/* 80378510 0036E290  41 82 00 3C */	beq lbl_8037854C
/* 80378514 0036E294  80 1D 00 1C */	lwz r0, 0x1c(r29)
/* 80378518 0036E298  2C 00 00 00 */	cmpwi r0, 0
/* 8037851C 0036E29C  41 82 00 0C */	beq lbl_80378528
/* 80378520 0036E2A0  93 FD 00 14 */	stw r31, 0x14(r29)
/* 80378524 0036E2A4  48 00 00 28 */	b lbl_8037854C
lbl_80378528:
/* 80378528 0036E2A8  80 7D 00 00 */	lwz r3, 0(r29)
/* 8037852C 0036E2AC  4B FE 3D 79 */	bl closesocket
/* 80378530 0036E2B0  80 7D 00 0C */	lwz r3, 0xc(r29)
/* 80378534 0036E2B4  4B FE 2A 41 */	bl TableFree
/* 80378538 0036E2B8  80 7D 00 10 */	lwz r3, 0x10(r29)
/* 8037853C 0036E2BC  4B FE 1F C1 */	bl ArrayFree
/* 80378540 0036E2C0  7F A3 EB 78 */	mr r3, r29
/* 80378544 0036E2C4  4B FE 5A C9 */	bl gsifree
/* 80378548 0036E2C8  4B FE 51 DD */	bl SocketShutDown
lbl_8037854C:
/* 8037854C 0036E2CC  38 60 00 00 */	li r3, 0
/* 80378550 0036E2D0  48 00 00 74 */	b lbl_803785C4
lbl_80378554:
/* 80378554 0036E2D4  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 80378558 0036E2D8  2C 00 00 00 */	cmpwi r0, 0
/* 8037855C 0036E2DC  41 82 00 64 */	beq lbl_803785C0
/* 80378560 0036E2E0  38 01 00 20 */	addi r0, r1, 0x20
/* 80378564 0036E2E4  93 C1 00 20 */	stw r30, 0x20(r1)
/* 80378568 0036E2E8  38 81 00 10 */	addi r4, r1, 0x10
/* 8037856C 0036E2EC  B3 E1 00 24 */	sth r31, 0x24(r1)
/* 80378570 0036E2F0  90 01 00 10 */	stw r0, 0x10(r1)
/* 80378574 0036E2F4  80 7D 00 0C */	lwz r3, 0xc(r29)
/* 80378578 0036E2F8  4B FE 2C 4D */	bl TableLookup
/* 8037857C 0036E2FC  7C 64 1B 79 */	or. r4, r3, r3
/* 80378580 0036E300  7F A3 EB 78 */	mr r3, r29
/* 80378584 0036E304  41 82 00 0C */	beq lbl_80378590
/* 80378588 0036E308  80 84 00 00 */	lwz r4, 0(r4)
/* 8037858C 0036E30C  48 00 00 08 */	b lbl_80378594
lbl_80378590:
/* 80378590 0036E310  38 80 00 00 */	li r4, 0
lbl_80378594:
/* 80378594 0036E314  81 01 00 08 */	lwz r8, 8(r1)
/* 80378598 0036E318  7F C5 F3 78 */	mr r5, r30
/* 8037859C 0036E31C  81 21 00 0C */	lwz r9, 0xc(r1)
/* 803785A0 0036E320  7F E6 FB 78 */	mr r6, r31
/* 803785A4 0036E324  38 E0 00 00 */	li r7, 0
/* 803785A8 0036E328  39 40 00 01 */	li r10, 1
/* 803785AC 0036E32C  4B FF BA 31 */	bl gti2DumpCallback
/* 803785B0 0036E330  2C 03 00 00 */	cmpwi r3, 0
/* 803785B4 0036E334  40 82 00 0C */	bne lbl_803785C0
/* 803785B8 0036E338  38 60 00 00 */	li r3, 0
/* 803785BC 0036E33C  48 00 00 08 */	b lbl_803785C4
lbl_803785C0:
/* 803785C0 0036E340  38 60 00 01 */	li r3, 1
lbl_803785C4:
/* 803785C4 0036E344  80 01 00 D4 */	lwz r0, 0xd4(r1)
/* 803785C8 0036E348  83 E1 00 CC */	lwz r31, 0xcc(r1)
/* 803785CC 0036E34C  83 C1 00 C8 */	lwz r30, 0xc8(r1)
/* 803785D0 0036E350  83 A1 00 C4 */	lwz r29, 0xc4(r1)
/* 803785D4 0036E354  7C 08 03 A6 */	mtlr r0
/* 803785D8 0036E358  38 21 00 D0 */	addi r1, r1, 0xd0
/* 803785DC 0036E35C  4E 80 00 20 */	blr 

.global gti2SocketConnectionsThinkMap
gti2SocketConnectionsThinkMap:
/* 803785E0 0036E360  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803785E4 0036E364  7C 08 02 A6 */	mflr r0
/* 803785E8 0036E368  90 01 00 24 */	stw r0, 0x24(r1)
/* 803785EC 0036E36C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803785F0 0036E370  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803785F4 0036E374  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803785F8 0036E378  83 A3 00 00 */	lwz r29, 0(r3)
/* 803785FC 0036E37C  80 84 00 00 */	lwz r4, 0(r4)
/* 80378600 0036E380  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 80378604 0036E384  2C 00 00 07 */	cmpwi r0, 7
/* 80378608 0036E388  41 82 00 1C */	beq lbl_80378624
/* 8037860C 0036E38C  7F A3 EB 78 */	mr r3, r29
/* 80378610 0036E390  4B FF BF 75 */	bl gti2ConnectionThink
/* 80378614 0036E394  2C 03 00 00 */	cmpwi r3, 0
/* 80378618 0036E398  40 82 00 0C */	bne lbl_80378624
/* 8037861C 0036E39C  38 60 00 00 */	li r3, 0
/* 80378620 0036E3A0  48 00 00 C0 */	b lbl_803786E0
lbl_80378624:
/* 80378624 0036E3A4  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 80378628 0036E3A8  2C 00 00 07 */	cmpwi r0, 7
/* 8037862C 0036E3AC  40 82 00 B0 */	bne lbl_803786DC
/* 80378630 0036E3B0  80 1D 00 14 */	lwz r0, 0x14(r29)
/* 80378634 0036E3B4  2C 00 00 00 */	cmpwi r0, 0
/* 80378638 0036E3B8  40 82 00 A4 */	bne lbl_803786DC
/* 8037863C 0036E3BC  80 1D 00 24 */	lwz r0, 0x24(r29)
/* 80378640 0036E3C0  2C 00 00 00 */	cmpwi r0, 0
/* 80378644 0036E3C4  40 82 00 98 */	bne lbl_803786DC
/* 80378648 0036E3C8  93 A1 00 08 */	stw r29, 8(r1)
/* 8037864C 0036E3CC  80 1D 00 14 */	lwz r0, 0x14(r29)
/* 80378650 0036E3D0  2C 00 00 00 */	cmpwi r0, 0
/* 80378654 0036E3D4  40 82 00 88 */	bne lbl_803786DC
/* 80378658 0036E3D8  80 1D 00 24 */	lwz r0, 0x24(r29)
/* 8037865C 0036E3DC  2C 00 00 00 */	cmpwi r0, 0
/* 80378660 0036E3E0  40 82 00 7C */	bne lbl_803786DC
/* 80378664 0036E3E4  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 80378668 0036E3E8  2C 00 00 07 */	cmpwi r0, 7
/* 8037866C 0036E3EC  40 82 00 60 */	bne lbl_803786CC
/* 80378670 0036E3F0  80 7D 00 08 */	lwz r3, 8(r29)
/* 80378674 0036E3F4  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80378678 0036E3F8  4B FE 1F 19 */	bl ArrayLength
/* 8037867C 0036E3FC  7C 7F 1B 78 */	mr r31, r3
/* 80378680 0036E400  3B C0 00 00 */	li r30, 0
/* 80378684 0036E404  48 00 00 3C */	b lbl_803786C0
lbl_80378688:
/* 80378688 0036E408  83 A1 00 08 */	lwz r29, 8(r1)
/* 8037868C 0036E40C  7F C4 F3 78 */	mr r4, r30
/* 80378690 0036E410  80 7D 00 08 */	lwz r3, 8(r29)
/* 80378694 0036E414  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80378698 0036E418  4B FE 1F 01 */	bl ArrayNth
/* 8037869C 0036E41C  80 03 00 00 */	lwz r0, 0(r3)
/* 803786A0 0036E420  7C 1D 00 40 */	cmplw r29, r0
/* 803786A4 0036E424  40 82 00 18 */	bne lbl_803786BC
/* 803786A8 0036E428  80 7D 00 08 */	lwz r3, 8(r29)
/* 803786AC 0036E42C  7F C4 F3 78 */	mr r4, r30
/* 803786B0 0036E430  80 63 00 10 */	lwz r3, 0x10(r3)
/* 803786B4 0036E434  4B FE 22 65 */	bl ArrayDeleteAt
/* 803786B8 0036E438  48 00 00 24 */	b lbl_803786DC
lbl_803786BC:
/* 803786BC 0036E43C  3B DE 00 01 */	addi r30, r30, 1
lbl_803786C0:
/* 803786C0 0036E440  7C 1E F8 00 */	cmpw r30, r31
/* 803786C4 0036E444  41 80 FF C4 */	blt lbl_80378688
/* 803786C8 0036E448  48 00 00 14 */	b lbl_803786DC
lbl_803786CC:
/* 803786CC 0036E44C  80 7D 00 08 */	lwz r3, 8(r29)
/* 803786D0 0036E450  38 81 00 08 */	addi r4, r1, 8
/* 803786D4 0036E454  80 63 00 0C */	lwz r3, 0xc(r3)
/* 803786D8 0036E458  4B FE 2A 49 */	bl TableRemove
lbl_803786DC:
/* 803786DC 0036E45C  38 60 00 01 */	li r3, 1
lbl_803786E0:
/* 803786E0 0036E460  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803786E4 0036E464  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803786E8 0036E468  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803786EC 0036E46C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803786F0 0036E470  7C 08 03 A6 */	mtlr r0
/* 803786F4 0036E474  38 21 00 20 */	addi r1, r1, 0x20
/* 803786F8 0036E478  4E 80 00 20 */	blr 

.global gti2SocketConnectionsThink
gti2SocketConnectionsThink:
/* 803786FC 0036E47C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80378700 0036E480  7C 08 02 A6 */	mflr r0
/* 80378704 0036E484  90 01 00 24 */	stw r0, 0x24(r1)
/* 80378708 0036E488  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8037870C 0036E48C  7C 7F 1B 78 */	mr r31, r3
/* 80378710 0036E490  4B FE 50 19 */	bl current_time
/* 80378714 0036E494  90 61 00 08 */	stw r3, 8(r1)
/* 80378718 0036E498  3C 80 80 38 */	lis r4, gti2SocketConnectionsThinkMap@ha
/* 8037871C 0036E49C  38 84 85 E0 */	addi r4, r4, gti2SocketConnectionsThinkMap@l
/* 80378720 0036E4A0  38 A1 00 08 */	addi r5, r1, 8
/* 80378724 0036E4A4  80 7F 00 0C */	lwz r3, 0xc(r31)
/* 80378728 0036E4A8  4B FE 2B A9 */	bl TableMapSafe2
/* 8037872C 0036E4AC  7C 60 00 34 */	cntlzw r0, r3
/* 80378730 0036E4B0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80378734 0036E4B4  54 03 D9 7E */	srwi r3, r0, 5
/* 80378738 0036E4B8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8037873C 0036E4BC  7C 08 03 A6 */	mtlr r0
/* 80378740 0036E4C0  38 21 00 20 */	addi r1, r1, 0x20
/* 80378744 0036E4C4  4E 80 00 20 */	blr 

.global gti2FreeClosedConnections
gti2FreeClosedConnections:
/* 80378748 0036E4C8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8037874C 0036E4CC  7C 08 02 A6 */	mflr r0
/* 80378750 0036E4D0  90 01 00 34 */	stw r0, 0x34(r1)
/* 80378754 0036E4D4  39 61 00 30 */	addi r11, r1, 0x30
/* 80378758 0036E4D8  48 07 8B C9 */	bl _savegpr_27
/* 8037875C 0036E4DC  7C 7B 1B 78 */	mr r27, r3
/* 80378760 0036E4E0  80 63 00 10 */	lwz r3, 0x10(r3)
/* 80378764 0036E4E4  4B FE 1E 2D */	bl ArrayLength
/* 80378768 0036E4E8  3B 83 FF FF */	addi r28, r3, -1
/* 8037876C 0036E4EC  48 00 00 AC */	b lbl_80378818
lbl_80378770:
/* 80378770 0036E4F0  80 7B 00 10 */	lwz r3, 0x10(r27)
/* 80378774 0036E4F4  7F 84 E3 78 */	mr r4, r28
/* 80378778 0036E4F8  4B FE 1E 21 */	bl ArrayNth
/* 8037877C 0036E4FC  80 63 00 00 */	lwz r3, 0(r3)
/* 80378780 0036E500  90 61 00 08 */	stw r3, 8(r1)
/* 80378784 0036E504  80 03 00 14 */	lwz r0, 0x14(r3)
/* 80378788 0036E508  2C 00 00 00 */	cmpwi r0, 0
/* 8037878C 0036E50C  40 82 00 88 */	bne lbl_80378814
/* 80378790 0036E510  80 03 00 24 */	lwz r0, 0x24(r3)
/* 80378794 0036E514  2C 00 00 00 */	cmpwi r0, 0
/* 80378798 0036E518  40 82 00 7C */	bne lbl_80378814
/* 8037879C 0036E51C  80 03 00 0C */	lwz r0, 0xc(r3)
/* 803787A0 0036E520  2C 00 00 07 */	cmpwi r0, 7
/* 803787A4 0036E524  40 82 00 60 */	bne lbl_80378804
/* 803787A8 0036E528  80 63 00 08 */	lwz r3, 8(r3)
/* 803787AC 0036E52C  80 63 00 10 */	lwz r3, 0x10(r3)
/* 803787B0 0036E530  4B FE 1D E1 */	bl ArrayLength
/* 803787B4 0036E534  7C 7F 1B 78 */	mr r31, r3
/* 803787B8 0036E538  3B C0 00 00 */	li r30, 0
/* 803787BC 0036E53C  48 00 00 3C */	b lbl_803787F8
lbl_803787C0:
/* 803787C0 0036E540  83 A1 00 08 */	lwz r29, 8(r1)
/* 803787C4 0036E544  7F C4 F3 78 */	mr r4, r30
/* 803787C8 0036E548  80 7D 00 08 */	lwz r3, 8(r29)
/* 803787CC 0036E54C  80 63 00 10 */	lwz r3, 0x10(r3)
/* 803787D0 0036E550  4B FE 1D C9 */	bl ArrayNth
/* 803787D4 0036E554  80 03 00 00 */	lwz r0, 0(r3)
/* 803787D8 0036E558  7C 1D 00 40 */	cmplw r29, r0
/* 803787DC 0036E55C  40 82 00 18 */	bne lbl_803787F4
/* 803787E0 0036E560  80 7D 00 08 */	lwz r3, 8(r29)
/* 803787E4 0036E564  7F C4 F3 78 */	mr r4, r30
/* 803787E8 0036E568  80 63 00 10 */	lwz r3, 0x10(r3)
/* 803787EC 0036E56C  4B FE 21 2D */	bl ArrayDeleteAt
/* 803787F0 0036E570  48 00 00 24 */	b lbl_80378814
lbl_803787F4:
/* 803787F4 0036E574  3B DE 00 01 */	addi r30, r30, 1
lbl_803787F8:
/* 803787F8 0036E578  7C 1E F8 00 */	cmpw r30, r31
/* 803787FC 0036E57C  41 80 FF C4 */	blt lbl_803787C0
/* 80378800 0036E580  48 00 00 14 */	b lbl_80378814
lbl_80378804:
/* 80378804 0036E584  80 63 00 08 */	lwz r3, 8(r3)
/* 80378808 0036E588  38 81 00 08 */	addi r4, r1, 8
/* 8037880C 0036E58C  80 63 00 0C */	lwz r3, 0xc(r3)
/* 80378810 0036E590  4B FE 29 11 */	bl TableRemove
lbl_80378814:
/* 80378814 0036E594  3B 9C FF FF */	addi r28, r28, -1
lbl_80378818:
/* 80378818 0036E598  2C 1C 00 00 */	cmpwi r28, 0
/* 8037881C 0036E59C  40 80 FF 54 */	bge lbl_80378770
/* 80378820 0036E5A0  39 61 00 30 */	addi r11, r1, 0x30
/* 80378824 0036E5A4  48 07 8B 49 */	bl _restgpr_27
/* 80378828 0036E5A8  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8037882C 0036E5AC  7C 08 03 A6 */	mtlr r0
/* 80378830 0036E5B0  38 21 00 30 */	addi r1, r1, 0x30
/* 80378834 0036E5B4  4E 80 00 20 */	blr 

.global gti2SocketError
gti2SocketError:
/* 80378838 0036E5B8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8037883C 0036E5BC  7C 08 02 A6 */	mflr r0
/* 80378840 0036E5C0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80378844 0036E5C4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80378848 0036E5C8  93 C1 00 08 */	stw r30, 8(r1)
/* 8037884C 0036E5CC  7C 7E 1B 78 */	mr r30, r3
/* 80378850 0036E5D0  80 03 00 18 */	lwz r0, 0x18(r3)
/* 80378854 0036E5D4  2C 00 00 00 */	cmpwi r0, 0
/* 80378858 0036E5D8  40 82 00 58 */	bne lbl_803788B0
/* 8037885C 0036E5DC  3B E0 00 01 */	li r31, 1
/* 80378860 0036E5E0  93 E3 00 18 */	stw r31, 0x18(r3)
/* 80378864 0036E5E4  4B FF C3 71 */	bl gt2CloseAllConnectionsHard
/* 80378868 0036E5E8  7F C3 F3 78 */	mr r3, r30
/* 8037886C 0036E5EC  4B FF B0 B9 */	bl gti2SocketErrorCallback
/* 80378870 0036E5F0  2C 03 00 00 */	cmpwi r3, 0
/* 80378874 0036E5F4  41 82 00 3C */	beq lbl_803788B0
/* 80378878 0036E5F8  80 1E 00 1C */	lwz r0, 0x1c(r30)
/* 8037887C 0036E5FC  2C 00 00 00 */	cmpwi r0, 0
/* 80378880 0036E600  41 82 00 0C */	beq lbl_8037888C
/* 80378884 0036E604  93 FE 00 14 */	stw r31, 0x14(r30)
/* 80378888 0036E608  48 00 00 28 */	b lbl_803788B0
lbl_8037888C:
/* 8037888C 0036E60C  80 7E 00 00 */	lwz r3, 0(r30)
/* 80378890 0036E610  4B FE 3A 15 */	bl closesocket
/* 80378894 0036E614  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 80378898 0036E618  4B FE 26 DD */	bl TableFree
/* 8037889C 0036E61C  80 7E 00 10 */	lwz r3, 0x10(r30)
/* 803788A0 0036E620  4B FE 1C 5D */	bl ArrayFree
/* 803788A4 0036E624  7F C3 F3 78 */	mr r3, r30
/* 803788A8 0036E628  4B FE 57 65 */	bl gsifree
/* 803788AC 0036E62C  4B FE 4E 79 */	bl SocketShutDown
lbl_803788B0:
/* 803788B0 0036E630  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803788B4 0036E634  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803788B8 0036E638  83 C1 00 08 */	lwz r30, 8(r1)
/* 803788BC 0036E63C  7C 08 03 A6 */	mtlr r0
/* 803788C0 0036E640  38 21 00 10 */	addi r1, r1, 0x10
/* 803788C4 0036E644  4E 80 00 20 */	blr 

