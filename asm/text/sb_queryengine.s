.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global FIFORemove
FIFORemove:
/* 80387A3C 0037D7BC  80 A3 00 00 */	lwz r5, 0(r3)
/* 80387A40 0037D7C0  38 C0 00 00 */	li r6, 0
/* 80387A44 0037D7C4  48 00 00 5C */	b lbl_80387AA0
lbl_80387A48:
/* 80387A48 0037D7C8  7C 05 20 40 */	cmplw r5, r4
/* 80387A4C 0037D7CC  40 82 00 4C */	bne lbl_80387A98
/* 80387A50 0037D7D0  2C 06 00 00 */	cmpwi r6, 0
/* 80387A54 0037D7D4  41 82 00 0C */	beq lbl_80387A60
/* 80387A58 0037D7D8  80 05 00 24 */	lwz r0, 0x24(r5)
/* 80387A5C 0037D7DC  90 06 00 24 */	stw r0, 0x24(r6)
lbl_80387A60:
/* 80387A60 0037D7E0  80 03 00 00 */	lwz r0, 0(r3)
/* 80387A64 0037D7E4  7C 00 28 40 */	cmplw r0, r5
/* 80387A68 0037D7E8  40 82 00 0C */	bne lbl_80387A74
/* 80387A6C 0037D7EC  80 05 00 24 */	lwz r0, 0x24(r5)
/* 80387A70 0037D7F0  90 03 00 00 */	stw r0, 0(r3)
lbl_80387A74:
/* 80387A74 0037D7F4  80 03 00 04 */	lwz r0, 4(r3)
/* 80387A78 0037D7F8  7C 00 28 40 */	cmplw r0, r5
/* 80387A7C 0037D7FC  40 82 00 08 */	bne lbl_80387A84
/* 80387A80 0037D800  90 C3 00 04 */	stw r6, 4(r3)
lbl_80387A84:
/* 80387A84 0037D804  80 83 00 08 */	lwz r4, 8(r3)
/* 80387A88 0037D808  38 04 FF FF */	addi r0, r4, -1
/* 80387A8C 0037D80C  90 03 00 08 */	stw r0, 8(r3)
/* 80387A90 0037D810  38 60 00 01 */	li r3, 1
/* 80387A94 0037D814  4E 80 00 20 */	blr 
lbl_80387A98:
/* 80387A98 0037D818  7C A6 2B 78 */	mr r6, r5
/* 80387A9C 0037D81C  80 A5 00 24 */	lwz r5, 0x24(r5)
lbl_80387AA0:
/* 80387AA0 0037D820  2C 05 00 00 */	cmpwi r5, 0
/* 80387AA4 0037D824  40 82 FF A4 */	bne lbl_80387A48
/* 80387AA8 0037D828  38 60 00 00 */	li r3, 0
/* 80387AAC 0037D82C  4E 80 00 20 */	blr 

.global QEStartQuery
QEStartQuery:
/* 80387AB0 0037D830  94 21 FE D0 */	stwu r1, -0x130(r1)
/* 80387AB4 0037D834  7C 08 02 A6 */	mflr r0
/* 80387AB8 0037D838  90 01 01 34 */	stw r0, 0x134(r1)
/* 80387ABC 0037D83C  38 00 00 02 */	li r0, 2
/* 80387AC0 0037D840  93 E1 01 2C */	stw r31, 0x12c(r1)
/* 80387AC4 0037D844  7C 9F 23 78 */	mr r31, r4
/* 80387AC8 0037D848  93 C1 01 28 */	stw r30, 0x128(r1)
/* 80387ACC 0037D84C  7C 7E 1B 78 */	mr r30, r3
/* 80387AD0 0037D850  93 A1 01 24 */	stw r29, 0x124(r1)
/* 80387AD4 0037D854  3B A0 00 00 */	li r29, 0
/* 80387AD8 0037D858  98 01 00 11 */	stb r0, 0x11(r1)
/* 80387ADC 0037D85C  4B FD 5C 4D */	bl current_time
/* 80387AE0 0037D860  88 9F 00 14 */	lbz r4, 0x14(r31)
/* 80387AE4 0037D864  90 7F 00 1C */	stw r3, 0x1c(r31)
/* 80387AE8 0037D868  54 80 06 B5 */	rlwinm. r0, r4, 0, 0x1a, 0x1a
/* 80387AEC 0037D86C  40 82 01 DC */	bne lbl_80387CC8
/* 80387AF0 0037D870  80 1E 00 00 */	lwz r0, 0(r30)
/* 80387AF4 0037D874  2C 00 00 01 */	cmpwi r0, 1
/* 80387AF8 0037D878  40 82 01 3C */	bne lbl_80387C34
/* 80387AFC 0037D87C  54 80 06 31 */	rlwinm. r0, r4, 0, 0x18, 0x18
/* 80387B00 0037D880  41 82 00 38 */	beq lbl_80387B38
/* 80387B04 0037D884  38 80 00 FE */	li r4, 0xfe
/* 80387B08 0037D888  38 C0 00 FD */	li r6, 0xfd
/* 80387B0C 0037D88C  38 00 00 09 */	li r0, 9
/* 80387B10 0037D890  38 61 00 18 */	addi r3, r1, 0x18
/* 80387B14 0037D894  98 81 00 18 */	stb r4, 0x18(r1)
/* 80387B18 0037D898  38 9F 00 1C */	addi r4, r31, 0x1c
/* 80387B1C 0037D89C  38 A0 00 04 */	li r5, 4
/* 80387B20 0037D8A0  38 63 00 03 */	addi r3, r3, 3
/* 80387B24 0037D8A4  98 C1 00 19 */	stb r6, 0x19(r1)
/* 80387B28 0037D8A8  98 01 00 1A */	stb r0, 0x1a(r1)
/* 80387B2C 0037D8AC  4B C7 C8 0D */	bl func_80004338
/* 80387B30 0037D8B0  38 A0 00 07 */	li r5, 7
/* 80387B34 0037D8B4  48 00 01 3C */	b lbl_80387C70
lbl_80387B38:
/* 80387B38 0037D8B8  80 7F 00 20 */	lwz r3, 0x20(r31)
/* 80387B3C 0037D8BC  48 01 FF C5 */	bl SOHtoNl
/* 80387B40 0037D8C0  38 E0 00 FE */	li r7, 0xfe
/* 80387B44 0037D8C4  38 C0 00 FD */	li r6, 0xfd
/* 80387B48 0037D8C8  38 00 00 00 */	li r0, 0
/* 80387B4C 0037D8CC  3B A1 00 18 */	addi r29, r1, 0x18
/* 80387B50 0037D8D0  90 61 00 08 */	stw r3, 8(r1)
/* 80387B54 0037D8D4  7F A3 EB 78 */	mr r3, r29
/* 80387B58 0037D8D8  38 9F 00 1C */	addi r4, r31, 0x1c
/* 80387B5C 0037D8DC  38 A0 00 04 */	li r5, 4
/* 80387B60 0037D8E0  98 E1 00 18 */	stb r7, 0x18(r1)
/* 80387B64 0037D8E4  38 63 00 03 */	addi r3, r3, 3
/* 80387B68 0037D8E8  98 C1 00 19 */	stb r6, 0x19(r1)
/* 80387B6C 0037D8EC  98 01 00 1A */	stb r0, 0x1a(r1)
/* 80387B70 0037D8F0  4B C7 C7 C9 */	bl func_80004338
/* 80387B74 0037D8F4  80 01 00 08 */	lwz r0, 8(r1)
/* 80387B78 0037D8F8  38 C0 00 07 */	li r6, 7
/* 80387B7C 0037D8FC  2C 00 00 00 */	cmpwi r0, 0
/* 80387B80 0037D900  41 82 00 1C */	beq lbl_80387B9C
/* 80387B84 0037D904  7F A3 EB 78 */	mr r3, r29
/* 80387B88 0037D908  38 81 00 08 */	addi r4, r1, 8
/* 80387B8C 0037D90C  38 A0 00 04 */	li r5, 4
/* 80387B90 0037D910  38 63 00 07 */	addi r3, r3, 7
/* 80387B94 0037D914  4B C7 C7 A5 */	bl func_80004338
/* 80387B98 0037D918  38 C0 00 0B */	li r6, 0xb
lbl_80387B9C:
/* 80387B9C 0037D91C  88 1F 00 14 */	lbz r0, 0x14(r31)
/* 80387BA0 0037D920  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 80387BA4 0037D924  41 82 00 60 */	beq lbl_80387C04
/* 80387BA8 0037D928  80 1E 00 40 */	lwz r0, 0x40(r30)
/* 80387BAC 0037D92C  38 61 00 18 */	addi r3, r1, 0x18
/* 80387BB0 0037D930  38 A0 00 00 */	li r5, 0
/* 80387BB4 0037D934  7C 03 31 AE */	stbx r0, r3, r6
/* 80387BB8 0037D938  38 C6 00 01 */	addi r6, r6, 1
/* 80387BBC 0037D93C  7C 63 32 14 */	add r3, r3, r6
/* 80387BC0 0037D940  48 00 00 1C */	b lbl_80387BDC
lbl_80387BC4:
/* 80387BC4 0037D944  7C 9E 2A 14 */	add r4, r30, r5
/* 80387BC8 0037D948  38 A5 00 01 */	addi r5, r5, 1
/* 80387BCC 0037D94C  88 04 00 2C */	lbz r0, 0x2c(r4)
/* 80387BD0 0037D950  38 C6 00 01 */	addi r6, r6, 1
/* 80387BD4 0037D954  98 03 00 00 */	stb r0, 0(r3)
/* 80387BD8 0037D958  38 63 00 01 */	addi r3, r3, 1
lbl_80387BDC:
/* 80387BDC 0037D95C  80 1E 00 40 */	lwz r0, 0x40(r30)
/* 80387BE0 0037D960  7C 05 00 00 */	cmpw r5, r0
/* 80387BE4 0037D964  41 80 FF E0 */	blt lbl_80387BC4
/* 80387BE8 0037D968  38 61 00 18 */	addi r3, r1, 0x18
/* 80387BEC 0037D96C  38 00 00 00 */	li r0, 0
/* 80387BF0 0037D970  7C 03 31 AE */	stbx r0, r3, r6
/* 80387BF4 0037D974  38 A6 00 02 */	addi r5, r6, 2
/* 80387BF8 0037D978  38 C6 00 01 */	addi r6, r6, 1
/* 80387BFC 0037D97C  7C 03 31 AE */	stbx r0, r3, r6
/* 80387C00 0037D980  48 00 00 70 */	b lbl_80387C70
lbl_80387C04:
/* 80387C04 0037D984  38 61 00 18 */	addi r3, r1, 0x18
/* 80387C08 0037D988  38 80 00 FF */	li r4, 0xff
/* 80387C0C 0037D98C  7C 83 31 AE */	stbx r4, r3, r6
/* 80387C10 0037D990  38 C6 00 01 */	addi r6, r6, 1
/* 80387C14 0037D994  38 00 00 01 */	li r0, 1
/* 80387C18 0037D998  7C 83 31 AE */	stbx r4, r3, r6
/* 80387C1C 0037D99C  38 C6 00 01 */	addi r6, r6, 1
/* 80387C20 0037D9A0  38 A6 00 02 */	addi r5, r6, 2
/* 80387C24 0037D9A4  7C 83 31 AE */	stbx r4, r3, r6
/* 80387C28 0037D9A8  38 C6 00 01 */	addi r6, r6, 1
/* 80387C2C 0037D9AC  7C 03 31 AE */	stbx r0, r3, r6
/* 80387C30 0037D9B0  48 00 00 40 */	b lbl_80387C70
lbl_80387C34:
/* 80387C34 0037D9B4  54 80 07 7B */	rlwinm. r0, r4, 0, 0x1d, 0x1d
/* 80387C38 0037D9B8  41 82 00 20 */	beq lbl_80387C58
/* 80387C3C 0037D9BC  3C 80 80 49 */	lis r4, lbl_80490D18@ha
/* 80387C40 0037D9C0  38 61 00 18 */	addi r3, r1, 0x18
/* 80387C44 0037D9C4  38 84 0D 18 */	addi r4, r4, lbl_80490D18@l
/* 80387C48 0037D9C8  38 A0 00 0D */	li r5, 0xd
/* 80387C4C 0037D9CC  4B C7 C6 ED */	bl func_80004338
/* 80387C50 0037D9D0  38 A0 00 0D */	li r5, 0xd
/* 80387C54 0037D9D4  48 00 00 1C */	b lbl_80387C70
lbl_80387C58:
/* 80387C58 0037D9D8  3C 80 80 49 */	lis r4, lbl_80490D28@ha
/* 80387C5C 0037D9DC  38 61 00 18 */	addi r3, r1, 0x18
/* 80387C60 0037D9E0  38 84 0D 28 */	addi r4, r4, lbl_80490D28@l
/* 80387C64 0037D9E4  38 A0 00 08 */	li r5, 8
/* 80387C68 0037D9E8  4B C7 C6 D1 */	bl func_80004338
/* 80387C6C 0037D9EC  38 A0 00 08 */	li r5, 8
lbl_80387C70:
/* 80387C70 0037D9F0  80 7F 00 00 */	lwz r3, 0(r31)
/* 80387C74 0037D9F4  80 1E 00 28 */	lwz r0, 0x28(r30)
/* 80387C78 0037D9F8  7C 03 00 40 */	cmplw r3, r0
/* 80387C7C 0037D9FC  40 82 00 24 */	bne lbl_80387CA0
/* 80387C80 0037DA00  88 1F 00 15 */	lbz r0, 0x15(r31)
/* 80387C84 0037DA04  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 80387C88 0037DA08  41 82 00 18 */	beq lbl_80387CA0
/* 80387C8C 0037DA0C  80 1F 00 08 */	lwz r0, 8(r31)
/* 80387C90 0037DA10  90 01 00 14 */	stw r0, 0x14(r1)
/* 80387C94 0037DA14  A0 1F 00 0C */	lhz r0, 0xc(r31)
/* 80387C98 0037DA18  B0 01 00 12 */	sth r0, 0x12(r1)
/* 80387C9C 0037DA1C  48 00 00 10 */	b lbl_80387CAC
lbl_80387CA0:
/* 80387CA0 0037DA20  90 61 00 14 */	stw r3, 0x14(r1)
/* 80387CA4 0037DA24  A0 1F 00 04 */	lhz r0, 4(r31)
/* 80387CA8 0037DA28  B0 01 00 12 */	sth r0, 0x12(r1)
lbl_80387CAC:
/* 80387CAC 0037DA2C  80 7E 00 20 */	lwz r3, 0x20(r30)
/* 80387CB0 0037DA30  38 81 00 18 */	addi r4, r1, 0x18
/* 80387CB4 0037DA34  38 E1 00 10 */	addi r7, r1, 0x10
/* 80387CB8 0037DA38  38 C0 00 00 */	li r6, 0
/* 80387CBC 0037DA3C  39 00 00 08 */	li r8, 8
/* 80387CC0 0037DA40  4B FD 48 85 */	bl sendto
/* 80387CC4 0037DA44  3B A0 00 01 */	li r29, 1
lbl_80387CC8:
/* 80387CC8 0037DA48  2C 1D 00 00 */	cmpwi r29, 0
/* 80387CCC 0037DA4C  41 82 00 40 */	beq lbl_80387D0C
/* 80387CD0 0037DA50  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 80387CD4 0037DA54  2C 03 00 00 */	cmpwi r3, 0
/* 80387CD8 0037DA58  41 82 00 08 */	beq lbl_80387CE0
/* 80387CDC 0037DA5C  93 E3 00 24 */	stw r31, 0x24(r3)
lbl_80387CE0:
/* 80387CE0 0037DA60  93 FE 00 0C */	stw r31, 0xc(r30)
/* 80387CE4 0037DA64  38 00 00 00 */	li r0, 0
/* 80387CE8 0037DA68  90 1F 00 24 */	stw r0, 0x24(r31)
/* 80387CEC 0037DA6C  80 1E 00 08 */	lwz r0, 8(r30)
/* 80387CF0 0037DA70  2C 00 00 00 */	cmpwi r0, 0
/* 80387CF4 0037DA74  40 82 00 08 */	bne lbl_80387CFC
/* 80387CF8 0037DA78  93 FE 00 08 */	stw r31, 8(r30)
lbl_80387CFC:
/* 80387CFC 0037DA7C  80 7E 00 10 */	lwz r3, 0x10(r30)
/* 80387D00 0037DA80  38 03 00 01 */	addi r0, r3, 1
/* 80387D04 0037DA84  90 1E 00 10 */	stw r0, 0x10(r30)
/* 80387D08 0037DA88  48 00 00 0C */	b lbl_80387D14
lbl_80387D0C:
/* 80387D0C 0037DA8C  38 00 00 00 */	li r0, 0
/* 80387D10 0037DA90  90 1F 00 1C */	stw r0, 0x1c(r31)
lbl_80387D14:
/* 80387D14 0037DA94  80 01 01 34 */	lwz r0, 0x134(r1)
/* 80387D18 0037DA98  83 E1 01 2C */	lwz r31, 0x12c(r1)
/* 80387D1C 0037DA9C  83 C1 01 28 */	lwz r30, 0x128(r1)
/* 80387D20 0037DAA0  83 A1 01 24 */	lwz r29, 0x124(r1)
/* 80387D24 0037DAA4  7C 08 03 A6 */	mtlr r0
/* 80387D28 0037DAA8  38 21 01 30 */	addi r1, r1, 0x130
/* 80387D2C 0037DAAC  4E 80 00 20 */	blr 

.global SBQueryEngineInit
SBQueryEngineInit:
/* 80387D30 0037DAB0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80387D34 0037DAB4  7C 08 02 A6 */	mflr r0
/* 80387D38 0037DAB8  90 01 00 24 */	stw r0, 0x24(r1)
/* 80387D3C 0037DABC  39 61 00 20 */	addi r11, r1, 0x20
/* 80387D40 0037DAC0  48 06 95 DD */	bl _savegpr_26
/* 80387D44 0037DAC4  2C 06 00 00 */	cmpwi r6, 0
/* 80387D48 0037DAC8  7C 7A 1B 78 */	mr r26, r3
/* 80387D4C 0037DACC  7C 9B 23 78 */	mr r27, r4
/* 80387D50 0037DAD0  7C BC 2B 78 */	mr r28, r5
/* 80387D54 0037DAD4  7C FD 3B 78 */	mr r29, r7
/* 80387D58 0037DAD8  7D 1E 43 78 */	mr r30, r8
/* 80387D5C 0037DADC  40 82 00 10 */	bne lbl_80387D6C
/* 80387D60 0037DAE0  80 0D CC 28 */	lwz r0, lbl_805A1048-_SDA_BASE_(r13)
/* 80387D64 0037DAE4  2C 00 00 01 */	cmpwi r0, 1
/* 80387D68 0037DAE8  40 82 00 50 */	bne lbl_80387DB8
lbl_80387D6C:
/* 80387D6C 0037DAEC  4B FD 59 B5 */	bl SocketStartUp
/* 80387D70 0037DAF0  3B E0 00 00 */	li r31, 0
/* 80387D74 0037DAF4  93 9A 00 00 */	stw r28, 0(r26)
/* 80387D78 0037DAF8  38 60 00 02 */	li r3, 2
/* 80387D7C 0037DAFC  38 80 00 02 */	li r4, 2
/* 80387D80 0037DB00  93 7A 00 04 */	stw r27, 4(r26)
/* 80387D84 0037DB04  38 A0 00 11 */	li r5, 0x11
/* 80387D88 0037DB08  93 FA 00 40 */	stw r31, 0x40(r26)
/* 80387D8C 0037DB0C  93 BA 00 44 */	stw r29, 0x44(r26)
/* 80387D90 0037DB10  93 DA 00 48 */	stw r30, 0x48(r26)
/* 80387D94 0037DB14  93 FA 00 28 */	stw r31, 0x28(r26)
/* 80387D98 0037DB18  4B FD 44 D5 */	bl socket
/* 80387D9C 0037DB1C  90 7A 00 20 */	stw r3, 0x20(r26)
/* 80387DA0 0037DB20  93 FA 00 18 */	stw r31, 0x18(r26)
/* 80387DA4 0037DB24  93 FA 00 14 */	stw r31, 0x14(r26)
/* 80387DA8 0037DB28  93 FA 00 1C */	stw r31, 0x1c(r26)
/* 80387DAC 0037DB2C  93 FA 00 0C */	stw r31, 0xc(r26)
/* 80387DB0 0037DB30  93 FA 00 08 */	stw r31, 8(r26)
/* 80387DB4 0037DB34  93 FA 00 10 */	stw r31, 0x10(r26)
lbl_80387DB8:
/* 80387DB8 0037DB38  39 61 00 20 */	addi r11, r1, 0x20
/* 80387DBC 0037DB3C  48 06 95 AD */	bl _restgpr_26
/* 80387DC0 0037DB40  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80387DC4 0037DB44  7C 08 03 A6 */	mtlr r0
/* 80387DC8 0037DB48  38 21 00 20 */	addi r1, r1, 0x20
/* 80387DCC 0037DB4C  4E 80 00 20 */	blr 

.global SBQueryEngineSetPublicIP
SBQueryEngineSetPublicIP:
/* 80387DD0 0037DB50  90 83 00 28 */	stw r4, 0x28(r3)
/* 80387DD4 0037DB54  4E 80 00 20 */	blr 

.global SBEngineHaltUpdates
SBEngineHaltUpdates:
/* 80387DD8 0037DB58  38 00 00 00 */	li r0, 0
/* 80387DDC 0037DB5C  90 03 00 18 */	stw r0, 0x18(r3)
/* 80387DE0 0037DB60  90 03 00 14 */	stw r0, 0x14(r3)
/* 80387DE4 0037DB64  90 03 00 1C */	stw r0, 0x1c(r3)
/* 80387DE8 0037DB68  90 03 00 0C */	stw r0, 0xc(r3)
/* 80387DEC 0037DB6C  90 03 00 08 */	stw r0, 8(r3)
/* 80387DF0 0037DB70  90 03 00 10 */	stw r0, 0x10(r3)
/* 80387DF4 0037DB74  4E 80 00 20 */	blr 

.global SBEngineCleanup
SBEngineCleanup:
/* 80387DF8 0037DB78  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80387DFC 0037DB7C  7C 08 02 A6 */	mflr r0
/* 80387E00 0037DB80  90 01 00 14 */	stw r0, 0x14(r1)
/* 80387E04 0037DB84  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80387E08 0037DB88  7C 7F 1B 78 */	mr r31, r3
/* 80387E0C 0037DB8C  80 63 00 20 */	lwz r3, 0x20(r3)
/* 80387E10 0037DB90  4B FD 44 95 */	bl closesocket
/* 80387E14 0037DB94  38 00 00 00 */	li r0, 0
/* 80387E18 0037DB98  38 60 FF FF */	li r3, -1
/* 80387E1C 0037DB9C  90 7F 00 20 */	stw r3, 0x20(r31)
/* 80387E20 0037DBA0  90 1F 00 18 */	stw r0, 0x18(r31)
/* 80387E24 0037DBA4  90 1F 00 14 */	stw r0, 0x14(r31)
/* 80387E28 0037DBA8  90 1F 00 1C */	stw r0, 0x1c(r31)
/* 80387E2C 0037DBAC  90 1F 00 0C */	stw r0, 0xc(r31)
/* 80387E30 0037DBB0  90 1F 00 08 */	stw r0, 8(r31)
/* 80387E34 0037DBB4  90 1F 00 10 */	stw r0, 0x10(r31)
/* 80387E38 0037DBB8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80387E3C 0037DBBC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80387E40 0037DBC0  7C 08 03 A6 */	mtlr r0
/* 80387E44 0037DBC4  38 21 00 10 */	addi r1, r1, 0x10
/* 80387E48 0037DBC8  4E 80 00 20 */	blr 

.global SBQueryEngineUpdateServer
SBQueryEngineUpdateServer:
/* 80387E4C 0037DBCC  89 04 00 14 */	lbz r8, 0x14(r4)
/* 80387E50 0037DBD0  38 00 00 00 */	li r0, 0
/* 80387E54 0037DBD4  2C 86 00 02 */	cmpwi cr1, r6, 2
/* 80387E58 0037DBD8  98 04 00 28 */	stb r0, 0x28(r4)
/* 80387E5C 0037DBDC  71 08 00 43 */	andi. r8, r8, 0x43
/* 80387E60 0037DBE0  90 04 00 20 */	stw r0, 0x20(r4)
/* 80387E64 0037DBE4  99 04 00 14 */	stb r8, 0x14(r4)
/* 80387E68 0037DBE8  4D 86 00 20 */	beqlr cr1
/* 80387E6C 0037DBEC  2C 06 00 00 */	cmpwi r6, 0
/* 80387E70 0037DBF0  40 82 00 10 */	bne lbl_80387E80
/* 80387E74 0037DBF4  61 00 00 04 */	ori r0, r8, 4
/* 80387E78 0037DBF8  98 04 00 14 */	stb r0, 0x14(r4)
/* 80387E7C 0037DBFC  48 00 00 2C */	b lbl_80387EA8
lbl_80387E80:
/* 80387E80 0037DC00  2C 06 00 01 */	cmpwi r6, 1
/* 80387E84 0037DC04  40 82 00 10 */	bne lbl_80387E94
/* 80387E88 0037DC08  61 00 00 08 */	ori r0, r8, 8
/* 80387E8C 0037DC0C  98 04 00 14 */	stb r0, 0x14(r4)
/* 80387E90 0037DC10  48 00 00 18 */	b lbl_80387EA8
lbl_80387E94:
/* 80387E94 0037DC14  4C 86 00 20 */	bnelr cr1
/* 80387E98 0037DC18  61 00 00 20 */	ori r0, r8, 0x20
/* 80387E9C 0037DC1C  98 04 00 14 */	stb r0, 0x14(r4)
/* 80387EA0 0037DC20  48 00 00 08 */	b lbl_80387EA8
/* 80387EA4 0037DC24  4E 80 00 20 */	blr 
lbl_80387EA8:
/* 80387EA8 0037DC28  2C 07 00 00 */	cmpwi r7, 0
/* 80387EAC 0037DC2C  41 82 00 18 */	beq lbl_80387EC4
/* 80387EB0 0037DC30  28 06 00 01 */	cmplwi r6, 1
/* 80387EB4 0037DC34  41 81 00 10 */	bgt lbl_80387EC4
/* 80387EB8 0037DC38  88 04 00 14 */	lbz r0, 0x14(r4)
/* 80387EBC 0037DC3C  60 00 00 80 */	ori r0, r0, 0x80
/* 80387EC0 0037DC40  98 04 00 14 */	stb r0, 0x14(r4)
lbl_80387EC4:
/* 80387EC4 0037DC44  80 C3 00 10 */	lwz r6, 0x10(r3)
/* 80387EC8 0037DC48  80 03 00 04 */	lwz r0, 4(r3)
/* 80387ECC 0037DC4C  7C 06 00 00 */	cmpw r6, r0
/* 80387ED0 0037DC50  40 80 00 08 */	bge lbl_80387ED8
/* 80387ED4 0037DC54  4B FF FB DC */	b QEStartQuery
lbl_80387ED8:
/* 80387ED8 0037DC58  2C 05 00 00 */	cmpwi r5, 0
/* 80387EDC 0037DC5C  41 82 00 30 */	beq lbl_80387F0C
/* 80387EE0 0037DC60  80 03 00 14 */	lwz r0, 0x14(r3)
/* 80387EE4 0037DC64  90 04 00 24 */	stw r0, 0x24(r4)
/* 80387EE8 0037DC68  80 03 00 18 */	lwz r0, 0x18(r3)
/* 80387EEC 0037DC6C  90 83 00 14 */	stw r4, 0x14(r3)
/* 80387EF0 0037DC70  2C 00 00 00 */	cmpwi r0, 0
/* 80387EF4 0037DC74  40 82 00 08 */	bne lbl_80387EFC
/* 80387EF8 0037DC78  90 83 00 18 */	stw r4, 0x18(r3)
lbl_80387EFC:
/* 80387EFC 0037DC7C  80 83 00 1C */	lwz r4, 0x1c(r3)
/* 80387F00 0037DC80  38 04 00 01 */	addi r0, r4, 1
/* 80387F04 0037DC84  90 03 00 1C */	stw r0, 0x1c(r3)
/* 80387F08 0037DC88  4E 80 00 20 */	blr 
lbl_80387F0C:
/* 80387F0C 0037DC8C  80 A3 00 18 */	lwz r5, 0x18(r3)
/* 80387F10 0037DC90  2C 05 00 00 */	cmpwi r5, 0
/* 80387F14 0037DC94  41 82 00 08 */	beq lbl_80387F1C
/* 80387F18 0037DC98  90 85 00 24 */	stw r4, 0x24(r5)
lbl_80387F1C:
/* 80387F1C 0037DC9C  90 83 00 18 */	stw r4, 0x18(r3)
/* 80387F20 0037DCA0  38 00 00 00 */	li r0, 0
/* 80387F24 0037DCA4  90 04 00 24 */	stw r0, 0x24(r4)
/* 80387F28 0037DCA8  80 03 00 14 */	lwz r0, 0x14(r3)
/* 80387F2C 0037DCAC  2C 00 00 00 */	cmpwi r0, 0
/* 80387F30 0037DCB0  40 82 00 08 */	bne lbl_80387F38
/* 80387F34 0037DCB4  90 83 00 14 */	stw r4, 0x14(r3)
lbl_80387F38:
/* 80387F38 0037DCB8  80 83 00 1C */	lwz r4, 0x1c(r3)
/* 80387F3C 0037DCBC  38 04 00 01 */	addi r0, r4, 1
/* 80387F40 0037DCC0  90 03 00 1C */	stw r0, 0x1c(r3)
/* 80387F44 0037DCC4  4E 80 00 20 */	blr 

.global ParseSingleQR2Reply
ParseSingleQR2Reply:
/* 80387F48 0037DCC8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80387F4C 0037DCCC  7C 08 02 A6 */	mflr r0
/* 80387F50 0037DCD0  90 01 00 34 */	stw r0, 0x34(r1)
/* 80387F54 0037DCD4  39 61 00 30 */	addi r11, r1, 0x30
/* 80387F58 0037DCD8  48 06 93 C1 */	bl _savegpr_25
/* 80387F5C 0037DCDC  88 05 00 00 */	lbz r0, 0(r5)
/* 80387F60 0037DCE0  7C 7E 1B 78 */	mr r30, r3
/* 80387F64 0037DCE4  7C 9F 23 78 */	mr r31, r4
/* 80387F68 0037DCE8  7C 00 07 75 */	extsb. r0, r0
/* 80387F6C 0037DCEC  41 82 00 0C */	beq lbl_80387F78
/* 80387F70 0037DCF0  2C 00 00 09 */	cmpwi r0, 9
/* 80387F74 0037DCF4  40 82 01 94 */	bne lbl_80388108
lbl_80387F78:
/* 80387F78 0037DCF8  88 64 00 14 */	lbz r3, 0x14(r4)
/* 80387F7C 0037DCFC  3B 25 00 05 */	addi r25, r5, 5
/* 80387F80 0037DD00  3B 46 FF FB */	addi r26, r6, -5
/* 80387F84 0037DD04  54 60 06 31 */	rlwinm. r0, r3, 0, 0x18, 0x18
/* 80387F88 0037DD08  41 82 00 58 */	beq lbl_80387FE0
/* 80387F8C 0037DD0C  54 60 06 7E */	clrlwi r0, r3, 0x19
/* 80387F90 0037DD10  2C 1A 00 00 */	cmpwi r26, 0
/* 80387F94 0037DD14  98 04 00 14 */	stb r0, 0x14(r4)
/* 80387F98 0037DD18  40 81 01 2C */	ble lbl_803880C4
/* 80387F9C 0037DD1C  7F 23 CB 78 */	mr r3, r25
/* 80387FA0 0037DD20  48 07 47 65 */	bl atoi
/* 80387FA4 0037DD24  90 7F 00 20 */	stw r3, 0x20(r31)
/* 80387FA8 0037DD28  7F E4 FB 78 */	mr r4, r31
/* 80387FAC 0037DD2C  38 7E 00 08 */	addi r3, r30, 8
/* 80387FB0 0037DD30  4B FF FA 8D */	bl FIFORemove
/* 80387FB4 0037DD34  7F C3 F3 78 */	mr r3, r30
/* 80387FB8 0037DD38  7F E4 FB 78 */	mr r4, r31
/* 80387FBC 0037DD3C  4B FF FA F5 */	bl QEStartQuery
/* 80387FC0 0037DD40  81 9E 00 44 */	lwz r12, 0x44(r30)
/* 80387FC4 0037DD44  7F C3 F3 78 */	mr r3, r30
/* 80387FC8 0037DD48  7F E5 FB 78 */	mr r5, r31
/* 80387FCC 0037DD4C  80 DE 00 48 */	lwz r6, 0x48(r30)
/* 80387FD0 0037DD50  38 80 00 03 */	li r4, 3
/* 80387FD4 0037DD54  7D 89 03 A6 */	mtctr r12
/* 80387FD8 0037DD58  4E 80 04 21 */	bctrl 
/* 80387FDC 0037DD5C  48 00 01 2C */	b lbl_80388108
lbl_80387FE0:
/* 80387FE0 0037DD60  54 60 07 7B */	rlwinm. r0, r3, 0, 0x1d, 0x1d
/* 80387FE4 0037DD64  41 82 00 70 */	beq lbl_80388054
/* 80387FE8 0037DD68  3F A0 80 49 */	lis r29, lbl_804901F0@ha
/* 80387FEC 0037DD6C  3B 60 00 00 */	li r27, 0
/* 80387FF0 0037DD70  3B BD 01 F0 */	addi r29, r29, lbl_804901F0@l
/* 80387FF4 0037DD74  48 00 00 44 */	b lbl_80388038
lbl_80387FF8:
/* 80387FF8 0037DD78  7F 23 CB 78 */	mr r3, r25
/* 80387FFC 0037DD7C  7F 44 D3 78 */	mr r4, r26
/* 80388000 0037DD80  48 00 22 99 */	bl NTSLengthSB
/* 80388004 0037DD84  2C 03 00 00 */	cmpwi r3, 0
/* 80388008 0037DD88  7C 7C 1B 78 */	mr r28, r3
/* 8038800C 0037DD8C  41 80 00 38 */	blt lbl_80388044
/* 80388010 0037DD90  7C 9E DA 14 */	add r4, r30, r27
/* 80388014 0037DD94  7F E3 FB 78 */	mr r3, r31
/* 80388018 0037DD98  88 04 00 2C */	lbz r0, 0x2c(r4)
/* 8038801C 0037DD9C  7F 25 CB 78 */	mr r5, r25
/* 80388020 0037DDA0  54 00 10 3A */	slwi r0, r0, 2
/* 80388024 0037DDA4  7C 9D 00 2E */	lwzx r4, r29, r0
/* 80388028 0037DDA8  48 00 06 45 */	bl SBServerAddKeyValue
/* 8038802C 0037DDAC  7F 39 E2 14 */	add r25, r25, r28
/* 80388030 0037DDB0  7F 5C D0 50 */	subf r26, r28, r26
/* 80388034 0037DDB4  3B 7B 00 01 */	addi r27, r27, 1
lbl_80388038:
/* 80388038 0037DDB8  80 1E 00 40 */	lwz r0, 0x40(r30)
/* 8038803C 0037DDBC  7C 1B 00 00 */	cmpw r27, r0
/* 80388040 0037DDC0  41 80 FF B8 */	blt lbl_80387FF8
lbl_80388044:
/* 80388044 0037DDC4  88 1F 00 14 */	lbz r0, 0x14(r31)
/* 80388048 0037DDC8  60 00 00 41 */	ori r0, r0, 0x41
/* 8038804C 0037DDCC  98 1F 00 14 */	stb r0, 0x14(r31)
/* 80388050 0037DDD0  48 00 00 74 */	b lbl_803880C4
lbl_80388054:
/* 80388054 0037DDD4  88 19 00 00 */	lbz r0, 0(r25)
/* 80388058 0037DDD8  7C 00 07 75 */	extsb. r0, r0
/* 8038805C 0037DDDC  41 82 00 4C */	beq lbl_803880A8
/* 80388060 0037DDE0  3C 60 80 49 */	lis r3, lbl_80490D34@ha
/* 80388064 0037DDE4  7F 24 CB 78 */	mr r4, r25
/* 80388068 0037DDE8  38 63 0D 34 */	addi r3, r3, lbl_80490D34@l
/* 8038806C 0037DDEC  38 A0 00 08 */	li r5, 8
/* 80388070 0037DDF0  48 07 24 A9 */	bl strncmp
/* 80388074 0037DDF4  2C 03 00 00 */	cmpwi r3, 0
/* 80388078 0037DDF8  40 82 00 30 */	bne lbl_803880A8
/* 8038807C 0037DDFC  7F E3 FB 78 */	mr r3, r31
/* 80388080 0037DE00  7F 24 CB 78 */	mr r4, r25
/* 80388084 0037DE04  7F 45 D3 78 */	mr r5, r26
/* 80388088 0037DE08  48 00 0C E1 */	bl SBServerParseQR2FullKeysSplit
/* 8038808C 0037DE0C  88 1F 00 28 */	lbz r0, 0x28(r31)
/* 80388090 0037DE10  28 00 00 FF */	cmplwi r0, 0xff
/* 80388094 0037DE14  40 82 00 74 */	bne lbl_80388108
/* 80388098 0037DE18  88 1F 00 14 */	lbz r0, 0x14(r31)
/* 8038809C 0037DE1C  60 00 00 43 */	ori r0, r0, 0x43
/* 803880A0 0037DE20  98 1F 00 14 */	stb r0, 0x14(r31)
/* 803880A4 0037DE24  48 00 00 20 */	b lbl_803880C4
lbl_803880A8:
/* 803880A8 0037DE28  7F E3 FB 78 */	mr r3, r31
/* 803880AC 0037DE2C  7F 24 CB 78 */	mr r4, r25
/* 803880B0 0037DE30  7F 45 D3 78 */	mr r5, r26
/* 803880B4 0037DE34  48 00 0A D1 */	bl SBServerParseQR2FullKeysSingle
/* 803880B8 0037DE38  88 1F 00 14 */	lbz r0, 0x14(r31)
/* 803880BC 0037DE3C  60 00 00 43 */	ori r0, r0, 0x43
/* 803880C0 0037DE40  98 1F 00 14 */	stb r0, 0x14(r31)
lbl_803880C4:
/* 803880C4 0037DE44  88 1F 00 14 */	lbz r0, 0x14(r31)
/* 803880C8 0037DE48  70 00 00 F3 */	andi. r0, r0, 0xf3
/* 803880CC 0037DE4C  98 1F 00 14 */	stb r0, 0x14(r31)
/* 803880D0 0037DE50  4B FD 56 59 */	bl current_time
/* 803880D4 0037DE54  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803880D8 0037DE58  7F E4 FB 78 */	mr r4, r31
/* 803880DC 0037DE5C  7C 00 18 50 */	subf r0, r0, r3
/* 803880E0 0037DE60  38 7E 00 08 */	addi r3, r30, 8
/* 803880E4 0037DE64  90 1F 00 1C */	stw r0, 0x1c(r31)
/* 803880E8 0037DE68  4B FF F9 55 */	bl FIFORemove
/* 803880EC 0037DE6C  81 9E 00 44 */	lwz r12, 0x44(r30)
/* 803880F0 0037DE70  7F C3 F3 78 */	mr r3, r30
/* 803880F4 0037DE74  7F E5 FB 78 */	mr r5, r31
/* 803880F8 0037DE78  80 DE 00 48 */	lwz r6, 0x48(r30)
/* 803880FC 0037DE7C  38 80 00 00 */	li r4, 0
/* 80388100 0037DE80  7D 89 03 A6 */	mtctr r12
/* 80388104 0037DE84  4E 80 04 21 */	bctrl 
lbl_80388108:
/* 80388108 0037DE88  39 61 00 30 */	addi r11, r1, 0x30
/* 8038810C 0037DE8C  48 06 92 59 */	bl _restgpr_25
/* 80388110 0037DE90  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80388114 0037DE94  7C 08 03 A6 */	mtlr r0
/* 80388118 0037DE98  38 21 00 30 */	addi r1, r1, 0x30
/* 8038811C 0037DE9C  4E 80 00 20 */	blr 

.global ProcessIncomingReplies
ProcessIncomingReplies:
/* 80388120 0037DEA0  54 2B 06 FE */	clrlwi r11, r1, 0x1b
/* 80388124 0037DEA4  7C 2C 0B 78 */	mr r12, r1
/* 80388128 0037DEA8  21 6B F7 A0 */	subfic r11, r11, -2144
/* 8038812C 0037DEAC  7C 21 59 6E */	stwux r1, r1, r11
/* 80388130 0037DEB0  7C 08 02 A6 */	mflr r0
/* 80388134 0037DEB4  7D 8B 63 78 */	mr r11, r12
/* 80388138 0037DEB8  90 0C 00 04 */	stw r0, 4(r12)
/* 8038813C 0037DEBC  48 06 91 DD */	bl _savegpr_25
/* 80388140 0037DEC0  38 00 00 08 */	li r0, 8
/* 80388144 0037DEC4  2C 04 00 00 */	cmpwi r4, 0
/* 80388148 0037DEC8  90 01 00 20 */	stw r0, 0x20(r1)
/* 8038814C 0037DECC  7C 7A 1B 78 */	mr r26, r3
/* 80388150 0037DED0  7C 9B 23 78 */	mr r27, r4
/* 80388154 0037DED4  3B 80 00 00 */	li r28, 0
/* 80388158 0037DED8  40 82 00 08 */	bne lbl_80388160
/* 8038815C 0037DEDC  83 83 00 20 */	lwz r28, 0x20(r3)
lbl_80388160:
/* 80388160 0037DEE0  3B E1 00 40 */	addi r31, r1, 0x40
/* 80388164 0037DEE4  3B C0 00 00 */	li r30, 0
/* 80388168 0037DEE8  48 00 01 88 */	b lbl_803882F0
lbl_8038816C:
/* 8038816C 0037DEEC  7F 83 E3 78 */	mr r3, r28
/* 80388170 0037DEF0  38 81 00 40 */	addi r4, r1, 0x40
/* 80388174 0037DEF4  38 E1 00 28 */	addi r7, r1, 0x28
/* 80388178 0037DEF8  39 01 00 20 */	addi r8, r1, 0x20
/* 8038817C 0037DEFC  38 A0 07 FF */	li r5, 0x7ff
/* 80388180 0037DF00  38 C0 00 00 */	li r6, 0
/* 80388184 0037DF04  4B FD 43 2D */	bl recvfrom
/* 80388188 0037DF08  2C 03 FF FF */	cmpwi r3, -1
/* 8038818C 0037DF0C  7C 66 1B 78 */	mr r6, r3
/* 80388190 0037DF10  41 82 01 70 */	beq lbl_80388300
/* 80388194 0037DF14  7F DF 19 AE */	stbx r30, r31, r3
/* 80388198 0037DF18  80 81 00 2C */	lwz r4, 0x2c(r1)
/* 8038819C 0037DF1C  83 BA 00 08 */	lwz r29, 8(r26)
/* 803881A0 0037DF20  48 00 01 48 */	b lbl_803882E8
lbl_803881A4:
/* 803881A4 0037DF24  2C 1B 00 00 */	cmpwi r27, 0
/* 803881A8 0037DF28  41 82 00 20 */	beq lbl_803881C8
/* 803881AC 0037DF2C  88 1D 00 15 */	lbz r0, 0x15(r29)
/* 803881B0 0037DF30  54 00 07 39 */	rlwinm. r0, r0, 0, 0x1c, 0x1c
/* 803881B4 0037DF34  41 82 00 14 */	beq lbl_803881C8
/* 803881B8 0037DF38  80 7D 00 10 */	lwz r3, 0x10(r29)
/* 803881BC 0037DF3C  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 803881C0 0037DF40  7C 03 00 40 */	cmplw r3, r0
/* 803881C4 0037DF44  41 82 00 64 */	beq lbl_80388228
lbl_803881C8:
/* 803881C8 0037DF48  80 1D 00 00 */	lwz r0, 0(r29)
/* 803881CC 0037DF4C  7C 00 20 40 */	cmplw r0, r4
/* 803881D0 0037DF50  40 82 00 1C */	bne lbl_803881EC
/* 803881D4 0037DF54  A0 7D 00 04 */	lhz r3, 4(r29)
/* 803881D8 0037DF58  A0 01 00 2A */	lhz r0, 0x2a(r1)
/* 803881DC 0037DF5C  7C 03 00 40 */	cmplw r3, r0
/* 803881E0 0037DF60  41 82 00 48 */	beq lbl_80388228
/* 803881E4 0037DF64  2C 1B 00 00 */	cmpwi r27, 0
/* 803881E8 0037DF68  40 82 00 40 */	bne lbl_80388228
lbl_803881EC:
/* 803881EC 0037DF6C  80 7D 00 00 */	lwz r3, 0(r29)
/* 803881F0 0037DF70  80 1A 00 28 */	lwz r0, 0x28(r26)
/* 803881F4 0037DF74  7C 03 00 40 */	cmplw r3, r0
/* 803881F8 0037DF78  40 82 00 EC */	bne lbl_803882E4
/* 803881FC 0037DF7C  88 1D 00 15 */	lbz r0, 0x15(r29)
/* 80388200 0037DF80  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 80388204 0037DF84  41 82 00 E0 */	beq lbl_803882E4
/* 80388208 0037DF88  80 7D 00 08 */	lwz r3, 8(r29)
/* 8038820C 0037DF8C  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 80388210 0037DF90  7C 03 00 40 */	cmplw r3, r0
/* 80388214 0037DF94  40 82 00 D0 */	bne lbl_803882E4
/* 80388218 0037DF98  A0 7D 00 0C */	lhz r3, 0xc(r29)
/* 8038821C 0037DF9C  A0 01 00 2A */	lhz r0, 0x2a(r1)
/* 80388220 0037DFA0  7C 03 00 40 */	cmplw r3, r0
/* 80388224 0037DFA4  40 82 00 C0 */	bne lbl_803882E4
lbl_80388228:
/* 80388228 0037DFA8  2C 1B 00 00 */	cmpwi r27, 0
/* 8038822C 0037DFAC  40 82 00 C4 */	bne lbl_803882F0
/* 80388230 0037DFB0  80 1A 00 00 */	lwz r0, 0(r26)
/* 80388234 0037DFB4  2C 00 00 01 */	cmpwi r0, 1
/* 80388238 0037DFB8  40 82 00 18 */	bne lbl_80388250
/* 8038823C 0037DFBC  7F 43 D3 78 */	mr r3, r26
/* 80388240 0037DFC0  7F A4 EB 78 */	mr r4, r29
/* 80388244 0037DFC4  38 A1 00 40 */	addi r5, r1, 0x40
/* 80388248 0037DFC8  4B FF FD 01 */	bl ParseSingleQR2Reply
/* 8038824C 0037DFCC  48 00 00 A4 */	b lbl_803882F0
lbl_80388250:
/* 80388250 0037DFD0  38 61 00 40 */	addi r3, r1, 0x40
/* 80388254 0037DFD4  38 8D B7 68 */	addi r4, r13, lbl_8059FB88-_SDA_BASE_
/* 80388258 0037DFD8  48 07 25 41 */	bl strstr
/* 8038825C 0037DFDC  7C 03 00 D0 */	neg r0, r3
/* 80388260 0037DFE0  38 81 00 40 */	addi r4, r1, 0x40
/* 80388264 0037DFE4  7C 00 1B 78 */	or r0, r0, r3
/* 80388268 0037DFE8  7F A3 EB 78 */	mr r3, r29
/* 8038826C 0037DFEC  54 19 0F FE */	srwi r25, r0, 0x1f
/* 80388270 0037DFF0  48 00 07 59 */	bl SBServerParseKeyVals
/* 80388274 0037DFF4  2C 19 00 00 */	cmpwi r25, 0
/* 80388278 0037DFF8  41 82 00 78 */	beq lbl_803882F0
/* 8038827C 0037DFFC  88 7D 00 14 */	lbz r3, 0x14(r29)
/* 80388280 0037E000  54 60 07 7B */	rlwinm. r0, r3, 0, 0x1d, 0x1d
/* 80388284 0037E004  41 82 00 10 */	beq lbl_80388294
/* 80388288 0037E008  60 60 00 41 */	ori r0, r3, 0x41
/* 8038828C 0037E00C  98 1D 00 14 */	stb r0, 0x14(r29)
/* 80388290 0037E010  48 00 00 0C */	b lbl_8038829C
lbl_80388294:
/* 80388294 0037E014  60 60 00 42 */	ori r0, r3, 0x42
/* 80388298 0037E018  98 1D 00 14 */	stb r0, 0x14(r29)
lbl_8038829C:
/* 8038829C 0037E01C  88 1D 00 14 */	lbz r0, 0x14(r29)
/* 803882A0 0037E020  70 00 00 F3 */	andi. r0, r0, 0xf3
/* 803882A4 0037E024  98 1D 00 14 */	stb r0, 0x14(r29)
/* 803882A8 0037E028  4B FD 54 81 */	bl current_time
/* 803882AC 0037E02C  80 1D 00 1C */	lwz r0, 0x1c(r29)
/* 803882B0 0037E030  7F A4 EB 78 */	mr r4, r29
/* 803882B4 0037E034  7C 00 18 50 */	subf r0, r0, r3
/* 803882B8 0037E038  38 7A 00 08 */	addi r3, r26, 8
/* 803882BC 0037E03C  90 1D 00 1C */	stw r0, 0x1c(r29)
/* 803882C0 0037E040  4B FF F7 7D */	bl FIFORemove
/* 803882C4 0037E044  81 9A 00 44 */	lwz r12, 0x44(r26)
/* 803882C8 0037E048  7F 43 D3 78 */	mr r3, r26
/* 803882CC 0037E04C  7F A5 EB 78 */	mr r5, r29
/* 803882D0 0037E050  80 DA 00 48 */	lwz r6, 0x48(r26)
/* 803882D4 0037E054  38 80 00 00 */	li r4, 0
/* 803882D8 0037E058  7D 89 03 A6 */	mtctr r12
/* 803882DC 0037E05C  4E 80 04 21 */	bctrl 
/* 803882E0 0037E060  48 00 00 10 */	b lbl_803882F0
lbl_803882E4:
/* 803882E4 0037E064  83 BD 00 24 */	lwz r29, 0x24(r29)
lbl_803882E8:
/* 803882E8 0037E068  2C 1D 00 00 */	cmpwi r29, 0
/* 803882EC 0037E06C  40 82 FE B8 */	bne lbl_803881A4
lbl_803882F0:
/* 803882F0 0037E070  7F 83 E3 78 */	mr r3, r28
/* 803882F4 0037E074  4B FD 4C 09 */	bl DWC_NdProcess
/* 803882F8 0037E078  2C 03 00 00 */	cmpwi r3, 0
/* 803882FC 0037E07C  40 82 FE 70 */	bne lbl_8038816C
lbl_80388300:
/* 80388300 0037E080  81 41 00 00 */	lwz r10, 0(r1)
/* 80388304 0037E084  7D 4B 53 78 */	mr r11, r10
/* 80388308 0037E088  48 06 90 5D */	bl _restgpr_25
/* 8038830C 0037E08C  80 0A 00 04 */	lwz r0, 4(r10)
/* 80388310 0037E090  7C 08 03 A6 */	mtlr r0
/* 80388314 0037E094  7D 41 53 78 */	mr r1, r10
/* 80388318 0037E098  4E 80 00 20 */	blr 

.global SBQueryEngineThink
SBQueryEngineThink:
/* 8038831C 0037E09C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80388320 0037E0A0  7C 08 02 A6 */	mflr r0
/* 80388324 0037E0A4  90 01 00 24 */	stw r0, 0x24(r1)
/* 80388328 0037E0A8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8038832C 0037E0AC  7C 7F 1B 78 */	mr r31, r3
/* 80388330 0037E0B0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80388334 0037E0B4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80388338 0037E0B8  93 81 00 10 */	stw r28, 0x10(r1)
/* 8038833C 0037E0BC  80 03 00 10 */	lwz r0, 0x10(r3)
/* 80388340 0037E0C0  2C 00 00 00 */	cmpwi r0, 0
/* 80388344 0037E0C4  41 82 01 34 */	beq lbl_80388478
/* 80388348 0037E0C8  38 80 00 00 */	li r4, 0
/* 8038834C 0037E0CC  4B FF FD D5 */	bl ProcessIncomingReplies
/* 80388350 0037E0D0  4B FD 53 D9 */	bl current_time
/* 80388354 0037E0D4  7C 7C 1B 78 */	mr r28, r3
/* 80388358 0037E0D8  3B A0 09 C4 */	li r29, 0x9c4
/* 8038835C 0037E0DC  3B C0 00 00 */	li r30, 0
/* 80388360 0037E0E0  48 00 00 80 */	b lbl_803883E0
lbl_80388364:
/* 80388364 0037E0E4  80 65 00 1C */	lwz r3, 0x1c(r5)
/* 80388368 0037E0E8  38 03 09 C4 */	addi r0, r3, 0x9c4
/* 8038836C 0037E0EC  7C 1C 00 40 */	cmplw r28, r0
/* 80388370 0037E0F0  40 81 00 7C */	ble lbl_803883EC
/* 80388374 0037E0F4  88 05 00 15 */	lbz r0, 0x15(r5)
/* 80388378 0037E0F8  7F E3 FB 78 */	mr r3, r31
/* 8038837C 0037E0FC  38 80 00 01 */	li r4, 1
/* 80388380 0037E100  60 00 00 10 */	ori r0, r0, 0x10
/* 80388384 0037E104  98 05 00 15 */	stb r0, 0x15(r5)
/* 80388388 0037E108  80 BF 00 08 */	lwz r5, 8(r31)
/* 8038838C 0037E10C  93 A5 00 1C */	stw r29, 0x1c(r5)
/* 80388390 0037E110  80 BF 00 08 */	lwz r5, 8(r31)
/* 80388394 0037E114  88 05 00 15 */	lbz r0, 0x15(r5)
/* 80388398 0037E118  70 00 00 D3 */	andi. r0, r0, 0xd3
/* 8038839C 0037E11C  98 05 00 15 */	stb r0, 0x15(r5)
/* 803883A0 0037E120  81 9F 00 44 */	lwz r12, 0x44(r31)
/* 803883A4 0037E124  80 BF 00 08 */	lwz r5, 8(r31)
/* 803883A8 0037E128  80 DF 00 48 */	lwz r6, 0x48(r31)
/* 803883AC 0037E12C  7D 89 03 A6 */	mtctr r12
/* 803883B0 0037E130  4E 80 04 21 */	bctrl 
/* 803883B4 0037E134  80 7F 00 08 */	lwz r3, 8(r31)
/* 803883B8 0037E138  2C 03 00 00 */	cmpwi r3, 0
/* 803883BC 0037E13C  41 82 00 24 */	beq lbl_803883E0
/* 803883C0 0037E140  80 03 00 24 */	lwz r0, 0x24(r3)
/* 803883C4 0037E144  2C 00 00 00 */	cmpwi r0, 0
/* 803883C8 0037E148  90 1F 00 08 */	stw r0, 8(r31)
/* 803883CC 0037E14C  40 82 00 08 */	bne lbl_803883D4
/* 803883D0 0037E150  93 DF 00 0C */	stw r30, 0xc(r31)
lbl_803883D4:
/* 803883D4 0037E154  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 803883D8 0037E158  38 03 FF FF */	addi r0, r3, -1
/* 803883DC 0037E15C  90 1F 00 10 */	stw r0, 0x10(r31)
lbl_803883E0:
/* 803883E0 0037E160  80 BF 00 08 */	lwz r5, 8(r31)
/* 803883E4 0037E164  2C 05 00 00 */	cmpwi r5, 0
/* 803883E8 0037E168  40 82 FF 7C */	bne lbl_80388364
lbl_803883EC:
/* 803883EC 0037E16C  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803883F0 0037E170  2C 00 00 00 */	cmpwi r0, 0
/* 803883F4 0037E174  40 81 00 5C */	ble lbl_80388450
/* 803883F8 0037E178  3B C0 00 00 */	li r30, 0
/* 803883FC 0037E17C  48 00 00 38 */	b lbl_80388434
lbl_80388400:
/* 80388400 0037E180  80 9F 00 14 */	lwz r4, 0x14(r31)
/* 80388404 0037E184  2C 04 00 00 */	cmpwi r4, 0
/* 80388408 0037E188  41 82 00 24 */	beq lbl_8038842C
/* 8038840C 0037E18C  80 04 00 24 */	lwz r0, 0x24(r4)
/* 80388410 0037E190  2C 00 00 00 */	cmpwi r0, 0
/* 80388414 0037E194  90 1F 00 14 */	stw r0, 0x14(r31)
/* 80388418 0037E198  40 82 00 08 */	bne lbl_80388420
/* 8038841C 0037E19C  93 DF 00 18 */	stw r30, 0x18(r31)
lbl_80388420:
/* 80388420 0037E1A0  80 7F 00 1C */	lwz r3, 0x1c(r31)
/* 80388424 0037E1A4  38 03 FF FF */	addi r0, r3, -1
/* 80388428 0037E1A8  90 1F 00 1C */	stw r0, 0x1c(r31)
lbl_8038842C:
/* 8038842C 0037E1AC  7F E3 FB 78 */	mr r3, r31
/* 80388430 0037E1B0  4B FF F6 81 */	bl QEStartQuery
lbl_80388434:
/* 80388434 0037E1B4  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 80388438 0037E1B8  80 1F 00 04 */	lwz r0, 4(r31)
/* 8038843C 0037E1BC  7C 03 00 00 */	cmpw r3, r0
/* 80388440 0037E1C0  40 80 00 10 */	bge lbl_80388450
/* 80388444 0037E1C4  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 80388448 0037E1C8  2C 00 00 00 */	cmpwi r0, 0
/* 8038844C 0037E1CC  41 81 FF B4 */	bgt lbl_80388400
lbl_80388450:
/* 80388450 0037E1D0  80 1F 00 10 */	lwz r0, 0x10(r31)
/* 80388454 0037E1D4  2C 00 00 00 */	cmpwi r0, 0
/* 80388458 0037E1D8  40 82 00 20 */	bne lbl_80388478
/* 8038845C 0037E1DC  81 9F 00 44 */	lwz r12, 0x44(r31)
/* 80388460 0037E1E0  7F E3 FB 78 */	mr r3, r31
/* 80388464 0037E1E4  80 DF 00 48 */	lwz r6, 0x48(r31)
/* 80388468 0037E1E8  38 80 00 02 */	li r4, 2
/* 8038846C 0037E1EC  38 A0 00 00 */	li r5, 0
/* 80388470 0037E1F0  7D 89 03 A6 */	mtctr r12
/* 80388474 0037E1F4  4E 80 04 21 */	bctrl 
lbl_80388478:
/* 80388478 0037E1F8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8038847C 0037E1FC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80388480 0037E200  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80388484 0037E204  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80388488 0037E208  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8038848C 0037E20C  7C 08 03 A6 */	mtlr r0
/* 80388490 0037E210  38 21 00 20 */	addi r1, r1, 0x20
/* 80388494 0037E214  4E 80 00 20 */	blr 

.global SBQueryEngineAddQueryKey
SBQueryEngineAddQueryKey:
/* 80388498 0037E218  80 C3 00 40 */	lwz r6, 0x40(r3)
/* 8038849C 0037E21C  2C 06 00 14 */	cmpwi r6, 0x14
/* 803884A0 0037E220  4C 80 00 20 */	bgelr 
/* 803884A4 0037E224  7C A3 32 14 */	add r5, r3, r6
/* 803884A8 0037E228  38 06 00 01 */	addi r0, r6, 1
/* 803884AC 0037E22C  98 85 00 2C */	stb r4, 0x2c(r5)
/* 803884B0 0037E230  90 03 00 40 */	stw r0, 0x40(r3)
/* 803884B4 0037E234  4E 80 00 20 */	blr 

.global SBQueryEngineRemoveServerFromFIFOs
SBQueryEngineRemoveServerFromFIFOs:
/* 803884B8 0037E238  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803884BC 0037E23C  7C 08 02 A6 */	mflr r0
/* 803884C0 0037E240  90 01 00 14 */	stw r0, 0x14(r1)
/* 803884C4 0037E244  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803884C8 0037E248  7C 9F 23 78 */	mr r31, r4
/* 803884CC 0037E24C  93 C1 00 08 */	stw r30, 8(r1)
/* 803884D0 0037E250  7C 7E 1B 78 */	mr r30, r3
/* 803884D4 0037E254  38 63 00 08 */	addi r3, r3, 8
/* 803884D8 0037E258  4B FF F5 65 */	bl FIFORemove
/* 803884DC 0037E25C  2C 03 00 00 */	cmpwi r3, 0
/* 803884E0 0037E260  40 82 00 10 */	bne lbl_803884F0
/* 803884E4 0037E264  7F E4 FB 78 */	mr r4, r31
/* 803884E8 0037E268  38 7E 00 14 */	addi r3, r30, 0x14
/* 803884EC 0037E26C  4B FF F5 51 */	bl FIFORemove
lbl_803884F0:
/* 803884F0 0037E270  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803884F4 0037E274  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803884F8 0037E278  83 C1 00 08 */	lwz r30, 8(r1)
/* 803884FC 0037E27C  7C 08 03 A6 */	mtlr r0
/* 80388500 0037E280  38 21 00 10 */	addi r1, r1, 0x10
/* 80388504 0037E284  4E 80 00 20 */	blr 

