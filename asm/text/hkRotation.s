.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global hkRotation$7set
hkRotation$7set:
/* 80285A6C 0027B7EC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80285A70 0027B7F0  DB E1 00 10 */	stfd f31, 0x10(r1)
/* 80285A74 0027B7F4  F3 E1 00 18 */	psq_st f31, 24(r1), 0, qr0
/* 80285A78 0027B7F8  C0 E4 00 04 */	lfs f7, 4(r4)
/* 80285A7C 0027B7FC  C0 04 00 08 */	lfs f0, 8(r4)
/* 80285A80 0027B800  ED 47 38 2A */	fadds f10, f7, f7
/* 80285A84 0027B804  C0 42 AA 2C */	lfs f2, lbl_805A3D4C-_SDA2_BASE_(r2)
/* 80285A88 0027B808  C1 04 00 00 */	lfs f8, 0(r4)
/* 80285A8C 0027B80C  ED 60 00 2A */	fadds f11, f0, f0
/* 80285A90 0027B810  C0 C4 00 0C */	lfs f6, 0xc(r4)
/* 80285A94 0027B814  ED 28 40 2A */	fadds f9, f8, f8
/* 80285A98 0027B818  ED AA 01 F2 */	fmuls f13, f10, f7
/* 80285A9C 0027B81C  C0 A2 AA 28 */	lfs f5, lbl_805A3D48-_SDA2_BASE_(r2)
/* 80285AA0 0027B820  EC 0B 00 32 */	fmuls f0, f11, f0
/* 80285AA4 0027B824  D0 43 00 0C */	stfs f2, 0xc(r3)
/* 80285AA8 0027B828  EC 89 02 32 */	fmuls f4, f9, f8
/* 80285AAC 0027B82C  ED 8A 02 32 */	fmuls f12, f10, f8
/* 80285AB0 0027B830  EC 6D 00 2A */	fadds f3, f13, f0
/* 80285AB4 0027B834  D0 43 00 1C */	stfs f2, 0x1c(r3)
/* 80285AB8 0027B838  EC 24 00 2A */	fadds f1, f4, f0
/* 80285ABC 0027B83C  EC 04 68 2A */	fadds f0, f4, f13
/* 80285AC0 0027B840  D0 43 00 2C */	stfs f2, 0x2c(r3)
/* 80285AC4 0027B844  EF EB 01 B2 */	fmuls f31, f11, f6
/* 80285AC8 0027B848  EC 85 18 28 */	fsubs f4, f5, f3
/* 80285ACC 0027B84C  EC 25 08 28 */	fsubs f1, f5, f1
/* 80285AD0 0027B850  EC 05 00 28 */	fsubs f0, f5, f0
/* 80285AD4 0027B854  EC 6C F8 2A */	fadds f3, f12, f31
/* 80285AD8 0027B858  D0 83 00 00 */	stfs f4, 0(r3)
/* 80285ADC 0027B85C  EC 4C F8 28 */	fsubs f2, f12, f31
/* 80285AE0 0027B860  EC 8B 02 32 */	fmuls f4, f11, f8
/* 80285AE4 0027B864  D0 23 00 14 */	stfs f1, 0x14(r3)
/* 80285AE8 0027B868  ED 0A 01 B2 */	fmuls f8, f10, f6
/* 80285AEC 0027B86C  D0 63 00 04 */	stfs f3, 4(r3)
/* 80285AF0 0027B870  EC AB 01 F2 */	fmuls f5, f11, f7
/* 80285AF4 0027B874  EC C9 01 B2 */	fmuls f6, f9, f6
/* 80285AF8 0027B878  D0 43 00 10 */	stfs f2, 0x10(r3)
/* 80285AFC 0027B87C  EC 64 40 28 */	fsubs f3, f4, f8
/* 80285B00 0027B880  EC 24 40 2A */	fadds f1, f4, f8
/* 80285B04 0027B884  EC 45 30 2A */	fadds f2, f5, f6
/* 80285B08 0027B888  D0 03 00 28 */	stfs f0, 0x28(r3)
/* 80285B0C 0027B88C  EC 05 30 28 */	fsubs f0, f5, f6
/* 80285B10 0027B890  D0 63 00 08 */	stfs f3, 8(r3)
/* 80285B14 0027B894  D0 43 00 18 */	stfs f2, 0x18(r3)
/* 80285B18 0027B898  D0 23 00 20 */	stfs f1, 0x20(r3)
/* 80285B1C 0027B89C  D0 03 00 24 */	stfs f0, 0x24(r3)
/* 80285B20 0027B8A0  E3 E1 00 18 */	psq_l f31, 24(r1), 0, qr0
/* 80285B24 0027B8A4  CB E1 00 10 */	lfd f31, 0x10(r1)
/* 80285B28 0027B8A8  38 21 00 20 */	addi r1, r1, 0x20
/* 80285B2C 0027B8AC  4E 80 00 20 */	blr 

.global hkRotation$7isOrthonormal
hkRotation$7isOrthonormal:
/* 80285B30 0027B8B0  54 2B 07 3E */	clrlwi r11, r1, 0x1c
/* 80285B34 0027B8B4  7C 2C 0B 78 */	mr r12, r1
/* 80285B38 0027B8B8  21 6B FF B0 */	subfic r11, r11, -80
/* 80285B3C 0027B8BC  7C 21 59 6E */	stwux r1, r1, r11
/* 80285B40 0027B8C0  DB EC FF F0 */	stfd f31, -0x10(r12)
/* 80285B44 0027B8C4  F3 EC 0F F8 */	psq_st f31, -8(r12), 0, qr0
/* 80285B48 0027B8C8  C3 E3 00 04 */	lfs f31, 4(r3)
/* 80285B4C 0027B8CC  C1 A3 00 00 */	lfs f13, 0(r3)
/* 80285B50 0027B8D0  EC 1F 07 F2 */	fmuls f0, f31, f31
/* 80285B54 0027B8D4  C1 83 00 08 */	lfs f12, 8(r3)
/* 80285B58 0027B8D8  C0 42 AA 28 */	lfs f2, lbl_805A3D48-_SDA2_BASE_(r2)
/* 80285B5C 0027B8DC  EC 0D 03 7A */	fmadds f0, f13, f13, f0
/* 80285B60 0027B8E0  EC 0C 03 3A */	fmadds f0, f12, f12, f0
/* 80285B64 0027B8E4  EC 00 10 28 */	fsubs f0, f0, f2
/* 80285B68 0027B8E8  FC 00 02 10 */	fabs f0, f0
/* 80285B6C 0027B8EC  FC 00 00 18 */	frsp f0, f0
/* 80285B70 0027B8F0  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 80285B74 0027B8F4  40 81 00 0C */	ble lbl_80285B80
/* 80285B78 0027B8F8  38 60 00 00 */	li r3, 0
/* 80285B7C 0027B8FC  48 00 01 38 */	b lbl_80285CB4
lbl_80285B80:
/* 80285B80 0027B900  C1 63 00 14 */	lfs f11, 0x14(r3)
/* 80285B84 0027B904  C1 43 00 10 */	lfs f10, 0x10(r3)
/* 80285B88 0027B908  EC 0B 02 F2 */	fmuls f0, f11, f11
/* 80285B8C 0027B90C  C1 23 00 18 */	lfs f9, 0x18(r3)
/* 80285B90 0027B910  EC 0A 02 BA */	fmadds f0, f10, f10, f0
/* 80285B94 0027B914  EC 09 02 7A */	fmadds f0, f9, f9, f0
/* 80285B98 0027B918  EC 00 10 28 */	fsubs f0, f0, f2
/* 80285B9C 0027B91C  FC 00 02 10 */	fabs f0, f0
/* 80285BA0 0027B920  FC 00 00 18 */	frsp f0, f0
/* 80285BA4 0027B924  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 80285BA8 0027B928  40 81 00 0C */	ble lbl_80285BB4
/* 80285BAC 0027B92C  38 60 00 00 */	li r3, 0
/* 80285BB0 0027B930  48 00 01 04 */	b lbl_80285CB4
lbl_80285BB4:
/* 80285BB4 0027B934  C1 03 00 24 */	lfs f8, 0x24(r3)
/* 80285BB8 0027B938  C0 E3 00 20 */	lfs f7, 0x20(r3)
/* 80285BBC 0027B93C  EC 08 02 32 */	fmuls f0, f8, f8
/* 80285BC0 0027B940  C0 C3 00 28 */	lfs f6, 0x28(r3)
/* 80285BC4 0027B944  EC 07 01 FA */	fmadds f0, f7, f7, f0
/* 80285BC8 0027B948  EC 06 01 BA */	fmadds f0, f6, f6, f0
/* 80285BCC 0027B94C  EC 00 10 28 */	fsubs f0, f0, f2
/* 80285BD0 0027B950  FC 00 02 10 */	fabs f0, f0
/* 80285BD4 0027B954  FC 00 00 18 */	frsp f0, f0
/* 80285BD8 0027B958  FC 00 08 40 */	fcmpo cr0, f0, f1
/* 80285BDC 0027B95C  40 81 00 0C */	ble lbl_80285BE8
/* 80285BE0 0027B960  38 60 00 00 */	li r3, 0
/* 80285BE4 0027B964  48 00 00 D0 */	b lbl_80285CB4
lbl_80285BE8:
/* 80285BE8 0027B968  EC 8C 02 F2 */	fmuls f4, f12, f11
/* 80285BEC 0027B96C  C0 A2 AA 2C */	lfs f5, lbl_805A3D4C-_SDA2_BASE_(r2)
/* 80285BF0 0027B970  EC 5F 02 B2 */	fmuls f2, f31, f10
/* 80285BF4 0027B974  C0 03 00 2C */	lfs f0, 0x2c(r3)
/* 80285BF8 0027B978  EC 6D 02 72 */	fmuls f3, f13, f9
/* 80285BFC 0027B97C  D0 A1 00 3C */	stfs f5, 0x3c(r1)
/* 80285C00 0027B980  EF FF 22 78 */	fmsubs f31, f31, f9, f4
/* 80285C04 0027B984  D0 21 00 20 */	stfs f1, 0x20(r1)
/* 80285C08 0027B988  ED 4C 1A B8 */	fmsubs f10, f12, f10, f3
/* 80285C0C 0027B98C  ED 2D 12 F8 */	fmsubs f9, f13, f11, f2
/* 80285C10 0027B990  D0 21 00 24 */	stfs f1, 0x24(r1)
/* 80285C14 0027B994  EC 05 00 28 */	fsubs f0, f5, f0
/* 80285C18 0027B998  EC 9F 38 28 */	fsubs f4, f31, f7
/* 80285C1C 0027B99C  D3 E1 00 30 */	stfs f31, 0x30(r1)
/* 80285C20 0027B9A0  EC 6A 40 28 */	fsubs f3, f10, f8
/* 80285C24 0027B9A4  FC A0 02 10 */	fabs f5, f0
/* 80285C28 0027B9A8  D1 41 00 34 */	stfs f10, 0x34(r1)
/* 80285C2C 0027B9AC  EC 49 30 28 */	fsubs f2, f9, f6
/* 80285C30 0027B9B0  FC 80 22 10 */	fabs f4, f4
/* 80285C34 0027B9B4  D1 21 00 38 */	stfs f9, 0x38(r1)
/* 80285C38 0027B9B8  FC 60 1A 10 */	fabs f3, f3
/* 80285C3C 0027B9BC  FC 40 12 10 */	fabs f2, f2
/* 80285C40 0027B9C0  D0 21 00 28 */	stfs f1, 0x28(r1)
/* 80285C44 0027B9C4  FC A0 28 18 */	frsp f5, f5
/* 80285C48 0027B9C8  FC 00 08 18 */	frsp f0, f1
/* 80285C4C 0027B9CC  D0 21 00 2C */	stfs f1, 0x2c(r1)
/* 80285C50 0027B9D0  FC 80 20 18 */	frsp f4, f4
/* 80285C54 0027B9D4  FC 60 18 18 */	frsp f3, f3
/* 80285C58 0027B9D8  D0 A1 00 1C */	stfs f5, 0x1c(r1)
/* 80285C5C 0027B9DC  FC 40 10 18 */	frsp f2, f2
/* 80285C60 0027B9E0  FC 00 28 40 */	fcmpo cr0, f0, f5
/* 80285C64 0027B9E4  D0 81 00 10 */	stfs f4, 0x10(r1)
/* 80285C68 0027B9E8  D0 61 00 14 */	stfs f3, 0x14(r1)
/* 80285C6C 0027B9EC  D0 41 00 18 */	stfs f2, 0x18(r1)
/* 80285C70 0027B9F0  7C A0 00 26 */	mfcr r5
/* 80285C74 0027B9F4  FC 00 10 40 */	fcmpo cr0, f0, f2
/* 80285C78 0027B9F8  54 A5 0F FE */	srwi r5, r5, 0x1f
/* 80285C7C 0027B9FC  7C 00 00 26 */	mfcr r0
/* 80285C80 0027BA00  FC 00 20 40 */	fcmpo cr0, f0, f4
/* 80285C84 0027BA04  54 04 17 BC */	rlwinm r4, r0, 2, 0x1e, 0x1e
/* 80285C88 0027BA08  7C 00 00 26 */	mfcr r0
/* 80285C8C 0027BA0C  FC 00 18 40 */	fcmpo cr0, f0, f3
/* 80285C90 0027BA10  54 03 27 38 */	rlwinm r3, r0, 4, 0x1c, 0x1c
/* 80285C94 0027BA14  7C 00 00 26 */	mfcr r0
/* 80285C98 0027BA18  54 00 1F 7A */	rlwinm r0, r0, 3, 0x1d, 0x1d
/* 80285C9C 0027BA1C  7C 60 03 78 */	or r0, r3, r0
/* 80285CA0 0027BA20  7C 80 03 78 */	or r0, r4, r0
/* 80285CA4 0027BA24  7C A0 03 78 */	or r0, r5, r0
/* 80285CA8 0027BA28  54 00 07 3C */	rlwinm r0, r0, 0, 0x1c, 0x1e
/* 80285CAC 0027BA2C  7C 00 00 34 */	cntlzw r0, r0
/* 80285CB0 0027BA30  54 03 98 0E */	rlwinm r3, r0, 0x13, 0, 7
lbl_80285CB4:
/* 80285CB4 0027BA34  81 41 00 00 */	lwz r10, 0(r1)
/* 80285CB8 0027BA38  38 00 FF F8 */	li r0, -8
/* 80285CBC 0027BA3C  13 EA 00 0C */	psq_lx f31, r10, r0, 0, qr0
/* 80285CC0 0027BA40  CB EA FF F0 */	lfd f31, -0x10(r10)
/* 80285CC4 0027BA44  7D 41 53 78 */	mr r1, r10
/* 80285CC8 0027BA48  4E 80 00 20 */	blr 

