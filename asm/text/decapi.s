.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global TMCCJPEGDecGetSize
TMCCJPEGDecGetSize:
/* 80260730 002564B0  94 21 F8 C0 */	stwu r1, -0x740(r1)
/* 80260734 002564B4  7C 08 02 A6 */	mflr r0
/* 80260738 002564B8  28 08 00 01 */	cmplwi r8, 1
/* 8026073C 002564BC  90 01 07 44 */	stw r0, 0x744(r1)
/* 80260740 002564C0  38 00 00 00 */	li r0, 0
/* 80260744 002564C4  93 E1 07 3C */	stw r31, 0x73c(r1)
/* 80260748 002564C8  7D 3F 4B 78 */	mr r31, r9
/* 8026074C 002564CC  93 C1 07 38 */	stw r30, 0x738(r1)
/* 80260750 002564D0  7C BE 2B 78 */	mr r30, r5
/* 80260754 002564D4  93 A1 07 34 */	stw r29, 0x734(r1)
/* 80260758 002564D8  7C 9D 23 78 */	mr r29, r4
/* 8026075C 002564DC  90 09 00 00 */	stw r0, 0(r9)
/* 80260760 002564E0  90 09 00 04 */	stw r0, 4(r9)
/* 80260764 002564E4  90 09 00 08 */	stw r0, 8(r9)
/* 80260768 002564E8  98 E1 00 2D */	stb r7, 0x2d(r1)
/* 8026076C 002564EC  98 C1 00 14 */	stb r6, 0x14(r1)
/* 80260770 002564F0  90 61 00 10 */	stw r3, 0x10(r1)
/* 80260774 002564F4  90 A1 00 18 */	stw r5, 0x18(r1)
/* 80260778 002564F8  40 82 00 90 */	bne lbl_80260808
/* 8026077C 002564FC  38 00 00 01 */	li r0, 1
/* 80260780 00256500  7F A5 EB 78 */	mr r5, r29
/* 80260784 00256504  98 01 00 2C */	stb r0, 0x2c(r1)
/* 80260788 00256508  38 61 00 0C */	addi r3, r1, 0xc
/* 8026078C 0025650C  38 81 00 08 */	addi r4, r1, 8
/* 80260790 00256510  38 C1 00 10 */	addi r6, r1, 0x10
/* 80260794 00256514  48 00 38 E1 */	bl TMCC_JPEG_GetOffsetEXIF
/* 80260798 00256518  2C 03 00 00 */	cmpwi r3, 0
/* 8026079C 0025651C  40 80 00 20 */	bge lbl_802607BC
/* 802607A0 00256520  2C 03 FF BB */	cmpwi r3, -69
/* 802607A4 00256524  41 82 00 0C */	beq lbl_802607B0
/* 802607A8 00256528  2C 03 FF FE */	cmpwi r3, -2
/* 802607AC 0025652C  40 82 00 F4 */	bne lbl_802608A0
lbl_802607B0:
/* 802607B0 00256530  38 60 FF 60 */	li r3, -160
/* 802607B4 00256534  48 00 00 EC */	b lbl_802608A0
/* 802607B8 00256538  48 00 00 E8 */	b lbl_802608A0
lbl_802607BC:
/* 802607BC 0025653C  80 81 00 0C */	lwz r4, 0xc(r1)
/* 802607C0 00256540  80 01 00 08 */	lwz r0, 8(r1)
/* 802607C4 00256544  7C 04 02 14 */	add r0, r4, r0
/* 802607C8 00256548  7C 00 F0 40 */	cmplw r0, r30
/* 802607CC 0025654C  40 81 00 0C */	ble lbl_802607D8
/* 802607D0 00256550  38 60 FF 60 */	li r3, -160
/* 802607D4 00256554  48 00 00 CC */	b lbl_802608A0
lbl_802607D8:
/* 802607D8 00256558  38 61 00 30 */	addi r3, r1, 0x30
/* 802607DC 0025655C  7C 9D 22 14 */	add r4, r29, r4
/* 802607E0 00256560  38 A1 00 10 */	addi r5, r1, 0x10
/* 802607E4 00256564  48 00 3B 0D */	bl TMCC_JPEG_GetInfoEXIF
/* 802607E8 00256568  2C 03 00 00 */	cmpwi r3, 0
/* 802607EC 0025656C  40 80 00 48 */	bge lbl_80260834
/* 802607F0 00256570  2C 03 FF BB */	cmpwi r3, -69
/* 802607F4 00256574  38 00 FF 60 */	li r0, -160
/* 802607F8 00256578  41 82 00 08 */	beq lbl_80260800
/* 802607FC 0025657C  7C 60 1B 78 */	mr r0, r3
lbl_80260800:
/* 80260800 00256580  7C 03 03 78 */	mr r3, r0
/* 80260804 00256584  48 00 00 9C */	b lbl_802608A0
lbl_80260808:
/* 80260808 00256588  2C 08 00 00 */	cmpwi r8, 0
/* 8026080C 0025658C  40 82 00 20 */	bne lbl_8026082C
/* 80260810 00256590  98 01 00 2C */	stb r0, 0x2c(r1)
/* 80260814 00256594  38 61 00 30 */	addi r3, r1, 0x30
/* 80260818 00256598  38 A1 00 10 */	addi r5, r1, 0x10
/* 8026081C 0025659C  48 00 19 FD */	bl TMCC_JPEG_InitDecoder
/* 80260820 002565A0  2C 03 00 00 */	cmpwi r3, 0
/* 80260824 002565A4  40 80 00 10 */	bge lbl_80260834
/* 80260828 002565A8  48 00 00 78 */	b lbl_802608A0
lbl_8026082C:
/* 8026082C 002565AC  38 60 FF FF */	li r3, -1
/* 80260830 002565B0  48 00 00 70 */	b lbl_802608A0
lbl_80260834:
/* 80260834 002565B4  A0 01 00 60 */	lhz r0, 0x60(r1)
/* 80260838 002565B8  90 1F 00 00 */	stw r0, 0(r31)
/* 8026083C 002565BC  A0 01 00 62 */	lhz r0, 0x62(r1)
/* 80260840 002565C0  90 1F 00 04 */	stw r0, 4(r31)
/* 80260844 002565C4  80 01 00 38 */	lwz r0, 0x38(r1)
/* 80260848 002565C8  2C 00 00 05 */	cmpwi r0, 5
/* 8026084C 002565CC  41 82 00 48 */	beq lbl_80260894
/* 80260850 002565D0  40 80 00 10 */	bge lbl_80260860
/* 80260854 002565D4  2C 00 00 04 */	cmpwi r0, 4
/* 80260858 002565D8  40 80 00 14 */	bge lbl_8026086C
/* 8026085C 002565DC  48 00 00 38 */	b lbl_80260894
lbl_80260860:
/* 80260860 002565E0  2C 00 00 07 */	cmpwi r0, 7
/* 80260864 002565E4  40 80 00 30 */	bge lbl_80260894
/* 80260868 002565E8  48 00 00 18 */	b lbl_80260880
lbl_8026086C:
/* 8026086C 002565EC  80 01 00 78 */	lwz r0, 0x78(r1)
/* 80260870 002565F0  80 61 00 7C */	lwz r3, 0x7c(r1)
/* 80260874 002565F4  54 00 08 3C */	slwi r0, r0, 1
/* 80260878 002565F8  7C 03 01 D6 */	mullw r0, r3, r0
/* 8026087C 002565FC  48 00 00 1C */	b lbl_80260898
lbl_80260880:
/* 80260880 00256600  80 01 00 78 */	lwz r0, 0x78(r1)
/* 80260884 00256604  80 61 00 7C */	lwz r3, 0x7c(r1)
/* 80260888 00256608  54 00 10 3A */	slwi r0, r0, 2
/* 8026088C 0025660C  7C 03 01 D6 */	mullw r0, r3, r0
/* 80260890 00256610  48 00 00 08 */	b lbl_80260898
lbl_80260894:
/* 80260894 00256614  38 00 00 00 */	li r0, 0
lbl_80260898:
/* 80260898 00256618  90 1F 00 08 */	stw r0, 8(r31)
/* 8026089C 0025661C  38 60 00 00 */	li r3, 0
lbl_802608A0:
/* 802608A0 00256620  80 01 07 44 */	lwz r0, 0x744(r1)
/* 802608A4 00256624  83 E1 07 3C */	lwz r31, 0x73c(r1)
/* 802608A8 00256628  83 C1 07 38 */	lwz r30, 0x738(r1)
/* 802608AC 0025662C  83 A1 07 34 */	lwz r29, 0x734(r1)
/* 802608B0 00256630  7C 08 03 A6 */	mtlr r0
/* 802608B4 00256634  38 21 07 40 */	addi r1, r1, 0x740
/* 802608B8 00256638  4E 80 00 20 */	blr 

.global TMCCJPEGDecDecode
TMCCJPEGDecDecode:
/* 802608BC 0025663C  94 21 F8 B0 */	stwu r1, -0x750(r1)
/* 802608C0 00256640  7C 08 02 A6 */	mflr r0
/* 802608C4 00256644  90 01 07 54 */	stw r0, 0x754(r1)
/* 802608C8 00256648  BF 01 07 30 */	stmw r24, 0x730(r1)
/* 802608CC 0025664C  7C 78 1B 78 */	mr r24, r3
/* 802608D0 00256650  7C 99 23 78 */	mr r25, r4
/* 802608D4 00256654  7C BA 2B 78 */	mr r26, r5
/* 802608D8 00256658  7C DE 33 78 */	mr r30, r6
/* 802608DC 0025665C  7C FF 3B 78 */	mr r31, r7
/* 802608E0 00256660  7D 1B 43 78 */	mr r27, r8
/* 802608E4 00256664  7D 3C 4B 78 */	mr r28, r9
/* 802608E8 00256668  7D 5D 53 78 */	mr r29, r10
/* 802608EC 0025666C  80 6D AA 30 */	lwz r3, lbl_8059EE50-_SDA_BASE_(r13)
/* 802608F0 00256670  4B F7 5C 9D */	bl OSRegisterVersion
/* 802608F4 00256674  28 1D 00 01 */	cmplwi r29, 1
/* 802608F8 00256678  9B 81 00 2D */	stb r28, 0x2d(r1)
/* 802608FC 0025667C  9B 61 00 14 */	stb r27, 0x14(r1)
/* 80260900 00256680  93 01 00 10 */	stw r24, 0x10(r1)
/* 80260904 00256684  93 41 00 18 */	stw r26, 0x18(r1)
/* 80260908 00256688  40 82 00 8C */	bne lbl_80260994
/* 8026090C 0025668C  38 00 00 01 */	li r0, 1
/* 80260910 00256690  7F 25 CB 78 */	mr r5, r25
/* 80260914 00256694  98 01 00 2C */	stb r0, 0x2c(r1)
/* 80260918 00256698  38 61 00 0C */	addi r3, r1, 0xc
/* 8026091C 0025669C  38 81 00 08 */	addi r4, r1, 8
/* 80260920 002566A0  38 C1 00 10 */	addi r6, r1, 0x10
/* 80260924 002566A4  48 00 37 51 */	bl TMCC_JPEG_GetOffsetEXIF
/* 80260928 002566A8  2C 03 00 00 */	cmpwi r3, 0
/* 8026092C 002566AC  40 80 00 20 */	bge lbl_8026094C
/* 80260930 002566B0  2C 03 FF BB */	cmpwi r3, -69
/* 80260934 002566B4  41 82 00 0C */	beq lbl_80260940
/* 80260938 002566B8  2C 03 FF FE */	cmpwi r3, -2
/* 8026093C 002566BC  40 82 01 54 */	bne lbl_80260A90
lbl_80260940:
/* 80260940 002566C0  38 60 FF 60 */	li r3, -160
/* 80260944 002566C4  48 00 01 4C */	b lbl_80260A90
/* 80260948 002566C8  48 00 01 48 */	b lbl_80260A90
lbl_8026094C:
/* 8026094C 002566CC  80 01 00 08 */	lwz r0, 8(r1)
/* 80260950 002566D0  7C 00 D0 40 */	cmplw r0, r26
/* 80260954 002566D4  40 81 00 0C */	ble lbl_80260960
/* 80260958 002566D8  38 60 FF 60 */	li r3, -160
/* 8026095C 002566DC  48 00 01 34 */	b lbl_80260A90
lbl_80260960:
/* 80260960 002566E0  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80260964 002566E4  38 61 00 30 */	addi r3, r1, 0x30
/* 80260968 002566E8  38 A1 00 10 */	addi r5, r1, 0x10
/* 8026096C 002566EC  7C 99 02 14 */	add r4, r25, r0
/* 80260970 002566F0  48 00 39 81 */	bl TMCC_JPEG_GetInfoEXIF
/* 80260974 002566F4  2C 03 00 00 */	cmpwi r3, 0
/* 80260978 002566F8  7C 7D 1B 78 */	mr r29, r3
/* 8026097C 002566FC  40 80 00 50 */	bge lbl_802609CC
/* 80260980 00256700  2C 03 FF BB */	cmpwi r3, -69
/* 80260984 00256704  38 60 FF 60 */	li r3, -160
/* 80260988 00256708  41 82 01 08 */	beq lbl_80260A90
/* 8026098C 0025670C  7F A3 EB 78 */	mr r3, r29
/* 80260990 00256710  48 00 01 00 */	b lbl_80260A90
lbl_80260994:
/* 80260994 00256714  2C 1D 00 00 */	cmpwi r29, 0
/* 80260998 00256718  40 82 00 2C */	bne lbl_802609C4
/* 8026099C 0025671C  38 00 00 00 */	li r0, 0
/* 802609A0 00256720  7F 24 CB 78 */	mr r4, r25
/* 802609A4 00256724  98 01 00 2C */	stb r0, 0x2c(r1)
/* 802609A8 00256728  38 61 00 30 */	addi r3, r1, 0x30
/* 802609AC 0025672C  38 A1 00 10 */	addi r5, r1, 0x10
/* 802609B0 00256730  48 00 18 69 */	bl TMCC_JPEG_InitDecoder
/* 802609B4 00256734  2C 03 00 00 */	cmpwi r3, 0
/* 802609B8 00256738  7C 7D 1B 78 */	mr r29, r3
/* 802609BC 0025673C  40 80 00 10 */	bge lbl_802609CC
/* 802609C0 00256740  48 00 00 D0 */	b lbl_80260A90
lbl_802609C4:
/* 802609C4 00256744  38 60 FF FF */	li r3, -1
/* 802609C8 00256748  48 00 00 C8 */	b lbl_80260A90
lbl_802609CC:
/* 802609CC 0025674C  80 01 00 38 */	lwz r0, 0x38(r1)
/* 802609D0 00256750  2C 00 00 05 */	cmpwi r0, 5
/* 802609D4 00256754  41 82 00 48 */	beq lbl_80260A1C
/* 802609D8 00256758  40 80 00 10 */	bge lbl_802609E8
/* 802609DC 0025675C  2C 00 00 04 */	cmpwi r0, 4
/* 802609E0 00256760  40 80 00 14 */	bge lbl_802609F4
/* 802609E4 00256764  48 00 00 38 */	b lbl_80260A1C
lbl_802609E8:
/* 802609E8 00256768  2C 00 00 07 */	cmpwi r0, 7
/* 802609EC 0025676C  40 80 00 30 */	bge lbl_80260A1C
/* 802609F0 00256770  48 00 00 18 */	b lbl_80260A08
lbl_802609F4:
/* 802609F4 00256774  80 01 00 78 */	lwz r0, 0x78(r1)
/* 802609F8 00256778  80 61 00 7C */	lwz r3, 0x7c(r1)
/* 802609FC 0025677C  54 00 08 3C */	slwi r0, r0, 1
/* 80260A00 00256780  7C 03 01 D6 */	mullw r0, r3, r0
/* 80260A04 00256784  48 00 00 1C */	b lbl_80260A20
lbl_80260A08:
/* 80260A08 00256788  80 01 00 78 */	lwz r0, 0x78(r1)
/* 80260A0C 0025678C  80 61 00 7C */	lwz r3, 0x7c(r1)
/* 80260A10 00256790  54 00 10 3A */	slwi r0, r0, 2
/* 80260A14 00256794  7C 03 01 D6 */	mullw r0, r3, r0
/* 80260A18 00256798  48 00 00 08 */	b lbl_80260A20
lbl_80260A1C:
/* 80260A1C 0025679C  38 00 00 00 */	li r0, 0
lbl_80260A20:
/* 80260A20 002567A0  7C 00 F8 40 */	cmplw r0, r31
/* 80260A24 002567A4  40 81 00 0C */	ble lbl_80260A30
/* 80260A28 002567A8  38 60 FF 70 */	li r3, -144
/* 80260A2C 002567AC  48 00 00 64 */	b lbl_80260A90
lbl_80260A30:
/* 80260A30 002567B0  7F A4 EB 78 */	mr r4, r29
/* 80260A34 002567B4  7F C5 F3 78 */	mr r5, r30
/* 80260A38 002567B8  38 61 00 30 */	addi r3, r1, 0x30
/* 80260A3C 002567BC  48 00 1A 09 */	bl TMCC_JPEG_Decoder
/* 80260A40 002567C0  2C 03 00 00 */	cmpwi r3, 0
/* 80260A44 002567C4  40 80 00 08 */	bge lbl_80260A4C
/* 80260A48 002567C8  48 00 00 48 */	b lbl_80260A90
lbl_80260A4C:
/* 80260A4C 002567CC  41 81 FF E4 */	bgt lbl_80260A30
/* 80260A50 002567D0  80 01 00 38 */	lwz r0, 0x38(r1)
/* 80260A54 002567D4  2C 00 00 05 */	cmpwi r0, 5
/* 80260A58 002567D8  41 82 00 34 */	beq lbl_80260A8C
/* 80260A5C 002567DC  40 80 00 10 */	bge lbl_80260A6C
/* 80260A60 002567E0  2C 00 00 04 */	cmpwi r0, 4
/* 80260A64 002567E4  40 80 00 14 */	bge lbl_80260A78
/* 80260A68 002567E8  48 00 00 24 */	b lbl_80260A8C
lbl_80260A6C:
/* 80260A6C 002567EC  2C 00 00 07 */	cmpwi r0, 7
/* 80260A70 002567F0  40 80 00 1C */	bge lbl_80260A8C
/* 80260A74 002567F4  48 00 00 10 */	b lbl_80260A84
lbl_80260A78:
/* 80260A78 002567F8  38 61 00 30 */	addi r3, r1, 0x30
/* 80260A7C 002567FC  48 00 87 2D */	bl TMCC_JPEGDEC_fillerBlankTileRGB565
/* 80260A80 00256800  48 00 00 0C */	b lbl_80260A8C
lbl_80260A84:
/* 80260A84 00256804  38 61 00 30 */	addi r3, r1, 0x30
/* 80260A88 00256808  48 00 6D ED */	bl TMCC_JPEGDEC_fillerBlankTileRGBA8
lbl_80260A8C:
/* 80260A8C 0025680C  38 60 00 00 */	li r3, 0
lbl_80260A90:
/* 80260A90 00256810  BB 01 07 30 */	lmw r24, 0x730(r1)
/* 80260A94 00256814  80 01 07 54 */	lwz r0, 0x754(r1)
/* 80260A98 00256818  7C 08 03 A6 */	mtlr r0
/* 80260A9C 0025681C  38 21 07 50 */	addi r1, r1, 0x750
/* 80260AA0 00256820  4E 80 00 20 */	blr 

