.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gfPadReadThread$7run
gfPadReadThread$7run:
/* 8002B9C4 00021744  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8002B9C8 00021748  7C 08 02 A6 */	mflr r0
/* 8002B9CC 0002174C  90 01 00 34 */	stw r0, 0x34(r1)
/* 8002B9D0 00021750  39 61 00 30 */	addi r11, r1, 0x30
/* 8002B9D4 00021754  48 3C 59 49 */	bl _savegpr_26
/* 8002B9D8 00021758  3C 80 80 42 */	lis r4, lbl_80422E88@ha
/* 8002B9DC 0002175C  3C 00 43 30 */	lis r0, 0x4330
/* 8002B9E0 00021760  38 84 2E 88 */	addi r4, r4, lbl_80422E88@l
/* 8002B9E4 00021764  3F C0 80 00 */	lis r30, 0x800000F8@ha
/* 8002B9E8 00021768  90 83 03 2C */	stw r4, 0x32c(r3)
/* 8002B9EC 0002176C  7C 7F 1B 78 */	mr r31, r3
/* 8002B9F0 00021770  C8 42 82 38 */	lfd f2, lbl_805A1558-_SDA2_BASE_(r2)
/* 8002B9F4 00021774  80 7E 00 F8 */	lwz r3, 0x800000F8@l(r30)
/* 8002B9F8 00021778  90 01 00 08 */	stw r0, 8(r1)
/* 8002B9FC 0002177C  54 60 F0 BE */	srwi r0, r3, 2
/* 8002BA00 00021780  C0 02 82 30 */	lfs f0, lbl_805A1550-_SDA2_BASE_(r2)
/* 8002BA04 00021784  90 01 00 0C */	stw r0, 0xc(r1)
/* 8002BA08 00021788  83 AD BC 20 */	lwz r29, lbl_805A0040-_SDA_BASE_(r13)
/* 8002BA0C 0002178C  C8 21 00 08 */	lfd f1, 8(r1)
/* 8002BA10 00021790  EC 21 10 28 */	fsubs f1, f1, f2
/* 8002BA14 00021794  EC 21 00 24 */	fdivs f1, f1, f0
/* 8002BA18 00021798  48 3C 5E 7D */	bl __cvt_dbl_usll
/* 8002BA1C 0002179C  7C 9B 23 78 */	mr r27, r4
/* 8002BA20 000217A0  7C 7C 1B 78 */	mr r28, r3
/* 8002BA24 000217A4  48 1B 61 11 */	bl OSGetTime
/* 8002BA28 000217A8  80 DE 00 F8 */	lwz r6, 0xf8(r30)
/* 8002BA2C 000217AC  3C A0 10 62 */	lis r5, 0x10624DD3@ha
/* 8002BA30 000217B0  38 E5 4D D3 */	addi r7, r5, 0x10624DD3@l
/* 8002BA34 000217B4  38 00 00 00 */	li r0, 0
/* 8002BA38 000217B8  54 C5 F0 BE */	srwi r5, r6, 2
/* 8002BA3C 000217BC  7C A7 28 16 */	mulhwu r5, r7, r5
/* 8002BA40 000217C0  54 A5 D1 BE */	srwi r5, r5, 6
/* 8002BA44 000217C4  7F 45 20 14 */	addc r26, r5, r4
/* 8002BA48 000217C8  7F C0 19 14 */	adde r30, r0, r3
/* 8002BA4C 000217CC  7F A3 EB 78 */	mr r3, r29
/* 8002BA50 000217D0  48 1A AC 49 */	bl OSCreateAlarm
/* 8002BA54 000217D4  3D 20 80 03 */	lis r9, gfPadSystem$7_alarmCallback@ha
/* 8002BA58 000217D8  7F A3 EB 78 */	mr r3, r29
/* 8002BA5C 000217DC  7F 46 D3 78 */	mr r6, r26
/* 8002BA60 000217E0  7F C5 F3 78 */	mr r5, r30
/* 8002BA64 000217E4  7F 68 DB 78 */	mr r8, r27
/* 8002BA68 000217E8  7F 87 E3 78 */	mr r7, r28
/* 8002BA6C 000217EC  39 29 8B 20 */	addi r9, r9, gfPadSystem$7_alarmCallback@l
/* 8002BA70 000217F0  48 1A AE F9 */	bl OSSetPeriodicAlarm
lbl_8002BA74:
/* 8002BA74 000217F4  38 7F 00 08 */	addi r3, r31, 8
/* 8002BA78 000217F8  48 1B 5B 85 */	bl OSSuspendThread
/* 8002BA7C 000217FC  80 6D BC 20 */	lwz r3, lbl_805A0040-_SDA_BASE_(r13)
/* 8002BA80 00021800  4B FF D9 B9 */	bl gfPadSystem$7updateLow
/* 8002BA84 00021804  88 1F 03 40 */	lbz r0, 0x340(r31)
/* 8002BA88 00021808  2C 00 00 00 */	cmpwi r0, 0
/* 8002BA8C 0002180C  40 82 FF E8 */	bne lbl_8002BA74
/* 8002BA90 00021810  7F A3 EB 78 */	mr r3, r29
/* 8002BA94 00021814  48 1A AF 59 */	bl OSCancelAlarm
/* 8002BA98 00021818  39 61 00 30 */	addi r11, r1, 0x30
/* 8002BA9C 0002181C  48 3C 58 CD */	bl _restgpr_26
/* 8002BAA0 00021820  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8002BAA4 00021824  7C 08 03 A6 */	mtlr r0
/* 8002BAA8 00021828  38 21 00 30 */	addi r1, r1, 0x30
/* 8002BAAC 0002182C  4E 80 00 20 */	blr 

