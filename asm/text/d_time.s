.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global dTM_GetNowTime
dTM_GetNowTime:
/* 803C7318 003BD098  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 803C731C 003BD09C  7C 08 02 A6 */	mflr r0
/* 803C7320 003BD0A0  90 01 00 54 */	stw r0, 0x54(r1)
/* 803C7324 003BD0A4  93 E1 00 4C */	stw r31, 0x4c(r1)
/* 803C7328 003BD0A8  7C 9F 23 78 */	mr r31, r4
/* 803C732C 003BD0AC  93 C1 00 48 */	stw r30, 0x48(r1)
/* 803C7330 003BD0B0  7C 7E 1B 78 */	mr r30, r3
/* 803C7334 003BD0B4  4B FF F9 5D */	bl VFSysGetTimeStampCallback
/* 803C7338 003BD0B8  38 00 00 00 */	li r0, 0
/* 803C733C 003BD0BC  2C 03 00 00 */	cmpwi r3, 0
/* 803C7340 003BD0C0  B0 1E 00 00 */	sth r0, 0(r30)
/* 803C7344 003BD0C4  B0 1E 00 02 */	sth r0, 2(r30)
/* 803C7348 003BD0C8  B0 1E 00 04 */	sth r0, 4(r30)
/* 803C734C 003BD0CC  B0 1F 00 00 */	sth r0, 0(r31)
/* 803C7350 003BD0D0  B0 1F 00 02 */	sth r0, 2(r31)
/* 803C7354 003BD0D4  B0 1F 00 04 */	sth r0, 4(r31)
/* 803C7358 003BD0D8  41 82 00 48 */	beq lbl_803C73A0
/* 803C735C 003BD0DC  7C 6C 1B 78 */	mr r12, r3
/* 803C7360 003BD0E0  38 61 00 08 */	addi r3, r1, 8
/* 803C7364 003BD0E4  7D 89 03 A6 */	mtctr r12
/* 803C7368 003BD0E8  4E 80 04 21 */	bctrl 
/* 803C736C 003BD0EC  80 01 00 1C */	lwz r0, 0x1c(r1)
/* 803C7370 003BD0F0  B0 1E 00 00 */	sth r0, 0(r30)
/* 803C7374 003BD0F4  80 01 00 18 */	lwz r0, 0x18(r1)
/* 803C7378 003BD0F8  B0 1E 00 02 */	sth r0, 2(r30)
/* 803C737C 003BD0FC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803C7380 003BD100  B0 1E 00 04 */	sth r0, 4(r30)
/* 803C7384 003BD104  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803C7388 003BD108  B0 1F 00 00 */	sth r0, 0(r31)
/* 803C738C 003BD10C  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803C7390 003BD110  B0 1F 00 02 */	sth r0, 2(r31)
/* 803C7394 003BD114  80 01 00 08 */	lwz r0, 8(r1)
/* 803C7398 003BD118  B0 1F 00 04 */	sth r0, 4(r31)
/* 803C739C 003BD11C  48 00 00 44 */	b lbl_803C73E0
lbl_803C73A0:
/* 803C73A0 003BD120  4B E1 A7 95 */	bl OSGetTime
/* 803C73A4 003BD124  38 A1 00 20 */	addi r5, r1, 0x20
/* 803C73A8 003BD128  4B E1 A9 D9 */	bl OSTicksToCalendarTime
/* 803C73AC 003BD12C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803C73B0 003BD130  B0 1E 00 00 */	sth r0, 0(r30)
/* 803C73B4 003BD134  80 61 00 30 */	lwz r3, 0x30(r1)
/* 803C73B8 003BD138  38 03 00 01 */	addi r0, r3, 1
/* 803C73BC 003BD13C  B0 1E 00 02 */	sth r0, 2(r30)
/* 803C73C0 003BD140  80 01 00 2C */	lwz r0, 0x2c(r1)
/* 803C73C4 003BD144  B0 1E 00 04 */	sth r0, 4(r30)
/* 803C73C8 003BD148  80 01 00 28 */	lwz r0, 0x28(r1)
/* 803C73CC 003BD14C  B0 1F 00 00 */	sth r0, 0(r31)
/* 803C73D0 003BD150  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803C73D4 003BD154  B0 1F 00 02 */	sth r0, 2(r31)
/* 803C73D8 003BD158  80 01 00 20 */	lwz r0, 0x20(r1)
/* 803C73DC 003BD15C  B0 1F 00 04 */	sth r0, 4(r31)
lbl_803C73E0:
/* 803C73E0 003BD160  80 01 00 54 */	lwz r0, 0x54(r1)
/* 803C73E4 003BD164  83 E1 00 4C */	lwz r31, 0x4c(r1)
/* 803C73E8 003BD168  83 C1 00 48 */	lwz r30, 0x48(r1)
/* 803C73EC 003BD16C  7C 08 03 A6 */	mtlr r0
/* 803C73F0 003BD170  38 21 00 50 */	addi r1, r1, 0x50
/* 803C73F4 003BD174  4E 80 00 20 */	blr 

