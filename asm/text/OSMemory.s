.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global OSGetPhysicalMem1Size
OSGetPhysicalMem1Size:
/* 801DE368 001D40E8  3C 60 80 00 */	lis r3, 0x80003100@ha
/* 801DE36C 001D40EC  80 63 31 00 */	lwz r3, 0x80003100@l(r3)
/* 801DE370 001D40F0  4E 80 00 20 */	blr 

.global OSGetPhysicalMem2Size
OSGetPhysicalMem2Size:
/* 801DE374 001D40F4  3C 60 80 00 */	lis r3, 0x80003118@ha
/* 801DE378 001D40F8  80 63 31 18 */	lwz r3, 0x80003118@l(r3)
/* 801DE37C 001D40FC  4E 80 00 20 */	blr 

.global OSGetConsoleSimulatedMem1Size
OSGetConsoleSimulatedMem1Size:
/* 801DE380 001D4100  3C 60 80 00 */	lis r3, 0x80003104@ha
/* 801DE384 001D4104  80 63 31 04 */	lwz r3, 0x80003104@l(r3)
/* 801DE388 001D4108  4E 80 00 20 */	blr 

.global OSGetConsoleSimulatedMem2Size
OSGetConsoleSimulatedMem2Size:
/* 801DE38C 001D410C  3C 60 80 00 */	lis r3, 0x8000311C@ha
/* 801DE390 001D4110  80 63 31 1C */	lwz r3, 0x8000311C@l(r3)
/* 801DE394 001D4114  4E 80 00 20 */	blr 

.global OnShutdown
OnShutdown:
/* 801DE398 001D4118  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801DE39C 001D411C  7C 08 02 A6 */	mflr r0
/* 801DE3A0 001D4120  2C 03 00 00 */	cmpwi r3, 0
/* 801DE3A4 001D4124  90 01 00 14 */	stw r0, 0x14(r1)
/* 801DE3A8 001D4128  41 82 00 18 */	beq lbl_801DE3C0
/* 801DE3AC 001D412C  38 00 00 FF */	li r0, 0xff
/* 801DE3B0 001D4130  3C 60 CC 00 */	lis r3, 0xCC004010@ha
/* 801DE3B4 001D4134  B0 03 40 10 */	sth r0, 0xCC004010@l(r3)
/* 801DE3B8 001D4138  3C 60 F0 00 */	lis r3, 0xf000
/* 801DE3BC 001D413C  4B FF EE E5 */	bl __OSMaskInterrupts
lbl_801DE3C0:
/* 801DE3C0 001D4140  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801DE3C4 001D4144  38 60 00 01 */	li r3, 1
/* 801DE3C8 001D4148  7C 08 03 A6 */	mtlr r0
/* 801DE3CC 001D414C  38 21 00 10 */	addi r1, r1, 0x10
/* 801DE3D0 001D4150  4E 80 00 20 */	blr 

.global MEMIntrruptHandler
MEMIntrruptHandler:
/* 801DE3D4 001D4154  3D 00 CC 00 */	lis r8, 0xCC00401E@ha
/* 801DE3D8 001D4158  3C 60 80 4E */	lis r3, lbl_804DD190@ha
/* 801DE3DC 001D415C  A0 A8 40 1E */	lhz r5, 0xCC00401E@l(r8)
/* 801DE3E0 001D4160  38 00 00 00 */	li r0, 0
/* 801DE3E4 001D4164  A0 E8 40 24 */	lhz r7, 0x4024(r8)
/* 801DE3E8 001D4168  38 63 D1 90 */	addi r3, r3, lbl_804DD190@l
/* 801DE3EC 001D416C  A0 C8 40 22 */	lhz r6, 0x4022(r8)
/* 801DE3F0 001D4170  50 E6 81 9E */	rlwimi r6, r7, 0x10, 6, 0xf
/* 801DE3F4 001D4174  B0 08 40 20 */	sth r0, 0x4020(r8)
/* 801DE3F8 001D4178  81 83 00 3C */	lwz r12, 0x3c(r3)
/* 801DE3FC 001D417C  2C 0C 00 00 */	cmpwi r12, 0
/* 801DE400 001D4180  41 82 00 14 */	beq lbl_801DE414
/* 801DE404 001D4184  38 60 00 0F */	li r3, 0xf
/* 801DE408 001D4188  4C C6 31 82 */	crclr 6
/* 801DE40C 001D418C  7D 89 03 A6 */	mtctr r12
/* 801DE410 001D4190  4E 80 04 20 */	bctr 
lbl_801DE414:
/* 801DE414 001D4194  38 60 00 0F */	li r3, 0xf
/* 801DE418 001D4198  4B FF A6 2C */	b __OSUnhandledException

.global ConfigMEM1_24MB
ConfigMEM1_24MB:
/* 801DE41C 001D419C  38 E0 00 00 */	li r7, 0
/* 801DE420 001D41A0  3C 80 00 00 */	lis r4, 0x00000002@ha
/* 801DE424 001D41A4  38 84 00 02 */	addi r4, r4, 0x00000002@l
/* 801DE428 001D41A8  3C 60 80 00 */	lis r3, 0x800001FF@ha
/* 801DE42C 001D41AC  38 63 01 FF */	addi r3, r3, 0x800001FF@l
/* 801DE430 001D41B0  3C C0 01 00 */	lis r6, 0x01000002@ha
/* 801DE434 001D41B4  38 C6 00 02 */	addi r6, r6, 0x01000002@l
/* 801DE438 001D41B8  3C A0 81 00 */	lis r5, 0x810000FF@ha
/* 801DE43C 001D41BC  38 A5 00 FF */	addi r5, r5, 0x810000FF@l
/* 801DE440 001D41C0  4C 00 01 2C */	isync 
/* 801DE444 001D41C4  7C F8 83 A6 */	mtdbatu 0, r7
/* 801DE448 001D41C8  7C 99 83 A6 */	mtdbatl 0, r4
/* 801DE44C 001D41CC  7C 78 83 A6 */	mtdbatu 0, r3
/* 801DE450 001D41D0  4C 00 01 2C */	isync 
/* 801DE454 001D41D4  7C F0 83 A6 */	mtibatu 0, r7
/* 801DE458 001D41D8  7C 91 83 A6 */	mtibatl 0, r4
/* 801DE45C 001D41DC  7C 70 83 A6 */	mtibatu 0, r3
/* 801DE460 001D41E0  4C 00 01 2C */	isync 
/* 801DE464 001D41E4  7C FC 83 A6 */	mtdbatu 2, r7
/* 801DE468 001D41E8  7C DD 83 A6 */	mtdbatl 2, r6
/* 801DE46C 001D41EC  7C BC 83 A6 */	mtdbatu 2, r5
/* 801DE470 001D41F0  4C 00 01 2C */	isync 
/* 801DE474 001D41F4  7C F4 83 A6 */	mtibatu 2, r7
/* 801DE478 001D41F8  7C D5 83 A6 */	mtibatl 2, r6
/* 801DE47C 001D41FC  7C B4 83 A6 */	mtibatu 2, r5
/* 801DE480 001D4200  4C 00 01 2C */	isync 
/* 801DE484 001D4204  7C 60 00 A6 */	mfmsr r3
/* 801DE488 001D4208  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE48C 001D420C  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE490 001D4210  7C 68 02 A6 */	mflr r3
/* 801DE494 001D4214  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE498 001D4218  4C 00 00 64 */	rfi 

.global ConfigMEM1_48MB
ConfigMEM1_48MB:
/* 801DE49C 001D421C  38 E0 00 00 */	li r7, 0
/* 801DE4A0 001D4220  3C 80 00 00 */	lis r4, 0x00000002@ha
/* 801DE4A4 001D4224  38 84 00 02 */	addi r4, r4, 0x00000002@l
/* 801DE4A8 001D4228  3C 60 80 00 */	lis r3, 0x800003FF@ha
/* 801DE4AC 001D422C  38 63 03 FF */	addi r3, r3, 0x800003FF@l
/* 801DE4B0 001D4230  3C C0 02 00 */	lis r6, 0x02000002@ha
/* 801DE4B4 001D4234  38 C6 00 02 */	addi r6, r6, 0x02000002@l
/* 801DE4B8 001D4238  3C A0 82 00 */	lis r5, 0x820001FF@ha
/* 801DE4BC 001D423C  38 A5 01 FF */	addi r5, r5, 0x820001FF@l
/* 801DE4C0 001D4240  4C 00 01 2C */	isync 
/* 801DE4C4 001D4244  7C F8 83 A6 */	mtdbatu 0, r7
/* 801DE4C8 001D4248  7C 99 83 A6 */	mtdbatl 0, r4
/* 801DE4CC 001D424C  7C 78 83 A6 */	mtdbatu 0, r3
/* 801DE4D0 001D4250  4C 00 01 2C */	isync 
/* 801DE4D4 001D4254  7C F0 83 A6 */	mtibatu 0, r7
/* 801DE4D8 001D4258  7C 91 83 A6 */	mtibatl 0, r4
/* 801DE4DC 001D425C  7C 70 83 A6 */	mtibatu 0, r3
/* 801DE4E0 001D4260  4C 00 01 2C */	isync 
/* 801DE4E4 001D4264  7C FC 83 A6 */	mtdbatu 2, r7
/* 801DE4E8 001D4268  7C DD 83 A6 */	mtdbatl 2, r6
/* 801DE4EC 001D426C  7C BC 83 A6 */	mtdbatu 2, r5
/* 801DE4F0 001D4270  4C 00 01 2C */	isync 
/* 801DE4F4 001D4274  7C F4 83 A6 */	mtibatu 2, r7
/* 801DE4F8 001D4278  7C D5 83 A6 */	mtibatl 2, r6
/* 801DE4FC 001D427C  7C B4 83 A6 */	mtibatu 2, r5
/* 801DE500 001D4280  4C 00 01 2C */	isync 
/* 801DE504 001D4284  7C 60 00 A6 */	mfmsr r3
/* 801DE508 001D4288  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE50C 001D428C  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE510 001D4290  7C 68 02 A6 */	mflr r3
/* 801DE514 001D4294  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE518 001D4298  4C 00 00 64 */	rfi 

.global ConfigMEM2_52MB
ConfigMEM2_52MB:
/* 801DE51C 001D429C  38 E0 00 00 */	li r7, 0
/* 801DE520 001D42A0  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 801DE524 001D42A4  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 801DE528 001D42A8  3C 60 90 00 */	lis r3, 0x900003FF@ha
/* 801DE52C 001D42AC  38 63 03 FF */	addi r3, r3, 0x900003FF@l
/* 801DE530 001D42B0  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 801DE534 001D42B4  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 801DE538 001D42B8  3C A0 D0 00 */	lis r5, 0xD00007FF@ha
/* 801DE53C 001D42BC  38 A5 07 FF */	addi r5, r5, 0xD00007FF@l
/* 801DE540 001D42C0  4C 00 01 2C */	isync 
/* 801DE544 001D42C4  7C F8 8B A6 */	mtspr 0x238, r7
/* 801DE548 001D42C8  7C 99 8B A6 */	mtspr 0x239, r4
/* 801DE54C 001D42CC  7C 78 8B A6 */	mtspr 0x238, r3
/* 801DE550 001D42D0  4C 00 01 2C */	isync 
/* 801DE554 001D42D4  7C F0 8B A6 */	mtspr 0x230, r7
/* 801DE558 001D42D8  7C 91 8B A6 */	mtspr 0x231, r4
/* 801DE55C 001D42DC  7C 70 8B A6 */	mtspr 0x230, r3
/* 801DE560 001D42E0  4C 00 01 2C */	isync 
/* 801DE564 001D42E4  7C FA 8B A6 */	mtspr 0x23a, r7
/* 801DE568 001D42E8  7C DB 8B A6 */	mtspr 0x23b, r6
/* 801DE56C 001D42EC  7C BA 8B A6 */	mtspr 0x23a, r5
/* 801DE570 001D42F0  4C 00 01 2C */	isync 
/* 801DE574 001D42F4  7C F2 8B A6 */	mtspr 0x232, r7
/* 801DE578 001D42F8  7C F3 8B A6 */	mtspr 0x233, r7
/* 801DE57C 001D42FC  4C 00 01 2C */	isync 
/* 801DE580 001D4300  3C 80 12 00 */	lis r4, 0x12000002@ha
/* 801DE584 001D4304  38 84 00 02 */	addi r4, r4, 0x12000002@l
/* 801DE588 001D4308  3C 60 92 00 */	lis r3, 0x920001FF@ha
/* 801DE58C 001D430C  38 63 01 FF */	addi r3, r3, 0x920001FF@l
/* 801DE590 001D4310  3C C0 13 00 */	lis r6, 0x13000002@ha
/* 801DE594 001D4314  38 C6 00 02 */	addi r6, r6, 0x13000002@l
/* 801DE598 001D4318  3C A0 93 00 */	lis r5, 0x9300007F@ha
/* 801DE59C 001D431C  38 A5 00 7F */	addi r5, r5, 0x9300007F@l
/* 801DE5A0 001D4320  4C 00 01 2C */	isync 
/* 801DE5A4 001D4324  7C FC 8B A6 */	mtspr 0x23c, r7
/* 801DE5A8 001D4328  7C 9D 8B A6 */	mtspr 0x23d, r4
/* 801DE5AC 001D432C  7C 7C 8B A6 */	mtspr 0x23c, r3
/* 801DE5B0 001D4330  4C 00 01 2C */	isync 
/* 801DE5B4 001D4334  7C F4 8B A6 */	mtspr 0x234, r7
/* 801DE5B8 001D4338  7C 95 8B A6 */	mtspr 0x235, r4
/* 801DE5BC 001D433C  7C 74 8B A6 */	mtspr 0x234, r3
/* 801DE5C0 001D4340  4C 00 01 2C */	isync 
/* 801DE5C4 001D4344  7C FE 8B A6 */	mtspr 0x23e, r7
/* 801DE5C8 001D4348  7C DF 8B A6 */	mtspr 0x23f, r6
/* 801DE5CC 001D434C  7C BE 8B A6 */	mtspr 0x23e, r5
/* 801DE5D0 001D4350  4C 00 01 2C */	isync 
/* 801DE5D4 001D4354  7C F6 8B A6 */	mtspr 0x236, r7
/* 801DE5D8 001D4358  7C D7 8B A6 */	mtspr 0x237, r6
/* 801DE5DC 001D435C  7C B6 8B A6 */	mtspr 0x236, r5
/* 801DE5E0 001D4360  4C 00 01 2C */	isync 
/* 801DE5E4 001D4364  7C 60 00 A6 */	mfmsr r3
/* 801DE5E8 001D4368  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE5EC 001D436C  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE5F0 001D4370  7C 68 02 A6 */	mflr r3
/* 801DE5F4 001D4374  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE5F8 001D4378  4C 00 00 64 */	rfi 

.global ConfigMEM2_56MB
ConfigMEM2_56MB:
/* 801DE5FC 001D437C  38 E0 00 00 */	li r7, 0
/* 801DE600 001D4380  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 801DE604 001D4384  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 801DE608 001D4388  3C 60 90 00 */	lis r3, 0x900003FF@ha
/* 801DE60C 001D438C  38 63 03 FF */	addi r3, r3, 0x900003FF@l
/* 801DE610 001D4390  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 801DE614 001D4394  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 801DE618 001D4398  3C A0 D0 00 */	lis r5, 0xD00007FF@ha
/* 801DE61C 001D439C  38 A5 07 FF */	addi r5, r5, 0xD00007FF@l
/* 801DE620 001D43A0  4C 00 01 2C */	isync 
/* 801DE624 001D43A4  7C F8 8B A6 */	mtspr 0x238, r7
/* 801DE628 001D43A8  7C 99 8B A6 */	mtspr 0x239, r4
/* 801DE62C 001D43AC  7C 78 8B A6 */	mtspr 0x238, r3
/* 801DE630 001D43B0  4C 00 01 2C */	isync 
/* 801DE634 001D43B4  7C F0 8B A6 */	mtspr 0x230, r7
/* 801DE638 001D43B8  7C 91 8B A6 */	mtspr 0x231, r4
/* 801DE63C 001D43BC  7C 70 8B A6 */	mtspr 0x230, r3
/* 801DE640 001D43C0  4C 00 01 2C */	isync 
/* 801DE644 001D43C4  7C FA 8B A6 */	mtspr 0x23a, r7
/* 801DE648 001D43C8  7C DB 8B A6 */	mtspr 0x23b, r6
/* 801DE64C 001D43CC  7C BA 8B A6 */	mtspr 0x23a, r5
/* 801DE650 001D43D0  4C 00 01 2C */	isync 
/* 801DE654 001D43D4  7C F2 8B A6 */	mtspr 0x232, r7
/* 801DE658 001D43D8  7C F3 8B A6 */	mtspr 0x233, r7
/* 801DE65C 001D43DC  4C 00 01 2C */	isync 
/* 801DE660 001D43E0  3C 80 12 00 */	lis r4, 0x12000002@ha
/* 801DE664 001D43E4  38 84 00 02 */	addi r4, r4, 0x12000002@l
/* 801DE668 001D43E8  3C 60 92 00 */	lis r3, 0x920001FF@ha
/* 801DE66C 001D43EC  38 63 01 FF */	addi r3, r3, 0x920001FF@l
/* 801DE670 001D43F0  3C C0 13 00 */	lis r6, 0x13000002@ha
/* 801DE674 001D43F4  38 C6 00 02 */	addi r6, r6, 0x13000002@l
/* 801DE678 001D43F8  3C A0 93 00 */	lis r5, 0x930000FF@ha
/* 801DE67C 001D43FC  38 A5 00 FF */	addi r5, r5, 0x930000FF@l
/* 801DE680 001D4400  4C 00 01 2C */	isync 
/* 801DE684 001D4404  7C FC 8B A6 */	mtspr 0x23c, r7
/* 801DE688 001D4408  7C 9D 8B A6 */	mtspr 0x23d, r4
/* 801DE68C 001D440C  7C 7C 8B A6 */	mtspr 0x23c, r3
/* 801DE690 001D4410  4C 00 01 2C */	isync 
/* 801DE694 001D4414  7C F4 8B A6 */	mtspr 0x234, r7
/* 801DE698 001D4418  7C 95 8B A6 */	mtspr 0x235, r4
/* 801DE69C 001D441C  7C 74 8B A6 */	mtspr 0x234, r3
/* 801DE6A0 001D4420  4C 00 01 2C */	isync 
/* 801DE6A4 001D4424  7C FE 8B A6 */	mtspr 0x23e, r7
/* 801DE6A8 001D4428  7C DF 8B A6 */	mtspr 0x23f, r6
/* 801DE6AC 001D442C  7C BE 8B A6 */	mtspr 0x23e, r5
/* 801DE6B0 001D4430  4C 00 01 2C */	isync 
/* 801DE6B4 001D4434  7C F6 8B A6 */	mtspr 0x236, r7
/* 801DE6B8 001D4438  7C D7 8B A6 */	mtspr 0x237, r6
/* 801DE6BC 001D443C  7C B6 8B A6 */	mtspr 0x236, r5
/* 801DE6C0 001D4440  4C 00 01 2C */	isync 
/* 801DE6C4 001D4444  7C 60 00 A6 */	mfmsr r3
/* 801DE6C8 001D4448  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE6CC 001D444C  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE6D0 001D4450  7C 68 02 A6 */	mflr r3
/* 801DE6D4 001D4454  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE6D8 001D4458  4C 00 00 64 */	rfi 

.global ConfigMEM2_64MB
ConfigMEM2_64MB:
/* 801DE6DC 001D445C  38 E0 00 00 */	li r7, 0
/* 801DE6E0 001D4460  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 801DE6E4 001D4464  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 801DE6E8 001D4468  3C 60 90 00 */	lis r3, 0x900007FF@ha
/* 801DE6EC 001D446C  38 63 07 FF */	addi r3, r3, 0x900007FF@l
/* 801DE6F0 001D4470  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 801DE6F4 001D4474  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 801DE6F8 001D4478  3C A0 D0 00 */	lis r5, 0xD00007FF@ha
/* 801DE6FC 001D447C  38 A5 07 FF */	addi r5, r5, 0xD00007FF@l
/* 801DE700 001D4480  4C 00 01 2C */	isync 
/* 801DE704 001D4484  7C F8 8B A6 */	mtspr 0x238, r7
/* 801DE708 001D4488  7C 99 8B A6 */	mtspr 0x239, r4
/* 801DE70C 001D448C  7C 78 8B A6 */	mtspr 0x238, r3
/* 801DE710 001D4490  4C 00 01 2C */	isync 
/* 801DE714 001D4494  7C F0 8B A6 */	mtspr 0x230, r7
/* 801DE718 001D4498  7C 91 8B A6 */	mtspr 0x231, r4
/* 801DE71C 001D449C  7C 70 8B A6 */	mtspr 0x230, r3
/* 801DE720 001D44A0  4C 00 01 2C */	isync 
/* 801DE724 001D44A4  7C FA 8B A6 */	mtspr 0x23a, r7
/* 801DE728 001D44A8  7C DB 8B A6 */	mtspr 0x23b, r6
/* 801DE72C 001D44AC  7C BA 8B A6 */	mtspr 0x23a, r5
/* 801DE730 001D44B0  4C 00 01 2C */	isync 
/* 801DE734 001D44B4  7C F2 8B A6 */	mtspr 0x232, r7
/* 801DE738 001D44B8  7C F3 8B A6 */	mtspr 0x233, r7
/* 801DE73C 001D44BC  4C 00 01 2C */	isync 
/* 801DE740 001D44C0  7C F4 8B A6 */	mtspr 0x234, r7
/* 801DE744 001D44C4  7C F5 8B A6 */	mtspr 0x235, r7
/* 801DE748 001D44C8  4C 00 01 2C */	isync 
/* 801DE74C 001D44CC  7C F6 8B A6 */	mtspr 0x236, r7
/* 801DE750 001D44D0  7C F7 8B A6 */	mtspr 0x237, r7
/* 801DE754 001D44D4  4C 00 01 2C */	isync 
/* 801DE758 001D44D8  7C FC 8B A6 */	mtspr 0x23c, r7
/* 801DE75C 001D44DC  7C FD 8B A6 */	mtspr 0x23d, r7
/* 801DE760 001D44E0  4C 00 01 2C */	isync 
/* 801DE764 001D44E4  7C FE 8B A6 */	mtspr 0x23e, r7
/* 801DE768 001D44E8  7C FF 8B A6 */	mtspr 0x23f, r7
/* 801DE76C 001D44EC  4C 00 01 2C */	isync 
/* 801DE770 001D44F0  7C 60 00 A6 */	mfmsr r3
/* 801DE774 001D44F4  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE778 001D44F8  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE77C 001D44FC  7C 68 02 A6 */	mflr r3
/* 801DE780 001D4500  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE784 001D4504  4C 00 00 64 */	rfi 

.global ConfigMEM2_112MB
ConfigMEM2_112MB:
/* 801DE788 001D4508  38 E0 00 00 */	li r7, 0
/* 801DE78C 001D450C  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 801DE790 001D4510  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 801DE794 001D4514  3C 60 90 00 */	lis r3, 0x900007FF@ha
/* 801DE798 001D4518  38 63 07 FF */	addi r3, r3, 0x900007FF@l
/* 801DE79C 001D451C  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 801DE7A0 001D4520  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 801DE7A4 001D4524  3C A0 D0 00 */	lis r5, 0xD0000FFF@ha
/* 801DE7A8 001D4528  38 A5 0F FF */	addi r5, r5, 0xD0000FFF@l
/* 801DE7AC 001D452C  4C 00 01 2C */	isync 
/* 801DE7B0 001D4530  7C F8 8B A6 */	mtspr 0x238, r7
/* 801DE7B4 001D4534  7C 99 8B A6 */	mtspr 0x239, r4
/* 801DE7B8 001D4538  7C 78 8B A6 */	mtspr 0x238, r3
/* 801DE7BC 001D453C  4C 00 01 2C */	isync 
/* 801DE7C0 001D4540  7C F0 8B A6 */	mtspr 0x230, r7
/* 801DE7C4 001D4544  7C 91 8B A6 */	mtspr 0x231, r4
/* 801DE7C8 001D4548  7C 70 8B A6 */	mtspr 0x230, r3
/* 801DE7CC 001D454C  4C 00 01 2C */	isync 
/* 801DE7D0 001D4550  7C FA 8B A6 */	mtspr 0x23a, r7
/* 801DE7D4 001D4554  7C DB 8B A6 */	mtspr 0x23b, r6
/* 801DE7D8 001D4558  7C BA 8B A6 */	mtspr 0x23a, r5
/* 801DE7DC 001D455C  4C 00 01 2C */	isync 
/* 801DE7E0 001D4560  7C F2 8B A6 */	mtspr 0x232, r7
/* 801DE7E4 001D4564  7C F3 8B A6 */	mtspr 0x233, r7
/* 801DE7E8 001D4568  4C 00 01 2C */	isync 
/* 801DE7EC 001D456C  3C 80 14 00 */	lis r4, 0x14000002@ha
/* 801DE7F0 001D4570  38 84 00 02 */	addi r4, r4, 0x14000002@l
/* 801DE7F4 001D4574  3C 60 94 00 */	lis r3, 0x940003FF@ha
/* 801DE7F8 001D4578  38 63 03 FF */	addi r3, r3, 0x940003FF@l
/* 801DE7FC 001D457C  3C C0 16 00 */	lis r6, 0x16000002@ha
/* 801DE800 001D4580  38 C6 00 02 */	addi r6, r6, 0x16000002@l
/* 801DE804 001D4584  3C A0 96 00 */	lis r5, 0x960001FF@ha
/* 801DE808 001D4588  38 A5 01 FF */	addi r5, r5, 0x960001FF@l
/* 801DE80C 001D458C  4C 00 01 2C */	isync 
/* 801DE810 001D4590  7C FC 8B A6 */	mtspr 0x23c, r7
/* 801DE814 001D4594  7C 9D 8B A6 */	mtspr 0x23d, r4
/* 801DE818 001D4598  7C 7C 8B A6 */	mtspr 0x23c, r3
/* 801DE81C 001D459C  4C 00 01 2C */	isync 
/* 801DE820 001D45A0  7C F4 8B A6 */	mtspr 0x234, r7
/* 801DE824 001D45A4  7C 95 8B A6 */	mtspr 0x235, r4
/* 801DE828 001D45A8  7C 74 8B A6 */	mtspr 0x234, r3
/* 801DE82C 001D45AC  4C 00 01 2C */	isync 
/* 801DE830 001D45B0  7C FE 8B A6 */	mtspr 0x23e, r7
/* 801DE834 001D45B4  7C DF 8B A6 */	mtspr 0x23f, r6
/* 801DE838 001D45B8  7C BE 8B A6 */	mtspr 0x23e, r5
/* 801DE83C 001D45BC  4C 00 01 2C */	isync 
/* 801DE840 001D45C0  7C F6 8B A6 */	mtspr 0x236, r7
/* 801DE844 001D45C4  7C D7 8B A6 */	mtspr 0x237, r6
/* 801DE848 001D45C8  7C B6 8B A6 */	mtspr 0x236, r5
/* 801DE84C 001D45CC  4C 00 01 2C */	isync 
/* 801DE850 001D45D0  7C 60 00 A6 */	mfmsr r3
/* 801DE854 001D45D4  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE858 001D45D8  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE85C 001D45DC  7C 68 02 A6 */	mflr r3
/* 801DE860 001D45E0  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE864 001D45E4  4C 00 00 64 */	rfi 

.global ConfigMEM2_128MB
ConfigMEM2_128MB:
/* 801DE868 001D45E8  38 E0 00 00 */	li r7, 0
/* 801DE86C 001D45EC  3C 80 10 00 */	lis r4, 0x10000002@ha
/* 801DE870 001D45F0  38 84 00 02 */	addi r4, r4, 0x10000002@l
/* 801DE874 001D45F4  3C 60 90 00 */	lis r3, 0x90000FFF@ha
/* 801DE878 001D45F8  38 63 0F FF */	addi r3, r3, 0x90000FFF@l
/* 801DE87C 001D45FC  3C C0 10 00 */	lis r6, 0x1000002A@ha
/* 801DE880 001D4600  38 C6 00 2A */	addi r6, r6, 0x1000002A@l
/* 801DE884 001D4604  3C A0 D0 00 */	lis r5, 0xD0000FFF@ha
/* 801DE888 001D4608  38 A5 0F FF */	addi r5, r5, 0xD0000FFF@l
/* 801DE88C 001D460C  4C 00 01 2C */	isync 
/* 801DE890 001D4610  7C F8 8B A6 */	mtspr 0x238, r7
/* 801DE894 001D4614  7C 99 8B A6 */	mtspr 0x239, r4
/* 801DE898 001D4618  7C 78 8B A6 */	mtspr 0x238, r3
/* 801DE89C 001D461C  4C 00 01 2C */	isync 
/* 801DE8A0 001D4620  7C F0 8B A6 */	mtspr 0x230, r7
/* 801DE8A4 001D4624  7C 91 8B A6 */	mtspr 0x231, r4
/* 801DE8A8 001D4628  7C 70 8B A6 */	mtspr 0x230, r3
/* 801DE8AC 001D462C  4C 00 01 2C */	isync 
/* 801DE8B0 001D4630  7C FA 8B A6 */	mtspr 0x23a, r7
/* 801DE8B4 001D4634  7C DB 8B A6 */	mtspr 0x23b, r6
/* 801DE8B8 001D4638  7C BA 8B A6 */	mtspr 0x23a, r5
/* 801DE8BC 001D463C  4C 00 01 2C */	isync 
/* 801DE8C0 001D4640  7C F2 8B A6 */	mtspr 0x232, r7
/* 801DE8C4 001D4644  7C F3 8B A6 */	mtspr 0x233, r7
/* 801DE8C8 001D4648  4C 00 01 2C */	isync 
/* 801DE8CC 001D464C  7C F4 8B A6 */	mtspr 0x234, r7
/* 801DE8D0 001D4650  7C F5 8B A6 */	mtspr 0x235, r7
/* 801DE8D4 001D4654  4C 00 01 2C */	isync 
/* 801DE8D8 001D4658  7C F6 8B A6 */	mtspr 0x236, r7
/* 801DE8DC 001D465C  7C F7 8B A6 */	mtspr 0x237, r7
/* 801DE8E0 001D4660  4C 00 01 2C */	isync 
/* 801DE8E4 001D4664  7C FC 8B A6 */	mtspr 0x23c, r7
/* 801DE8E8 001D4668  7C FD 8B A6 */	mtspr 0x23d, r7
/* 801DE8EC 001D466C  4C 00 01 2C */	isync 
/* 801DE8F0 001D4670  7C FE 8B A6 */	mtspr 0x23e, r7
/* 801DE8F4 001D4674  7C FF 8B A6 */	mtspr 0x23f, r7
/* 801DE8F8 001D4678  4C 00 01 2C */	isync 
/* 801DE8FC 001D467C  7C 60 00 A6 */	mfmsr r3
/* 801DE900 001D4680  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE904 001D4684  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE908 001D4688  7C 68 02 A6 */	mflr r3
/* 801DE90C 001D468C  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE910 001D4690  4C 00 00 64 */	rfi 

.global ConfigMEM_ES1_0
ConfigMEM_ES1_0:
/* 801DE914 001D4694  38 E0 00 00 */	li r7, 0
/* 801DE918 001D4698  3C 80 00 00 */	lis r4, 0x00000002@ha
/* 801DE91C 001D469C  38 84 00 02 */	addi r4, r4, 0x00000002@l
/* 801DE920 001D46A0  3C 60 80 00 */	lis r3, 0x80000FFF@ha
/* 801DE924 001D46A4  38 63 0F FF */	addi r3, r3, 0x80000FFF@l
/* 801DE928 001D46A8  4C 00 01 2C */	isync 
/* 801DE92C 001D46AC  7C F8 83 A6 */	mtdbatu 0, r7
/* 801DE930 001D46B0  7C 99 83 A6 */	mtdbatl 0, r4
/* 801DE934 001D46B4  7C 78 83 A6 */	mtdbatu 0, r3
/* 801DE938 001D46B8  4C 00 01 2C */	isync 
/* 801DE93C 001D46BC  7C F0 83 A6 */	mtibatu 0, r7
/* 801DE940 001D46C0  7C 91 83 A6 */	mtibatl 0, r4
/* 801DE944 001D46C4  7C 70 83 A6 */	mtibatu 0, r3
/* 801DE948 001D46C8  4C 00 01 2C */	isync 
/* 801DE94C 001D46CC  7C 60 00 A6 */	mfmsr r3
/* 801DE950 001D46D0  60 63 00 30 */	ori r3, r3, 0x30
/* 801DE954 001D46D4  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE958 001D46D8  7C 68 02 A6 */	mflr r3
/* 801DE95C 001D46DC  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE960 001D46E0  4C 00 00 64 */	rfi 

.global RealMode
RealMode:
/* 801DE964 001D46E4  54 63 00 BE */	clrlwi r3, r3, 2
/* 801DE968 001D46E8  7C 7A 03 A6 */	mtspr 0x1a, r3
/* 801DE96C 001D46EC  7C 60 00 A6 */	mfmsr r3
/* 801DE970 001D46F0  54 63 07 32 */	rlwinm r3, r3, 0, 0x1c, 0x19
/* 801DE974 001D46F4  7C 7B 03 A6 */	mtspr 0x1b, r3
/* 801DE978 001D46F8  4C 00 00 64 */	rfi 

.global BATConfig
BATConfig:
/* 801DE97C 001D46FC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801DE980 001D4700  7C 08 02 A6 */	mflr r0
/* 801DE984 001D4704  3C 60 80 00 */	lis r3, 0x80003138@ha
/* 801DE988 001D4708  90 01 00 14 */	stw r0, 0x14(r1)
/* 801DE98C 001D470C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801DE990 001D4710  80 03 31 38 */	lwz r0, 0x80003138@l(r3)
/* 801DE994 001D4714  2C 00 00 00 */	cmpwi r0, 0
/* 801DE998 001D4718  40 82 00 20 */	bne lbl_801DE9B8
/* 801DE99C 001D471C  3C 00 80 1E */	lis r0, 0x801e
/* 801DE9A0 001D4720  34 00 E3 68 */	addic. r0, r0, -7320
/* 801DE9A4 001D4724  40 82 00 14 */	bne lbl_801DE9B8
/* 801DE9A8 001D4728  3C 60 80 1E */	lis r3, ConfigMEM_ES1_0@ha
/* 801DE9AC 001D472C  38 63 E9 14 */	addi r3, r3, ConfigMEM_ES1_0@l
/* 801DE9B0 001D4730  4B FF FF B5 */	bl RealMode
/* 801DE9B4 001D4734  48 00 01 04 */	b lbl_801DEAB8
lbl_801DE9B8:
/* 801DE9B8 001D4738  3C 60 80 00 */	lis r3, 0x80003104@ha
/* 801DE9BC 001D473C  83 E3 31 04 */	lwz r31, 0x80003104@l(r3)
/* 801DE9C0 001D4740  80 03 31 00 */	lwz r0, 0x3100(r3)
/* 801DE9C4 001D4744  7C 1F 00 40 */	cmplw r31, r0
/* 801DE9C8 001D4748  40 80 00 28 */	bge lbl_801DE9F0
/* 801DE9CC 001D474C  3C 1F FE 80 */	addis r0, r31, 0xfe80
/* 801DE9D0 001D4750  28 00 00 00 */	cmplwi r0, 0
/* 801DE9D4 001D4754  40 82 00 1C */	bne lbl_801DE9F0
/* 801DE9D8 001D4758  3C 60 81 80 */	lis r3, 0x8180
/* 801DE9DC 001D475C  3C 80 01 80 */	lis r4, 0x180
/* 801DE9E0 001D4760  4B FF 8C DD */	bl DCInvalidateRange
/* 801DE9E4 001D4764  38 00 00 02 */	li r0, 2
/* 801DE9E8 001D4768  3C 60 CC 00 */	lis r3, 0xCC004028@ha
/* 801DE9EC 001D476C  B0 03 40 28 */	sth r0, 0xCC004028@l(r3)
lbl_801DE9F0:
/* 801DE9F0 001D4770  3C 00 01 80 */	lis r0, 0x180
/* 801DE9F4 001D4774  7C 1F 00 40 */	cmplw r31, r0
/* 801DE9F8 001D4778  41 81 00 14 */	bgt lbl_801DEA0C
/* 801DE9FC 001D477C  3C 60 80 1E */	lis r3, ConfigMEM1_24MB@ha
/* 801DEA00 001D4780  38 63 E4 1C */	addi r3, r3, ConfigMEM1_24MB@l
/* 801DEA04 001D4784  4B FF FF 61 */	bl RealMode
/* 801DEA08 001D4788  48 00 00 1C */	b lbl_801DEA24
lbl_801DEA0C:
/* 801DEA0C 001D478C  3C 00 03 00 */	lis r0, 0x300
/* 801DEA10 001D4790  7C 1F 00 40 */	cmplw r31, r0
/* 801DEA14 001D4794  41 81 00 10 */	bgt lbl_801DEA24
/* 801DEA18 001D4798  3C 60 80 1E */	lis r3, ConfigMEM1_48MB@ha
/* 801DEA1C 001D479C  38 63 E4 9C */	addi r3, r3, ConfigMEM1_48MB@l
/* 801DEA20 001D47A0  4B FF FF 45 */	bl RealMode
lbl_801DEA24:
/* 801DEA24 001D47A4  3C 60 80 00 */	lis r3, 0x8000311C@ha
/* 801DEA28 001D47A8  3C 00 04 00 */	lis r0, 0x400
/* 801DEA2C 001D47AC  80 83 31 1C */	lwz r4, 0x8000311C@l(r3)
/* 801DEA30 001D47B0  80 63 31 20 */	lwz r3, 0x3120(r3)
/* 801DEA34 001D47B4  7C 04 00 40 */	cmplw r4, r0
/* 801DEA38 001D47B8  41 81 00 4C */	bgt lbl_801DEA84
/* 801DEA3C 001D47BC  3C 00 93 40 */	lis r0, 0x9340
/* 801DEA40 001D47C0  7C 03 00 40 */	cmplw r3, r0
/* 801DEA44 001D47C4  41 81 00 14 */	bgt lbl_801DEA58
/* 801DEA48 001D47C8  3C 60 80 1E */	lis r3, ConfigMEM2_52MB@ha
/* 801DEA4C 001D47CC  38 63 E5 1C */	addi r3, r3, ConfigMEM2_52MB@l
/* 801DEA50 001D47D0  4B FF FF 15 */	bl RealMode
/* 801DEA54 001D47D4  48 00 00 64 */	b lbl_801DEAB8
lbl_801DEA58:
/* 801DEA58 001D47D8  3C 00 93 80 */	lis r0, 0x9380
/* 801DEA5C 001D47DC  7C 03 00 40 */	cmplw r3, r0
/* 801DEA60 001D47E0  41 81 00 14 */	bgt lbl_801DEA74
/* 801DEA64 001D47E4  3C 60 80 1E */	lis r3, ConfigMEM2_56MB@ha
/* 801DEA68 001D47E8  38 63 E5 FC */	addi r3, r3, ConfigMEM2_56MB@l
/* 801DEA6C 001D47EC  4B FF FE F9 */	bl RealMode
/* 801DEA70 001D47F0  48 00 00 48 */	b lbl_801DEAB8
lbl_801DEA74:
/* 801DEA74 001D47F4  3C 60 80 1E */	lis r3, ConfigMEM2_64MB@ha
/* 801DEA78 001D47F8  38 63 E6 DC */	addi r3, r3, ConfigMEM2_64MB@l
/* 801DEA7C 001D47FC  4B FF FE E9 */	bl RealMode
/* 801DEA80 001D4800  48 00 00 38 */	b lbl_801DEAB8
lbl_801DEA84:
/* 801DEA84 001D4804  3C 00 08 00 */	lis r0, 0x800
/* 801DEA88 001D4808  7C 04 00 40 */	cmplw r4, r0
/* 801DEA8C 001D480C  41 81 00 2C */	bgt lbl_801DEAB8
/* 801DEA90 001D4810  3C 00 97 00 */	lis r0, 0x9700
/* 801DEA94 001D4814  7C 03 00 40 */	cmplw r3, r0
/* 801DEA98 001D4818  41 81 00 14 */	bgt lbl_801DEAAC
/* 801DEA9C 001D481C  3C 60 80 1E */	lis r3, ConfigMEM2_112MB@ha
/* 801DEAA0 001D4820  38 63 E7 88 */	addi r3, r3, ConfigMEM2_112MB@l
/* 801DEAA4 001D4824  4B FF FE C1 */	bl RealMode
/* 801DEAA8 001D4828  48 00 00 10 */	b lbl_801DEAB8
lbl_801DEAAC:
/* 801DEAAC 001D482C  3C 60 80 1E */	lis r3, ConfigMEM2_128MB@ha
/* 801DEAB0 001D4830  38 63 E8 68 */	addi r3, r3, ConfigMEM2_128MB@l
/* 801DEAB4 001D4834  4B FF FE B1 */	bl RealMode
lbl_801DEAB8:
/* 801DEAB8 001D4838  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801DEABC 001D483C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 801DEAC0 001D4840  7C 08 03 A6 */	mtlr r0
/* 801DEAC4 001D4844  38 21 00 10 */	addi r1, r1, 0x10
/* 801DEAC8 001D4848  4E 80 00 20 */	blr 

.global __OSInitMemoryProtection
__OSInitMemoryProtection:
/* 801DEACC 001D484C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801DEAD0 001D4850  7C 08 02 A6 */	mflr r0
/* 801DEAD4 001D4854  90 01 00 14 */	stw r0, 0x14(r1)
/* 801DEAD8 001D4858  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801DEADC 001D485C  93 C1 00 08 */	stw r30, 8(r1)
/* 801DEAE0 001D4860  4B FF E4 31 */	bl OSDisableInterrupts
/* 801DEAE4 001D4864  3C 80 CC 00 */	lis r4, 0xCC004020@ha
/* 801DEAE8 001D4868  38 00 00 00 */	li r0, 0
/* 801DEAEC 001D486C  B0 04 40 20 */	sth r0, 0xCC004020@l(r4)
/* 801DEAF0 001D4870  38 00 00 FF */	li r0, 0xff
/* 801DEAF4 001D4874  7C 7E 1B 78 */	mr r30, r3
/* 801DEAF8 001D4878  3C 60 F0 00 */	lis r3, 0xf000
/* 801DEAFC 001D487C  B0 04 40 10 */	sth r0, 0x4010(r4)
/* 801DEB00 001D4880  4B FF E7 A1 */	bl __OSMaskInterrupts
/* 801DEB04 001D4884  3F E0 80 1E */	lis r31, MEMIntrruptHandler@ha
/* 801DEB08 001D4888  38 60 00 00 */	li r3, 0
/* 801DEB0C 001D488C  38 9F E3 D4 */	addi r4, r31, MEMIntrruptHandler@l
/* 801DEB10 001D4890  4B FF E4 4D */	bl __OSSetInterruptHandler
/* 801DEB14 001D4894  38 9F E3 D4 */	addi r4, r31, -7212
/* 801DEB18 001D4898  38 60 00 01 */	li r3, 1
/* 801DEB1C 001D489C  4B FF E4 41 */	bl __OSSetInterruptHandler
/* 801DEB20 001D48A0  38 9F E3 D4 */	addi r4, r31, -7212
/* 801DEB24 001D48A4  38 60 00 02 */	li r3, 2
/* 801DEB28 001D48A8  4B FF E4 35 */	bl __OSSetInterruptHandler
/* 801DEB2C 001D48AC  38 9F E3 D4 */	addi r4, r31, -7212
/* 801DEB30 001D48B0  38 60 00 03 */	li r3, 3
/* 801DEB34 001D48B4  4B FF E4 29 */	bl __OSSetInterruptHandler
/* 801DEB38 001D48B8  38 9F E3 D4 */	addi r4, r31, -7212
/* 801DEB3C 001D48BC  38 60 00 04 */	li r3, 4
/* 801DEB40 001D48C0  4B FF E4 1D */	bl __OSSetInterruptHandler
/* 801DEB44 001D48C4  3C 60 80 47 */	lis r3, lbl_804689D0@ha
/* 801DEB48 001D48C8  38 63 89 D0 */	addi r3, r3, lbl_804689D0@l
/* 801DEB4C 001D48CC  48 00 04 99 */	bl OSRegisterShutdownFunction
/* 801DEB50 001D48D0  4B FF FE 2D */	bl BATConfig
/* 801DEB54 001D48D4  3C 60 08 00 */	lis r3, 0x800
/* 801DEB58 001D48D8  4B FF E7 C9 */	bl __OSUnmaskInterrupts
/* 801DEB5C 001D48DC  7F C3 F3 78 */	mr r3, r30
/* 801DEB60 001D48E0  4B FF E3 D9 */	bl OSRestoreInterrupts
/* 801DEB64 001D48E4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801DEB68 001D48E8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 801DEB6C 001D48EC  83 C1 00 08 */	lwz r30, 8(r1)
/* 801DEB70 001D48F0  7C 08 03 A6 */	mtlr r0
/* 801DEB74 001D48F4  38 21 00 10 */	addi r1, r1, 0x10
/* 801DEB78 001D48F8  4E 80 00 20 */	blr 

