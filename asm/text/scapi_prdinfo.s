.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global __SCF1
__SCF1:
/* 80210118 00205E98  3C C0 73 B6 */	lis r6, 0x73B5DBFA@ha
/* 8021011C 00205E9C  38 00 00 80 */	li r0, 0x80
/* 80210120 00205EA0  39 66 DB FA */	addi r11, r6, 0x73B5DBFA@l
/* 80210124 00205EA4  39 20 00 00 */	li r9, 0
/* 80210128 00205EA8  39 80 00 00 */	li r12, 0
/* 8021012C 00205EAC  38 C0 00 00 */	li r6, 0
/* 80210130 00205EB0  39 40 00 00 */	li r10, 0
/* 80210134 00205EB4  7C 09 03 A6 */	mtctr r0
lbl_80210138:
/* 80210138 00205EB8  3D 0A 80 00 */	addis r8, r10, 0x8000
/* 8021013C 00205EBC  89 08 38 00 */	lbz r8, 0x3800(r8)
/* 80210140 00205EC0  2C 08 00 00 */	cmpwi r8, 0
/* 80210144 00205EC4  41 82 00 48 */	beq lbl_8021018C
/* 80210148 00205EC8  7C E3 60 AE */	lbzx r7, r3, r12
/* 8021014C 00205ECC  7D 00 5A 78 */	xor r0, r8, r11
/* 80210150 00205ED0  54 08 06 3E */	clrlwi r8, r0, 0x18
/* 80210154 00205ED4  7C E0 07 75 */	extsb. r0, r7
/* 80210158 00205ED8  40 82 00 14 */	bne lbl_8021016C
/* 8021015C 00205EDC  28 08 00 3D */	cmplwi r8, 0x3d
/* 80210160 00205EE0  40 82 00 0C */	bne lbl_8021016C
/* 80210164 00205EE4  39 20 00 01 */	li r9, 1
/* 80210168 00205EE8  48 00 00 9C */	b lbl_80210204
lbl_8021016C:
/* 8021016C 00205EEC  7C E7 07 74 */	extsb r7, r7
/* 80210170 00205EF0  38 0C 00 01 */	addi r0, r12, 1
/* 80210174 00205EF4  7D 07 3A 78 */	xor r7, r8, r7
/* 80210178 00205EF8  70 E7 00 DF */	andi. r7, r7, 0xdf
/* 8021017C 00205EFC  7C E7 00 34 */	cntlzw r7, r7
/* 80210180 00205F00  54 E7 DF FE */	rlwinm r7, r7, 0x1b, 0x1f, 0x1f
/* 80210184 00205F04  7C E7 00 D0 */	neg r7, r7
/* 80210188 00205F08  7C 0C 38 38 */	and r12, r0, r7
lbl_8021018C:
/* 8021018C 00205F0C  39 4A 00 01 */	addi r10, r10, 1
/* 80210190 00205F10  55 67 0F FE */	srwi r7, r11, 0x1f
/* 80210194 00205F14  3D 0A 80 00 */	addis r8, r10, 0x8000
/* 80210198 00205F18  55 60 08 3C */	slwi r0, r11, 1
/* 8021019C 00205F1C  89 08 38 00 */	lbz r8, 0x3800(r8)
/* 802101A0 00205F20  7C EB 03 78 */	or r11, r7, r0
/* 802101A4 00205F24  2C 08 00 00 */	cmpwi r8, 0
/* 802101A8 00205F28  41 82 00 48 */	beq lbl_802101F0
/* 802101AC 00205F2C  7C E3 60 AE */	lbzx r7, r3, r12
/* 802101B0 00205F30  7D 00 5A 78 */	xor r0, r8, r11
/* 802101B4 00205F34  54 08 06 3E */	clrlwi r8, r0, 0x18
/* 802101B8 00205F38  7C E0 07 75 */	extsb. r0, r7
/* 802101BC 00205F3C  40 82 00 14 */	bne lbl_802101D0
/* 802101C0 00205F40  28 08 00 3D */	cmplwi r8, 0x3d
/* 802101C4 00205F44  40 82 00 0C */	bne lbl_802101D0
/* 802101C8 00205F48  39 20 00 01 */	li r9, 1
/* 802101CC 00205F4C  48 00 00 38 */	b lbl_80210204
lbl_802101D0:
/* 802101D0 00205F50  7C E7 07 74 */	extsb r7, r7
/* 802101D4 00205F54  38 0C 00 01 */	addi r0, r12, 1
/* 802101D8 00205F58  7D 07 3A 78 */	xor r7, r8, r7
/* 802101DC 00205F5C  70 E7 00 DF */	andi. r7, r7, 0xdf
/* 802101E0 00205F60  7C E7 00 34 */	cntlzw r7, r7
/* 802101E4 00205F64  54 E7 DF FE */	rlwinm r7, r7, 0x1b, 0x1f, 0x1f
/* 802101E8 00205F68  7C E7 00 D0 */	neg r7, r7
/* 802101EC 00205F6C  7C 0C 38 38 */	and r12, r0, r7
lbl_802101F0:
/* 802101F0 00205F70  55 67 0F FE */	srwi r7, r11, 0x1f
/* 802101F4 00205F74  55 60 08 3C */	slwi r0, r11, 1
/* 802101F8 00205F78  7C EB 03 78 */	or r11, r7, r0
/* 802101FC 00205F7C  39 4A 00 01 */	addi r10, r10, 1
/* 80210200 00205F80  42 00 FF 38 */	bdnz lbl_80210138
lbl_80210204:
/* 80210204 00205F84  2C 09 00 00 */	cmpwi r9, 0
/* 80210208 00205F88  41 82 00 74 */	beq lbl_8021027C
/* 8021020C 00205F8C  39 4A 00 01 */	addi r10, r10, 1
/* 80210210 00205F90  48 00 00 5C */	b lbl_8021026C
lbl_80210214:
/* 80210214 00205F94  3C 6A 80 00 */	addis r3, r10, 0x8000
/* 80210218 00205F98  55 67 0F FE */	srwi r7, r11, 0x1f
/* 8021021C 00205F9C  88 63 38 00 */	lbz r3, 0x3800(r3)
/* 80210220 00205FA0  55 60 08 3C */	slwi r0, r11, 1
/* 80210224 00205FA4  7C EB 03 78 */	or r11, r7, r0
/* 80210228 00205FA8  2C 03 00 00 */	cmpwi r3, 0
/* 8021022C 00205FAC  41 82 00 20 */	beq lbl_8021024C
/* 80210230 00205FB0  7C 60 5A 78 */	xor r0, r3, r11
/* 80210234 00205FB4  54 03 06 3E */	clrlwi r3, r0, 0x18
/* 80210238 00205FB8  28 03 00 0D */	cmplwi r3, 0xd
/* 8021023C 00205FBC  41 82 00 0C */	beq lbl_80210248
/* 80210240 00205FC0  28 03 00 0A */	cmplwi r3, 0xa
/* 80210244 00205FC4  40 82 00 08 */	bne lbl_8021024C
lbl_80210248:
/* 80210248 00205FC8  38 60 00 00 */	li r3, 0
lbl_8021024C:
/* 8021024C 00205FCC  2C 03 00 00 */	cmpwi r3, 0
/* 80210250 00205FD0  98 64 00 00 */	stb r3, 0(r4)
/* 80210254 00205FD4  38 C6 00 01 */	addi r6, r6, 1
/* 80210258 00205FD8  38 84 00 01 */	addi r4, r4, 1
/* 8021025C 00205FDC  40 82 00 0C */	bne lbl_80210268
/* 80210260 00205FE0  38 60 00 01 */	li r3, 1
/* 80210264 00205FE4  4E 80 00 20 */	blr 
lbl_80210268:
/* 80210268 00205FE8  39 4A 00 01 */	addi r10, r10, 1
lbl_8021026C:
/* 8021026C 00205FEC  28 0A 01 00 */	cmplwi r10, 0x100
/* 80210270 00205FF0  40 80 00 0C */	bge lbl_8021027C
/* 80210274 00205FF4  7C 06 28 40 */	cmplw r6, r5
/* 80210278 00205FF8  41 80 FF 9C */	blt lbl_80210214
lbl_8021027C:
/* 8021027C 00205FFC  38 60 00 00 */	li r3, 0
/* 80210280 00206000  4E 80 00 20 */	blr 

.global SCGetProductArea
SCGetProductArea:
/* 80210284 00206004  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80210288 00206008  7C 08 02 A6 */	mflr r0
/* 8021028C 0020600C  38 6D A8 68 */	addi r3, r13, lbl_8059EC88-_SDA_BASE_
/* 80210290 00206010  38 A0 00 04 */	li r5, 4
/* 80210294 00206014  90 01 00 24 */	stw r0, 0x24(r1)
/* 80210298 00206018  38 81 00 08 */	addi r4, r1, 8
/* 8021029C 0020601C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 802102A0 00206020  93 C1 00 18 */	stw r30, 0x18(r1)
/* 802102A4 00206024  3F C0 80 48 */	lis r30, lbl_8047C4E0@ha
/* 802102A8 00206028  3B DE C4 E0 */	addi r30, r30, lbl_8047C4E0@l
/* 802102AC 0020602C  4B FF FE 6D */	bl __SCF1
/* 802102B0 00206030  2C 03 00 00 */	cmpwi r3, 0
/* 802102B4 00206034  41 82 00 38 */	beq lbl_802102EC
/* 802102B8 00206038  48 00 00 24 */	b lbl_802102DC
lbl_802102BC:
/* 802102BC 0020603C  38 7E 00 01 */	addi r3, r30, 1
/* 802102C0 00206040  38 81 00 08 */	addi r4, r1, 8
/* 802102C4 00206044  48 1E A1 39 */	bl strcmp
/* 802102C8 00206048  2C 03 00 00 */	cmpwi r3, 0
/* 802102CC 0020604C  40 82 00 0C */	bne lbl_802102D8
/* 802102D0 00206050  7F E3 FB 78 */	mr r3, r31
/* 802102D4 00206054  48 00 00 1C */	b lbl_802102F0
lbl_802102D8:
/* 802102D8 00206058  3B DE 00 05 */	addi r30, r30, 5
lbl_802102DC:
/* 802102DC 0020605C  8B FE 00 00 */	lbz r31, 0(r30)
/* 802102E0 00206060  7F E0 07 74 */	extsb r0, r31
/* 802102E4 00206064  2C 00 FF FF */	cmpwi r0, -1
/* 802102E8 00206068  40 82 FF D4 */	bne lbl_802102BC
lbl_802102EC:
/* 802102EC 0020606C  38 60 FF FF */	li r3, -1
lbl_802102F0:
/* 802102F0 00206070  80 01 00 24 */	lwz r0, 0x24(r1)
/* 802102F4 00206074  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 802102F8 00206078  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 802102FC 0020607C  7C 08 03 A6 */	mtlr r0
/* 80210300 00206080  38 21 00 20 */	addi r1, r1, 0x20
/* 80210304 00206084  4E 80 00 20 */	blr 

.global SCGetProductCode
SCGetProductCode:
/* 80210308 00206088  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8021030C 0020608C  7C 08 02 A6 */	mflr r0
/* 80210310 00206090  38 6D A8 70 */	addi r3, r13, lbl_8059EC90-_SDA_BASE_
/* 80210314 00206094  38 8D C7 B0 */	addi r4, r13, lbl_805A0BD0-_SDA_BASE_
/* 80210318 00206098  90 01 00 14 */	stw r0, 0x14(r1)
/* 8021031C 0020609C  38 A0 00 06 */	li r5, 6
/* 80210320 002060A0  4B FF FD F9 */	bl __SCF1
/* 80210324 002060A4  2C 03 00 00 */	cmpwi r3, 0
/* 80210328 002060A8  38 60 00 00 */	li r3, 0
/* 8021032C 002060AC  41 82 00 08 */	beq lbl_80210334
/* 80210330 002060B0  38 6D C7 B0 */	addi r3, r13, lbl_805A0BD0-_SDA_BASE_
lbl_80210334:
/* 80210334 002060B4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80210338 002060B8  7C 08 03 A6 */	mtlr r0
/* 8021033C 002060BC  38 21 00 10 */	addi r1, r1, 0x10
/* 80210340 002060C0  4E 80 00 20 */	blr 

.global SCGetProductSN
SCGetProductSN:
/* 80210344 002060C4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80210348 002060C8  7C 08 02 A6 */	mflr r0
/* 8021034C 002060CC  38 A0 00 0B */	li r5, 0xb
/* 80210350 002060D0  90 01 00 24 */	stw r0, 0x24(r1)
/* 80210354 002060D4  38 81 00 08 */	addi r4, r1, 8
/* 80210358 002060D8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8021035C 002060DC  7C 7F 1B 78 */	mr r31, r3
/* 80210360 002060E0  38 6D A8 78 */	addi r3, r13, lbl_8059EC98-_SDA_BASE_
/* 80210364 002060E4  4B FF FD B5 */	bl __SCF1
/* 80210368 002060E8  2C 03 00 00 */	cmpwi r3, 0
/* 8021036C 002060EC  41 82 00 28 */	beq lbl_80210394
/* 80210370 002060F0  7F E5 FB 78 */	mr r5, r31
/* 80210374 002060F4  38 61 00 08 */	addi r3, r1, 8
/* 80210378 002060F8  38 8D A8 80 */	addi r4, r13, lbl_8059ECA0-_SDA_BASE_
/* 8021037C 002060FC  4C C6 31 82 */	crclr 6
/* 80210380 00206100  48 1E 9D 89 */	bl sscanf
/* 80210384 00206104  2C 03 00 01 */	cmpwi r3, 1
/* 80210388 00206108  40 82 00 0C */	bne lbl_80210394
/* 8021038C 0020610C  38 60 00 01 */	li r3, 1
/* 80210390 00206110  48 00 00 08 */	b lbl_80210398
lbl_80210394:
/* 80210394 00206114  38 60 00 00 */	li r3, 0
lbl_80210398:
/* 80210398 00206118  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8021039C 0020611C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 802103A0 00206120  7C 08 03 A6 */	mtlr r0
/* 802103A4 00206124  38 21 00 20 */	addi r1, r1, 0x20
/* 802103A8 00206128  4E 80 00 20 */	blr 

.global SCGetProductGameRegion
SCGetProductGameRegion:
/* 802103AC 0020612C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 802103B0 00206130  7C 08 02 A6 */	mflr r0
/* 802103B4 00206134  38 6D A8 84 */	addi r3, r13, lbl_8059ECA4-_SDA_BASE_
/* 802103B8 00206138  38 A0 00 03 */	li r5, 3
/* 802103BC 0020613C  90 01 00 24 */	stw r0, 0x24(r1)
/* 802103C0 00206140  38 81 00 08 */	addi r4, r1, 8
/* 802103C4 00206144  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 802103C8 00206148  93 C1 00 18 */	stw r30, 0x18(r1)
/* 802103CC 0020614C  3F C0 80 48 */	lis r30, lbl_8047C528@ha
/* 802103D0 00206150  3B DE C5 28 */	addi r30, r30, lbl_8047C528@l
/* 802103D4 00206154  4B FF FD 45 */	bl __SCF1
/* 802103D8 00206158  2C 03 00 00 */	cmpwi r3, 0
/* 802103DC 0020615C  41 82 00 38 */	beq lbl_80210414
/* 802103E0 00206160  48 00 00 24 */	b lbl_80210404
lbl_802103E4:
/* 802103E4 00206164  38 7E 00 01 */	addi r3, r30, 1
/* 802103E8 00206168  38 81 00 08 */	addi r4, r1, 8
/* 802103EC 0020616C  48 1E A0 11 */	bl strcmp
/* 802103F0 00206170  2C 03 00 00 */	cmpwi r3, 0
/* 802103F4 00206174  40 82 00 0C */	bne lbl_80210400
/* 802103F8 00206178  7F E3 FB 78 */	mr r3, r31
/* 802103FC 0020617C  48 00 00 1C */	b lbl_80210418
lbl_80210400:
/* 80210400 00206180  3B DE 00 04 */	addi r30, r30, 4
lbl_80210404:
/* 80210404 00206184  8B FE 00 00 */	lbz r31, 0(r30)
/* 80210408 00206188  7F E0 07 74 */	extsb r0, r31
/* 8021040C 0020618C  2C 00 FF FF */	cmpwi r0, -1
/* 80210410 00206190  40 82 FF D4 */	bne lbl_802103E4
lbl_80210414:
/* 80210414 00206194  38 60 FF FF */	li r3, -1
lbl_80210418:
/* 80210418 00206198  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8021041C 0020619C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80210420 002061A0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80210424 002061A4  7C 08 03 A6 */	mtlr r0
/* 80210428 002061A8  38 21 00 20 */	addi r1, r1, 0x20
/* 8021042C 002061AC  4E 80 00 20 */	blr 

