.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global PFFAT32_ReadFATEntry
PFFAT32_ReadFATEntry:
/* 803E3120 003D8EA0  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E3124 003D8EA4  7C 08 02 A6 */	mflr r0
/* 803E3128 003D8EA8  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E312C 003D8EAC  39 61 00 30 */	addi r11, r1, 0x30
/* 803E3130 003D8EB0  48 00 E1 ED */	bl _savegpr_26
/* 803E3134 003D8EB4  A1 03 00 18 */	lhz r8, 0x18(r3)
/* 803E3138 003D8EB8  54 89 10 3A */	slwi r9, r4, 2
/* 803E313C 003D8EBC  88 C3 00 20 */	lbz r6, 0x20(r3)
/* 803E3140 003D8EC0  7C 7E 1B 78 */	mr r30, r3
/* 803E3144 003D8EC4  A0 83 00 00 */	lhz r4, 0(r3)
/* 803E3148 003D8EC8  55 00 06 31 */	rlwinm. r0, r8, 0, 0x18, 0x18
/* 803E314C 003D8ECC  80 E3 00 28 */	lwz r7, 0x28(r3)
/* 803E3150 003D8ED0  7D 23 34 30 */	srw r3, r9, r6
/* 803E3154 003D8ED4  38 04 FF FF */	addi r0, r4, -1
/* 803E3158 003D8ED8  7C BF 2B 78 */	mr r31, r5
/* 803E315C 003D8EDC  7C 67 1A 14 */	add r3, r7, r3
/* 803E3160 003D8EE0  3B 40 00 01 */	li r26, 1
/* 803E3164 003D8EE4  7D 20 00 38 */	and r0, r9, r0
/* 803E3168 003D8EE8  54 7D 04 3E */	clrlwi r29, r3, 0x10
/* 803E316C 003D8EEC  54 1C 04 3E */	clrlwi r28, r0, 0x10
/* 803E3170 003D8EF0  41 82 00 08 */	beq lbl_803E3178
/* 803E3174 003D8EF4  55 1A 07 7E */	clrlwi r26, r8, 0x1d
lbl_803E3178:
/* 803E3178 003D8EF8  7F C3 F3 78 */	mr r3, r30
/* 803E317C 003D8EFC  7F A5 EB 78 */	mr r5, r29
/* 803E3180 003D8F00  7F 86 E3 78 */	mr r6, r28
/* 803E3184 003D8F04  38 81 00 08 */	addi r4, r1, 8
/* 803E3188 003D8F08  38 E0 00 04 */	li r7, 4
/* 803E318C 003D8F0C  48 00 5C 35 */	bl PFSEC_ReadFAT
/* 803E3190 003D8F10  2C 03 10 00 */	cmpwi r3, 0x1000
/* 803E3194 003D8F14  7C 7B 1B 78 */	mr r27, r3
/* 803E3198 003D8F18  40 82 00 50 */	bne lbl_803E31E8
/* 803E319C 003D8F1C  81 9E 1F C0 */	lwz r12, 0x1fc0(r30)
/* 803E31A0 003D8F20  2C 0C 00 00 */	cmpwi r12, 0
/* 803E31A4 003D8F24  41 82 00 44 */	beq lbl_803E31E8
/* 803E31A8 003D8F28  80 7E 1F 84 */	lwz r3, 0x1f84(r30)
/* 803E31AC 003D8F2C  7D 89 03 A6 */	mtctr r12
/* 803E31B0 003D8F30  4E 80 04 21 */	bctrl 
/* 803E31B4 003D8F34  2C 03 00 00 */	cmpwi r3, 0
/* 803E31B8 003D8F38  41 82 00 48 */	beq lbl_803E3200
/* 803E31BC 003D8F3C  2C 03 00 01 */	cmpwi r3, 1
/* 803E31C0 003D8F40  40 82 00 28 */	bne lbl_803E31E8
/* 803E31C4 003D8F44  88 1E 00 22 */	lbz r0, 0x22(r30)
/* 803E31C8 003D8F48  28 00 00 02 */	cmplwi r0, 2
/* 803E31CC 003D8F4C  41 80 00 1C */	blt lbl_803E31E8
/* 803E31D0 003D8F50  7C 1A 00 40 */	cmplw r26, r0
/* 803E31D4 003D8F54  40 80 00 14 */	bge lbl_803E31E8
/* 803E31D8 003D8F58  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 803E31DC 003D8F5C  3B 5A 00 01 */	addi r26, r26, 1
/* 803E31E0 003D8F60  7F BD 02 14 */	add r29, r29, r0
/* 803E31E4 003D8F64  48 00 00 1C */	b lbl_803E3200
lbl_803E31E8:
/* 803E31E8 003D8F68  2C 1B 00 00 */	cmpwi r27, 0
/* 803E31EC 003D8F6C  41 82 00 14 */	beq lbl_803E3200
/* 803E31F0 003D8F70  38 00 FF FF */	li r0, -1
/* 803E31F4 003D8F74  7F 63 DB 78 */	mr r3, r27
/* 803E31F8 003D8F78  90 1F 00 00 */	stw r0, 0(r31)
/* 803E31FC 003D8F7C  48 00 00 30 */	b lbl_803E322C
lbl_803E3200:
/* 803E3200 003D8F80  2C 1B 00 00 */	cmpwi r27, 0
/* 803E3204 003D8F84  40 82 FF 74 */	bne lbl_803E3178
/* 803E3208 003D8F88  80 A1 00 08 */	lwz r5, 8(r1)
/* 803E320C 003D8F8C  38 60 00 00 */	li r3, 0
/* 803E3210 003D8F90  54 A4 42 1E */	rlwinm r4, r5, 8, 8, 0xf
/* 803E3214 003D8F94  54 A0 C4 2E */	rlwinm r0, r5, 0x18, 0x10, 0x17
/* 803E3218 003D8F98  50 A4 C0 0E */	rlwimi r4, r5, 0x18, 0, 7
/* 803E321C 003D8F9C  50 A0 46 3E */	rlwimi r0, r5, 8, 0x18, 0x1f
/* 803E3220 003D8FA0  7C 80 03 78 */	or r0, r4, r0
/* 803E3224 003D8FA4  54 00 01 3E */	clrlwi r0, r0, 4
/* 803E3228 003D8FA8  90 1F 00 00 */	stw r0, 0(r31)
lbl_803E322C:
/* 803E322C 003D8FAC  39 61 00 30 */	addi r11, r1, 0x30
/* 803E3230 003D8FB0  48 00 E1 39 */	bl _restgpr_26
/* 803E3234 003D8FB4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E3238 003D8FB8  7C 08 03 A6 */	mtlr r0
/* 803E323C 003D8FBC  38 21 00 30 */	addi r1, r1, 0x30
/* 803E3240 003D8FC0  4E 80 00 20 */	blr 

.global PFFAT32_WriteFATEntry
PFFAT32_WriteFATEntry:
/* 803E3244 003D8FC4  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E3248 003D8FC8  7C 08 02 A6 */	mflr r0
/* 803E324C 003D8FCC  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E3250 003D8FD0  39 61 00 30 */	addi r11, r1, 0x30
/* 803E3254 003D8FD4  48 00 E0 C9 */	bl _savegpr_26
/* 803E3258 003D8FD8  A0 C3 00 00 */	lhz r6, 0(r3)
/* 803E325C 003D8FDC  54 87 10 3A */	slwi r7, r4, 2
/* 803E3260 003D8FE0  88 83 00 20 */	lbz r4, 0x20(r3)
/* 803E3264 003D8FE4  7C 7F 1B 78 */	mr r31, r3
/* 803E3268 003D8FE8  38 06 FF FF */	addi r0, r6, -1
/* 803E326C 003D8FEC  80 C3 00 28 */	lwz r6, 0x28(r3)
/* 803E3270 003D8FF0  7C E4 24 30 */	srw r4, r7, r4
/* 803E3274 003D8FF4  7C BA 2B 78 */	mr r26, r5
/* 803E3278 003D8FF8  7C E0 00 38 */	and r0, r7, r0
/* 803E327C 003D8FFC  38 E0 00 04 */	li r7, 4
/* 803E3280 003D9000  7C 86 22 14 */	add r4, r6, r4
/* 803E3284 003D9004  54 9E 04 3E */	clrlwi r30, r4, 0x10
/* 803E3288 003D9008  54 1D 04 3E */	clrlwi r29, r0, 0x10
/* 803E328C 003D900C  38 81 00 08 */	addi r4, r1, 8
/* 803E3290 003D9010  7F C5 F3 78 */	mr r5, r30
/* 803E3294 003D9014  7F A6 EB 78 */	mr r6, r29
/* 803E3298 003D9018  48 00 5B 29 */	bl PFSEC_ReadFAT
/* 803E329C 003D901C  2C 03 00 00 */	cmpwi r3, 0
/* 803E32A0 003D9020  41 82 00 08 */	beq lbl_803E32A8
/* 803E32A4 003D9024  48 00 00 94 */	b lbl_803E3338
lbl_803E32A8:
/* 803E32A8 003D9028  80 81 00 08 */	lwz r4, 8(r1)
/* 803E32AC 003D902C  3B 60 00 00 */	li r27, 0
/* 803E32B0 003D9030  3B 80 00 00 */	li r28, 0
/* 803E32B4 003D9034  54 83 42 1E */	rlwinm r3, r4, 8, 8, 0xf
/* 803E32B8 003D9038  54 80 C4 2E */	rlwinm r0, r4, 0x18, 0x10, 0x17
/* 803E32BC 003D903C  50 83 C0 0E */	rlwimi r3, r4, 0x18, 0, 7
/* 803E32C0 003D9040  50 80 46 3E */	rlwimi r0, r4, 8, 0x18, 0x1f
/* 803E32C4 003D9044  7C 60 03 78 */	or r0, r3, r0
/* 803E32C8 003D9048  54 04 00 06 */	rlwinm r4, r0, 0, 0, 3
/* 803E32CC 003D904C  53 44 01 3E */	rlwimi r4, r26, 0, 4, 0x1f
/* 803E32D0 003D9050  54 83 42 1E */	rlwinm r3, r4, 8, 8, 0xf
/* 803E32D4 003D9054  54 80 C4 2E */	rlwinm r0, r4, 0x18, 0x10, 0x17
/* 803E32D8 003D9058  50 83 C0 0E */	rlwimi r3, r4, 0x18, 0, 7
/* 803E32DC 003D905C  50 80 46 3E */	rlwimi r0, r4, 8, 0x18, 0x1f
/* 803E32E0 003D9060  7C 60 03 78 */	or r0, r3, r0
/* 803E32E4 003D9064  90 01 00 08 */	stw r0, 8(r1)
/* 803E32E8 003D9068  48 00 00 3C */	b lbl_803E3324
lbl_803E32EC:
/* 803E32EC 003D906C  7F E3 FB 78 */	mr r3, r31
/* 803E32F0 003D9070  7F C5 F3 78 */	mr r5, r30
/* 803E32F4 003D9074  7F A6 EB 78 */	mr r6, r29
/* 803E32F8 003D9078  38 81 00 08 */	addi r4, r1, 8
/* 803E32FC 003D907C  38 E0 00 04 */	li r7, 4
/* 803E3300 003D9080  48 00 5E 79 */	bl PFSEC_WriteFAT
/* 803E3304 003D9084  2C 03 00 00 */	cmpwi r3, 0
/* 803E3308 003D9088  41 82 00 10 */	beq lbl_803E3318
/* 803E330C 003D908C  2C 1B 00 00 */	cmpwi r27, 0
/* 803E3310 003D9090  40 82 00 08 */	bne lbl_803E3318
/* 803E3314 003D9094  7C 7B 1B 78 */	mr r27, r3
lbl_803E3318:
/* 803E3318 003D9098  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 803E331C 003D909C  3B 9C 00 01 */	addi r28, r28, 1
/* 803E3320 003D90A0  7F DE 02 14 */	add r30, r30, r0
lbl_803E3324:
/* 803E3324 003D90A4  88 1F 00 22 */	lbz r0, 0x22(r31)
/* 803E3328 003D90A8  57 83 04 3E */	clrlwi r3, r28, 0x10
/* 803E332C 003D90AC  7C 03 00 00 */	cmpw r3, r0
/* 803E3330 003D90B0  41 80 FF BC */	blt lbl_803E32EC
/* 803E3334 003D90B4  7F 63 DB 78 */	mr r3, r27
lbl_803E3338:
/* 803E3338 003D90B8  39 61 00 30 */	addi r11, r1, 0x30
/* 803E333C 003D90BC  48 00 E0 2D */	bl _restgpr_26
/* 803E3340 003D90C0  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E3344 003D90C4  7C 08 03 A6 */	mtlr r0
/* 803E3348 003D90C8  38 21 00 30 */	addi r1, r1, 0x30
/* 803E334C 003D90CC  4E 80 00 20 */	blr 

.global PFFAT32_WriteFATEntryWithBuf
PFFAT32_WriteFATEntryWithBuf:
/* 803E3350 003D90D0  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E3354 003D90D4  7C 08 02 A6 */	mflr r0
/* 803E3358 003D90D8  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E335C 003D90DC  39 61 00 30 */	addi r11, r1, 0x30
/* 803E3360 003D90E0  48 00 DF B9 */	bl _savegpr_25
/* 803E3364 003D90E4  88 03 00 20 */	lbz r0, 0x20(r3)
/* 803E3368 003D90E8  54 87 10 3A */	slwi r7, r4, 2
/* 803E336C 003D90EC  80 83 00 28 */	lwz r4, 0x28(r3)
/* 803E3370 003D90F0  7C 7C 1B 78 */	mr r28, r3
/* 803E3374 003D90F4  7C E0 04 30 */	srw r0, r7, r0
/* 803E3378 003D90F8  A0 63 00 00 */	lhz r3, 0(r3)
/* 803E337C 003D90FC  7C 84 02 14 */	add r4, r4, r0
/* 803E3380 003D9100  80 06 00 18 */	lwz r0, 0x18(r6)
/* 803E3384 003D9104  54 9B 04 3E */	clrlwi r27, r4, 0x10
/* 803E3388 003D9108  38 63 FF FF */	addi r3, r3, -1
/* 803E338C 003D910C  7C 00 D8 40 */	cmplw r0, r27
/* 803E3390 003D9110  7C BD 2B 78 */	mr r29, r5
/* 803E3394 003D9114  7C E0 18 38 */	and r0, r7, r3
/* 803E3398 003D9118  7C D9 33 78 */	mr r25, r6
/* 803E339C 003D911C  54 1F 04 3E */	clrlwi r31, r0, 0x10
/* 803E33A0 003D9120  38 60 00 00 */	li r3, 0
/* 803E33A4 003D9124  3B C0 00 00 */	li r30, 0
/* 803E33A8 003D9128  41 82 00 84 */	beq lbl_803E342C
/* 803E33AC 003D912C  3B 40 00 00 */	li r26, 0
/* 803E33B0 003D9130  48 00 00 44 */	b lbl_803E33F4
lbl_803E33B4:
/* 803E33B4 003D9134  80 1C 00 0C */	lwz r0, 0xc(r28)
/* 803E33B8 003D9138  57 44 04 3E */	clrlwi r4, r26, 0x10
/* 803E33BC 003D913C  80 B9 00 18 */	lwz r5, 0x18(r25)
/* 803E33C0 003D9140  7F 83 E3 78 */	mr r3, r28
/* 803E33C4 003D9144  7C 04 01 D6 */	mullw r0, r4, r0
/* 803E33C8 003D9148  80 99 00 08 */	lwz r4, 8(r25)
/* 803E33CC 003D914C  A0 FC 00 00 */	lhz r7, 0(r28)
/* 803E33D0 003D9150  38 C0 00 00 */	li r6, 0
/* 803E33D4 003D9154  7C A5 02 14 */	add r5, r5, r0
/* 803E33D8 003D9158  48 00 5D A1 */	bl PFSEC_WriteFAT
/* 803E33DC 003D915C  2C 03 00 00 */	cmpwi r3, 0
/* 803E33E0 003D9160  41 82 00 10 */	beq lbl_803E33F0
/* 803E33E4 003D9164  2C 1E 00 00 */	cmpwi r30, 0
/* 803E33E8 003D9168  40 82 00 08 */	bne lbl_803E33F0
/* 803E33EC 003D916C  7C 7E 1B 78 */	mr r30, r3
lbl_803E33F0:
/* 803E33F0 003D9170  3B 5A 00 01 */	addi r26, r26, 1
lbl_803E33F4:
/* 803E33F4 003D9174  88 1C 00 22 */	lbz r0, 0x22(r28)
/* 803E33F8 003D9178  57 43 04 3E */	clrlwi r3, r26, 0x10
/* 803E33FC 003D917C  7C 03 00 00 */	cmpw r3, r0
/* 803E3400 003D9180  41 80 FF B4 */	blt lbl_803E33B4
/* 803E3404 003D9184  80 99 00 08 */	lwz r4, 8(r25)
/* 803E3408 003D9188  7F 83 E3 78 */	mr r3, r28
/* 803E340C 003D918C  A0 FC 00 00 */	lhz r7, 0(r28)
/* 803E3410 003D9190  7F 65 DB 78 */	mr r5, r27
/* 803E3414 003D9194  38 C0 00 00 */	li r6, 0
/* 803E3418 003D9198  48 00 59 A9 */	bl PFSEC_ReadFAT
/* 803E341C 003D919C  2C 03 00 00 */	cmpwi r3, 0
/* 803E3420 003D91A0  41 82 00 08 */	beq lbl_803E3428
/* 803E3424 003D91A4  48 00 00 54 */	b lbl_803E3478
lbl_803E3428:
/* 803E3428 003D91A8  93 79 00 18 */	stw r27, 0x18(r25)
lbl_803E342C:
/* 803E342C 003D91AC  80 B9 00 08 */	lwz r5, 8(r25)
/* 803E3430 003D91B0  2C 03 00 00 */	cmpwi r3, 0
/* 803E3434 003D91B4  7C C5 F8 2E */	lwzx r6, r5, r31
/* 803E3438 003D91B8  54 C4 42 1E */	rlwinm r4, r6, 8, 8, 0xf
/* 803E343C 003D91BC  54 C0 C4 2E */	rlwinm r0, r6, 0x18, 0x10, 0x17
/* 803E3440 003D91C0  50 C4 C0 0E */	rlwimi r4, r6, 0x18, 0, 7
/* 803E3444 003D91C4  50 C0 46 3E */	rlwimi r0, r6, 8, 0x18, 0x1f
/* 803E3448 003D91C8  7C 80 03 78 */	or r0, r4, r0
/* 803E344C 003D91CC  54 06 00 06 */	rlwinm r6, r0, 0, 0, 3
/* 803E3450 003D91D0  53 A6 01 3E */	rlwimi r6, r29, 0, 4, 0x1f
/* 803E3454 003D91D4  54 C4 42 1E */	rlwinm r4, r6, 8, 8, 0xf
/* 803E3458 003D91D8  54 C0 C4 2E */	rlwinm r0, r6, 0x18, 0x10, 0x17
/* 803E345C 003D91DC  50 C4 C0 0E */	rlwimi r4, r6, 0x18, 0, 7
/* 803E3460 003D91E0  50 C0 46 3E */	rlwimi r0, r6, 8, 0x18, 0x1f
/* 803E3464 003D91E4  7C 80 03 78 */	or r0, r4, r0
/* 803E3468 003D91E8  7C 05 F9 2E */	stwx r0, r5, r31
/* 803E346C 003D91EC  41 82 00 08 */	beq lbl_803E3474
/* 803E3470 003D91F0  7C 7E 1B 78 */	mr r30, r3
lbl_803E3474:
/* 803E3474 003D91F4  7F C3 F3 78 */	mr r3, r30
lbl_803E3478:
/* 803E3478 003D91F8  39 61 00 30 */	addi r11, r1, 0x30
/* 803E347C 003D91FC  48 00 DE E9 */	bl _restgpr_25
/* 803E3480 003D9200  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E3484 003D9204  7C 08 03 A6 */	mtlr r0
/* 803E3488 003D9208  38 21 00 30 */	addi r1, r1, 0x30
/* 803E348C 003D920C  4E 80 00 20 */	blr 

.global PFFAT32_ReadFATEntryWithBuf
PFFAT32_ReadFATEntryWithBuf:
/* 803E3490 003D9210  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E3494 003D9214  7C 08 02 A6 */	mflr r0
/* 803E3498 003D9218  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E349C 003D921C  39 61 00 30 */	addi r11, r1, 0x30
/* 803E34A0 003D9220  48 00 DE 79 */	bl _savegpr_25
/* 803E34A4 003D9224  A0 E3 00 18 */	lhz r7, 0x18(r3)
/* 803E34A8 003D9228  54 9F 10 3A */	slwi r31, r4, 2
/* 803E34AC 003D922C  88 83 00 20 */	lbz r4, 0x20(r3)
/* 803E34B0 003D9230  7C 7B 1B 78 */	mr r27, r3
/* 803E34B4 003D9234  54 E0 06 31 */	rlwinm. r0, r7, 0, 0x18, 0x18
/* 803E34B8 003D9238  80 63 00 28 */	lwz r3, 0x28(r3)
/* 803E34BC 003D923C  7F E0 24 30 */	srw r0, r31, r4
/* 803E34C0 003D9240  7C BC 2B 78 */	mr r28, r5
/* 803E34C4 003D9244  7C DD 33 78 */	mr r29, r6
/* 803E34C8 003D9248  3B C0 00 01 */	li r30, 1
/* 803E34CC 003D924C  7C 03 02 14 */	add r0, r3, r0
/* 803E34D0 003D9250  54 1A 04 3E */	clrlwi r26, r0, 0x10
/* 803E34D4 003D9254  41 82 00 08 */	beq lbl_803E34DC
/* 803E34D8 003D9258  54 FE 07 7E */	clrlwi r30, r7, 0x1d
lbl_803E34DC:
/* 803E34DC 003D925C  80 06 00 18 */	lwz r0, 0x18(r6)
/* 803E34E0 003D9260  7C 00 D0 40 */	cmplw r0, r26
/* 803E34E4 003D9264  41 82 00 E0 */	beq lbl_803E35C4
/* 803E34E8 003D9268  A0 06 00 02 */	lhz r0, 2(r6)
/* 803E34EC 003D926C  28 00 00 01 */	cmplwi r0, 1
/* 803E34F0 003D9270  40 82 00 48 */	bne lbl_803E3538
/* 803E34F4 003D9274  3B 20 00 00 */	li r25, 0
/* 803E34F8 003D9278  48 00 00 30 */	b lbl_803E3528
lbl_803E34FC:
/* 803E34FC 003D927C  80 1B 00 0C */	lwz r0, 0xc(r27)
/* 803E3500 003D9280  57 24 04 3E */	clrlwi r4, r25, 0x10
/* 803E3504 003D9284  80 BD 00 18 */	lwz r5, 0x18(r29)
/* 803E3508 003D9288  7F 63 DB 78 */	mr r3, r27
/* 803E350C 003D928C  7C 04 01 D6 */	mullw r0, r4, r0
/* 803E3510 003D9290  80 9D 00 08 */	lwz r4, 8(r29)
/* 803E3514 003D9294  A0 FB 00 00 */	lhz r7, 0(r27)
/* 803E3518 003D9298  38 C0 00 00 */	li r6, 0
/* 803E351C 003D929C  7C A5 02 14 */	add r5, r5, r0
/* 803E3520 003D92A0  48 00 5C 59 */	bl PFSEC_WriteFAT
/* 803E3524 003D92A4  3B 39 00 01 */	addi r25, r25, 1
lbl_803E3528:
/* 803E3528 003D92A8  88 1B 00 22 */	lbz r0, 0x22(r27)
/* 803E352C 003D92AC  57 23 04 3E */	clrlwi r3, r25, 0x10
/* 803E3530 003D92B0  7C 03 00 00 */	cmpw r3, r0
/* 803E3534 003D92B4  41 80 FF C8 */	blt lbl_803E34FC
lbl_803E3538:
/* 803E3538 003D92B8  80 9D 00 08 */	lwz r4, 8(r29)
/* 803E353C 003D92BC  7F 63 DB 78 */	mr r3, r27
/* 803E3540 003D92C0  A0 FB 00 00 */	lhz r7, 0(r27)
/* 803E3544 003D92C4  7F 45 D3 78 */	mr r5, r26
/* 803E3548 003D92C8  38 C0 00 00 */	li r6, 0
/* 803E354C 003D92CC  48 00 58 75 */	bl PFSEC_ReadFAT
/* 803E3550 003D92D0  2C 03 10 00 */	cmpwi r3, 0x1000
/* 803E3554 003D92D4  7C 79 1B 78 */	mr r25, r3
/* 803E3558 003D92D8  40 82 00 50 */	bne lbl_803E35A8
/* 803E355C 003D92DC  81 9B 1F C0 */	lwz r12, 0x1fc0(r27)
/* 803E3560 003D92E0  2C 0C 00 00 */	cmpwi r12, 0
/* 803E3564 003D92E4  41 82 00 44 */	beq lbl_803E35A8
/* 803E3568 003D92E8  80 7B 1F 84 */	lwz r3, 0x1f84(r27)
/* 803E356C 003D92EC  7D 89 03 A6 */	mtctr r12
/* 803E3570 003D92F0  4E 80 04 21 */	bctrl 
/* 803E3574 003D92F4  2C 03 00 00 */	cmpwi r3, 0
/* 803E3578 003D92F8  41 82 00 44 */	beq lbl_803E35BC
/* 803E357C 003D92FC  2C 03 00 01 */	cmpwi r3, 1
/* 803E3580 003D9300  40 82 00 28 */	bne lbl_803E35A8
/* 803E3584 003D9304  88 1B 00 22 */	lbz r0, 0x22(r27)
/* 803E3588 003D9308  28 00 00 02 */	cmplwi r0, 2
/* 803E358C 003D930C  41 80 00 1C */	blt lbl_803E35A8
/* 803E3590 003D9310  7C 1E 00 40 */	cmplw r30, r0
/* 803E3594 003D9314  40 80 00 14 */	bge lbl_803E35A8
/* 803E3598 003D9318  80 1B 00 0C */	lwz r0, 0xc(r27)
/* 803E359C 003D931C  3B DE 00 01 */	addi r30, r30, 1
/* 803E35A0 003D9320  7F 5A 02 14 */	add r26, r26, r0
/* 803E35A4 003D9324  48 00 00 18 */	b lbl_803E35BC
lbl_803E35A8:
/* 803E35A8 003D9328  2C 19 00 00 */	cmpwi r25, 0
/* 803E35AC 003D932C  41 82 00 0C */	beq lbl_803E35B8
/* 803E35B0 003D9330  7F 23 CB 78 */	mr r3, r25
/* 803E35B4 003D9334  48 00 00 44 */	b lbl_803E35F8
lbl_803E35B8:
/* 803E35B8 003D9338  93 5D 00 18 */	stw r26, 0x18(r29)
lbl_803E35BC:
/* 803E35BC 003D933C  2C 19 00 00 */	cmpwi r25, 0
/* 803E35C0 003D9340  40 82 FF 78 */	bne lbl_803E3538
lbl_803E35C4:
/* 803E35C4 003D9344  A0 BB 00 00 */	lhz r5, 0(r27)
/* 803E35C8 003D9348  38 60 00 00 */	li r3, 0
/* 803E35CC 003D934C  80 9D 00 08 */	lwz r4, 8(r29)
/* 803E35D0 003D9350  38 05 FF FF */	addi r0, r5, -1
/* 803E35D4 003D9354  7F E0 00 38 */	and r0, r31, r0
/* 803E35D8 003D9358  7C A4 00 2E */	lwzx r5, r4, r0
/* 803E35DC 003D935C  54 A4 42 1E */	rlwinm r4, r5, 8, 8, 0xf
/* 803E35E0 003D9360  54 A0 C4 2E */	rlwinm r0, r5, 0x18, 0x10, 0x17
/* 803E35E4 003D9364  50 A4 C0 0E */	rlwimi r4, r5, 0x18, 0, 7
/* 803E35E8 003D9368  50 A0 46 3E */	rlwimi r0, r5, 8, 0x18, 0x1f
/* 803E35EC 003D936C  7C 80 03 78 */	or r0, r4, r0
/* 803E35F0 003D9370  54 00 01 3E */	clrlwi r0, r0, 4
/* 803E35F4 003D9374  90 1C 00 00 */	stw r0, 0(r28)
lbl_803E35F8:
/* 803E35F8 003D9378  39 61 00 30 */	addi r11, r1, 0x30
/* 803E35FC 003D937C  48 00 DD 69 */	bl _restgpr_25
/* 803E3600 003D9380  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E3604 003D9384  7C 08 03 A6 */	mtlr r0
/* 803E3608 003D9388  38 21 00 30 */	addi r1, r1, 0x30
/* 803E360C 003D938C  4E 80 00 20 */	blr 

