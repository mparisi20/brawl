.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gsiExecuteSoap
gsiExecuteSoap:
/* 803621B8 00357F38  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803621BC 00357F3C  7C 08 02 A6 */	mflr r0
/* 803621C0 00357F40  90 01 00 24 */	stw r0, 0x24(r1)
/* 803621C4 00357F44  39 61 00 20 */	addi r11, r1, 0x20
/* 803621C8 00357F48  48 08 F1 55 */	bl _savegpr_26
/* 803621CC 00357F4C  7C 7A 1B 78 */	mr r26, r3
/* 803621D0 00357F50  7C 9B 23 78 */	mr r27, r4
/* 803621D4 00357F54  7C BC 2B 78 */	mr r28, r5
/* 803621D8 00357F58  7C DD 33 78 */	mr r29, r6
/* 803621DC 00357F5C  7C FE 3B 78 */	mr r30, r7
/* 803621E0 00357F60  38 60 00 34 */	li r3, 0x34
/* 803621E4 00357F64  4B FF BE 05 */	bl gsimalloc
/* 803621E8 00357F68  2C 03 00 00 */	cmpwi r3, 0
/* 803621EC 00357F6C  7C 7F 1B 78 */	mr r31, r3
/* 803621F0 00357F70  40 82 00 0C */	bne lbl_803621FC
/* 803621F4 00357F74  38 60 00 00 */	li r3, 0
/* 803621F8 00357F78  48 00 00 A0 */	b lbl_80362298
lbl_803621FC:
/* 803621FC 00357F7C  93 A3 00 00 */	stw r29, 0(r3)
/* 80362200 00357F80  38 00 00 00 */	li r0, 0
/* 80362204 00357F84  90 03 00 04 */	stw r0, 4(r3)
/* 80362208 00357F88  93 43 00 08 */	stw r26, 8(r3)
/* 8036220C 00357F8C  93 63 00 0C */	stw r27, 0xc(r3)
/* 80362210 00357F90  93 83 00 10 */	stw r28, 0x10(r3)
/* 80362214 00357F94  90 03 00 1C */	stw r0, 0x1c(r3)
/* 80362218 00357F98  90 03 00 14 */	stw r0, 0x14(r3)
/* 8036221C 00357F9C  90 03 00 18 */	stw r0, 0x18(r3)
/* 80362220 00357FA0  93 C3 00 20 */	stw r30, 0x20(r3)
/* 80362224 00357FA4  90 03 00 2C */	stw r0, 0x2c(r3)
/* 80362228 00357FA8  90 03 00 30 */	stw r0, 0x30(r3)
/* 8036222C 00357FAC  4B FF C7 ED */	bl gsiCoreCreateTask
/* 80362230 00357FB0  2C 03 00 00 */	cmpwi r3, 0
/* 80362234 00357FB4  40 82 00 14 */	bne lbl_80362248
/* 80362238 00357FB8  7F E3 FB 78 */	mr r3, r31
/* 8036223C 00357FBC  4B FF BD D1 */	bl gsifree
/* 80362240 00357FC0  38 60 00 00 */	li r3, 0
/* 80362244 00357FC4  48 00 00 54 */	b lbl_80362298
lbl_80362248:
/* 80362248 00357FC8  3C A0 80 36 */	lis r5, gsiSoapTaskCallback@ha
/* 8036224C 00357FCC  3C E0 80 36 */	lis r7, gsiSoapTaskExecute@ha
/* 80362250 00357FD0  38 A5 24 88 */	addi r5, r5, gsiSoapTaskCallback@l
/* 80362254 00357FD4  3C 80 80 36 */	lis r4, gsiSoapTaskThink@ha
/* 80362258 00357FD8  90 A3 00 28 */	stw r5, 0x28(r3)
/* 8036225C 00357FDC  38 E7 23 84 */	addi r7, r7, gsiSoapTaskExecute@l
/* 80362260 00357FE0  3C C0 80 36 */	lis r6, gsiSoapTaskCleanup@ha
/* 80362264 00357FE4  3C A0 80 36 */	lis r5, gsiSoapTaskCancel@ha
/* 80362268 00357FE8  90 E3 00 24 */	stw r7, 0x24(r3)
/* 8036226C 00357FEC  38 84 23 48 */	addi r4, r4, gsiSoapTaskThink@l
/* 80362270 00357FF0  38 C6 24 A8 */	addi r6, r6, gsiSoapTaskCleanup@l
/* 80362274 00357FF4  38 A5 24 34 */	addi r5, r5, gsiSoapTaskCancel@l
/* 80362278 00357FF8  90 83 00 34 */	stw r4, 0x34(r3)
/* 8036227C 00357FFC  38 80 00 00 */	li r4, 0
/* 80362280 00358000  90 C3 00 30 */	stw r6, 0x30(r3)
/* 80362284 00358004  90 A3 00 2C */	stw r5, 0x2c(r3)
/* 80362288 00358008  93 E3 00 20 */	stw r31, 0x20(r3)
/* 8036228C 0035800C  90 7F 00 24 */	stw r3, 0x24(r31)
/* 80362290 00358010  4B FF C5 ED */	bl gsiCoreExecuteTask
/* 80362294 00358014  7F E3 FB 78 */	mr r3, r31
lbl_80362298:
/* 80362298 00358018  39 61 00 20 */	addi r11, r1, 0x20
/* 8036229C 0035801C  48 08 F0 CD */	bl _restgpr_26
/* 803622A0 00358020  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803622A4 00358024  7C 08 03 A6 */	mtlr r0
/* 803622A8 00358028  38 21 00 20 */	addi r1, r1, 0x20
/* 803622AC 0035802C  4E 80 00 20 */	blr 

.global gsiSoapTaskHttpCompletedCallback
gsiSoapTaskHttpCompletedCallback:
/* 803622B0 00358030  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803622B4 00358034  7C 08 02 A6 */	mflr r0
/* 803622B8 00358038  2C 04 00 00 */	cmpwi r4, 0
/* 803622BC 0035803C  90 01 00 24 */	stw r0, 0x24(r1)
/* 803622C0 00358040  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803622C4 00358044  3B E0 00 01 */	li r31, 1
/* 803622C8 00358048  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803622CC 0035804C  7C FE 3B 78 */	mr r30, r7
/* 803622D0 00358050  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803622D4 00358054  7C DD 33 78 */	mr r29, r6
/* 803622D8 00358058  93 81 00 10 */	stw r28, 0x10(r1)
/* 803622DC 0035805C  7C BC 2B 78 */	mr r28, r5
/* 803622E0 00358060  90 87 00 2C */	stw r4, 0x2c(r7)
/* 803622E4 00358064  93 E7 00 30 */	stw r31, 0x30(r7)
/* 803622E8 00358068  90 A7 00 18 */	stw r5, 0x18(r7)
/* 803622EC 0035806C  40 82 00 38 */	bne lbl_80362324
/* 803622F0 00358070  48 00 09 A9 */	bl gsXmlCreateStreamReader
/* 803622F4 00358074  2C 03 00 00 */	cmpwi r3, 0
/* 803622F8 00358078  90 7E 00 14 */	stw r3, 0x14(r30)
/* 803622FC 0035807C  40 82 00 0C */	bne lbl_80362308
/* 80362300 00358080  93 FE 00 2C */	stw r31, 0x2c(r30)
/* 80362304 00358084  48 00 00 20 */	b lbl_80362324
lbl_80362308:
/* 80362308 00358088  7F 84 E3 78 */	mr r4, r28
/* 8036230C 0035808C  7F A5 EB 78 */	mr r5, r29
/* 80362310 00358090  48 00 0A 41 */	bl gsXmlParseBuffer
/* 80362314 00358094  2C 03 00 00 */	cmpwi r3, 0
/* 80362318 00358098  40 82 00 0C */	bne lbl_80362324
/* 8036231C 0035809C  38 00 00 07 */	li r0, 7
/* 80362320 003580A0  90 1E 00 2C */	stw r0, 0x2c(r30)
lbl_80362324:
/* 80362324 003580A4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80362328 003580A8  38 60 00 00 */	li r3, 0
/* 8036232C 003580AC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80362330 003580B0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80362334 003580B4  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80362338 003580B8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8036233C 003580BC  7C 08 03 A6 */	mtlr r0
/* 80362340 003580C0  38 21 00 20 */	addi r1, r1, 0x20
/* 80362344 003580C4  4E 80 00 20 */	blr 

.global gsiSoapTaskThink
gsiSoapTaskThink:
/* 80362348 003580C8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8036234C 003580CC  7C 08 02 A6 */	mflr r0
/* 80362350 003580D0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80362354 003580D4  80 03 00 30 */	lwz r0, 0x30(r3)
/* 80362358 003580D8  2C 00 00 00 */	cmpwi r0, 0
/* 8036235C 003580DC  41 82 00 0C */	beq lbl_80362368
/* 80362360 003580E0  38 60 00 04 */	li r3, 4
/* 80362364 003580E4  48 00 00 10 */	b lbl_80362374
lbl_80362368:
/* 80362368 003580E8  80 63 00 28 */	lwz r3, 0x28(r3)
/* 8036236C 003580EC  48 01 CB 7D */	bl ghttpRequestThink
/* 80362370 003580F0  38 60 00 01 */	li r3, 1
lbl_80362374:
/* 80362374 003580F4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80362378 003580F8  7C 08 03 A6 */	mtlr r0
/* 8036237C 003580FC  38 21 00 10 */	addi r1, r1, 0x10
/* 80362380 00358100  4E 80 00 20 */	blr 

.global gsiSoapTaskExecute
gsiSoapTaskExecute:
/* 80362384 00358104  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80362388 00358108  7C 08 02 A6 */	mflr r0
/* 8036238C 0035810C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80362390 00358110  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80362394 00358114  7C 7F 1B 78 */	mr r31, r3
/* 80362398 00358118  48 01 CC 51 */	bl ghttpNewPost
/* 8036239C 0035811C  2C 03 00 00 */	cmpwi r3, 0
/* 803623A0 00358120  90 7F 00 1C */	stw r3, 0x1c(r31)
/* 803623A4 00358124  40 82 00 14 */	bne lbl_803623B8
/* 803623A8 00358128  38 00 00 01 */	li r0, 1
/* 803623AC 0035812C  90 1F 00 30 */	stw r0, 0x30(r31)
/* 803623B0 00358130  90 1F 00 2C */	stw r0, 0x2c(r31)
/* 803623B4 00358134  48 00 00 6C */	b lbl_80362420
lbl_803623B8:
/* 803623B8 00358138  38 80 00 00 */	li r4, 0
/* 803623BC 0035813C  48 01 CC 31 */	bl ghttpPostSetAutoFree
/* 803623C0 00358140  80 7F 00 1C */	lwz r3, 0x1c(r31)
/* 803623C4 00358144  80 9F 00 10 */	lwz r4, 0x10(r31)
/* 803623C8 00358148  48 01 CC AD */	bl ghttpPostAddXml
/* 803623CC 0035814C  81 9F 00 04 */	lwz r12, 4(r31)
/* 803623D0 00358150  2C 0C 00 00 */	cmpwi r12, 0
/* 803623D4 00358154  41 82 00 14 */	beq lbl_803623E8
/* 803623D8 00358158  80 7F 00 1C */	lwz r3, 0x1c(r31)
/* 803623DC 0035815C  80 9F 00 20 */	lwz r4, 0x20(r31)
/* 803623E0 00358160  7D 89 03 A6 */	mtctr r12
/* 803623E4 00358164  4E 80 04 21 */	bctrl 
lbl_803623E8:
/* 803623E8 00358168  3C 60 80 36 */	lis r3, gsiSoapTaskHttpCompletedCallback@ha
/* 803623EC 0035816C  38 A0 00 00 */	li r5, 0
/* 803623F0 00358170  38 63 22 B0 */	addi r3, r3, gsiSoapTaskHttpCompletedCallback@l
/* 803623F4 00358174  38 C0 00 00 */	li r6, 0
/* 803623F8 00358178  90 61 00 08 */	stw r3, 8(r1)
/* 803623FC 0035817C  39 00 00 00 */	li r8, 0
/* 80362400 00358180  39 20 00 00 */	li r9, 0
/* 80362404 00358184  39 40 00 00 */	li r10, 0
/* 80362408 00358188  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8036240C 0035818C  80 7F 00 08 */	lwz r3, 8(r31)
/* 80362410 00358190  80 9F 00 0C */	lwz r4, 0xc(r31)
/* 80362414 00358194  80 FF 00 1C */	lwz r7, 0x1c(r31)
/* 80362418 00358198  48 01 C6 E5 */	bl ghttpGetExA
/* 8036241C 0035819C  90 7F 00 28 */	stw r3, 0x28(r31)
lbl_80362420:
/* 80362420 003581A0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80362424 003581A4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80362428 003581A8  7C 08 03 A6 */	mtlr r0
/* 8036242C 003581AC  38 21 00 20 */	addi r1, r1, 0x20
/* 80362430 003581B0  4E 80 00 20 */	blr 

.global gsiSoapTaskCancel
gsiSoapTaskCancel:
/* 80362434 003581B4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80362438 003581B8  7C 08 02 A6 */	mflr r0
/* 8036243C 003581BC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80362440 003581C0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80362444 003581C4  7C 7F 1B 78 */	mr r31, r3
/* 80362448 003581C8  80 03 00 30 */	lwz r0, 0x30(r3)
/* 8036244C 003581CC  2C 00 00 00 */	cmpwi r0, 0
/* 80362450 003581D0  40 82 00 24 */	bne lbl_80362474
/* 80362454 003581D4  80 63 00 28 */	lwz r3, 0x28(r3)
/* 80362458 003581D8  2C 03 00 00 */	cmpwi r3, 0
/* 8036245C 003581DC  41 80 00 08 */	blt lbl_80362464
/* 80362460 003581E0  48 01 CA C1 */	bl ghttpCancelRequest
lbl_80362464:
/* 80362464 003581E4  38 60 00 12 */	li r3, 0x12
/* 80362468 003581E8  38 00 00 01 */	li r0, 1
/* 8036246C 003581EC  90 7F 00 2C */	stw r3, 0x2c(r31)
/* 80362470 003581F0  90 1F 00 30 */	stw r0, 0x30(r31)
lbl_80362474:
/* 80362474 003581F4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80362478 003581F8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8036247C 003581FC  7C 08 03 A6 */	mtlr r0
/* 80362480 00358200  38 21 00 10 */	addi r1, r1, 0x10
/* 80362484 00358204  4E 80 00 20 */	blr 

.global gsiSoapTaskCallback
gsiSoapTaskCallback:
/* 80362488 00358208  7C 66 1B 78 */	mr r6, r3
/* 8036248C 0035820C  80 63 00 2C */	lwz r3, 0x2c(r3)
/* 80362490 00358210  81 86 00 00 */	lwz r12, 0(r6)
/* 80362494 00358214  80 86 00 10 */	lwz r4, 0x10(r6)
/* 80362498 00358218  80 A6 00 14 */	lwz r5, 0x14(r6)
/* 8036249C 0035821C  80 C6 00 20 */	lwz r6, 0x20(r6)
/* 803624A0 00358220  7D 89 03 A6 */	mtctr r12
/* 803624A4 00358224  4E 80 04 20 */	bctr 

.global gsiSoapTaskCleanup
gsiSoapTaskCleanup:
/* 803624A8 00358228  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803624AC 0035822C  7C 08 02 A6 */	mflr r0
/* 803624B0 00358230  90 01 00 14 */	stw r0, 0x14(r1)
/* 803624B4 00358234  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803624B8 00358238  7C 7F 1B 78 */	mr r31, r3
/* 803624BC 0035823C  80 03 00 14 */	lwz r0, 0x14(r3)
/* 803624C0 00358240  2C 00 00 00 */	cmpwi r0, 0
/* 803624C4 00358244  41 82 00 0C */	beq lbl_803624D0
/* 803624C8 00358248  7C 03 03 78 */	mr r3, r0
/* 803624CC 0035824C  48 00 09 41 */	bl gsXmlFreeReader
lbl_803624D0:
/* 803624D0 00358250  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 803624D4 00358254  2C 03 00 00 */	cmpwi r3, 0
/* 803624D8 00358258  41 82 00 08 */	beq lbl_803624E0
/* 803624DC 0035825C  4B FF BB 31 */	bl gsifree
lbl_803624E0:
/* 803624E0 00358260  80 7F 00 1C */	lwz r3, 0x1c(r31)
/* 803624E4 00358264  2C 03 00 00 */	cmpwi r3, 0
/* 803624E8 00358268  41 82 00 08 */	beq lbl_803624F0
/* 803624EC 0035826C  48 01 CB 11 */	bl ghttpFreePost
lbl_803624F0:
/* 803624F0 00358270  7F E3 FB 78 */	mr r3, r31
/* 803624F4 00358274  4B FF BB 19 */	bl gsifree
/* 803624F8 00358278  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803624FC 0035827C  38 60 00 01 */	li r3, 1
/* 80362500 00358280  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80362504 00358284  7C 08 03 A6 */	mtlr r0
/* 80362508 00358288  38 21 00 10 */	addi r1, r1, 0x10
/* 8036250C 0035828C  4E 80 00 20 */	blr 

