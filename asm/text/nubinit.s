.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global TRKNubWelcome
TRKNubWelcome:
/* 804010B8 003F6E38  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 804010BC 003F6E3C  7C 08 02 A6 */	mflr r0
/* 804010C0 003F6E40  3C 60 80 42 */	lis r3, lbl_80420468@ha
/* 804010C4 003F6E44  90 01 00 14 */	stw r0, 0x14(r1)
/* 804010C8 003F6E48  38 63 04 68 */	addi r3, r3, lbl_80420468@l
/* 804010CC 003F6E4C  48 00 4A 11 */	bl TRK_board_display
/* 804010D0 003F6E50  80 01 00 14 */	lwz r0, 0x14(r1)
/* 804010D4 003F6E54  7C 08 03 A6 */	mtlr r0
/* 804010D8 003F6E58  38 21 00 10 */	addi r1, r1, 0x10
/* 804010DC 003F6E5C  4E 80 00 20 */	blr 

.global TRKTerminateNub
TRKTerminateNub:
/* 804010E0 003F6E60  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 804010E4 003F6E64  7C 08 02 A6 */	mflr r0
/* 804010E8 003F6E68  90 01 00 14 */	stw r0, 0x14(r1)
/* 804010EC 003F6E6C  48 00 09 B9 */	bl TRKTerminateSerialHandler
/* 804010F0 003F6E70  80 01 00 14 */	lwz r0, 0x14(r1)
/* 804010F4 003F6E74  38 60 00 00 */	li r3, 0
/* 804010F8 003F6E78  7C 08 03 A6 */	mtlr r0
/* 804010FC 003F6E7C  38 21 00 10 */	addi r1, r1, 0x10
/* 80401100 003F6E80  4E 80 00 20 */	blr 

.global TRKInitializeNub
TRKInitializeNub:
/* 80401104 003F6E84  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80401108 003F6E88  7C 08 02 A6 */	mflr r0
/* 8040110C 003F6E8C  38 A0 00 12 */	li r5, 0x12
/* 80401110 003F6E90  38 80 00 34 */	li r4, 0x34
/* 80401114 003F6E94  90 01 00 24 */	stw r0, 0x24(r1)
/* 80401118 003F6E98  38 60 00 56 */	li r3, 0x56
/* 8040111C 003F6E9C  38 00 00 78 */	li r0, 0x78
/* 80401120 003F6EA0  38 C0 00 01 */	li r6, 1
/* 80401124 003F6EA4  98 A1 00 08 */	stb r5, 8(r1)
/* 80401128 003F6EA8  3C A0 80 5A */	lis r5, lbl_80599F70@ha
/* 8040112C 003F6EAC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80401130 003F6EB0  3B E0 00 00 */	li r31, 0
/* 80401134 003F6EB4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80401138 003F6EB8  98 81 00 09 */	stb r4, 9(r1)
/* 8040113C 003F6EBC  98 61 00 0A */	stb r3, 0xa(r1)
/* 80401140 003F6EC0  98 01 00 0B */	stb r0, 0xb(r1)
/* 80401144 003F6EC4  80 61 00 08 */	lwz r3, 8(r1)
/* 80401148 003F6EC8  94 C5 9F 70 */	stwu r6, lbl_80599F70@l(r5)
/* 8040114C 003F6ECC  3C 03 ED CC */	addis r0, r3, 0xedcc
/* 80401150 003F6ED0  28 00 56 78 */	cmplwi r0, 0x5678
/* 80401154 003F6ED4  40 82 00 0C */	bne lbl_80401160
/* 80401158 003F6ED8  90 C5 00 00 */	stw r6, 0(r5)
/* 8040115C 003F6EDC  48 00 00 1C */	b lbl_80401178
lbl_80401160:
/* 80401160 003F6EE0  3C 03 87 AA */	addis r0, r3, 0x87aa
/* 80401164 003F6EE4  28 00 34 12 */	cmplwi r0, 0x3412
/* 80401168 003F6EE8  40 82 00 0C */	bne lbl_80401174
/* 8040116C 003F6EEC  93 E5 00 00 */	stw r31, 0(r5)
/* 80401170 003F6EF0  48 00 00 08 */	b lbl_80401178
lbl_80401174:
/* 80401174 003F6EF4  7C DF 33 78 */	mr r31, r6
lbl_80401178:
/* 80401178 003F6EF8  2C 1F 00 00 */	cmpwi r31, 0
/* 8040117C 003F6EFC  40 82 00 08 */	bne lbl_80401184
/* 80401180 003F6F00  48 00 0A D1 */	bl usr_put_initialize
lbl_80401184:
/* 80401184 003F6F04  2C 1F 00 00 */	cmpwi r31, 0
/* 80401188 003F6F08  40 82 00 0C */	bne lbl_80401194
/* 8040118C 003F6F0C  4B FF FE D5 */	bl TRKInitializeEventQueue
/* 80401190 003F6F10  7C 7F 1B 78 */	mr r31, r3
lbl_80401194:
/* 80401194 003F6F14  2C 1F 00 00 */	cmpwi r31, 0
/* 80401198 003F6F18  40 82 00 0C */	bne lbl_804011A4
/* 8040119C 003F6F1C  48 00 08 95 */	bl TRKInitializeMessageBuffers
/* 804011A0 003F6F20  7C 7F 1B 78 */	mr r31, r3
lbl_804011A4:
/* 804011A4 003F6F24  2C 1F 00 00 */	cmpwi r31, 0
/* 804011A8 003F6F28  40 82 00 0C */	bne lbl_804011B4
/* 804011AC 003F6F2C  48 00 0C 71 */	bl TRKInitializeDispatcher
/* 804011B0 003F6F30  7C 7F 1B 78 */	mr r31, r3
lbl_804011B4:
/* 804011B4 003F6F34  48 00 48 D1 */	bl InitializeProgramEndTrap
/* 804011B8 003F6F38  2C 1F 00 00 */	cmpwi r31, 0
/* 804011BC 003F6F3C  40 82 00 0C */	bne lbl_804011C8
/* 804011C0 003F6F40  48 00 08 ED */	bl TRKInitializeSerialHandler
/* 804011C4 003F6F44  7C 7F 1B 78 */	mr r31, r3
lbl_804011C8:
/* 804011C8 003F6F48  2C 1F 00 00 */	cmpwi r31, 0
/* 804011CC 003F6F4C  40 82 00 0C */	bne lbl_804011D8
/* 804011D0 003F6F50  48 00 45 F5 */	bl TRKInitializeTarget
/* 804011D4 003F6F54  7C 7F 1B 78 */	mr r31, r3
lbl_804011D8:
/* 804011D8 003F6F58  2C 1F 00 00 */	cmpwi r31, 0
/* 804011DC 003F6F5C  40 82 00 44 */	bne lbl_80401220
/* 804011E0 003F6F60  3C 60 80 5A */	lis r3, lbl_805A1308@ha
/* 804011E4 003F6F64  3C A0 00 01 */	lis r5, 0x0000E100@ha
/* 804011E8 003F6F68  38 C3 13 08 */	addi r6, r3, lbl_805A1308@l
/* 804011EC 003F6F6C  38 80 00 01 */	li r4, 1
/* 804011F0 003F6F70  38 65 E1 00 */	addi r3, r5, 0x0000E100@l
/* 804011F4 003F6F74  38 A0 00 00 */	li r5, 0
/* 804011F8 003F6F78  48 00 4A 65 */	bl TRKInitializeIntDrivenUART
/* 804011FC 003F6F7C  3C 80 80 5A */	lis r4, lbl_805A1308@ha
/* 80401200 003F6F80  7C 60 1B 78 */	mr r0, r3
/* 80401204 003F6F84  38 64 13 08 */	addi r3, r4, lbl_805A1308@l
/* 80401208 003F6F88  80 63 00 00 */	lwz r3, 0(r3)
/* 8040120C 003F6F8C  7C 1E 03 78 */	mr r30, r0
/* 80401210 003F6F90  48 00 29 3D */	bl TRKTargetSetInputPendingPtr
/* 80401214 003F6F94  2C 1E 00 00 */	cmpwi r30, 0
/* 80401218 003F6F98  41 82 00 08 */	beq lbl_80401220
/* 8040121C 003F6F9C  7F DF F3 78 */	mr r31, r30
lbl_80401220:
/* 80401220 003F6FA0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80401224 003F6FA4  7F E3 FB 78 */	mr r3, r31
/* 80401228 003F6FA8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8040122C 003F6FAC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80401230 003F6FB0  7C 08 03 A6 */	mtlr r0
/* 80401234 003F6FB4  38 21 00 20 */	addi r1, r1, 0x20
/* 80401238 003F6FB8  4E 80 00 20 */	blr 

