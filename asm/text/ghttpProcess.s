.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global ghiParseURL
ghiParseURL:
/* 803809F4 00376774  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803809F8 00376778  7C 08 02 A6 */	mflr r0
/* 803809FC 0037677C  2C 03 00 00 */	cmpwi r3, 0
/* 80380A00 00376780  90 01 00 24 */	stw r0, 0x24(r1)
/* 80380A04 00376784  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80380A08 00376788  7C 7F 1B 78 */	mr r31, r3
/* 80380A0C 0037678C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80380A10 00376790  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80380A14 00376794  93 81 00 10 */	stw r28, 0x10(r1)
/* 80380A18 00376798  40 82 00 0C */	bne lbl_80380A24
/* 80380A1C 0037679C  38 60 00 00 */	li r3, 0
/* 80380A20 003767A0  48 00 01 60 */	b lbl_80380B80
lbl_80380A24:
/* 80380A24 003767A4  83 C3 00 14 */	lwz r30, 0x14(r3)
/* 80380A28 003767A8  2C 1E 00 00 */	cmpwi r30, 0
/* 80380A2C 003767AC  40 82 00 0C */	bne lbl_80380A38
/* 80380A30 003767B0  38 60 00 00 */	li r3, 0
/* 80380A34 003767B4  48 00 01 4C */	b lbl_80380B80
lbl_80380A38:
/* 80380A38 003767B8  7F C3 F3 78 */	mr r3, r30
/* 80380A3C 003767BC  38 8D B6 78 */	addi r4, r13, lbl_8059FA98-_SDA_BASE_
/* 80380A40 003767C0  38 A0 00 07 */	li r5, 7
/* 80380A44 003767C4  48 07 9A D5 */	bl strncmp
/* 80380A48 003767C8  2C 03 00 00 */	cmpwi r3, 0
/* 80380A4C 003767CC  40 82 00 14 */	bne lbl_80380A60
/* 80380A50 003767D0  38 00 00 00 */	li r0, 0
/* 80380A54 003767D4  3B BE 00 07 */	addi r29, r30, 7
/* 80380A58 003767D8  90 1F 00 28 */	stw r0, 0x28(r31)
/* 80380A5C 003767DC  48 00 00 38 */	b lbl_80380A94
lbl_80380A60:
/* 80380A60 003767E0  3C 80 80 49 */	lis r4, lbl_804908D0@ha
/* 80380A64 003767E4  7F C3 F3 78 */	mr r3, r30
/* 80380A68 003767E8  38 84 08 D0 */	addi r4, r4, lbl_804908D0@l
/* 80380A6C 003767EC  38 A0 00 08 */	li r5, 8
/* 80380A70 003767F0  48 07 9A A9 */	bl strncmp
/* 80380A74 003767F4  2C 03 00 00 */	cmpwi r3, 0
/* 80380A78 003767F8  40 82 00 14 */	bne lbl_80380A8C
/* 80380A7C 003767FC  38 00 00 01 */	li r0, 1
/* 80380A80 00376800  3B BE 00 08 */	addi r29, r30, 8
/* 80380A84 00376804  90 1F 00 28 */	stw r0, 0x28(r31)
/* 80380A88 00376808  48 00 00 0C */	b lbl_80380A94
lbl_80380A8C:
/* 80380A8C 0037680C  38 60 00 00 */	li r3, 0
/* 80380A90 00376810  48 00 00 F0 */	b lbl_80380B80
lbl_80380A94:
/* 80380A94 00376814  7F A3 EB 78 */	mr r3, r29
/* 80380A98 00376818  38 8D B6 80 */	addi r4, r13, lbl_8059FAA0-_SDA_BASE_
/* 80380A9C 0037681C  48 07 9B 35 */	bl strcspn
/* 80380AA0 00376820  7F 9D 18 AE */	lbzx r28, r29, r3
/* 80380AA4 00376824  38 00 00 00 */	li r0, 0
/* 80380AA8 00376828  7C 7E 1B 78 */	mr r30, r3
/* 80380AAC 0037682C  7C 1D 19 AE */	stbx r0, r29, r3
/* 80380AB0 00376830  7F A3 EB 78 */	mr r3, r29
/* 80380AB4 00376834  4B FD CB A1 */	bl goastrdup
/* 80380AB8 00376838  2C 03 00 00 */	cmpwi r3, 0
/* 80380ABC 0037683C  90 7F 00 18 */	stw r3, 0x18(r31)
/* 80380AC0 00376840  40 82 00 0C */	bne lbl_80380ACC
/* 80380AC4 00376844  38 60 00 00 */	li r3, 0
/* 80380AC8 00376848  48 00 00 B8 */	b lbl_80380B80
lbl_80380ACC:
/* 80380ACC 0037684C  7F 9D F1 AE */	stbx r28, r29, r30
/* 80380AD0 00376850  7C 1D F0 EE */	lbzux r0, r29, r30
/* 80380AD4 00376854  2C 00 00 3A */	cmpwi r0, 0x3a
/* 80380AD8 00376858  40 82 00 3C */	bne lbl_80380B14
/* 80380ADC 0037685C  3B BD 00 01 */	addi r29, r29, 1
/* 80380AE0 00376860  7F A3 EB 78 */	mr r3, r29
/* 80380AE4 00376864  48 07 BC 21 */	bl atoi
/* 80380AE8 00376868  54 60 04 3F */	clrlwi. r0, r3, 0x10
/* 80380AEC 0037686C  B0 7F 00 20 */	sth r3, 0x20(r31)
/* 80380AF0 00376870  40 82 00 0C */	bne lbl_80380AFC
/* 80380AF4 00376874  38 60 00 00 */	li r3, 0
/* 80380AF8 00376878  48 00 00 88 */	b lbl_80380B80
lbl_80380AFC:
/* 80380AFC 0037687C  8C 1D 00 01 */	lbzu r0, 1(r29)
/* 80380B00 00376880  7C 00 07 75 */	extsb. r0, r0
/* 80380B04 00376884  41 82 00 30 */	beq lbl_80380B34
/* 80380B08 00376888  2C 00 00 2F */	cmpwi r0, 0x2f
/* 80380B0C 0037688C  40 82 FF F0 */	bne lbl_80380AFC
/* 80380B10 00376890  48 00 00 24 */	b lbl_80380B34
lbl_80380B14:
/* 80380B14 00376894  80 1F 00 28 */	lwz r0, 0x28(r31)
/* 80380B18 00376898  2C 00 00 01 */	cmpwi r0, 1
/* 80380B1C 0037689C  40 82 00 10 */	bne lbl_80380B2C
/* 80380B20 003768A0  38 00 01 BB */	li r0, 0x1bb
/* 80380B24 003768A4  B0 1F 00 20 */	sth r0, 0x20(r31)
/* 80380B28 003768A8  48 00 00 0C */	b lbl_80380B34
lbl_80380B2C:
/* 80380B2C 003768AC  38 00 00 50 */	li r0, 0x50
/* 80380B30 003768B0  B0 1F 00 20 */	sth r0, 0x20(r31)
lbl_80380B34:
/* 80380B34 003768B4  88 1D 00 00 */	lbz r0, 0(r29)
/* 80380B38 003768B8  7C 00 07 75 */	extsb. r0, r0
/* 80380B3C 003768BC  40 82 00 08 */	bne lbl_80380B44
/* 80380B40 003768C0  3B AD B6 84 */	addi r29, r13, lbl_8059FAA4-_SDA_BASE_
lbl_80380B44:
/* 80380B44 003768C4  7F A3 EB 78 */	mr r3, r29
/* 80380B48 003768C8  4B FD CB 0D */	bl goastrdup
/* 80380B4C 003768CC  90 7F 00 24 */	stw r3, 0x24(r31)
/* 80380B50 003768D0  3B C0 00 2B */	li r30, 0x2b
/* 80380B54 003768D4  48 00 00 08 */	b lbl_80380B5C
lbl_80380B58:
/* 80380B58 003768D8  9B C3 00 00 */	stb r30, 0(r3)
lbl_80380B5C:
/* 80380B5C 003768DC  83 BF 00 24 */	lwz r29, 0x24(r31)
/* 80380B60 003768E0  38 80 00 20 */	li r4, 0x20
/* 80380B64 003768E4  7F A3 EB 78 */	mr r3, r29
/* 80380B68 003768E8  48 07 99 F1 */	bl strchr
/* 80380B6C 003768EC  2C 03 00 00 */	cmpwi r3, 0
/* 80380B70 003768F0  40 82 FF E8 */	bne lbl_80380B58
/* 80380B74 003768F4  7C 1D 00 D0 */	neg r0, r29
/* 80380B78 003768F8  7C 00 EB 78 */	or r0, r0, r29
/* 80380B7C 003768FC  54 03 0F FE */	srwi r3, r0, 0x1f
lbl_80380B80:
/* 80380B80 00376900  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80380B84 00376904  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80380B88 00376908  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80380B8C 0037690C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80380B90 00376910  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80380B94 00376914  7C 08 03 A6 */	mtlr r0
/* 80380B98 00376918  38 21 00 20 */	addi r1, r1, 0x20
/* 80380B9C 0037691C  4E 80 00 20 */	blr 

.global ghiDoSocketInit
ghiDoSocketInit:
/* 80380BA0 00376920  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80380BA4 00376924  7C 08 02 A6 */	mflr r0
/* 80380BA8 00376928  38 80 00 00 */	li r4, 0
/* 80380BAC 0037692C  38 A0 00 00 */	li r5, 0
/* 80380BB0 00376930  90 01 00 14 */	stw r0, 0x14(r1)
/* 80380BB4 00376934  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80380BB8 00376938  7C 7F 1B 78 */	mr r31, r3
/* 80380BBC 0037693C  4B FF B2 19 */	bl ghiCallProgressCallback
/* 80380BC0 00376940  4B FD CB 61 */	bl SocketStartUp
/* 80380BC4 00376944  7F E3 FB 78 */	mr r3, r31
/* 80380BC8 00376948  4B FF FE 2D */	bl ghiParseURL
/* 80380BCC 0037694C  2C 03 00 00 */	cmpwi r3, 0
/* 80380BD0 00376950  40 82 00 18 */	bne lbl_80380BE8
/* 80380BD4 00376954  38 60 00 01 */	li r3, 1
/* 80380BD8 00376958  38 00 00 03 */	li r0, 3
/* 80380BDC 0037695C  90 7F 01 20 */	stw r3, 0x120(r31)
/* 80380BE0 00376960  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80380BE4 00376964  48 00 00 64 */	b lbl_80380C48
lbl_80380BE8:
/* 80380BE8 00376968  80 7F 00 28 */	lwz r3, 0x28(r31)
/* 80380BEC 0037696C  2C 03 00 01 */	cmpwi r3, 1
/* 80380BF0 00376970  40 82 00 20 */	bne lbl_80380C10
/* 80380BF4 00376974  80 1F 01 94 */	lwz r0, 0x194(r31)
/* 80380BF8 00376978  2C 00 00 00 */	cmpwi r0, 0
/* 80380BFC 0037697C  40 82 00 14 */	bne lbl_80380C10
/* 80380C00 00376980  80 7F 00 04 */	lwz r3, 4(r31)
/* 80380C04 00376984  38 80 00 01 */	li r4, 1
/* 80380C08 00376988  4B FF BE 21 */	bl ghttpSetRequestEncryptionEngine
/* 80380C0C 0037698C  48 00 00 24 */	b lbl_80380C30
lbl_80380C10:
/* 80380C10 00376990  2C 03 00 01 */	cmpwi r3, 1
/* 80380C14 00376994  41 82 00 1C */	beq lbl_80380C30
/* 80380C18 00376998  80 1F 01 94 */	lwz r0, 0x194(r31)
/* 80380C1C 0037699C  2C 00 00 00 */	cmpwi r0, 0
/* 80380C20 003769A0  41 82 00 10 */	beq lbl_80380C30
/* 80380C24 003769A4  80 7F 00 04 */	lwz r3, 4(r31)
/* 80380C28 003769A8  38 80 00 00 */	li r4, 0
/* 80380C2C 003769AC  4B FF BD FD */	bl ghttpSetRequestEncryptionEngine
lbl_80380C30:
/* 80380C30 003769B0  38 00 00 01 */	li r0, 1
/* 80380C34 003769B4  7F E3 FB 78 */	mr r3, r31
/* 80380C38 003769B8  90 1F 00 10 */	stw r0, 0x10(r31)
/* 80380C3C 003769BC  38 80 00 00 */	li r4, 0
/* 80380C40 003769C0  38 A0 00 00 */	li r5, 0
/* 80380C44 003769C4  4B FF B1 91 */	bl ghiCallProgressCallback
lbl_80380C48:
/* 80380C48 003769C8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80380C4C 003769CC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80380C50 003769D0  7C 08 03 A6 */	mtlr r0
/* 80380C54 003769D4  38 21 00 10 */	addi r1, r1, 0x10
/* 80380C58 003769D8  4E 80 00 20 */	blr 

.global ghiDoHostLookup
ghiDoHostLookup:
/* 80380C5C 003769DC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80380C60 003769E0  7C 08 02 A6 */	mflr r0
/* 80380C64 003769E4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80380C68 003769E8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80380C6C 003769EC  93 C1 00 08 */	stw r30, 8(r1)
/* 80380C70 003769F0  7C 7E 1B 78 */	mr r30, r3
/* 80380C74 003769F4  80 03 01 B0 */	lwz r0, 0x1b0(r3)
/* 80380C78 003769F8  2C 00 00 00 */	cmpwi r0, 0
/* 80380C7C 003769FC  41 82 00 1C */	beq lbl_80380C98
/* 80380C80 00376A00  38 00 00 02 */	li r0, 2
/* 80380C84 00376A04  38 80 00 00 */	li r4, 0
/* 80380C88 00376A08  90 03 00 10 */	stw r0, 0x10(r3)
/* 80380C8C 00376A0C  38 A0 00 00 */	li r5, 0
/* 80380C90 00376A10  4B FF B1 45 */	bl ghiCallProgressCallback
/* 80380C94 00376A14  48 00 00 B4 */	b lbl_80380D48
lbl_80380C98:
/* 80380C98 00376A18  83 E3 01 88 */	lwz r31, 0x188(r3)
/* 80380C9C 00376A1C  2C 1F 00 00 */	cmpwi r31, 0
/* 80380CA0 00376A20  41 82 00 08 */	beq lbl_80380CA8
/* 80380CA4 00376A24  48 00 00 18 */	b lbl_80380CBC
lbl_80380CA8:
/* 80380CA8 00376A28  83 ED CC 44 */	lwz r31, lbl_805A1064-_SDA_BASE_(r13)
/* 80380CAC 00376A2C  2C 1F 00 00 */	cmpwi r31, 0
/* 80380CB0 00376A30  41 82 00 08 */	beq lbl_80380CB8
/* 80380CB4 00376A34  48 00 00 08 */	b lbl_80380CBC
lbl_80380CB8:
/* 80380CB8 00376A38  83 E3 00 18 */	lwz r31, 0x18(r3)
lbl_80380CBC:
/* 80380CBC 00376A3C  7F E3 FB 78 */	mr r3, r31
/* 80380CC0 00376A40  4B FD B9 61 */	bl inet_addr
/* 80380CC4 00376A44  3C 03 00 01 */	addis r0, r3, 1
/* 80380CC8 00376A48  90 7E 00 1C */	stw r3, 0x1c(r30)
/* 80380CCC 00376A4C  28 00 FF FF */	cmplwi r0, 0xffff
/* 80380CD0 00376A50  40 82 00 34 */	bne lbl_80380D04
/* 80380CD4 00376A54  7F E3 FB 78 */	mr r3, r31
/* 80380CD8 00376A58  38 9E 01 B0 */	addi r4, r30, 0x1b0
/* 80380CDC 00376A5C  4B FD C6 89 */	bl gsiStartResolvingHostname
/* 80380CE0 00376A60  2C 03 FF FF */	cmpwi r3, -1
/* 80380CE4 00376A64  40 82 00 20 */	bne lbl_80380D04
/* 80380CE8 00376A68  38 80 00 00 */	li r4, 0
/* 80380CEC 00376A6C  38 60 00 01 */	li r3, 1
/* 80380CF0 00376A70  38 00 00 04 */	li r0, 4
/* 80380CF4 00376A74  90 9E 01 B0 */	stw r4, 0x1b0(r30)
/* 80380CF8 00376A78  90 7E 01 20 */	stw r3, 0x120(r30)
/* 80380CFC 00376A7C  90 1E 00 3C */	stw r0, 0x3c(r30)
/* 80380D00 00376A80  48 00 00 48 */	b lbl_80380D48
lbl_80380D04:
/* 80380D04 00376A84  80 7E 00 1C */	lwz r3, 0x1c(r30)
/* 80380D08 00376A88  3C 03 00 01 */	addis r0, r3, 1
/* 80380D0C 00376A8C  28 00 FF FF */	cmplwi r0, 0xffff
/* 80380D10 00376A90  40 82 00 20 */	bne lbl_80380D30
/* 80380D14 00376A94  38 00 00 02 */	li r0, 2
/* 80380D18 00376A98  7F C3 F3 78 */	mr r3, r30
/* 80380D1C 00376A9C  90 1E 00 10 */	stw r0, 0x10(r30)
/* 80380D20 00376AA0  38 80 00 00 */	li r4, 0
/* 80380D24 00376AA4  38 A0 00 00 */	li r5, 0
/* 80380D28 00376AA8  4B FF B0 AD */	bl ghiCallProgressCallback
/* 80380D2C 00376AAC  48 00 00 1C */	b lbl_80380D48
lbl_80380D30:
/* 80380D30 00376AB0  38 00 00 03 */	li r0, 3
/* 80380D34 00376AB4  7F C3 F3 78 */	mr r3, r30
/* 80380D38 00376AB8  90 1E 00 10 */	stw r0, 0x10(r30)
/* 80380D3C 00376ABC  38 80 00 00 */	li r4, 0
/* 80380D40 00376AC0  38 A0 00 00 */	li r5, 0
/* 80380D44 00376AC4  4B FF B0 91 */	bl ghiCallProgressCallback
lbl_80380D48:
/* 80380D48 00376AC8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80380D4C 00376ACC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80380D50 00376AD0  83 C1 00 08 */	lwz r30, 8(r1)
/* 80380D54 00376AD4  7C 08 03 A6 */	mtlr r0
/* 80380D58 00376AD8  38 21 00 10 */	addi r1, r1, 0x10
/* 80380D5C 00376ADC  4E 80 00 20 */	blr 

.global ghiDoLookupPending
ghiDoLookupPending:
/* 80380D60 00376AE0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80380D64 00376AE4  7C 08 02 A6 */	mflr r0
/* 80380D68 00376AE8  90 01 00 14 */	stw r0, 0x14(r1)
/* 80380D6C 00376AEC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80380D70 00376AF0  7C 7F 1B 78 */	mr r31, r3
/* 80380D74 00376AF4  80 63 01 B0 */	lwz r3, 0x1b0(r3)
/* 80380D78 00376AF8  4B FD C7 E9 */	bl gsiGetResolvedIP
/* 80380D7C 00376AFC  3C 03 00 01 */	addis r0, r3, 1
/* 80380D80 00376B00  90 7F 00 1C */	stw r3, 0x1c(r31)
/* 80380D84 00376B04  28 00 FF FF */	cmplwi r0, 0xffff
/* 80380D88 00376B08  40 82 00 20 */	bne lbl_80380DA8
/* 80380D8C 00376B0C  38 80 00 00 */	li r4, 0
/* 80380D90 00376B10  38 60 00 01 */	li r3, 1
/* 80380D94 00376B14  38 00 00 04 */	li r0, 4
/* 80380D98 00376B18  90 9F 01 B0 */	stw r4, 0x1b0(r31)
/* 80380D9C 00376B1C  90 7F 01 20 */	stw r3, 0x120(r31)
/* 80380DA0 00376B20  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80380DA4 00376B24  48 00 00 48 */	b lbl_80380DEC
lbl_80380DA8:
/* 80380DA8 00376B28  2C 03 00 00 */	cmpwi r3, 0
/* 80380DAC 00376B2C  40 82 00 20 */	bne lbl_80380DCC
/* 80380DB0 00376B30  38 00 00 02 */	li r0, 2
/* 80380DB4 00376B34  7F E3 FB 78 */	mr r3, r31
/* 80380DB8 00376B38  90 1F 00 10 */	stw r0, 0x10(r31)
/* 80380DBC 00376B3C  38 80 00 00 */	li r4, 0
/* 80380DC0 00376B40  38 A0 00 00 */	li r5, 0
/* 80380DC4 00376B44  4B FF B0 11 */	bl ghiCallProgressCallback
/* 80380DC8 00376B48  48 00 00 24 */	b lbl_80380DEC
lbl_80380DCC:
/* 80380DCC 00376B4C  38 60 00 00 */	li r3, 0
/* 80380DD0 00376B50  38 00 00 03 */	li r0, 3
/* 80380DD4 00376B54  90 7F 01 B0 */	stw r3, 0x1b0(r31)
/* 80380DD8 00376B58  7F E3 FB 78 */	mr r3, r31
/* 80380DDC 00376B5C  38 80 00 00 */	li r4, 0
/* 80380DE0 00376B60  38 A0 00 00 */	li r5, 0
/* 80380DE4 00376B64  90 1F 00 10 */	stw r0, 0x10(r31)
/* 80380DE8 00376B68  4B FF AF ED */	bl ghiCallProgressCallback
lbl_80380DEC:
/* 80380DEC 00376B6C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80380DF0 00376B70  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80380DF4 00376B74  7C 08 03 A6 */	mtlr r0
/* 80380DF8 00376B78  38 21 00 10 */	addi r1, r1, 0x10
/* 80380DFC 00376B7C  4E 80 00 20 */	blr 

.global ghiDoConnecting
ghiDoConnecting:
/* 80380E00 00376B80  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80380E04 00376B84  7C 08 02 A6 */	mflr r0
/* 80380E08 00376B88  90 01 00 24 */	stw r0, 0x24(r1)
/* 80380E0C 00376B8C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80380E10 00376B90  7C 7F 1B 78 */	mr r31, r3
/* 80380E14 00376B94  80 03 00 4C */	lwz r0, 0x4c(r3)
/* 80380E18 00376B98  2C 00 FF FF */	cmpwi r0, -1
/* 80380E1C 00376B9C  40 82 01 38 */	bne lbl_80380F54
/* 80380E20 00376BA0  38 60 00 02 */	li r3, 2
/* 80380E24 00376BA4  38 80 00 01 */	li r4, 1
/* 80380E28 00376BA8  38 A0 00 06 */	li r5, 6
/* 80380E2C 00376BAC  4B FD B4 41 */	bl socket
/* 80380E30 00376BB0  2C 03 FF FF */	cmpwi r3, -1
/* 80380E34 00376BB4  90 7F 00 4C */	stw r3, 0x4c(r31)
/* 80380E38 00376BB8  40 82 00 20 */	bne lbl_80380E58
/* 80380E3C 00376BBC  38 80 00 01 */	li r4, 1
/* 80380E40 00376BC0  38 00 00 05 */	li r0, 5
/* 80380E44 00376BC4  90 9F 01 20 */	stw r4, 0x120(r31)
/* 80380E48 00376BC8  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80380E4C 00376BCC  4B FD B8 0D */	bl GOAGetLastError
/* 80380E50 00376BD0  90 7F 00 50 */	stw r3, 0x50(r31)
/* 80380E54 00376BD4  48 00 01 A8 */	b lbl_80380FFC
lbl_80380E58:
/* 80380E58 00376BD8  38 80 00 00 */	li r4, 0
/* 80380E5C 00376BDC  4B FD BE A9 */	bl SetSockBlocking
/* 80380E60 00376BE0  2C 03 00 00 */	cmpwi r3, 0
/* 80380E64 00376BE4  40 82 00 24 */	bne lbl_80380E88
/* 80380E68 00376BE8  38 60 00 01 */	li r3, 1
/* 80380E6C 00376BEC  38 00 00 05 */	li r0, 5
/* 80380E70 00376BF0  90 7F 01 20 */	stw r3, 0x120(r31)
/* 80380E74 00376BF4  80 7F 00 4C */	lwz r3, 0x4c(r31)
/* 80380E78 00376BF8  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80380E7C 00376BFC  4B FD B7 DD */	bl GOAGetLastError
/* 80380E80 00376C00  90 7F 00 50 */	stw r3, 0x50(r31)
/* 80380E84 00376C04  48 00 01 78 */	b lbl_80380FFC
lbl_80380E88:
/* 80380E88 00376C08  80 1F 01 58 */	lwz r0, 0x158(r31)
/* 80380E8C 00376C0C  2C 00 00 00 */	cmpwi r0, 0
/* 80380E90 00376C10  41 82 00 10 */	beq lbl_80380EA0
/* 80380E94 00376C14  80 7F 00 4C */	lwz r3, 0x4c(r31)
/* 80380E98 00376C18  80 8D B6 30 */	lwz r4, lbl_8059FA50-_SDA_BASE_(r13)
/* 80380E9C 00376C1C  4B FD BE E1 */	bl SetReceiveBufferSize
lbl_80380EA0:
/* 80380EA0 00376C20  38 61 00 10 */	addi r3, r1, 0x10
/* 80380EA4 00376C24  38 80 00 00 */	li r4, 0
/* 80380EA8 00376C28  38 A0 00 08 */	li r5, 8
/* 80380EAC 00376C2C  4B C8 35 91 */	bl func_8000443C
/* 80380EB0 00376C30  38 00 00 02 */	li r0, 2
/* 80380EB4 00376C34  98 01 00 11 */	stb r0, 0x11(r1)
/* 80380EB8 00376C38  80 1F 01 88 */	lwz r0, 0x188(r31)
/* 80380EBC 00376C3C  2C 00 00 00 */	cmpwi r0, 0
/* 80380EC0 00376C40  41 82 00 14 */	beq lbl_80380ED4
/* 80380EC4 00376C44  A0 7F 01 8C */	lhz r3, 0x18c(r31)
/* 80380EC8 00376C48  48 02 6C 3D */	bl SOHtoNs
/* 80380ECC 00376C4C  B0 61 00 12 */	sth r3, 0x12(r1)
/* 80380ED0 00376C50  48 00 00 2C */	b lbl_80380EFC
lbl_80380ED4:
/* 80380ED4 00376C54  80 0D CC 44 */	lwz r0, lbl_805A1064-_SDA_BASE_(r13)
/* 80380ED8 00376C58  2C 00 00 00 */	cmpwi r0, 0
/* 80380EDC 00376C5C  41 82 00 14 */	beq lbl_80380EF0
/* 80380EE0 00376C60  A0 6D CC 40 */	lhz r3, lbl_805A1060-_SDA_BASE_(r13)
/* 80380EE4 00376C64  48 02 6C 21 */	bl SOHtoNs
/* 80380EE8 00376C68  B0 61 00 12 */	sth r3, 0x12(r1)
/* 80380EEC 00376C6C  48 00 00 10 */	b lbl_80380EFC
lbl_80380EF0:
/* 80380EF0 00376C70  A0 7F 00 20 */	lhz r3, 0x20(r31)
/* 80380EF4 00376C74  48 02 6C 11 */	bl SOHtoNs
/* 80380EF8 00376C78  B0 61 00 12 */	sth r3, 0x12(r1)
lbl_80380EFC:
/* 80380EFC 00376C7C  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 80380F00 00376C80  38 81 00 10 */	addi r4, r1, 0x10
/* 80380F04 00376C84  38 A0 00 08 */	li r5, 8
/* 80380F08 00376C88  90 01 00 14 */	stw r0, 0x14(r1)
/* 80380F0C 00376C8C  80 7F 00 4C */	lwz r3, 0x4c(r31)
/* 80380F10 00376C90  4B FD B4 75 */	bl connect
/* 80380F14 00376C94  2C 03 FF FF */	cmpwi r3, -1
/* 80380F18 00376C98  40 82 00 3C */	bne lbl_80380F54
/* 80380F1C 00376C9C  80 7F 00 4C */	lwz r3, 0x4c(r31)
/* 80380F20 00376CA0  4B FD B7 39 */	bl GOAGetLastError
/* 80380F24 00376CA4  2C 03 FF FA */	cmpwi r3, -6
/* 80380F28 00376CA8  41 82 00 2C */	beq lbl_80380F54
/* 80380F2C 00376CAC  2C 03 FF E6 */	cmpwi r3, -26
/* 80380F30 00376CB0  41 82 00 24 */	beq lbl_80380F54
/* 80380F34 00376CB4  2C 03 FF B4 */	cmpwi r3, -76
/* 80380F38 00376CB8  41 82 00 1C */	beq lbl_80380F54
/* 80380F3C 00376CBC  38 80 00 01 */	li r4, 1
/* 80380F40 00376CC0  38 00 00 06 */	li r0, 6
/* 80380F44 00376CC4  90 9F 01 20 */	stw r4, 0x120(r31)
/* 80380F48 00376CC8  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80380F4C 00376CCC  90 7F 00 50 */	stw r3, 0x50(r31)
/* 80380F50 00376CD0  48 00 00 AC */	b lbl_80380FFC
lbl_80380F54:
/* 80380F54 00376CD4  80 7F 00 4C */	lwz r3, 0x4c(r31)
/* 80380F58 00376CD8  38 A1 00 0C */	addi r5, r1, 0xc
/* 80380F5C 00376CDC  38 C1 00 08 */	addi r6, r1, 8
/* 80380F60 00376CE0  38 80 00 00 */	li r4, 0
/* 80380F64 00376CE4  4B FD B6 FD */	bl GSISocketSelect
/* 80380F68 00376CE8  2C 03 FF FF */	cmpwi r3, -1
/* 80380F6C 00376CEC  41 82 00 18 */	beq lbl_80380F84
/* 80380F70 00376CF0  2C 03 00 01 */	cmpwi r3, 1
/* 80380F74 00376CF4  40 82 00 44 */	bne lbl_80380FB8
/* 80380F78 00376CF8  80 01 00 08 */	lwz r0, 8(r1)
/* 80380F7C 00376CFC  2C 00 00 00 */	cmpwi r0, 0
/* 80380F80 00376D00  41 82 00 38 */	beq lbl_80380FB8
lbl_80380F84:
/* 80380F84 00376D04  38 80 00 01 */	li r4, 1
/* 80380F88 00376D08  38 00 00 06 */	li r0, 6
/* 80380F8C 00376D0C  2C 03 FF FF */	cmpwi r3, -1
/* 80380F90 00376D10  90 9F 01 20 */	stw r4, 0x120(r31)
/* 80380F94 00376D14  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80380F98 00376D18  40 82 00 14 */	bne lbl_80380FAC
/* 80380F9C 00376D1C  80 7F 00 4C */	lwz r3, 0x4c(r31)
/* 80380FA0 00376D20  4B FD B6 B9 */	bl GOAGetLastError
/* 80380FA4 00376D24  90 7F 00 50 */	stw r3, 0x50(r31)
/* 80380FA8 00376D28  48 00 00 54 */	b lbl_80380FFC
lbl_80380FAC:
/* 80380FAC 00376D2C  38 00 00 00 */	li r0, 0
/* 80380FB0 00376D30  90 1F 00 50 */	stw r0, 0x50(r31)
/* 80380FB4 00376D34  48 00 00 48 */	b lbl_80380FFC
lbl_80380FB8:
/* 80380FB8 00376D38  2C 03 00 01 */	cmpwi r3, 1
/* 80380FBC 00376D3C  40 82 00 40 */	bne lbl_80380FFC
/* 80380FC0 00376D40  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80380FC4 00376D44  2C 00 00 00 */	cmpwi r0, 0
/* 80380FC8 00376D48  41 82 00 34 */	beq lbl_80380FFC
/* 80380FCC 00376D4C  80 1F 01 94 */	lwz r0, 0x194(r31)
/* 80380FD0 00376D50  2C 00 00 00 */	cmpwi r0, 0
/* 80380FD4 00376D54  40 82 00 10 */	bne lbl_80380FE4
/* 80380FD8 00376D58  38 00 00 05 */	li r0, 5
/* 80380FDC 00376D5C  90 1F 00 10 */	stw r0, 0x10(r31)
/* 80380FE0 00376D60  48 00 00 0C */	b lbl_80380FEC
lbl_80380FE4:
/* 80380FE4 00376D64  38 00 00 04 */	li r0, 4
/* 80380FE8 00376D68  90 1F 00 10 */	stw r0, 0x10(r31)
lbl_80380FEC:
/* 80380FEC 00376D6C  7F E3 FB 78 */	mr r3, r31
/* 80380FF0 00376D70  38 80 00 00 */	li r4, 0
/* 80380FF4 00376D74  38 A0 00 00 */	li r5, 0
/* 80380FF8 00376D78  4B FF AD DD */	bl ghiCallProgressCallback
lbl_80380FFC:
/* 80380FFC 00376D7C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80381000 00376D80  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80381004 00376D84  7C 08 03 A6 */	mtlr r0
/* 80381008 00376D88  38 21 00 20 */	addi r1, r1, 0x20
/* 8038100C 00376D8C  4E 80 00 20 */	blr 

.global ghiDoSecuringSession
ghiDoSecuringSession:
/* 80381010 00376D90  94 21 FB E0 */	stwu r1, -0x420(r1)
/* 80381014 00376D94  7C 08 02 A6 */	mflr r0
/* 80381018 00376D98  90 01 04 24 */	stw r0, 0x424(r1)
/* 8038101C 00376D9C  93 E1 04 1C */	stw r31, 0x41c(r1)
/* 80381020 00376DA0  7C 7F 1B 78 */	mr r31, r3
/* 80381024 00376DA4  80 03 01 98 */	lwz r0, 0x198(r3)
/* 80381028 00376DA8  2C 00 00 00 */	cmpwi r0, 0
/* 8038102C 00376DAC  40 82 00 30 */	bne lbl_8038105C
/* 80381030 00376DB0  81 83 01 A0 */	lwz r12, 0x1a0(r3)
/* 80381034 00376DB4  38 83 01 90 */	addi r4, r3, 0x190
/* 80381038 00376DB8  7D 89 03 A6 */	mtctr r12
/* 8038103C 00376DBC  4E 80 04 21 */	bctrl 
/* 80381040 00376DC0  2C 03 00 03 */	cmpwi r3, 3
/* 80381044 00376DC4  40 82 00 18 */	bne lbl_8038105C
/* 80381048 00376DC8  38 60 00 01 */	li r3, 1
/* 8038104C 00376DCC  38 00 00 11 */	li r0, 0x11
/* 80381050 00376DD0  90 7F 01 20 */	stw r3, 0x120(r31)
/* 80381054 00376DD4  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80381058 00376DD8  48 00 00 DC */	b lbl_80381134
lbl_8038105C:
/* 8038105C 00376DDC  80 7F 00 64 */	lwz r3, 0x64(r31)
/* 80381060 00376DE0  80 1F 00 60 */	lwz r0, 0x60(r31)
/* 80381064 00376DE4  7C 03 00 00 */	cmpw r3, r0
/* 80381068 00376DE8  40 80 00 2C */	bge lbl_80381094
/* 8038106C 00376DEC  7F E3 FB 78 */	mr r3, r31
/* 80381070 00376DF0  4B FF AB 6D */	bl ghiSendBufferedData
/* 80381074 00376DF4  2C 03 00 00 */	cmpwi r3, 0
/* 80381078 00376DF8  41 82 00 BC */	beq lbl_80381134
/* 8038107C 00376DFC  80 7F 00 64 */	lwz r3, 0x64(r31)
/* 80381080 00376E00  80 1F 00 60 */	lwz r0, 0x60(r31)
/* 80381084 00376E04  7C 03 00 00 */	cmpw r3, r0
/* 80381088 00376E08  41 80 00 AC */	blt lbl_80381134
/* 8038108C 00376E0C  38 7F 00 54 */	addi r3, r31, 0x54
/* 80381090 00376E10  4B FF AB 29 */	bl ghiResetBuffer
lbl_80381094:
/* 80381094 00376E14  38 00 04 01 */	li r0, 0x401
/* 80381098 00376E18  7F E3 FB 78 */	mr r3, r31
/* 8038109C 00376E1C  90 01 00 08 */	stw r0, 8(r1)
/* 803810A0 00376E20  38 81 00 0C */	addi r4, r1, 0xc
/* 803810A4 00376E24  38 A1 00 08 */	addi r5, r1, 8
/* 803810A8 00376E28  4B FF AF 25 */	bl ghiDoReceive
/* 803810AC 00376E2C  38 03 FF FE */	addi r0, r3, -2
/* 803810B0 00376E30  28 00 00 01 */	cmplwi r0, 1
/* 803810B4 00376E34  41 81 00 18 */	bgt lbl_803810CC
/* 803810B8 00376E38  38 60 00 01 */	li r3, 1
/* 803810BC 00376E3C  38 00 00 11 */	li r0, 0x11
/* 803810C0 00376E40  90 7F 01 20 */	stw r3, 0x120(r31)
/* 803810C4 00376E44  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 803810C8 00376E48  48 00 00 6C */	b lbl_80381134
lbl_803810CC:
/* 803810CC 00376E4C  2C 03 00 00 */	cmpwi r3, 0
/* 803810D0 00376E50  40 82 00 64 */	bne lbl_80381134
/* 803810D4 00376E54  80 A1 00 08 */	lwz r5, 8(r1)
/* 803810D8 00376E58  38 7F 00 C0 */	addi r3, r31, 0xc0
/* 803810DC 00376E5C  38 81 00 0C */	addi r4, r1, 0xc
/* 803810E0 00376E60  4B FF A5 65 */	bl ghiAppendDataToBuffer
/* 803810E4 00376E64  2C 03 00 00 */	cmpwi r3, 0
/* 803810E8 00376E68  41 82 00 4C */	beq lbl_80381134
/* 803810EC 00376E6C  7F E3 FB 78 */	mr r3, r31
/* 803810F0 00376E70  4B FF AD 8D */	bl ghiDecryptReceivedData
/* 803810F4 00376E74  2C 03 00 00 */	cmpwi r3, 0
/* 803810F8 00376E78  40 82 00 18 */	bne lbl_80381110
/* 803810FC 00376E7C  38 60 00 01 */	li r3, 1
/* 80381100 00376E80  38 00 00 11 */	li r0, 0x11
/* 80381104 00376E84  90 7F 01 20 */	stw r3, 0x120(r31)
/* 80381108 00376E88  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 8038110C 00376E8C  48 00 00 28 */	b lbl_80381134
lbl_80381110:
/* 80381110 00376E90  80 1F 01 9C */	lwz r0, 0x19c(r31)
/* 80381114 00376E94  2C 00 00 00 */	cmpwi r0, 0
/* 80381118 00376E98  41 82 00 1C */	beq lbl_80381134
/* 8038111C 00376E9C  38 00 00 05 */	li r0, 5
/* 80381120 00376EA0  7F E3 FB 78 */	mr r3, r31
/* 80381124 00376EA4  90 1F 00 10 */	stw r0, 0x10(r31)
/* 80381128 00376EA8  38 80 00 00 */	li r4, 0
/* 8038112C 00376EAC  38 A0 00 00 */	li r5, 0
/* 80381130 00376EB0  4B FF AC A5 */	bl ghiCallProgressCallback
lbl_80381134:
/* 80381134 00376EB4  80 01 04 24 */	lwz r0, 0x424(r1)
/* 80381138 00376EB8  83 E1 04 1C */	lwz r31, 0x41c(r1)
/* 8038113C 00376EBC  7C 08 03 A6 */	mtlr r0
/* 80381140 00376EC0  38 21 04 20 */	addi r1, r1, 0x420
/* 80381144 00376EC4  4E 80 00 20 */	blr 

.global ghiDoSendingRequest
ghiDoSendingRequest:
/* 80381148 00376EC8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8038114C 00376ECC  7C 08 02 A6 */	mflr r0
/* 80381150 00376ED0  90 01 00 34 */	stw r0, 0x34(r1)
/* 80381154 00376ED4  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 80381158 00376ED8  7C 7F 1B 78 */	mr r31, r3
/* 8038115C 00376EDC  93 C1 00 28 */	stw r30, 0x28(r1)
/* 80381160 00376EE0  3F C0 80 49 */	lis r30, lbl_804908D0@ha
/* 80381164 00376EE4  3B DE 08 D0 */	addi r30, r30, lbl_804908D0@l
/* 80381168 00376EE8  93 A1 00 24 */	stw r29, 0x24(r1)
/* 8038116C 00376EEC  80 03 00 60 */	lwz r0, 0x60(r3)
/* 80381170 00376EF0  2C 00 00 00 */	cmpwi r0, 0
/* 80381174 00376EF4  40 82 02 28 */	bne lbl_8038139C
/* 80381178 00376EF8  80 03 01 94 */	lwz r0, 0x194(r3)
/* 8038117C 00376EFC  2C 00 00 00 */	cmpwi r0, 0
/* 80381180 00376F00  40 82 00 0C */	bne lbl_8038118C
/* 80381184 00376F04  3B A3 00 54 */	addi r29, r3, 0x54
/* 80381188 00376F08  48 00 00 08 */	b lbl_80381190
lbl_8038118C:
/* 8038118C 00376F0C  3B A3 00 78 */	addi r29, r3, 0x78
lbl_80381190:
/* 80381190 00376F10  80 03 01 60 */	lwz r0, 0x160(r3)
/* 80381194 00376F14  2C 00 00 00 */	cmpwi r0, 0
/* 80381198 00376F18  41 82 00 18 */	beq lbl_803811B0
/* 8038119C 00376F1C  80 03 01 80 */	lwz r0, 0x180(r3)
/* 803811A0 00376F20  2C 00 00 00 */	cmpwi r0, 0
/* 803811A4 00376F24  40 82 00 0C */	bne lbl_803811B0
/* 803811A8 00376F28  38 8D B6 88 */	addi r4, r13, lbl_8059FAA8-_SDA_BASE_
/* 803811AC 00376F2C  48 00 00 18 */	b lbl_803811C4
lbl_803811B0:
/* 803811B0 00376F30  80 03 00 0C */	lwz r0, 0xc(r3)
/* 803811B4 00376F34  38 8D B6 98 */	addi r4, r13, lbl_8059FAB8-_SDA_BASE_
/* 803811B8 00376F38  2C 00 00 03 */	cmpwi r0, 3
/* 803811BC 00376F3C  40 82 00 08 */	bne lbl_803811C4
/* 803811C0 00376F40  38 8D B6 90 */	addi r4, r13, lbl_8059FAB0-_SDA_BASE_
lbl_803811C4:
/* 803811C4 00376F44  7F A3 EB 78 */	mr r3, r29
/* 803811C8 00376F48  38 A0 00 00 */	li r5, 0
/* 803811CC 00376F4C  4B FF A4 79 */	bl ghiAppendDataToBuffer
/* 803811D0 00376F50  80 1F 01 88 */	lwz r0, 0x188(r31)
/* 803811D4 00376F54  2C 00 00 00 */	cmpwi r0, 0
/* 803811D8 00376F58  40 82 00 10 */	bne lbl_803811E8
/* 803811DC 00376F5C  80 0D CC 44 */	lwz r0, lbl_805A1064-_SDA_BASE_(r13)
/* 803811E0 00376F60  2C 00 00 00 */	cmpwi r0, 0
/* 803811E4 00376F64  41 82 00 18 */	beq lbl_803811FC
lbl_803811E8:
/* 803811E8 00376F68  80 9F 00 14 */	lwz r4, 0x14(r31)
/* 803811EC 00376F6C  7F A3 EB 78 */	mr r3, r29
/* 803811F0 00376F70  38 A0 00 00 */	li r5, 0
/* 803811F4 00376F74  4B FF A4 51 */	bl ghiAppendDataToBuffer
/* 803811F8 00376F78  48 00 00 14 */	b lbl_8038120C
lbl_803811FC:
/* 803811FC 00376F7C  80 9F 00 24 */	lwz r4, 0x24(r31)
/* 80381200 00376F80  7F A3 EB 78 */	mr r3, r29
/* 80381204 00376F84  38 A0 00 00 */	li r5, 0
/* 80381208 00376F88  4B FF A4 3D */	bl ghiAppendDataToBuffer
lbl_8038120C:
/* 8038120C 00376F8C  7F A3 EB 78 */	mr r3, r29
/* 80381210 00376F90  38 9E 00 0C */	addi r4, r30, 0xc
/* 80381214 00376F94  38 A0 00 00 */	li r5, 0
/* 80381218 00376F98  4B FF A4 2D */	bl ghiAppendDataToBuffer
/* 8038121C 00376F9C  A0 1F 00 20 */	lhz r0, 0x20(r31)
/* 80381220 00376FA0  28 00 00 50 */	cmplwi r0, 0x50
/* 80381224 00376FA4  40 82 00 18 */	bne lbl_8038123C
/* 80381228 00376FA8  80 BF 00 18 */	lwz r5, 0x18(r31)
/* 8038122C 00376FAC  7F A3 EB 78 */	mr r3, r29
/* 80381230 00376FB0  38 8D B6 A0 */	addi r4, r13, lbl_8059FAC0-_SDA_BASE_
/* 80381234 00376FB4  4B FF A7 59 */	bl ghiAppendHeaderToBuffer
/* 80381238 00376FB8  48 00 00 4C */	b lbl_80381284
lbl_8038123C:
/* 8038123C 00376FBC  7F A3 EB 78 */	mr r3, r29
/* 80381240 00376FC0  38 8D B6 A8 */	addi r4, r13, lbl_8059FAC8-_SDA_BASE_
/* 80381244 00376FC4  38 A0 00 00 */	li r5, 0
/* 80381248 00376FC8  4B FF A3 FD */	bl ghiAppendDataToBuffer
/* 8038124C 00376FCC  80 9F 00 18 */	lwz r4, 0x18(r31)
/* 80381250 00376FD0  7F A3 EB 78 */	mr r3, r29
/* 80381254 00376FD4  38 A0 00 00 */	li r5, 0
/* 80381258 00376FD8  4B FF A3 ED */	bl ghiAppendDataToBuffer
/* 8038125C 00376FDC  7F A3 EB 78 */	mr r3, r29
/* 80381260 00376FE0  38 80 00 3A */	li r4, 0x3a
/* 80381264 00376FE4  4B FF A7 D1 */	bl ghiAppendCharToBuffer
/* 80381268 00376FE8  A0 9F 00 20 */	lhz r4, 0x20(r31)
/* 8038126C 00376FEC  7F A3 EB 78 */	mr r3, r29
/* 80381270 00376FF0  4B FF A8 FD */	bl ghiAppendIntToBuffer
/* 80381274 00376FF4  7F A3 EB 78 */	mr r3, r29
/* 80381278 00376FF8  38 8D B6 B0 */	addi r4, r13, lbl_8059FAD0-_SDA_BASE_
/* 8038127C 00376FFC  38 A0 00 02 */	li r5, 2
/* 80381280 00377000  4B FF A3 C5 */	bl ghiAppendDataToBuffer
lbl_80381284:
/* 80381284 00377004  80 7F 00 2C */	lwz r3, 0x2c(r31)
/* 80381288 00377008  2C 03 00 00 */	cmpwi r3, 0
/* 8038128C 0037700C  41 82 00 14 */	beq lbl_803812A0
/* 80381290 00377010  38 9E 00 18 */	addi r4, r30, 0x18
/* 80381294 00377014  48 07 95 05 */	bl strstr
/* 80381298 00377018  2C 03 00 00 */	cmpwi r3, 0
/* 8038129C 0037701C  40 82 00 14 */	bne lbl_803812B0
lbl_803812A0:
/* 803812A0 00377020  7F A3 EB 78 */	mr r3, r29
/* 803812A4 00377024  38 9E 00 18 */	addi r4, r30, 0x18
/* 803812A8 00377028  38 BE 00 28 */	addi r5, r30, 0x28
/* 803812AC 0037702C  4B FF A6 E1 */	bl ghiAppendHeaderToBuffer
lbl_803812B0:
/* 803812B0 00377030  80 1F 00 38 */	lwz r0, 0x38(r31)
/* 803812B4 00377034  2C 00 00 00 */	cmpwi r0, 0
/* 803812B8 00377038  41 82 00 18 */	beq lbl_803812D0
/* 803812BC 0037703C  7F A3 EB 78 */	mr r3, r29
/* 803812C0 00377040  38 9E 00 38 */	addi r4, r30, 0x38
/* 803812C4 00377044  38 BE 00 44 */	addi r5, r30, 0x44
/* 803812C8 00377048  4B FF A6 C5 */	bl ghiAppendHeaderToBuffer
/* 803812CC 0037704C  48 00 00 14 */	b lbl_803812E0
lbl_803812D0:
/* 803812D0 00377050  7F A3 EB 78 */	mr r3, r29
/* 803812D4 00377054  38 9E 00 38 */	addi r4, r30, 0x38
/* 803812D8 00377058  38 AD B6 B4 */	addi r5, r13, lbl_8059FAD4-_SDA_BASE_
/* 803812DC 0037705C  4B FF A6 B1 */	bl ghiAppendHeaderToBuffer
lbl_803812E0:
/* 803812E0 00377060  80 1F 01 60 */	lwz r0, 0x160(r31)
/* 803812E4 00377064  2C 00 00 00 */	cmpwi r0, 0
/* 803812E8 00377068  41 82 00 4C */	beq lbl_80381334
/* 803812EC 0037706C  80 1F 01 80 */	lwz r0, 0x180(r31)
/* 803812F0 00377070  2C 00 00 00 */	cmpwi r0, 0
/* 803812F4 00377074  40 82 00 40 */	bne lbl_80381334
/* 803812F8 00377078  80 BF 01 70 */	lwz r5, 0x170(r31)
/* 803812FC 0037707C  38 61 00 08 */	addi r3, r1, 8
/* 80381300 00377080  38 8D B6 BC */	addi r4, r13, lbl_8059FADC-_SDA_BASE_
/* 80381304 00377084  4C C6 31 82 */	crclr 6
/* 80381308 00377088  48 07 76 F5 */	bl sprintf
/* 8038130C 0037708C  7F A3 EB 78 */	mr r3, r29
/* 80381310 00377090  38 9E 00 50 */	addi r4, r30, 0x50
/* 80381314 00377094  38 A1 00 08 */	addi r5, r1, 8
/* 80381318 00377098  4B FF A6 75 */	bl ghiAppendHeaderToBuffer
/* 8038131C 0037709C  7F E3 FB 78 */	mr r3, r31
/* 80381320 003770A0  4B FF E0 19 */	bl ghiPostGetContentType
/* 80381324 003770A4  7C 65 1B 78 */	mr r5, r3
/* 80381328 003770A8  7F A3 EB 78 */	mr r3, r29
/* 8038132C 003770AC  38 9E 00 60 */	addi r4, r30, 0x60
/* 80381330 003770B0  4B FF A6 5D */	bl ghiAppendHeaderToBuffer
lbl_80381334:
/* 80381334 003770B4  80 9F 00 2C */	lwz r4, 0x2c(r31)
/* 80381338 003770B8  2C 04 00 00 */	cmpwi r4, 0
/* 8038133C 003770BC  41 82 00 10 */	beq lbl_8038134C
/* 80381340 003770C0  7F A3 EB 78 */	mr r3, r29
/* 80381344 003770C4  38 A0 00 00 */	li r5, 0
/* 80381348 003770C8  4B FF A2 FD */	bl ghiAppendDataToBuffer
lbl_8038134C:
/* 8038134C 003770CC  7F A3 EB 78 */	mr r3, r29
/* 80381350 003770D0  38 8D B6 B0 */	addi r4, r13, lbl_8059FAD0-_SDA_BASE_
/* 80381354 003770D4  38 A0 00 02 */	li r5, 2
/* 80381358 003770D8  4B FF A2 ED */	bl ghiAppendDataToBuffer
/* 8038135C 003770DC  80 1F 01 94 */	lwz r0, 0x194(r31)
/* 80381360 003770E0  2C 00 00 00 */	cmpwi r0, 0
/* 80381364 003770E4  41 82 00 38 */	beq lbl_8038139C
/* 80381368 003770E8  80 9D 00 04 */	lwz r4, 4(r29)
/* 8038136C 003770EC  38 7F 00 54 */	addi r3, r31, 0x54
/* 80381370 003770F0  80 BD 00 0C */	lwz r5, 0xc(r29)
/* 80381374 003770F4  4B FF A4 41 */	bl ghiEncryptDataToBuffer
/* 80381378 003770F8  2C 03 00 00 */	cmpwi r3, 0
/* 8038137C 003770FC  40 82 00 18 */	bne lbl_80381394
/* 80381380 00377100  38 60 00 01 */	li r3, 1
/* 80381384 00377104  38 00 00 11 */	li r0, 0x11
/* 80381388 00377108  90 7F 01 20 */	stw r3, 0x120(r31)
/* 8038138C 0037710C  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80381390 00377110  48 00 00 70 */	b lbl_80381400
lbl_80381394:
/* 80381394 00377114  7F A3 EB 78 */	mr r3, r29
/* 80381398 00377118  4B FF A8 21 */	bl ghiResetBuffer
lbl_8038139C:
/* 8038139C 0037711C  7F E3 FB 78 */	mr r3, r31
/* 803813A0 00377120  4B FF A8 3D */	bl ghiSendBufferedData
/* 803813A4 00377124  2C 03 00 00 */	cmpwi r3, 0
/* 803813A8 00377128  41 82 00 58 */	beq lbl_80381400
/* 803813AC 0037712C  80 7F 00 64 */	lwz r3, 0x64(r31)
/* 803813B0 00377130  80 1F 00 60 */	lwz r0, 0x60(r31)
/* 803813B4 00377134  7C 03 00 00 */	cmpw r3, r0
/* 803813B8 00377138  41 80 00 48 */	blt lbl_80381400
/* 803813BC 0037713C  38 7F 00 54 */	addi r3, r31, 0x54
/* 803813C0 00377140  4B FF A7 F9 */	bl ghiResetBuffer
/* 803813C4 00377144  80 1F 01 60 */	lwz r0, 0x160(r31)
/* 803813C8 00377148  2C 00 00 00 */	cmpwi r0, 0
/* 803813CC 0037714C  41 82 00 1C */	beq lbl_803813E8
/* 803813D0 00377150  80 1F 01 80 */	lwz r0, 0x180(r31)
/* 803813D4 00377154  2C 00 00 00 */	cmpwi r0, 0
/* 803813D8 00377158  40 82 00 10 */	bne lbl_803813E8
/* 803813DC 0037715C  38 00 00 06 */	li r0, 6
/* 803813E0 00377160  90 1F 00 10 */	stw r0, 0x10(r31)
/* 803813E4 00377164  48 00 00 0C */	b lbl_803813F0
lbl_803813E8:
/* 803813E8 00377168  38 00 00 07 */	li r0, 7
/* 803813EC 0037716C  90 1F 00 10 */	stw r0, 0x10(r31)
lbl_803813F0:
/* 803813F0 00377170  7F E3 FB 78 */	mr r3, r31
/* 803813F4 00377174  38 80 00 00 */	li r4, 0
/* 803813F8 00377178  38 A0 00 00 */	li r5, 0
/* 803813FC 0037717C  4B FF A9 D9 */	bl ghiCallProgressCallback
lbl_80381400:
/* 80381400 00377180  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80381404 00377184  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 80381408 00377188  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 8038140C 0037718C  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 80381410 00377190  7C 08 03 A6 */	mtlr r0
/* 80381414 00377194  38 21 00 30 */	addi r1, r1, 0x30
/* 80381418 00377198  4E 80 00 20 */	blr 

.global ghiDoPosting
ghiDoPosting:
/* 8038141C 0037719C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80381420 003771A0  7C 08 02 A6 */	mflr r0
/* 80381424 003771A4  90 01 00 24 */	stw r0, 0x24(r1)
/* 80381428 003771A8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8038142C 003771AC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80381430 003771B0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80381434 003771B4  7C 7D 1B 78 */	mr r29, r3
/* 80381438 003771B8  83 C3 01 6C */	lwz r30, 0x16c(r3)
/* 8038143C 003771BC  4B FF F3 6D */	bl ghiPostDoPosting
/* 80381440 003771C0  2C 03 00 00 */	cmpwi r3, 0
/* 80381444 003771C4  7C 7F 1B 78 */	mr r31, r3
/* 80381448 003771C8  40 82 00 58 */	bne lbl_803814A0
/* 8038144C 003771CC  38 00 00 00 */	li r0, 0
/* 80381450 003771D0  7F A3 EB 78 */	mr r3, r29
/* 80381454 003771D4  90 01 00 08 */	stw r0, 8(r1)
/* 80381458 003771D8  4B FF E5 ED */	bl ghiPostCleanupState
/* 8038145C 003771DC  80 7D 00 4C */	lwz r3, 0x4c(r29)
/* 80381460 003771E0  38 81 00 08 */	addi r4, r1, 8
/* 80381464 003771E4  38 A0 00 00 */	li r5, 0
/* 80381468 003771E8  38 C0 00 00 */	li r6, 0
/* 8038146C 003771EC  4B FD B1 F5 */	bl GSISocketSelect
/* 80381470 003771F0  2C 03 00 01 */	cmpwi r3, 1
/* 80381474 003771F4  40 82 00 84 */	bne lbl_803814F8
/* 80381478 003771F8  80 01 00 08 */	lwz r0, 8(r1)
/* 8038147C 003771FC  2C 00 00 00 */	cmpwi r0, 0
/* 80381480 00377200  41 82 00 78 */	beq lbl_803814F8
/* 80381484 00377204  38 00 00 08 */	li r0, 8
/* 80381488 00377208  7F A3 EB 78 */	mr r3, r29
/* 8038148C 0037720C  90 1D 00 10 */	stw r0, 0x10(r29)
/* 80381490 00377210  38 80 00 00 */	li r4, 0
/* 80381494 00377214  38 A0 00 00 */	li r5, 0
/* 80381498 00377218  4B FF A9 3D */	bl ghiCallProgressCallback
/* 8038149C 0037721C  48 00 00 5C */	b lbl_803814F8
lbl_803814A0:
/* 803814A0 00377220  2C 03 00 03 */	cmpwi r3, 3
/* 803814A4 00377224  40 82 00 10 */	bne lbl_803814B4
/* 803814A8 00377228  38 00 00 00 */	li r0, 0
/* 803814AC 0037722C  90 1D 01 7C */	stw r0, 0x17c(r29)
/* 803814B0 00377230  48 00 00 48 */	b lbl_803814F8
lbl_803814B4:
/* 803814B4 00377234  80 1D 01 6C */	lwz r0, 0x16c(r29)
/* 803814B8 00377238  7C 1E 00 00 */	cmpw r30, r0
/* 803814BC 0037723C  41 82 00 0C */	beq lbl_803814C8
/* 803814C0 00377240  7F A3 EB 78 */	mr r3, r29
/* 803814C4 00377244  4B FF A9 49 */	bl ghiCallPostCallback
lbl_803814C8:
/* 803814C8 00377248  2C 1F 00 01 */	cmpwi r31, 1
/* 803814CC 0037724C  40 82 00 2C */	bne lbl_803814F8
/* 803814D0 00377250  7F A3 EB 78 */	mr r3, r29
/* 803814D4 00377254  4B FF E5 71 */	bl ghiPostCleanupState
/* 803814D8 00377258  38 60 00 01 */	li r3, 1
/* 803814DC 0037725C  38 00 00 07 */	li r0, 7
/* 803814E0 00377260  90 7D 01 80 */	stw r3, 0x180(r29)
/* 803814E4 00377264  7F A3 EB 78 */	mr r3, r29
/* 803814E8 00377268  38 80 00 00 */	li r4, 0
/* 803814EC 0037726C  38 A0 00 00 */	li r5, 0
/* 803814F0 00377270  90 1D 00 10 */	stw r0, 0x10(r29)
/* 803814F4 00377274  4B FF A8 E1 */	bl ghiCallProgressCallback
lbl_803814F8:
/* 803814F8 00377278  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803814FC 0037727C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80381500 00377280  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80381504 00377284  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80381508 00377288  7C 08 03 A6 */	mtlr r0
/* 8038150C 0037728C  38 21 00 20 */	addi r1, r1, 0x20
/* 80381510 00377290  4E 80 00 20 */	blr 

.global ghiDoWaiting
ghiDoWaiting:
/* 80381514 00377294  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80381518 00377298  7C 08 02 A6 */	mflr r0
/* 8038151C 0037729C  38 A0 00 00 */	li r5, 0
/* 80381520 003772A0  90 01 00 24 */	stw r0, 0x24(r1)
/* 80381524 003772A4  38 81 00 0C */	addi r4, r1, 0xc
/* 80381528 003772A8  38 C1 00 08 */	addi r6, r1, 8
/* 8038152C 003772AC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80381530 003772B0  7C 7F 1B 78 */	mr r31, r3
/* 80381534 003772B4  80 63 00 4C */	lwz r3, 0x4c(r3)
/* 80381538 003772B8  4B FD B1 29 */	bl GSISocketSelect
/* 8038153C 003772BC  2C 03 FF FF */	cmpwi r3, -1
/* 80381540 003772C0  41 82 00 18 */	beq lbl_80381558
/* 80381544 003772C4  2C 03 00 01 */	cmpwi r3, 1
/* 80381548 003772C8  40 82 00 44 */	bne lbl_8038158C
/* 8038154C 003772CC  80 01 00 08 */	lwz r0, 8(r1)
/* 80381550 003772D0  2C 00 00 00 */	cmpwi r0, 0
/* 80381554 003772D4  41 82 00 38 */	beq lbl_8038158C
lbl_80381558:
/* 80381558 003772D8  38 80 00 01 */	li r4, 1
/* 8038155C 003772DC  38 00 00 05 */	li r0, 5
/* 80381560 003772E0  2C 03 FF FF */	cmpwi r3, -1
/* 80381564 003772E4  90 9F 01 20 */	stw r4, 0x120(r31)
/* 80381568 003772E8  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 8038156C 003772EC  40 82 00 14 */	bne lbl_80381580
/* 80381570 003772F0  80 7F 00 4C */	lwz r3, 0x4c(r31)
/* 80381574 003772F4  4B FD B0 E5 */	bl GOAGetLastError
/* 80381578 003772F8  90 7F 00 50 */	stw r3, 0x50(r31)
/* 8038157C 003772FC  48 00 00 3C */	b lbl_803815B8
lbl_80381580:
/* 80381580 00377300  38 00 00 00 */	li r0, 0
/* 80381584 00377304  90 1F 00 50 */	stw r0, 0x50(r31)
/* 80381588 00377308  48 00 00 30 */	b lbl_803815B8
lbl_8038158C:
/* 8038158C 0037730C  2C 03 00 01 */	cmpwi r3, 1
/* 80381590 00377310  40 82 00 28 */	bne lbl_803815B8
/* 80381594 00377314  80 01 00 0C */	lwz r0, 0xc(r1)
/* 80381598 00377318  2C 00 00 00 */	cmpwi r0, 0
/* 8038159C 0037731C  41 82 00 1C */	beq lbl_803815B8
/* 803815A0 00377320  38 00 00 08 */	li r0, 8
/* 803815A4 00377324  7F E3 FB 78 */	mr r3, r31
/* 803815A8 00377328  90 1F 00 10 */	stw r0, 0x10(r31)
/* 803815AC 0037732C  38 80 00 00 */	li r4, 0
/* 803815B0 00377330  38 A0 00 00 */	li r5, 0
/* 803815B4 00377334  4B FF A8 21 */	bl ghiCallProgressCallback
lbl_803815B8:
/* 803815B8 00377338  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803815BC 0037733C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803815C0 00377340  7C 08 03 A6 */	mtlr r0
/* 803815C4 00377344  38 21 00 20 */	addi r1, r1, 0x20
/* 803815C8 00377348  4E 80 00 20 */	blr 

.global ghiParseStatus
ghiParseStatus:
/* 803815CC 0037734C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803815D0 00377350  7C 08 02 A6 */	mflr r0
/* 803815D4 00377354  3C 80 80 49 */	lis r4, lbl_80490940@ha
/* 803815D8 00377358  90 01 00 24 */	stw r0, 0x24(r1)
/* 803815DC 0037735C  38 84 09 40 */	addi r4, r4, lbl_80490940@l
/* 803815E0 00377360  38 A1 00 14 */	addi r5, r1, 0x14
/* 803815E4 00377364  38 C1 00 10 */	addi r6, r1, 0x10
/* 803815E8 00377368  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803815EC 0037736C  7C 7F 1B 78 */	mr r31, r3
/* 803815F0 00377370  38 E1 00 0C */	addi r7, r1, 0xc
/* 803815F4 00377374  39 01 00 08 */	addi r8, r1, 8
/* 803815F8 00377378  80 63 00 A0 */	lwz r3, 0xa0(r3)
/* 803815FC 0037737C  4C C6 31 82 */	crclr 6
/* 80381600 00377380  48 07 8B 09 */	bl sscanf
/* 80381604 00377384  2C 03 00 03 */	cmpwi r3, 3
/* 80381608 00377388  40 82 00 24 */	bne lbl_8038162C
/* 8038160C 0037738C  80 C1 00 14 */	lwz r6, 0x14(r1)
/* 80381610 00377390  2C 06 00 01 */	cmpwi r6, 1
/* 80381614 00377394  41 80 00 18 */	blt lbl_8038162C
/* 80381618 00377398  80 01 00 0C */	lwz r0, 0xc(r1)
/* 8038161C 0037739C  2C 00 00 64 */	cmpwi r0, 0x64
/* 80381620 003773A0  41 80 00 0C */	blt lbl_8038162C
/* 80381624 003773A4  2C 00 02 58 */	cmpwi r0, 0x258
/* 80381628 003773A8  41 80 00 1C */	blt lbl_80381644
lbl_8038162C:
/* 8038162C 003773AC  38 60 00 01 */	li r3, 1
/* 80381630 003773B0  38 00 00 07 */	li r0, 7
/* 80381634 003773B4  90 7F 01 20 */	stw r3, 0x120(r31)
/* 80381638 003773B8  38 60 00 00 */	li r3, 0
/* 8038163C 003773BC  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80381640 003773C0  48 00 00 90 */	b lbl_803816D0
lbl_80381644:
/* 80381644 003773C4  3C 60 80 49 */	lis r3, lbl_804942B8@ha
/* 80381648 003773C8  80 81 00 08 */	lwz r4, 8(r1)
/* 8038164C 003773CC  38 63 42 B8 */	addi r3, r3, lbl_804942B8@l
/* 80381650 003773D0  80 A3 00 38 */	lwz r5, 0x38(r3)
/* 80381654 003773D4  48 00 00 0C */	b lbl_80381660
lbl_80381658:
/* 80381658 003773D8  38 84 00 01 */	addi r4, r4, 1
/* 8038165C 003773DC  90 81 00 08 */	stw r4, 8(r1)
lbl_80381660:
/* 80381660 003773E0  80 7F 00 A0 */	lwz r3, 0xa0(r31)
/* 80381664 003773E4  7C E3 20 AE */	lbzx r7, r3, r4
/* 80381668 003773E8  7C E3 07 75 */	extsb. r3, r7
/* 8038166C 003773EC  41 82 00 44 */	beq lbl_803816B0
/* 80381670 003773F0  38 00 00 00 */	li r0, 0
/* 80381674 003773F4  41 80 00 0C */	blt lbl_80381680
/* 80381678 003773F8  2C 03 01 00 */	cmpwi r3, 0x100
/* 8038167C 003773FC  41 80 00 08 */	blt lbl_80381684
lbl_80381680:
/* 80381680 00377400  38 00 00 01 */	li r0, 1
lbl_80381684:
/* 80381684 00377404  2C 00 00 00 */	cmpwi r0, 0
/* 80381688 00377408  41 82 00 0C */	beq lbl_80381694
/* 8038168C 0037740C  38 00 00 00 */	li r0, 0
/* 80381690 00377410  48 00 00 18 */	b lbl_803816A8
lbl_80381694:
/* 80381694 00377414  7C E0 07 74 */	extsb r0, r7
/* 80381698 00377418  80 65 00 08 */	lwz r3, 8(r5)
/* 8038169C 0037741C  54 00 08 3C */	slwi r0, r0, 1
/* 803816A0 00377420  7C 03 02 2E */	lhzx r0, r3, r0
/* 803816A4 00377424  54 00 05 EE */	rlwinm r0, r0, 0, 0x17, 0x17
lbl_803816A8:
/* 803816A8 00377428  2C 00 00 00 */	cmpwi r0, 0
/* 803816AC 0037742C  40 82 FF AC */	bne lbl_80381658
lbl_803816B0:
/* 803816B0 00377430  90 DF 01 0C */	stw r6, 0x10c(r31)
/* 803816B4 00377434  38 60 00 01 */	li r3, 1
/* 803816B8 00377438  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803816BC 0037743C  90 1F 01 10 */	stw r0, 0x110(r31)
/* 803816C0 00377440  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803816C4 00377444  90 1F 01 14 */	stw r0, 0x114(r31)
/* 803816C8 00377448  80 01 00 08 */	lwz r0, 8(r1)
/* 803816CC 0037744C  90 1F 01 18 */	stw r0, 0x118(r31)
lbl_803816D0:
/* 803816D0 00377450  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803816D4 00377454  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803816D8 00377458  7C 08 03 A6 */	mtlr r0
/* 803816DC 0037745C  38 21 00 20 */	addi r1, r1, 0x20
/* 803816E0 00377460  4E 80 00 20 */	blr 

.global ghiDoReceivingStatus
ghiDoReceivingStatus:
/* 803816E4 00377464  94 21 FB E0 */	stwu r1, -0x420(r1)
/* 803816E8 00377468  7C 08 02 A6 */	mflr r0
/* 803816EC 0037746C  90 01 04 24 */	stw r0, 0x424(r1)
/* 803816F0 00377470  38 00 04 00 */	li r0, 0x400
/* 803816F4 00377474  38 81 00 10 */	addi r4, r1, 0x10
/* 803816F8 00377478  38 A1 00 08 */	addi r5, r1, 8
/* 803816FC 0037747C  93 E1 04 1C */	stw r31, 0x41c(r1)
/* 80381700 00377480  93 C1 04 18 */	stw r30, 0x418(r1)
/* 80381704 00377484  93 A1 04 14 */	stw r29, 0x414(r1)
/* 80381708 00377488  7C 7D 1B 78 */	mr r29, r3
/* 8038170C 0037748C  90 01 00 08 */	stw r0, 8(r1)
/* 80381710 00377490  4B FF A8 BD */	bl ghiDoReceive
/* 80381714 00377494  2C 03 00 03 */	cmpwi r3, 3
/* 80381718 00377498  7C 7F 1B 78 */	mr r31, r3
/* 8038171C 0037749C  41 82 01 30 */	beq lbl_8038184C
/* 80381720 003774A0  2C 03 00 01 */	cmpwi r3, 1
/* 80381724 003774A4  41 82 01 28 */	beq lbl_8038184C
/* 80381728 003774A8  2C 03 00 00 */	cmpwi r3, 0
/* 8038172C 003774AC  40 82 00 64 */	bne lbl_80381790
/* 80381730 003774B0  80 1D 01 94 */	lwz r0, 0x194(r29)
/* 80381734 003774B4  2C 00 00 00 */	cmpwi r0, 0
/* 80381738 003774B8  41 82 00 40 */	beq lbl_80381778
/* 8038173C 003774BC  80 A1 00 08 */	lwz r5, 8(r1)
/* 80381740 003774C0  38 7D 00 C0 */	addi r3, r29, 0xc0
/* 80381744 003774C4  38 81 00 10 */	addi r4, r1, 0x10
/* 80381748 003774C8  4B FF 9E FD */	bl ghiAppendDataToBuffer
/* 8038174C 003774CC  2C 03 00 00 */	cmpwi r3, 0
/* 80381750 003774D0  41 82 00 FC */	beq lbl_8038184C
/* 80381754 003774D4  7F A3 EB 78 */	mr r3, r29
/* 80381758 003774D8  4B FF A7 25 */	bl ghiDecryptReceivedData
/* 8038175C 003774DC  2C 03 00 00 */	cmpwi r3, 0
/* 80381760 003774E0  40 82 00 30 */	bne lbl_80381790
/* 80381764 003774E4  38 60 00 01 */	li r3, 1
/* 80381768 003774E8  38 00 00 11 */	li r0, 0x11
/* 8038176C 003774EC  90 7D 01 20 */	stw r3, 0x120(r29)
/* 80381770 003774F0  90 1D 00 3C */	stw r0, 0x3c(r29)
/* 80381774 003774F4  48 00 00 D8 */	b lbl_8038184C
lbl_80381778:
/* 80381778 003774F8  80 A1 00 08 */	lwz r5, 8(r1)
/* 8038177C 003774FC  38 7D 00 9C */	addi r3, r29, 0x9c
/* 80381780 00377500  38 81 00 10 */	addi r4, r1, 0x10
/* 80381784 00377504  4B FF 9E C1 */	bl ghiAppendDataToBuffer
/* 80381788 00377508  2C 03 00 00 */	cmpwi r3, 0
/* 8038178C 0037750C  41 82 00 C0 */	beq lbl_8038184C
lbl_80381790:
/* 80381790 00377510  80 7D 00 A0 */	lwz r3, 0xa0(r29)
/* 80381794 00377514  38 8D B6 B0 */	addi r4, r13, lbl_8059FAD0-_SDA_BASE_
/* 80381798 00377518  48 07 90 01 */	bl strstr
/* 8038179C 0037751C  2C 03 00 00 */	cmpwi r3, 0
/* 803817A0 00377520  41 82 00 88 */	beq lbl_80381828
/* 803817A4 00377524  3B E0 00 00 */	li r31, 0
/* 803817A8 00377528  9B E3 00 00 */	stb r31, 0(r3)
/* 803817AC 0037752C  80 1D 00 A0 */	lwz r0, 0xa0(r29)
/* 803817B0 00377530  7F C0 18 50 */	subf r30, r0, r3
/* 803817B4 00377534  7F A3 EB 78 */	mr r3, r29
/* 803817B8 00377538  4B FF FE 15 */	bl ghiParseStatus
/* 803817BC 0037753C  2C 03 00 00 */	cmpwi r3, 0
/* 803817C0 00377540  41 82 00 8C */	beq lbl_8038184C
/* 803817C4 00377544  80 1D 01 14 */	lwz r0, 0x114(r29)
/* 803817C8 00377548  38 7E 00 02 */	addi r3, r30, 2
/* 803817CC 0037754C  90 7D 01 1C */	stw r3, 0x11c(r29)
/* 803817D0 00377550  2C 00 00 64 */	cmpwi r0, 0x64
/* 803817D4 00377554  40 82 00 38 */	bne lbl_8038180C
/* 803817D8 00377558  80 1D 01 7C */	lwz r0, 0x17c(r29)
/* 803817DC 0037755C  2C 00 00 00 */	cmpwi r0, 0
/* 803817E0 00377560  41 82 00 2C */	beq lbl_8038180C
/* 803817E4 00377564  93 FD 01 7C */	stw r31, 0x17c(r29)
/* 803817E8 00377568  38 7D 00 9C */	addi r3, r29, 0x9c
/* 803817EC 0037756C  4B FF A3 CD */	bl ghiResetBuffer
/* 803817F0 00377570  38 00 00 06 */	li r0, 6
/* 803817F4 00377574  7F A3 EB 78 */	mr r3, r29
/* 803817F8 00377578  90 1D 00 10 */	stw r0, 0x10(r29)
/* 803817FC 0037757C  38 80 00 00 */	li r4, 0
/* 80381800 00377580  38 A0 00 00 */	li r5, 0
/* 80381804 00377584  4B FF A5 D1 */	bl ghiCallProgressCallback
/* 80381808 00377588  48 00 00 44 */	b lbl_8038184C
lbl_8038180C:
/* 8038180C 0037758C  38 00 00 09 */	li r0, 9
/* 80381810 00377590  7F A3 EB 78 */	mr r3, r29
/* 80381814 00377594  90 1D 00 10 */	stw r0, 0x10(r29)
/* 80381818 00377598  38 80 00 00 */	li r4, 0
/* 8038181C 0037759C  38 A0 00 00 */	li r5, 0
/* 80381820 003775A0  4B FF A5 B5 */	bl ghiCallProgressCallback
/* 80381824 003775A4  48 00 00 28 */	b lbl_8038184C
lbl_80381828:
/* 80381828 003775A8  2C 1F 00 02 */	cmpwi r31, 2
/* 8038182C 003775AC  40 82 00 20 */	bne lbl_8038184C
/* 80381830 003775B0  38 60 00 01 */	li r3, 1
/* 80381834 003775B4  38 00 00 07 */	li r0, 7
/* 80381838 003775B8  90 7D 01 20 */	stw r3, 0x120(r29)
/* 8038183C 003775BC  80 7D 00 4C */	lwz r3, 0x4c(r29)
/* 80381840 003775C0  90 1D 00 3C */	stw r0, 0x3c(r29)
/* 80381844 003775C4  4B FD AE 15 */	bl GOAGetLastError
/* 80381848 003775C8  90 7D 00 50 */	stw r3, 0x50(r29)
lbl_8038184C:
/* 8038184C 003775CC  80 01 04 24 */	lwz r0, 0x424(r1)
/* 80381850 003775D0  83 E1 04 1C */	lwz r31, 0x41c(r1)
/* 80381854 003775D4  83 C1 04 18 */	lwz r30, 0x418(r1)
/* 80381858 003775D8  83 A1 04 14 */	lwz r29, 0x414(r1)
/* 8038185C 003775DC  7C 08 03 A6 */	mtlr r0
/* 80381860 003775E0  38 21 04 20 */	addi r1, r1, 0x420
/* 80381864 003775E4  4E 80 00 20 */	blr 

.global ghiDeliverIncomingFileData
ghiDeliverIncomingFileData:
/* 80381868 003775E8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8038186C 003775EC  7C 08 02 A6 */	mflr r0
/* 80381870 003775F0  38 E0 00 00 */	li r7, 0
/* 80381874 003775F4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80381878 003775F8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8038187C 003775FC  7C 7F 1B 78 */	mr r31, r3
/* 80381880 00377600  80 C3 01 24 */	lwz r6, 0x124(r3)
/* 80381884 00377604  80 03 01 28 */	lwz r0, 0x128(r3)
/* 80381888 00377608  7C C6 2A 14 */	add r6, r6, r5
/* 8038188C 0037760C  7C 06 00 00 */	cmpw r6, r0
/* 80381890 00377610  90 C3 01 24 */	stw r6, 0x124(r3)
/* 80381894 00377614  38 C0 00 00 */	li r6, 0
/* 80381898 00377618  41 82 00 10 */	beq lbl_803818A8
/* 8038189C 0037761C  80 03 01 54 */	lwz r0, 0x154(r3)
/* 803818A0 00377620  2C 00 00 00 */	cmpwi r0, 0
/* 803818A4 00377624  41 82 00 0C */	beq lbl_803818B0
lbl_803818A8:
/* 803818A8 00377628  38 00 00 01 */	li r0, 1
/* 803818AC 0037762C  90 03 01 20 */	stw r0, 0x120(r3)
lbl_803818B0:
/* 803818B0 00377630  80 03 00 0C */	lwz r0, 0xc(r3)
/* 803818B4 00377634  2C 00 00 00 */	cmpwi r0, 0
/* 803818B8 00377638  40 82 00 28 */	bne lbl_803818E0
/* 803818BC 0037763C  38 63 00 E4 */	addi r3, r3, 0xe4
/* 803818C0 00377640  4B FF 9D 85 */	bl ghiAppendDataToBuffer
/* 803818C4 00377644  2C 03 00 00 */	cmpwi r3, 0
/* 803818C8 00377648  40 82 00 0C */	bne lbl_803818D4
/* 803818CC 0037764C  38 60 00 00 */	li r3, 0
/* 803818D0 00377650  48 00 00 68 */	b lbl_80381938
lbl_803818D4:
/* 803818D4 00377654  80 DF 00 E8 */	lwz r6, 0xe8(r31)
/* 803818D8 00377658  80 FF 00 F0 */	lwz r7, 0xf0(r31)
/* 803818DC 0037765C  48 00 00 48 */	b lbl_80381924
lbl_803818E0:
/* 803818E0 00377660  2C 00 00 01 */	cmpwi r0, 1
/* 803818E4 00377664  40 82 00 30 */	bne lbl_80381914
/* 803818E8 00377668  2C 05 00 00 */	cmpwi r5, 0
/* 803818EC 0037766C  41 82 00 1C */	beq lbl_80381908
/* 803818F0 00377670  38 80 00 01 */	li r4, 1
/* 803818F4 00377674  38 00 00 0D */	li r0, 0xd
/* 803818F8 00377678  90 83 01 20 */	stw r4, 0x120(r3)
/* 803818FC 0037767C  90 03 00 3C */	stw r0, 0x3c(r3)
/* 80381900 00377680  38 60 00 00 */	li r3, 0
/* 80381904 00377684  48 00 00 34 */	b lbl_80381938
lbl_80381908:
/* 80381908 00377688  7C 86 23 78 */	mr r6, r4
/* 8038190C 0037768C  7C A7 2B 78 */	mr r7, r5
/* 80381910 00377690  48 00 00 14 */	b lbl_80381924
lbl_80381914:
/* 80381914 00377694  2C 00 00 02 */	cmpwi r0, 2
/* 80381918 00377698  40 82 00 0C */	bne lbl_80381924
/* 8038191C 0037769C  7C 86 23 78 */	mr r6, r4
/* 80381920 003776A0  7C A7 2B 78 */	mr r7, r5
lbl_80381924:
/* 80381924 003776A4  7F E3 FB 78 */	mr r3, r31
/* 80381928 003776A8  7C C4 33 78 */	mr r4, r6
/* 8038192C 003776AC  7C E5 3B 78 */	mr r5, r7
/* 80381930 003776B0  4B FF A4 A5 */	bl ghiCallProgressCallback
/* 80381934 003776B4  38 60 00 01 */	li r3, 1
lbl_80381938:
/* 80381938 003776B8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8038193C 003776BC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80381940 003776C0  7C 08 03 A6 */	mtlr r0
/* 80381944 003776C4  38 21 00 10 */	addi r1, r1, 0x10
/* 80381948 003776C8  4E 80 00 20 */	blr 

.global ghiProcessIncomingFileData
ghiProcessIncomingFileData:
/* 8038194C 003776CC  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 80381950 003776D0  7C 08 02 A6 */	mflr r0
/* 80381954 003776D4  90 01 00 44 */	stw r0, 0x44(r1)
/* 80381958 003776D8  39 61 00 40 */	addi r11, r1, 0x40
/* 8038195C 003776DC  48 06 F9 B5 */	bl _savegpr_23
/* 80381960 003776E0  80 03 01 34 */	lwz r0, 0x134(r3)
/* 80381964 003776E4  7C 7D 1B 78 */	mr r29, r3
/* 80381968 003776E8  7C 9E 23 78 */	mr r30, r4
/* 8038196C 003776EC  7C BF 2B 78 */	mr r31, r5
/* 80381970 003776F0  2C 00 00 00 */	cmpwi r0, 0
/* 80381974 003776F4  41 82 02 28 */	beq lbl_80381B9C
/* 80381978 003776F8  3B 00 00 00 */	li r24, 0
/* 8038197C 003776FC  3B 80 00 02 */	li r28, 2
/* 80381980 00377700  3B 40 00 01 */	li r26, 1
/* 80381984 00377704  3B 20 00 03 */	li r25, 3
/* 80381988 00377708  48 00 02 04 */	b lbl_80381B8C
lbl_8038198C:
/* 8038198C 0037770C  80 1D 01 4C */	lwz r0, 0x14c(r29)
/* 80381990 00377710  2C 00 00 00 */	cmpwi r0, 0
/* 80381994 00377714  40 82 01 34 */	bne lbl_80381AC8
/* 80381998 00377718  7F C3 F3 78 */	mr r3, r30
/* 8038199C 0037771C  38 80 00 0A */	li r4, 0xa
/* 803819A0 00377720  48 07 8B B9 */	bl strchr
/* 803819A4 00377724  2C 03 00 00 */	cmpwi r3, 0
/* 803819A8 00377728  7C 7B 1B 78 */	mr r27, r3
/* 803819AC 0037772C  41 82 00 C4 */	beq lbl_80381A70
/* 803819B0 00377730  7E FE 18 51 */	subf. r23, r30, r3
/* 803819B4 00377734  41 82 00 48 */	beq lbl_803819FC
/* 803819B8 00377738  80 1D 01 44 */	lwz r0, 0x144(r29)
/* 803819BC 0037773C  2C 00 00 0A */	cmpwi r0, 0xa
/* 803819C0 00377740  40 80 00 3C */	bge lbl_803819FC
/* 803819C4 00377744  20 60 00 0A */	subfic r3, r0, 0xa
/* 803819C8 00377748  7C 03 B8 00 */	cmpw r3, r23
/* 803819CC 0037774C  40 80 00 08 */	bge lbl_803819D4
/* 803819D0 00377750  7C 77 1B 78 */	mr r23, r3
lbl_803819D4:
/* 803819D4 00377754  7C 7D 02 14 */	add r3, r29, r0
/* 803819D8 00377758  7F C4 F3 78 */	mr r4, r30
/* 803819DC 0037775C  7E E5 BB 78 */	mr r5, r23
/* 803819E0 00377760  38 63 01 38 */	addi r3, r3, 0x138
/* 803819E4 00377764  4B C8 29 55 */	bl func_80004338
/* 803819E8 00377768  80 1D 01 44 */	lwz r0, 0x144(r29)
/* 803819EC 0037776C  7C 00 BA 14 */	add r0, r0, r23
/* 803819F0 00377770  90 1D 01 44 */	stw r0, 0x144(r29)
/* 803819F4 00377774  7C 7D 02 14 */	add r3, r29, r0
/* 803819F8 00377778  9B 03 01 38 */	stb r24, 0x138(r3)
lbl_803819FC:
/* 803819FC 0037777C  38 9B 00 01 */	addi r4, r27, 1
/* 80381A00 00377780  38 7D 01 38 */	addi r3, r29, 0x138
/* 80381A04 00377784  7C 1E 20 50 */	subf r0, r30, r4
/* 80381A08 00377788  38 A1 00 08 */	addi r5, r1, 8
/* 80381A0C 0037778C  7C 9E 23 78 */	mr r30, r4
/* 80381A10 00377790  38 8D B6 C0 */	addi r4, r13, lbl_8059FAE0-_SDA_BASE_
/* 80381A14 00377794  7F E0 F8 50 */	subf r31, r0, r31
/* 80381A18 00377798  4C C6 31 82 */	crclr 6
/* 80381A1C 0037779C  48 07 86 ED */	bl sscanf
/* 80381A20 003777A0  2C 03 00 01 */	cmpwi r3, 1
/* 80381A24 003777A4  41 82 00 0C */	beq lbl_80381A30
/* 80381A28 003777A8  38 00 FF FF */	li r0, -1
/* 80381A2C 003777AC  48 00 00 08 */	b lbl_80381A34
lbl_80381A30:
/* 80381A30 003777B0  80 01 00 08 */	lwz r0, 8(r1)
lbl_80381A34:
/* 80381A34 003777B4  2C 00 FF FF */	cmpwi r0, -1
/* 80381A38 003777B8  90 1D 01 48 */	stw r0, 0x148(r29)
/* 80381A3C 003777BC  40 82 00 1C */	bne lbl_80381A58
/* 80381A40 003777C0  38 60 00 01 */	li r3, 1
/* 80381A44 003777C4  38 00 00 07 */	li r0, 7
/* 80381A48 003777C8  90 7D 01 20 */	stw r3, 0x120(r29)
/* 80381A4C 003777CC  38 60 00 00 */	li r3, 0
/* 80381A50 003777D0  90 1D 00 3C */	stw r0, 0x3c(r29)
/* 80381A54 003777D4  48 00 01 4C */	b lbl_80381BA0
lbl_80381A58:
/* 80381A58 003777D8  2C 00 00 00 */	cmpwi r0, 0
/* 80381A5C 003777DC  40 82 00 0C */	bne lbl_80381A68
/* 80381A60 003777E0  93 3D 01 4C */	stw r25, 0x14c(r29)
/* 80381A64 003777E4  48 00 01 28 */	b lbl_80381B8C
lbl_80381A68:
/* 80381A68 003777E8  93 5D 01 4C */	stw r26, 0x14c(r29)
/* 80381A6C 003777EC  48 00 01 20 */	b lbl_80381B8C
lbl_80381A70:
/* 80381A70 003777F0  2C 1F 00 00 */	cmpwi r31, 0
/* 80381A74 003777F4  41 82 00 4C */	beq lbl_80381AC0
/* 80381A78 003777F8  80 1D 01 44 */	lwz r0, 0x144(r29)
/* 80381A7C 003777FC  2C 00 00 0A */	cmpwi r0, 0xa
/* 80381A80 00377800  40 80 00 40 */	bge lbl_80381AC0
/* 80381A84 00377804  20 60 00 0A */	subfic r3, r0, 0xa
/* 80381A88 00377808  7C 03 F8 00 */	cmpw r3, r31
/* 80381A8C 0037780C  40 80 00 08 */	bge lbl_80381A94
/* 80381A90 00377810  7C 7F 1B 78 */	mr r31, r3
lbl_80381A94:
/* 80381A94 00377814  7C 7D 02 14 */	add r3, r29, r0
/* 80381A98 00377818  7F C4 F3 78 */	mr r4, r30
/* 80381A9C 0037781C  7F E5 FB 78 */	mr r5, r31
/* 80381AA0 00377820  38 63 01 38 */	addi r3, r3, 0x138
/* 80381AA4 00377824  4B C8 28 95 */	bl func_80004338
/* 80381AA8 00377828  80 7D 01 44 */	lwz r3, 0x144(r29)
/* 80381AAC 0037782C  38 00 00 00 */	li r0, 0
/* 80381AB0 00377830  7C 63 FA 14 */	add r3, r3, r31
/* 80381AB4 00377834  90 7D 01 44 */	stw r3, 0x144(r29)
/* 80381AB8 00377838  7C 7D 1A 14 */	add r3, r29, r3
/* 80381ABC 0037783C  98 03 01 38 */	stb r0, 0x138(r3)
lbl_80381AC0:
/* 80381AC0 00377840  38 60 00 01 */	li r3, 1
/* 80381AC4 00377844  48 00 00 DC */	b lbl_80381BA0
lbl_80381AC8:
/* 80381AC8 00377848  2C 00 00 01 */	cmpwi r0, 1
/* 80381ACC 0037784C  40 82 00 58 */	bne lbl_80381B24
/* 80381AD0 00377850  80 1D 01 48 */	lwz r0, 0x148(r29)
/* 80381AD4 00377854  7F FB FB 78 */	mr r27, r31
/* 80381AD8 00377858  7C 00 F8 00 */	cmpw r0, r31
/* 80381ADC 0037785C  40 80 00 08 */	bge lbl_80381AE4
/* 80381AE0 00377860  7C 1B 03 78 */	mr r27, r0
lbl_80381AE4:
/* 80381AE4 00377864  7F A3 EB 78 */	mr r3, r29
/* 80381AE8 00377868  7F C4 F3 78 */	mr r4, r30
/* 80381AEC 0037786C  7F 65 DB 78 */	mr r5, r27
/* 80381AF0 00377870  4B FF FD 79 */	bl ghiDeliverIncomingFileData
/* 80381AF4 00377874  2C 03 00 00 */	cmpwi r3, 0
/* 80381AF8 00377878  40 82 00 0C */	bne lbl_80381B04
/* 80381AFC 0037787C  38 60 00 00 */	li r3, 0
/* 80381B00 00377880  48 00 00 A0 */	b lbl_80381BA0
lbl_80381B04:
/* 80381B04 00377884  80 1D 01 48 */	lwz r0, 0x148(r29)
/* 80381B08 00377888  7F DE DA 14 */	add r30, r30, r27
/* 80381B0C 0037788C  7F FB F8 50 */	subf r31, r27, r31
/* 80381B10 00377890  7C 1B 00 51 */	subf. r0, r27, r0
/* 80381B14 00377894  90 1D 01 48 */	stw r0, 0x148(r29)
/* 80381B18 00377898  40 82 00 74 */	bne lbl_80381B8C
/* 80381B1C 0037789C  93 9D 01 4C */	stw r28, 0x14c(r29)
/* 80381B20 003778A0  48 00 00 6C */	b lbl_80381B8C
lbl_80381B24:
/* 80381B24 003778A4  2C 00 00 02 */	cmpwi r0, 2
/* 80381B28 003778A8  40 82 00 44 */	bne lbl_80381B6C
/* 80381B2C 003778AC  7F C3 F3 78 */	mr r3, r30
/* 80381B30 003778B0  38 80 00 0A */	li r4, 0xa
/* 80381B34 003778B4  48 07 8A 25 */	bl strchr
/* 80381B38 003778B8  2C 03 00 00 */	cmpwi r3, 0
/* 80381B3C 003778BC  40 82 00 0C */	bne lbl_80381B48
/* 80381B40 003778C0  38 60 00 01 */	li r3, 1
/* 80381B44 003778C4  48 00 00 5C */	b lbl_80381BA0
lbl_80381B48:
/* 80381B48 003778C8  38 63 00 01 */	addi r3, r3, 1
/* 80381B4C 003778CC  9B 1D 01 38 */	stb r24, 0x138(r29)
/* 80381B50 003778D0  7C 1E 18 50 */	subf r0, r30, r3
/* 80381B54 003778D4  93 1D 01 44 */	stw r24, 0x144(r29)
/* 80381B58 003778D8  7C 7E 1B 78 */	mr r30, r3
/* 80381B5C 003778DC  7F E0 F8 50 */	subf r31, r0, r31
/* 80381B60 003778E0  93 1D 01 48 */	stw r24, 0x148(r29)
/* 80381B64 003778E4  93 1D 01 4C */	stw r24, 0x14c(r29)
/* 80381B68 003778E8  48 00 00 24 */	b lbl_80381B8C
lbl_80381B6C:
/* 80381B6C 003778EC  2C 00 00 03 */	cmpwi r0, 3
/* 80381B70 003778F0  40 82 00 14 */	bne lbl_80381B84
/* 80381B74 003778F4  38 00 00 01 */	li r0, 1
/* 80381B78 003778F8  38 60 00 01 */	li r3, 1
/* 80381B7C 003778FC  90 1D 01 20 */	stw r0, 0x120(r29)
/* 80381B80 00377900  48 00 00 20 */	b lbl_80381BA0
lbl_80381B84:
/* 80381B84 00377904  38 60 00 00 */	li r3, 0
/* 80381B88 00377908  48 00 00 18 */	b lbl_80381BA0
lbl_80381B8C:
/* 80381B8C 0037790C  2C 1F 00 00 */	cmpwi r31, 0
/* 80381B90 00377910  41 81 FD FC */	bgt lbl_8038198C
/* 80381B94 00377914  38 60 00 01 */	li r3, 1
/* 80381B98 00377918  48 00 00 08 */	b lbl_80381BA0
lbl_80381B9C:
/* 80381B9C 0037791C  4B FF FC CD */	bl ghiDeliverIncomingFileData
lbl_80381BA0:
/* 80381BA0 00377920  39 61 00 40 */	addi r11, r1, 0x40
/* 80381BA4 00377924  48 06 F7 B9 */	bl _restgpr_23
/* 80381BA8 00377928  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80381BAC 0037792C  7C 08 03 A6 */	mtlr r0
/* 80381BB0 00377930  38 21 00 40 */	addi r1, r1, 0x40
/* 80381BB4 00377934  4E 80 00 20 */	blr 

.global ghiDoReceivingHeaders
ghiDoReceivingHeaders:
/* 80381BB8 00377938  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 80381BBC 0037793C  7C 08 02 A6 */	mflr r0
/* 80381BC0 00377940  90 01 00 54 */	stw r0, 0x54(r1)
/* 80381BC4 00377944  39 61 00 50 */	addi r11, r1, 0x50
/* 80381BC8 00377948  48 06 F7 41 */	bl _savegpr_21
/* 80381BCC 0037794C  3F C0 80 49 */	lis r30, lbl_804908D0@ha
/* 80381BD0 00377950  7C 77 1B 78 */	mr r23, r3
/* 80381BD4 00377954  3B DE 08 D0 */	addi r30, r30, lbl_804908D0@l
/* 80381BD8 00377958  3A C0 00 01 */	li r22, 1
/* 80381BDC 0037795C  38 60 10 00 */	li r3, 0x1000
/* 80381BE0 00377960  4B FD C4 09 */	bl gsimalloc
/* 80381BE4 00377964  2C 03 00 00 */	cmpwi r3, 0
/* 80381BE8 00377968  7C 7D 1B 78 */	mr r29, r3
/* 80381BEC 0037796C  40 82 00 14 */	bne lbl_80381C00
/* 80381BF0 00377970  38 00 00 01 */	li r0, 1
/* 80381BF4 00377974  90 17 01 20 */	stw r0, 0x120(r23)
/* 80381BF8 00377978  90 17 00 3C */	stw r0, 0x3c(r23)
/* 80381BFC 0037797C  48 00 05 48 */	b lbl_80382144
lbl_80381C00:
/* 80381C00 00377980  38 00 10 00 */	li r0, 0x1000
/* 80381C04 00377984  7E E3 BB 78 */	mr r3, r23
/* 80381C08 00377988  90 01 00 08 */	stw r0, 8(r1)
/* 80381C0C 0037798C  7F A4 EB 78 */	mr r4, r29
/* 80381C10 00377990  38 A1 00 08 */	addi r5, r1, 8
/* 80381C14 00377994  4B FF A3 B9 */	bl ghiDoReceive
/* 80381C18 00377998  2C 03 00 03 */	cmpwi r3, 3
/* 80381C1C 0037799C  7C 75 1B 78 */	mr r21, r3
/* 80381C20 003779A0  41 82 05 1C */	beq lbl_8038213C
/* 80381C24 003779A4  2C 03 00 01 */	cmpwi r3, 1
/* 80381C28 003779A8  41 82 05 14 */	beq lbl_8038213C
/* 80381C2C 003779AC  2C 03 00 00 */	cmpwi r3, 0
/* 80381C30 003779B0  40 82 00 64 */	bne lbl_80381C94
/* 80381C34 003779B4  80 17 01 94 */	lwz r0, 0x194(r23)
/* 80381C38 003779B8  2C 00 00 00 */	cmpwi r0, 0
/* 80381C3C 003779BC  41 82 00 40 */	beq lbl_80381C7C
/* 80381C40 003779C0  80 A1 00 08 */	lwz r5, 8(r1)
/* 80381C44 003779C4  7F A4 EB 78 */	mr r4, r29
/* 80381C48 003779C8  38 77 00 C0 */	addi r3, r23, 0xc0
/* 80381C4C 003779CC  4B FF 99 F9 */	bl ghiAppendDataToBuffer
/* 80381C50 003779D0  2C 03 00 00 */	cmpwi r3, 0
/* 80381C54 003779D4  41 82 04 E8 */	beq lbl_8038213C
/* 80381C58 003779D8  7E E3 BB 78 */	mr r3, r23
/* 80381C5C 003779DC  4B FF A2 21 */	bl ghiDecryptReceivedData
/* 80381C60 003779E0  2C 03 00 00 */	cmpwi r3, 0
/* 80381C64 003779E4  40 82 00 30 */	bne lbl_80381C94
/* 80381C68 003779E8  38 60 00 01 */	li r3, 1
/* 80381C6C 003779EC  38 00 00 11 */	li r0, 0x11
/* 80381C70 003779F0  90 77 01 20 */	stw r3, 0x120(r23)
/* 80381C74 003779F4  90 17 00 3C */	stw r0, 0x3c(r23)
/* 80381C78 003779F8  48 00 04 C4 */	b lbl_8038213C
lbl_80381C7C:
/* 80381C7C 003779FC  80 A1 00 08 */	lwz r5, 8(r1)
/* 80381C80 00377A00  7F A4 EB 78 */	mr r4, r29
/* 80381C84 00377A04  38 77 00 9C */	addi r3, r23, 0x9c
/* 80381C88 00377A08  4B FF 99 BD */	bl ghiAppendDataToBuffer
/* 80381C8C 00377A0C  2C 03 00 00 */	cmpwi r3, 0
/* 80381C90 00377A10  41 82 04 AC */	beq lbl_8038213C
lbl_80381C94:
/* 80381C94 00377A14  3C 60 51 EC */	lis r3, 0x51EB851F@ha
/* 80381C98 00377A18  80 17 01 14 */	lwz r0, 0x114(r23)
/* 80381C9C 00377A1C  38 63 85 1F */	addi r3, r3, 0x51EB851F@l
/* 80381CA0 00377A20  80 97 00 A0 */	lwz r4, 0xa0(r23)
/* 80381CA4 00377A24  7C 03 00 96 */	mulhw r0, r3, r0
/* 80381CA8 00377A28  80 77 01 1C */	lwz r3, 0x11c(r23)
/* 80381CAC 00377A2C  7F 84 1A 14 */	add r28, r4, r3
/* 80381CB0 00377A30  7C 00 2E 70 */	srawi r0, r0, 5
/* 80381CB4 00377A34  54 03 0F FE */	srwi r3, r0, 0x1f
/* 80381CB8 00377A38  7C 00 1A 14 */	add r0, r0, r3
/* 80381CBC 00377A3C  2C 00 00 01 */	cmpwi r0, 1
/* 80381CC0 00377A40  40 82 00 40 */	bne lbl_80381D00
/* 80381CC4 00377A44  7F 83 E3 78 */	mr r3, r28
/* 80381CC8 00377A48  38 8D B6 B0 */	addi r4, r13, lbl_8059FAD0-_SDA_BASE_
/* 80381CCC 00377A4C  38 A0 00 02 */	li r5, 2
/* 80381CD0 00377A50  48 07 88 49 */	bl strncmp
/* 80381CD4 00377A54  2C 03 00 00 */	cmpwi r3, 0
/* 80381CD8 00377A58  41 82 00 1C */	beq lbl_80381CF4
/* 80381CDC 00377A5C  7F 83 E3 78 */	mr r3, r28
/* 80381CE0 00377A60  38 8D B6 C4 */	addi r4, r13, lbl_8059FAE4-_SDA_BASE_
/* 80381CE4 00377A64  38 A0 00 02 */	li r5, 2
/* 80381CE8 00377A68  48 07 88 31 */	bl strncmp
/* 80381CEC 00377A6C  2C 03 00 00 */	cmpwi r3, 0
/* 80381CF0 00377A70  40 82 00 10 */	bne lbl_80381D00
lbl_80381CF4:
/* 80381CF4 00377A74  7F 83 E3 78 */	mr r3, r28
/* 80381CF8 00377A78  3A C0 00 00 */	li r22, 0
/* 80381CFC 00377A7C  48 00 00 10 */	b lbl_80381D0C
lbl_80381D00:
/* 80381D00 00377A80  7F 83 E3 78 */	mr r3, r28
/* 80381D04 00377A84  38 8D B6 C8 */	addi r4, r13, lbl_8059FAE8-_SDA_BASE_
/* 80381D08 00377A88  48 07 8A 91 */	bl strstr
lbl_80381D0C:
/* 80381D0C 00377A8C  2C 03 00 00 */	cmpwi r3, 0
/* 80381D10 00377A90  40 82 00 10 */	bne lbl_80381D20
/* 80381D14 00377A94  7F 83 E3 78 */	mr r3, r28
/* 80381D18 00377A98  38 8D B6 C4 */	addi r4, r13, lbl_8059FAE4-_SDA_BASE_
/* 80381D1C 00377A9C  48 07 8A 7D */	bl strstr
lbl_80381D20:
/* 80381D20 00377AA0  2C 03 00 00 */	cmpwi r3, 0
/* 80381D24 00377AA4  41 82 03 F4 */	beq lbl_80382118
/* 80381D28 00377AA8  2C 16 00 01 */	cmpwi r22, 1
/* 80381D2C 00377AAC  40 82 00 08 */	bne lbl_80381D34
/* 80381D30 00377AB0  38 63 00 02 */	addi r3, r3, 2
lbl_80381D34:
/* 80381D34 00377AB4  38 00 00 00 */	li r0, 0
/* 80381D38 00377AB8  3C 80 51 EC */	lis r4, 0x51EB851F@ha
/* 80381D3C 00377ABC  98 03 00 00 */	stb r0, 0(r3)
/* 80381D40 00377AC0  38 84 85 1F */	addi r4, r4, 0x51EB851F@l
/* 80381D44 00377AC4  3B 63 00 02 */	addi r27, r3, 2
/* 80381D48 00377AC8  80 17 01 14 */	lwz r0, 0x114(r23)
/* 80381D4C 00377ACC  80 D7 00 A0 */	lwz r6, 0xa0(r23)
/* 80381D50 00377AD0  7C 04 00 96 */	mulhw r0, r4, r0
/* 80381D54 00377AD4  80 97 00 A8 */	lwz r4, 0xa8(r23)
/* 80381D58 00377AD8  7C 66 18 50 */	subf r3, r6, r3
/* 80381D5C 00377ADC  7C A6 D8 50 */	subf r5, r6, r27
/* 80381D60 00377AE0  38 63 00 01 */	addi r3, r3, 1
/* 80381D64 00377AE4  90 77 00 A8 */	stw r3, 0xa8(r23)
/* 80381D68 00377AE8  7C 00 2E 70 */	srawi r0, r0, 5
/* 80381D6C 00377AEC  90 77 00 AC */	stw r3, 0xac(r23)
/* 80381D70 00377AF0  54 03 0F FE */	srwi r3, r0, 0x1f
/* 80381D74 00377AF4  7F 45 20 50 */	subf r26, r5, r4
/* 80381D78 00377AF8  7C 00 1A 14 */	add r0, r0, r3
/* 80381D7C 00377AFC  2C 00 00 01 */	cmpwi r0, 1
/* 80381D80 00377B00  40 82 00 74 */	bne lbl_80381DF4
/* 80381D84 00377B04  2C 1A 00 00 */	cmpwi r26, 0
/* 80381D88 00377B08  41 82 00 1C */	beq lbl_80381DA4
/* 80381D8C 00377B0C  7C C3 33 78 */	mr r3, r6
/* 80381D90 00377B10  7F 64 DB 78 */	mr r4, r27
/* 80381D94 00377B14  38 BA 00 01 */	addi r5, r26, 1
/* 80381D98 00377B18  48 07 42 95 */	bl memmove
/* 80381D9C 00377B1C  93 57 00 A8 */	stw r26, 0xa8(r23)
/* 80381DA0 00377B20  48 00 00 0C */	b lbl_80381DAC
lbl_80381DA4:
/* 80381DA4 00377B24  38 77 00 9C */	addi r3, r23, 0x9c
/* 80381DA8 00377B28  4B FF 9E 11 */	bl ghiResetBuffer
lbl_80381DAC:
/* 80381DAC 00377B2C  80 17 01 7C */	lwz r0, 0x17c(r23)
/* 80381DB0 00377B30  2C 00 00 00 */	cmpwi r0, 0
/* 80381DB4 00377B34  41 82 00 24 */	beq lbl_80381DD8
/* 80381DB8 00377B38  38 60 00 00 */	li r3, 0
/* 80381DBC 00377B3C  38 00 00 06 */	li r0, 6
/* 80381DC0 00377B40  90 77 01 7C */	stw r3, 0x17c(r23)
/* 80381DC4 00377B44  7E E3 BB 78 */	mr r3, r23
/* 80381DC8 00377B48  38 80 00 00 */	li r4, 0
/* 80381DCC 00377B4C  38 A0 00 00 */	li r5, 0
/* 80381DD0 00377B50  90 17 00 10 */	stw r0, 0x10(r23)
/* 80381DD4 00377B54  4B FF A0 01 */	bl ghiCallProgressCallback
lbl_80381DD8:
/* 80381DD8 00377B58  38 00 00 08 */	li r0, 8
/* 80381DDC 00377B5C  7E E3 BB 78 */	mr r3, r23
/* 80381DE0 00377B60  90 17 00 10 */	stw r0, 0x10(r23)
/* 80381DE4 00377B64  38 80 00 00 */	li r4, 0
/* 80381DE8 00377B68  38 A0 00 00 */	li r5, 0
/* 80381DEC 00377B6C  4B FF 9F E9 */	bl ghiCallProgressCallback
/* 80381DF0 00377B70  48 00 03 4C */	b lbl_8038213C
lbl_80381DF4:
/* 80381DF4 00377B74  2C 00 00 03 */	cmpwi r0, 3
/* 80381DF8 00377B78  40 82 01 78 */	bne lbl_80381F70
/* 80381DFC 00377B7C  80 17 01 30 */	lwz r0, 0x130(r23)
/* 80381E00 00377B80  2C 00 00 0A */	cmpwi r0, 0xa
/* 80381E04 00377B84  40 81 00 18 */	ble lbl_80381E1C
/* 80381E08 00377B88  38 60 00 01 */	li r3, 1
/* 80381E0C 00377B8C  38 00 00 0B */	li r0, 0xb
/* 80381E10 00377B90  90 77 01 20 */	stw r3, 0x120(r23)
/* 80381E14 00377B94  90 17 00 3C */	stw r0, 0x3c(r23)
/* 80381E18 00377B98  48 00 03 24 */	b lbl_8038213C
lbl_80381E1C:
/* 80381E1C 00377B9C  7F 83 E3 78 */	mr r3, r28
/* 80381E20 00377BA0  38 9E 00 80 */	addi r4, r30, 0x80
/* 80381E24 00377BA4  48 07 89 75 */	bl strstr
/* 80381E28 00377BA8  2C 03 00 00 */	cmpwi r3, 0
/* 80381E2C 00377BAC  41 82 01 44 */	beq lbl_80381F70
/* 80381E30 00377BB0  3C 80 80 49 */	lis r4, lbl_804942B8@ha
/* 80381E34 00377BB4  3B 43 00 09 */	addi r26, r3, 9
/* 80381E38 00377BB8  38 84 42 B8 */	addi r4, r4, lbl_804942B8@l
/* 80381E3C 00377BBC  80 A4 00 38 */	lwz r5, 0x38(r4)
/* 80381E40 00377BC0  48 00 00 08 */	b lbl_80381E48
lbl_80381E44:
/* 80381E44 00377BC4  3B 5A 00 01 */	addi r26, r26, 1
lbl_80381E48:
/* 80381E48 00377BC8  88 9A 00 00 */	lbz r4, 0(r26)
/* 80381E4C 00377BCC  38 00 00 00 */	li r0, 0
/* 80381E50 00377BD0  7C 84 07 75 */	extsb. r4, r4
/* 80381E54 00377BD4  41 80 00 0C */	blt lbl_80381E60
/* 80381E58 00377BD8  2C 04 01 00 */	cmpwi r4, 0x100
/* 80381E5C 00377BDC  41 80 00 08 */	blt lbl_80381E64
lbl_80381E60:
/* 80381E60 00377BE0  38 00 00 01 */	li r0, 1
lbl_80381E64:
/* 80381E64 00377BE4  2C 00 00 00 */	cmpwi r0, 0
/* 80381E68 00377BE8  41 82 00 0C */	beq lbl_80381E74
/* 80381E6C 00377BEC  38 00 00 00 */	li r0, 0
/* 80381E70 00377BF0  48 00 00 14 */	b lbl_80381E84
lbl_80381E74:
/* 80381E74 00377BF4  80 65 00 08 */	lwz r3, 8(r5)
/* 80381E78 00377BF8  54 80 08 3C */	slwi r0, r4, 1
/* 80381E7C 00377BFC  7C 03 02 2E */	lhzx r0, r3, r0
/* 80381E80 00377C00  54 00 05 EE */	rlwinm r0, r0, 0, 0x17, 0x17
lbl_80381E84:
/* 80381E84 00377C04  2C 00 00 00 */	cmpwi r0, 0
/* 80381E88 00377C08  40 82 FF BC */	bne lbl_80381E44
/* 80381E8C 00377C0C  7F 46 D3 78 */	mr r6, r26
/* 80381E90 00377C10  48 00 00 08 */	b lbl_80381E98
lbl_80381E94:
/* 80381E94 00377C14  38 C6 00 01 */	addi r6, r6, 1
lbl_80381E98:
/* 80381E98 00377C18  88 06 00 00 */	lbz r0, 0(r6)
/* 80381E9C 00377C1C  7C 04 07 75 */	extsb. r4, r0
/* 80381EA0 00377C20  41 82 00 40 */	beq lbl_80381EE0
/* 80381EA4 00377C24  38 00 00 00 */	li r0, 0
/* 80381EA8 00377C28  41 80 00 0C */	blt lbl_80381EB4
/* 80381EAC 00377C2C  2C 04 01 00 */	cmpwi r4, 0x100
/* 80381EB0 00377C30  41 80 00 08 */	blt lbl_80381EB8
lbl_80381EB4:
/* 80381EB4 00377C34  38 00 00 01 */	li r0, 1
lbl_80381EB8:
/* 80381EB8 00377C38  2C 00 00 00 */	cmpwi r0, 0
/* 80381EBC 00377C3C  41 82 00 0C */	beq lbl_80381EC8
/* 80381EC0 00377C40  38 00 00 00 */	li r0, 0
/* 80381EC4 00377C44  48 00 00 14 */	b lbl_80381ED8
lbl_80381EC8:
/* 80381EC8 00377C48  80 65 00 08 */	lwz r3, 8(r5)
/* 80381ECC 00377C4C  54 80 08 3C */	slwi r0, r4, 1
/* 80381ED0 00377C50  7C 03 02 2E */	lhzx r0, r3, r0
/* 80381ED4 00377C54  54 00 05 EE */	rlwinm r0, r0, 0, 0x17, 0x17
lbl_80381ED8:
/* 80381ED8 00377C58  2C 00 00 00 */	cmpwi r0, 0
/* 80381EDC 00377C5C  41 82 FF B8 */	beq lbl_80381E94
lbl_80381EE0:
/* 80381EE0 00377C60  38 00 00 00 */	li r0, 0
/* 80381EE4 00377C64  98 06 00 00 */	stb r0, 0(r6)
/* 80381EE8 00377C68  88 1A 00 00 */	lbz r0, 0(r26)
/* 80381EEC 00377C6C  2C 00 00 2F */	cmpwi r0, 0x2f
/* 80381EF0 00377C70  40 82 00 5C */	bne lbl_80381F4C
/* 80381EF4 00377C74  7F 43 D3 78 */	mr r3, r26
/* 80381EF8 00377C78  48 06 E7 49 */	bl strlen
/* 80381EFC 00377C7C  7C 75 1B 78 */	mr r21, r3
/* 80381F00 00377C80  80 77 00 18 */	lwz r3, 0x18(r23)
/* 80381F04 00377C84  48 06 E7 3D */	bl strlen
/* 80381F08 00377C88  7C 63 AA 14 */	add r3, r3, r21
/* 80381F0C 00377C8C  38 63 00 0E */	addi r3, r3, 0xe
/* 80381F10 00377C90  4B FD C0 D9 */	bl gsimalloc
/* 80381F14 00377C94  2C 03 00 00 */	cmpwi r3, 0
/* 80381F18 00377C98  90 77 01 2C */	stw r3, 0x12c(r23)
/* 80381F1C 00377C9C  40 82 00 10 */	bne lbl_80381F2C
/* 80381F20 00377CA0  38 00 00 01 */	li r0, 1
/* 80381F24 00377CA4  90 17 01 20 */	stw r0, 0x120(r23)
/* 80381F28 00377CA8  90 17 00 3C */	stw r0, 0x3c(r23)
lbl_80381F2C:
/* 80381F2C 00377CAC  80 77 01 2C */	lwz r3, 0x12c(r23)
/* 80381F30 00377CB0  7F 47 D3 78 */	mr r7, r26
/* 80381F34 00377CB4  80 B7 00 18 */	lwz r5, 0x18(r23)
/* 80381F38 00377CB8  38 9E 00 8C */	addi r4, r30, 0x8c
/* 80381F3C 00377CBC  A0 D7 00 20 */	lhz r6, 0x20(r23)
/* 80381F40 00377CC0  4C C6 31 82 */	crclr 6
/* 80381F44 00377CC4  48 07 6A B9 */	bl sprintf
/* 80381F48 00377CC8  48 00 01 F4 */	b lbl_8038213C
lbl_80381F4C:
/* 80381F4C 00377CCC  7F 43 D3 78 */	mr r3, r26
/* 80381F50 00377CD0  4B FD B7 05 */	bl goastrdup
/* 80381F54 00377CD4  2C 03 00 00 */	cmpwi r3, 0
/* 80381F58 00377CD8  90 77 01 2C */	stw r3, 0x12c(r23)
/* 80381F5C 00377CDC  40 82 01 E0 */	bne lbl_8038213C
/* 80381F60 00377CE0  38 00 00 01 */	li r0, 1
/* 80381F64 00377CE4  90 17 01 20 */	stw r0, 0x120(r23)
/* 80381F68 00377CE8  90 17 00 3C */	stw r0, 0x3c(r23)
/* 80381F6C 00377CEC  48 00 01 D0 */	b lbl_8038213C
lbl_80381F70:
/* 80381F70 00377CF0  7F 83 E3 78 */	mr r3, r28
/* 80381F74 00377CF4  38 9E 00 A0 */	addi r4, r30, 0xa0
/* 80381F78 00377CF8  48 07 88 21 */	bl strstr
/* 80381F7C 00377CFC  2C 03 00 00 */	cmpwi r3, 0
/* 80381F80 00377D00  7C 7F 1B 78 */	mr r31, r3
/* 80381F84 00377D04  41 82 01 00 */	beq lbl_80382084
/* 80381F88 00377D08  3E A0 80 41 */	lis r21, lbl_80415D70@ha
/* 80381F8C 00377D0C  8E D5 5D 70 */	lbzu r22, lbl_80415D70@l(r21)
/* 80381F90 00377D10  3B 23 00 10 */	addi r25, r3, 0x10
/* 80381F94 00377D14  38 61 00 0C */	addi r3, r1, 0xc
/* 80381F98 00377D18  89 95 00 01 */	lbz r12, 1(r21)
/* 80381F9C 00377D1C  7F 38 CB 78 */	mr r24, r25
/* 80381FA0 00377D20  89 75 00 02 */	lbz r11, 2(r21)
/* 80381FA4 00377D24  89 55 00 03 */	lbz r10, 3(r21)
/* 80381FA8 00377D28  89 35 00 04 */	lbz r9, 4(r21)
/* 80381FAC 00377D2C  89 15 00 05 */	lbz r8, 5(r21)
/* 80381FB0 00377D30  88 F5 00 06 */	lbz r7, 6(r21)
/* 80381FB4 00377D34  88 D5 00 07 */	lbz r6, 7(r21)
/* 80381FB8 00377D38  88 B5 00 08 */	lbz r5, 8(r21)
/* 80381FBC 00377D3C  88 95 00 09 */	lbz r4, 9(r21)
/* 80381FC0 00377D40  88 15 00 0A */	lbz r0, 0xa(r21)
/* 80381FC4 00377D44  9A C1 00 0C */	stb r22, 0xc(r1)
/* 80381FC8 00377D48  99 81 00 0D */	stb r12, 0xd(r1)
/* 80381FCC 00377D4C  99 61 00 0E */	stb r11, 0xe(r1)
/* 80381FD0 00377D50  99 41 00 0F */	stb r10, 0xf(r1)
/* 80381FD4 00377D54  99 21 00 10 */	stb r9, 0x10(r1)
/* 80381FD8 00377D58  99 01 00 11 */	stb r8, 0x11(r1)
/* 80381FDC 00377D5C  98 E1 00 12 */	stb r7, 0x12(r1)
/* 80381FE0 00377D60  98 C1 00 13 */	stb r6, 0x13(r1)
/* 80381FE4 00377D64  98 A1 00 14 */	stb r5, 0x14(r1)
/* 80381FE8 00377D68  98 81 00 15 */	stb r4, 0x15(r1)
/* 80381FEC 00377D6C  98 01 00 16 */	stb r0, 0x16(r1)
/* 80381FF0 00377D70  48 06 E6 51 */	bl strlen
/* 80381FF4 00377D74  48 00 00 08 */	b lbl_80381FFC
lbl_80381FF8:
/* 80381FF8 00377D78  3B 18 00 01 */	addi r24, r24, 1
lbl_80381FFC:
/* 80381FFC 00377D7C  2C 18 00 00 */	cmpwi r24, 0
/* 80382000 00377D80  41 82 00 28 */	beq lbl_80382028
/* 80382004 00377D84  88 18 00 00 */	lbz r0, 0(r24)
/* 80382008 00377D88  7C 00 07 75 */	extsb. r0, r0
/* 8038200C 00377D8C  41 82 00 1C */	beq lbl_80382028
/* 80382010 00377D90  2C 00 00 0A */	cmpwi r0, 0xa
/* 80382014 00377D94  41 82 00 14 */	beq lbl_80382028
/* 80382018 00377D98  2C 00 00 0D */	cmpwi r0, 0xd
/* 8038201C 00377D9C  41 82 00 0C */	beq lbl_80382028
/* 80382020 00377DA0  2C 00 00 20 */	cmpwi r0, 0x20
/* 80382024 00377DA4  40 82 FF D4 */	bne lbl_80381FF8
lbl_80382028:
/* 80382028 00377DA8  7C B9 C0 50 */	subf r5, r25, r24
/* 8038202C 00377DAC  7C 05 18 00 */	cmpw r5, r3
/* 80382030 00377DB0  40 81 00 18 */	ble lbl_80382048
/* 80382034 00377DB4  38 60 00 01 */	li r3, 1
/* 80382038 00377DB8  38 00 00 10 */	li r0, 0x10
/* 8038203C 00377DBC  90 77 01 20 */	stw r3, 0x120(r23)
/* 80382040 00377DC0  90 17 00 3C */	stw r0, 0x3c(r23)
/* 80382044 00377DC4  48 00 00 F8 */	b lbl_8038213C
lbl_80382048:
/* 80382048 00377DC8  7C 03 28 00 */	cmpw r3, r5
/* 8038204C 00377DCC  40 82 00 2C */	bne lbl_80382078
/* 80382050 00377DD0  7F 23 CB 78 */	mr r3, r25
/* 80382054 00377DD4  38 81 00 0C */	addi r4, r1, 0xc
/* 80382058 00377DD8  48 07 84 C1 */	bl strncmp
/* 8038205C 00377DDC  2C 03 00 00 */	cmpwi r3, 0
/* 80382060 00377DE0  41 80 00 18 */	blt lbl_80382078
/* 80382064 00377DE4  38 60 00 01 */	li r3, 1
/* 80382068 00377DE8  38 00 00 10 */	li r0, 0x10
/* 8038206C 00377DEC  90 77 01 20 */	stw r3, 0x120(r23)
/* 80382070 00377DF0  90 17 00 3C */	stw r0, 0x3c(r23)
/* 80382074 00377DF4  48 00 00 C8 */	b lbl_8038213C
lbl_80382078:
/* 80382078 00377DF8  7F 23 CB 78 */	mr r3, r25
/* 8038207C 00377DFC  48 07 A6 89 */	bl atoi
/* 80382080 00377E00  90 77 01 28 */	stw r3, 0x128(r23)
lbl_80382084:
/* 80382084 00377E04  7F 83 E3 78 */	mr r3, r28
/* 80382088 00377E08  38 9E 00 B0 */	addi r4, r30, 0xb0
/* 8038208C 00377E0C  48 07 87 0D */	bl strstr
/* 80382090 00377E10  7C 03 00 D0 */	neg r0, r3
/* 80382094 00377E14  7C 00 1B 78 */	or r0, r0, r3
/* 80382098 00377E18  54 00 0F FF */	rlwinm. r0, r0, 1, 0x1f, 0x1f
/* 8038209C 00377E1C  90 17 01 34 */	stw r0, 0x134(r23)
/* 803820A0 00377E20  41 82 00 18 */	beq lbl_803820B8
/* 803820A4 00377E24  38 00 00 00 */	li r0, 0
/* 803820A8 00377E28  98 17 01 38 */	stb r0, 0x138(r23)
/* 803820AC 00377E2C  90 17 01 44 */	stw r0, 0x144(r23)
/* 803820B0 00377E30  90 17 01 48 */	stw r0, 0x148(r23)
/* 803820B4 00377E34  90 17 01 4C */	stw r0, 0x14c(r23)
lbl_803820B8:
/* 803820B8 00377E38  80 77 00 0C */	lwz r3, 0xc(r23)
/* 803820BC 00377E3C  38 03 FF FD */	addi r0, r3, -3
/* 803820C0 00377E40  28 00 00 01 */	cmplwi r0, 1
/* 803820C4 00377E44  41 81 00 10 */	bgt lbl_803820D4
/* 803820C8 00377E48  38 00 00 01 */	li r0, 1
/* 803820CC 00377E4C  90 17 01 20 */	stw r0, 0x120(r23)
/* 803820D0 00377E50  48 00 00 6C */	b lbl_8038213C
lbl_803820D4:
/* 803820D4 00377E54  38 00 00 0A */	li r0, 0xa
/* 803820D8 00377E58  2C 1F 00 00 */	cmpwi r31, 0
/* 803820DC 00377E5C  90 17 00 10 */	stw r0, 0x10(r23)
/* 803820E0 00377E60  41 82 00 1C */	beq lbl_803820FC
/* 803820E4 00377E64  80 17 01 28 */	lwz r0, 0x128(r23)
/* 803820E8 00377E68  2C 00 00 00 */	cmpwi r0, 0
/* 803820EC 00377E6C  40 82 00 10 */	bne lbl_803820FC
/* 803820F0 00377E70  38 00 00 01 */	li r0, 1
/* 803820F4 00377E74  90 17 01 20 */	stw r0, 0x120(r23)
/* 803820F8 00377E78  48 00 00 44 */	b lbl_8038213C
lbl_803820FC:
/* 803820FC 00377E7C  2C 1A 00 00 */	cmpwi r26, 0
/* 80382100 00377E80  40 81 00 3C */	ble lbl_8038213C
/* 80382104 00377E84  7E E3 BB 78 */	mr r3, r23
/* 80382108 00377E88  7F 64 DB 78 */	mr r4, r27
/* 8038210C 00377E8C  7F 45 D3 78 */	mr r5, r26
/* 80382110 00377E90  4B FF F8 3D */	bl ghiProcessIncomingFileData
/* 80382114 00377E94  48 00 00 28 */	b lbl_8038213C
lbl_80382118:
/* 80382118 00377E98  2C 15 00 02 */	cmpwi r21, 2
/* 8038211C 00377E9C  40 82 00 20 */	bne lbl_8038213C
/* 80382120 00377EA0  38 60 00 01 */	li r3, 1
/* 80382124 00377EA4  38 00 00 07 */	li r0, 7
/* 80382128 00377EA8  90 77 01 20 */	stw r3, 0x120(r23)
/* 8038212C 00377EAC  80 77 00 4C */	lwz r3, 0x4c(r23)
/* 80382130 00377EB0  90 17 00 3C */	stw r0, 0x3c(r23)
/* 80382134 00377EB4  4B FD A5 25 */	bl GOAGetLastError
/* 80382138 00377EB8  90 77 00 50 */	stw r3, 0x50(r23)
lbl_8038213C:
/* 8038213C 00377EBC  7F A3 EB 78 */	mr r3, r29
/* 80382140 00377EC0  4B FD BE CD */	bl gsifree
lbl_80382144:
/* 80382144 00377EC4  39 61 00 50 */	addi r11, r1, 0x50
/* 80382148 00377EC8  48 06 F2 0D */	bl _restgpr_21
/* 8038214C 00377ECC  80 01 00 54 */	lwz r0, 0x54(r1)
/* 80382150 00377ED0  7C 08 03 A6 */	mtlr r0
/* 80382154 00377ED4  38 21 00 50 */	addi r1, r1, 0x50
/* 80382158 00377ED8  4E 80 00 20 */	blr 

.global ghiDoReceivingFile
ghiDoReceivingFile:
/* 8038215C 00377EDC  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80382160 00377EE0  7C 08 02 A6 */	mflr r0
/* 80382164 00377EE4  90 01 00 34 */	stw r0, 0x34(r1)
/* 80382168 00377EE8  39 61 00 30 */	addi r11, r1, 0x30
/* 8038216C 00377EEC  48 06 F1 B5 */	bl _savegpr_27
/* 80382170 00377EF0  7C 7F 1B 78 */	mr r31, r3
/* 80382174 00377EF4  4B FD B5 B5 */	bl current_time
/* 80382178 00377EF8  7C 7D 1B 78 */	mr r29, r3
/* 8038217C 00377EFC  3B 60 00 00 */	li r27, 0
/* 80382180 00377F00  38 60 20 00 */	li r3, 0x2000
/* 80382184 00377F04  4B FD BE 65 */	bl gsimalloc
/* 80382188 00377F08  2C 03 00 00 */	cmpwi r3, 0
/* 8038218C 00377F0C  7C 7C 1B 78 */	mr r28, r3
/* 80382190 00377F10  40 82 00 14 */	bne lbl_803821A4
/* 80382194 00377F14  38 00 00 01 */	li r0, 1
/* 80382198 00377F18  90 1F 01 20 */	stw r0, 0x120(r31)
/* 8038219C 00377F1C  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 803821A0 00377F20  48 00 01 20 */	b lbl_803822C0
lbl_803821A4:
/* 803821A4 00377F24  3B C0 20 00 */	li r30, 0x2000
/* 803821A8 00377F28  48 00 00 F8 */	b lbl_803822A0
lbl_803821AC:
/* 803821AC 00377F2C  93 C1 00 08 */	stw r30, 8(r1)
/* 803821B0 00377F30  7F E3 FB 78 */	mr r3, r31
/* 803821B4 00377F34  7F 84 E3 78 */	mr r4, r28
/* 803821B8 00377F38  38 A1 00 08 */	addi r5, r1, 8
/* 803821BC 00377F3C  4B FF 9E 11 */	bl ghiDoReceive
/* 803821C0 00377F40  2C 03 00 03 */	cmpwi r3, 3
/* 803821C4 00377F44  41 82 00 F4 */	beq lbl_803822B8
/* 803821C8 00377F48  2C 03 00 01 */	cmpwi r3, 1
/* 803821CC 00377F4C  41 82 00 EC */	beq lbl_803822B8
/* 803821D0 00377F50  2C 03 00 02 */	cmpwi r3, 2
/* 803821D4 00377F54  40 82 00 30 */	bne lbl_80382204
/* 803821D8 00377F58  80 7F 01 28 */	lwz r3, 0x128(r31)
/* 803821DC 00377F5C  38 00 00 01 */	li r0, 1
/* 803821E0 00377F60  90 1F 01 20 */	stw r0, 0x120(r31)
/* 803821E4 00377F64  2C 03 00 00 */	cmpwi r3, 0
/* 803821E8 00377F68  40 81 00 D0 */	ble lbl_803822B8
/* 803821EC 00377F6C  80 1F 01 24 */	lwz r0, 0x124(r31)
/* 803821F0 00377F70  7C 00 18 00 */	cmpw r0, r3
/* 803821F4 00377F74  40 80 00 C4 */	bge lbl_803822B8
/* 803821F8 00377F78  38 00 00 0F */	li r0, 0xf
/* 803821FC 00377F7C  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80382200 00377F80  48 00 00 B8 */	b lbl_803822B8
lbl_80382204:
/* 80382204 00377F84  80 1F 01 94 */	lwz r0, 0x194(r31)
/* 80382208 00377F88  2C 00 00 00 */	cmpwi r0, 0
/* 8038220C 00377F8C  41 82 00 74 */	beq lbl_80382280
/* 80382210 00377F90  80 A1 00 08 */	lwz r5, 8(r1)
/* 80382214 00377F94  7F 84 E3 78 */	mr r4, r28
/* 80382218 00377F98  38 7F 00 C0 */	addi r3, r31, 0xc0
/* 8038221C 00377F9C  4B FF 94 29 */	bl ghiAppendDataToBuffer
/* 80382220 00377FA0  2C 03 00 00 */	cmpwi r3, 0
/* 80382224 00377FA4  41 82 00 94 */	beq lbl_803822B8
/* 80382228 00377FA8  80 1F 00 AC */	lwz r0, 0xac(r31)
/* 8038222C 00377FAC  7F E3 FB 78 */	mr r3, r31
/* 80382230 00377FB0  90 1F 00 A8 */	stw r0, 0xa8(r31)
/* 80382234 00377FB4  4B FF 9C 49 */	bl ghiDecryptReceivedData
/* 80382238 00377FB8  2C 03 00 00 */	cmpwi r3, 0
/* 8038223C 00377FBC  40 82 00 18 */	bne lbl_80382254
/* 80382240 00377FC0  38 60 00 01 */	li r3, 1
/* 80382244 00377FC4  38 00 00 11 */	li r0, 0x11
/* 80382248 00377FC8  90 7F 01 20 */	stw r3, 0x120(r31)
/* 8038224C 00377FCC  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 80382250 00377FD0  48 00 00 68 */	b lbl_803822B8
lbl_80382254:
/* 80382254 00377FD4  80 9F 00 AC */	lwz r4, 0xac(r31)
/* 80382258 00377FD8  80 1F 00 A8 */	lwz r0, 0xa8(r31)
/* 8038225C 00377FDC  7C A4 00 51 */	subf. r5, r4, r0
/* 80382260 00377FE0  41 82 00 38 */	beq lbl_80382298
/* 80382264 00377FE4  80 1F 00 A0 */	lwz r0, 0xa0(r31)
/* 80382268 00377FE8  7F E3 FB 78 */	mr r3, r31
/* 8038226C 00377FEC  7C 80 22 14 */	add r4, r0, r4
/* 80382270 00377FF0  4B FF F6 DD */	bl ghiProcessIncomingFileData
/* 80382274 00377FF4  2C 03 00 00 */	cmpwi r3, 0
/* 80382278 00377FF8  41 82 00 40 */	beq lbl_803822B8
/* 8038227C 00377FFC  48 00 00 1C */	b lbl_80382298
lbl_80382280:
/* 80382280 00378000  80 A1 00 08 */	lwz r5, 8(r1)
/* 80382284 00378004  7F E3 FB 78 */	mr r3, r31
/* 80382288 00378008  7F 84 E3 78 */	mr r4, r28
/* 8038228C 0037800C  4B FF F6 C1 */	bl ghiProcessIncomingFileData
/* 80382290 00378010  2C 03 00 00 */	cmpwi r3, 0
/* 80382294 00378014  41 82 00 24 */	beq lbl_803822B8
lbl_80382298:
/* 80382298 00378018  4B FD B4 91 */	bl current_time
/* 8038229C 0037801C  7F 7D 18 50 */	subf r27, r29, r3
lbl_803822A0:
/* 803822A0 00378020  80 1F 01 20 */	lwz r0, 0x120(r31)
/* 803822A4 00378024  2C 00 00 00 */	cmpwi r0, 0
/* 803822A8 00378028  40 82 00 10 */	bne lbl_803822B8
/* 803822AC 0037802C  80 1F 01 84 */	lwz r0, 0x184(r31)
/* 803822B0 00378030  7C 1B 00 40 */	cmplw r27, r0
/* 803822B4 00378034  41 80 FE F8 */	blt lbl_803821AC
lbl_803822B8:
/* 803822B8 00378038  7F 83 E3 78 */	mr r3, r28
/* 803822BC 0037803C  4B FD BD 51 */	bl gsifree
lbl_803822C0:
/* 803822C0 00378040  39 61 00 30 */	addi r11, r1, 0x30
/* 803822C4 00378044  48 06 F0 A9 */	bl _restgpr_27
/* 803822C8 00378048  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803822CC 0037804C  7C 08 03 A6 */	mtlr r0
/* 803822D0 00378050  38 21 00 30 */	addi r1, r1, 0x30
/* 803822D4 00378054  4E 80 00 20 */	blr 

