.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global NWC24FOpen
NWC24FOpen:
/* 8039832C 0038E0AC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80398330 0038E0B0  7C 08 02 A6 */	mflr r0
/* 80398334 0038E0B4  28 05 00 09 */	cmplwi r5, 9
/* 80398338 0038E0B8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8039833C 0038E0BC  38 00 00 00 */	li r0, 0
/* 80398340 0038E0C0  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80398344 0038E0C4  7C BF 2B 78 */	mr r31, r5
/* 80398348 0038E0C8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8039834C 0038E0CC  7C 9E 23 78 */	mr r30, r4
/* 80398350 0038E0D0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80398354 0038E0D4  7C 7D 1B 78 */	mr r29, r3
/* 80398358 0038E0D8  80 CD CD 40 */	lwz r6, lbl_805A1160-_SDA_BASE_(r13)
/* 8039835C 0038E0DC  38 C6 00 01 */	addi r6, r6, 1
/* 80398360 0038E0E0  64 C4 80 00 */	oris r4, r6, 0x8000
/* 80398364 0038E0E4  90 8D CD 40 */	stw r4, lbl_805A1160-_SDA_BASE_(r13)
/* 80398368 0038E0E8  90 83 00 00 */	stw r4, 0(r3)
/* 8039836C 0038E0EC  90 03 00 08 */	stw r0, 8(r3)
/* 80398370 0038E0F0  90 A3 00 04 */	stw r5, 4(r3)
/* 80398374 0038E0F4  41 82 00 18 */	beq lbl_8039838C
/* 80398378 0038E0F8  28 05 00 0A */	cmplwi r5, 0xa
/* 8039837C 0038E0FC  41 82 00 10 */	beq lbl_8039838C
/* 80398380 0038E100  38 05 FE F7 */	addi r0, r5, -265
/* 80398384 0038E104  28 00 00 01 */	cmplwi r0, 1
/* 80398388 0038E108  41 81 00 24 */	bgt lbl_803983AC
lbl_8039838C:
/* 8039838C 0038E10C  48 00 1E D5 */	bl NWC24IsMsgLibOpened
/* 80398390 0038E110  2C 03 00 00 */	cmpwi r3, 0
/* 80398394 0038E114  40 82 00 18 */	bne lbl_803983AC
/* 80398398 0038E118  48 00 1E DD */	bl NWC24IsMsgLibOpenedByTool
/* 8039839C 0038E11C  2C 03 00 00 */	cmpwi r3, 0
/* 803983A0 0038E120  40 82 00 0C */	bne lbl_803983AC
/* 803983A4 0038E124  38 60 FF F7 */	li r3, -9
/* 803983A8 0038E128  48 00 00 5C */	b lbl_80398404
lbl_803983AC:
/* 803983AC 0038E12C  28 1F 00 09 */	cmplwi r31, 9
/* 803983B0 0038E130  41 82 00 0C */	beq lbl_803983BC
/* 803983B4 0038E134  28 1F 01 09 */	cmplwi r31, 0x109
/* 803983B8 0038E138  40 82 00 20 */	bne lbl_803983D8
lbl_803983BC:
/* 803983BC 0038E13C  80 0D CD 3C */	lwz r0, lbl_805A115C-_SDA_BASE_(r13)
/* 803983C0 0038E140  2C 00 00 00 */	cmpwi r0, 0
/* 803983C4 0038E144  41 82 00 0C */	beq lbl_803983D0
/* 803983C8 0038E148  38 60 FF EA */	li r3, -22
/* 803983CC 0038E14C  48 00 00 38 */	b lbl_80398404
lbl_803983D0:
/* 803983D0 0038E150  80 1D 00 00 */	lwz r0, 0(r29)
/* 803983D4 0038E154  90 0D CD 3C */	stw r0, lbl_805A115C-_SDA_BASE_(r13)
lbl_803983D8:
/* 803983D8 0038E158  57 E0 05 EF */	rlwinm. r0, r31, 0, 0x17, 0x17
/* 803983DC 0038E15C  41 82 00 18 */	beq lbl_803983F4
/* 803983E0 0038E160  7F A3 EB 78 */	mr r3, r29
/* 803983E4 0038E164  7F C4 F3 78 */	mr r4, r30
/* 803983E8 0038E168  7F E5 FB 78 */	mr r5, r31
/* 803983EC 0038E16C  48 00 01 6D */	bl NWC24iFOpenVF
/* 803983F0 0038E170  48 00 00 14 */	b lbl_80398404
lbl_803983F4:
/* 803983F4 0038E174  7F A3 EB 78 */	mr r3, r29
/* 803983F8 0038E178  7F C4 F3 78 */	mr r4, r30
/* 803983FC 0038E17C  7F E5 FB 78 */	mr r5, r31
/* 80398400 0038E180  48 00 00 21 */	bl NWC24iFOpenNand
lbl_80398404:
/* 80398404 0038E184  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80398408 0038E188  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8039840C 0038E18C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80398410 0038E190  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80398414 0038E194  7C 08 03 A6 */	mtlr r0
/* 80398418 0038E198  38 21 00 20 */	addi r1, r1, 0x20
/* 8039841C 0038E19C  4E 80 00 20 */	blr 

.global NWC24iFOpenNand
NWC24iFOpenNand:
/* 80398420 0038E1A0  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80398424 0038E1A4  7C 08 02 A6 */	mflr r0
/* 80398428 0038E1A8  90 01 00 34 */	stw r0, 0x34(r1)
/* 8039842C 0038E1AC  39 61 00 30 */	addi r11, r1, 0x30
/* 80398430 0038E1B0  48 05 8E DD */	bl _savegpr_22
/* 80398434 0038E1B4  28 05 00 0A */	cmplwi r5, 0xa
/* 80398438 0038E1B8  7C 7D 1B 78 */	mr r29, r3
/* 8039843C 0038E1BC  7C 9E 23 78 */	mr r30, r4
/* 80398440 0038E1C0  7C BF 2B 78 */	mr r31, r5
/* 80398444 0038E1C4  41 81 00 5C */	bgt lbl_803984A0
/* 80398448 0038E1C8  3C 60 80 49 */	lis r3, lbl_80491B00@ha
/* 8039844C 0038E1CC  54 A0 10 3A */	slwi r0, r5, 2
/* 80398450 0038E1D0  38 63 1B 00 */	addi r3, r3, lbl_80491B00@l
/* 80398454 0038E1D4  7C 63 00 2E */	lwzx r3, r3, r0
/* 80398458 0038E1D8  7C 69 03 A6 */	mtctr r3
/* 8039845C 0038E1DC  4E 80 04 20 */	bctr 
/* 80398460 0038E1E0  7F C3 F3 78 */	mr r3, r30
/* 80398464 0038E1E4  38 80 00 3F */	li r4, 0x3f
/* 80398468 0038E1E8  38 A0 00 00 */	li r5, 0
/* 8039846C 0038E1EC  4B E7 23 19 */	bl NANDPrivateCreate
/* 80398470 0038E1F0  2C 03 00 00 */	cmpwi r3, 0
/* 80398474 0038E1F4  41 82 00 14 */	beq lbl_80398488
/* 80398478 0038E1F8  2C 03 FF FA */	cmpwi r3, -6
/* 8039847C 0038E1FC  41 82 00 0C */	beq lbl_80398488
/* 80398480 0038E200  38 60 FF EB */	li r3, -21
/* 80398484 0038E204  48 00 00 BC */	b lbl_80398540
lbl_80398488:
/* 80398488 0038E208  3A E0 00 02 */	li r23, 2
/* 8039848C 0038E20C  48 00 00 1C */	b lbl_803984A8
/* 80398490 0038E210  3A E0 00 01 */	li r23, 1
/* 80398494 0038E214  48 00 00 14 */	b lbl_803984A8
/* 80398498 0038E218  3A E0 00 03 */	li r23, 3
/* 8039849C 0038E21C  48 00 00 0C */	b lbl_803984A8
lbl_803984A0:
/* 803984A0 0038E220  38 60 FF FD */	li r3, -3
/* 803984A4 0038E224  48 00 00 9C */	b lbl_80398540
lbl_803984A8:
/* 803984A8 0038E228  3A C0 00 00 */	li r22, 0
/* 803984AC 0038E22C  3B 60 03 E8 */	li r27, 0x3e8
/* 803984B0 0038E230  7F 96 D9 D6 */	mullw r28, r22, r27
/* 803984B4 0038E234  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 803984B8 0038E238  3F 40 80 00 */	lis r26, 0x8000
/* 803984BC 0038E23C  3B 23 4D D3 */	addi r25, r3, 0x10624DD3@l
lbl_803984C0:
/* 803984C0 0038E240  7F C3 F3 78 */	mr r3, r30
/* 803984C4 0038E244  7E E5 BB 78 */	mr r5, r23
/* 803984C8 0038E248  38 9D 00 0C */	addi r4, r29, 0xc
/* 803984CC 0038E24C  4B E7 35 7D */	bl NANDPrivateOpen
/* 803984D0 0038E250  38 03 00 03 */	addi r0, r3, 3
/* 803984D4 0038E254  7C 78 1B 78 */	mr r24, r3
/* 803984D8 0038E258  28 00 00 01 */	cmplwi r0, 1
/* 803984DC 0038E25C  41 81 00 30 */	bgt lbl_8039850C
/* 803984E0 0038E260  80 1A 00 F8 */	lwz r0, 0xf8(r26)
/* 803984E4 0038E264  54 00 F0 BE */	srwi r0, r0, 2
/* 803984E8 0038E268  7C 19 00 16 */	mulhwu r0, r25, r0
/* 803984EC 0038E26C  54 03 D1 BE */	srwi r3, r0, 6
/* 803984F0 0038E270  7C 03 D8 16 */	mulhwu r0, r3, r27
/* 803984F4 0038E274  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 803984F8 0038E278  7C 60 E2 14 */	add r3, r0, r28
/* 803984FC 0038E27C  4B E4 95 85 */	bl OSSleepTicks
/* 80398500 0038E280  3A D6 00 01 */	addi r22, r22, 1
/* 80398504 0038E284  28 16 00 03 */	cmplwi r22, 3
/* 80398508 0038E288  41 80 FF B8 */	blt lbl_803984C0
lbl_8039850C:
/* 8039850C 0038E28C  2C 18 00 00 */	cmpwi r24, 0
/* 80398510 0038E290  41 82 00 2C */	beq lbl_8039853C
/* 80398514 0038E294  28 1F 00 09 */	cmplwi r31, 9
/* 80398518 0038E298  40 82 00 0C */	bne lbl_80398524
/* 8039851C 0038E29C  38 00 00 00 */	li r0, 0
/* 80398520 0038E2A0  90 0D CD 3C */	stw r0, lbl_805A115C-_SDA_BASE_(r13)
lbl_80398524:
/* 80398524 0038E2A4  2C 18 FF F4 */	cmpwi r24, -12
/* 80398528 0038E2A8  40 82 00 0C */	bne lbl_80398534
/* 8039852C 0038E2AC  38 60 FF EC */	li r3, -20
/* 80398530 0038E2B0  48 00 00 10 */	b lbl_80398540
lbl_80398534:
/* 80398534 0038E2B4  38 60 FF F0 */	li r3, -16
/* 80398538 0038E2B8  48 00 00 08 */	b lbl_80398540
lbl_8039853C:
/* 8039853C 0038E2BC  38 60 00 00 */	li r3, 0
lbl_80398540:
/* 80398540 0038E2C0  39 61 00 30 */	addi r11, r1, 0x30
/* 80398544 0038E2C4  48 05 8E 15 */	bl _restgpr_22
/* 80398548 0038E2C8  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8039854C 0038E2CC  7C 08 03 A6 */	mtlr r0
/* 80398550 0038E2D0  38 21 00 30 */	addi r1, r1, 0x30
/* 80398554 0038E2D4  4E 80 00 20 */	blr 

.global NWC24iFOpenVF
NWC24iFOpenVF:
/* 80398558 0038E2D8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8039855C 0038E2DC  7C 08 02 A6 */	mflr r0
/* 80398560 0038E2E0  2C 05 01 09 */	cmpwi r5, 0x109
/* 80398564 0038E2E4  90 01 00 24 */	stw r0, 0x24(r1)
/* 80398568 0038E2E8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8039856C 0038E2EC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80398570 0038E2F0  7C BE 2B 78 */	mr r30, r5
/* 80398574 0038E2F4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80398578 0038E2F8  7C 7D 1B 78 */	mr r29, r3
/* 8039857C 0038E2FC  41 82 00 2C */	beq lbl_803985A8
/* 80398580 0038E300  40 80 00 1C */	bge lbl_8039859C
/* 80398584 0038E304  2C 05 01 02 */	cmpwi r5, 0x102
/* 80398588 0038E308  41 82 00 28 */	beq lbl_803985B0
/* 8039858C 0038E30C  40 80 00 2C */	bge lbl_803985B8
/* 80398590 0038E310  2C 05 01 01 */	cmpwi r5, 0x101
/* 80398594 0038E314  40 80 00 14 */	bge lbl_803985A8
/* 80398598 0038E318  48 00 00 20 */	b lbl_803985B8
lbl_8039859C:
/* 8039859C 0038E31C  2C 05 01 0B */	cmpwi r5, 0x10b
/* 803985A0 0038E320  40 80 00 18 */	bge lbl_803985B8
/* 803985A4 0038E324  48 00 00 0C */	b lbl_803985B0
lbl_803985A8:
/* 803985A8 0038E328  3B ED B8 A0 */	addi r31, r13, lbl_8059FCC0-_SDA_BASE_
/* 803985AC 0038E32C  48 00 00 14 */	b lbl_803985C0
lbl_803985B0:
/* 803985B0 0038E330  3B ED B8 A4 */	addi r31, r13, lbl_8059FCC4-_SDA_BASE_
/* 803985B4 0038E334  48 00 00 0C */	b lbl_803985C0
lbl_803985B8:
/* 803985B8 0038E338  38 60 FF FD */	li r3, -3
/* 803985BC 0038E33C  48 00 00 A8 */	b lbl_80398664
lbl_803985C0:
/* 803985C0 0038E340  7C 83 23 78 */	mr r3, r4
/* 803985C4 0038E344  7F E4 FB 78 */	mr r4, r31
/* 803985C8 0038E348  38 A0 00 00 */	li r5, 0
/* 803985CC 0038E34C  48 02 B1 81 */	bl VFOpenFile
/* 803985D0 0038E350  2C 03 00 00 */	cmpwi r3, 0
/* 803985D4 0038E354  90 7D 00 98 */	stw r3, 0x98(r29)
/* 803985D8 0038E358  40 82 00 88 */	bne lbl_80398660
/* 803985DC 0038E35C  48 02 B9 69 */	bl VFGetLastError
/* 803985E0 0038E360  28 1E 01 09 */	cmplwi r30, 0x109
/* 803985E4 0038E364  40 82 00 0C */	bne lbl_803985F0
/* 803985E8 0038E368  38 00 00 00 */	li r0, 0
/* 803985EC 0038E36C  90 0D CD 3C */	stw r0, lbl_805A115C-_SDA_BASE_(r13)
lbl_803985F0:
/* 803985F0 0038E370  88 1F 00 00 */	lbz r0, 0(r31)
/* 803985F4 0038E374  2C 00 00 72 */	cmpwi r0, 0x72
/* 803985F8 0038E378  40 82 00 14 */	bne lbl_8039860C
/* 803985FC 0038E37C  2C 03 00 02 */	cmpwi r3, 2
/* 80398600 0038E380  40 82 00 0C */	bne lbl_8039860C
/* 80398604 0038E384  38 60 FF EC */	li r3, -20
/* 80398608 0038E388  48 00 00 5C */	b lbl_80398664
lbl_8039860C:
/* 8039860C 0038E38C  2C 03 00 05 */	cmpwi r3, 5
/* 80398610 0038E390  40 82 00 48 */	bne lbl_80398658
/* 80398614 0038E394  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398618 0038E398  48 02 B9 31 */	bl VFGetLastDeviceError
/* 8039861C 0038E39C  2C 03 FF FB */	cmpwi r3, -5
/* 80398620 0038E3A0  41 82 00 20 */	beq lbl_80398640
/* 80398624 0038E3A4  40 80 00 10 */	bge lbl_80398634
/* 80398628 0038E3A8  2C 03 FF F1 */	cmpwi r3, -15
/* 8039862C 0038E3AC  41 82 00 14 */	beq lbl_80398640
/* 80398630 0038E3B0  48 00 00 20 */	b lbl_80398650
lbl_80398634:
/* 80398634 0038E3B4  2C 03 FF FD */	cmpwi r3, -3
/* 80398638 0038E3B8  40 80 00 18 */	bge lbl_80398650
/* 8039863C 0038E3BC  48 00 00 0C */	b lbl_80398648
lbl_80398640:
/* 80398640 0038E3C0  38 60 FF D2 */	li r3, -46
/* 80398644 0038E3C4  48 00 00 20 */	b lbl_80398664
lbl_80398648:
/* 80398648 0038E3C8  38 60 FF DA */	li r3, -38
/* 8039864C 0038E3CC  48 00 00 18 */	b lbl_80398664
lbl_80398650:
/* 80398650 0038E3D0  38 60 FF F0 */	li r3, -16
/* 80398654 0038E3D4  48 00 00 10 */	b lbl_80398664
lbl_80398658:
/* 80398658 0038E3D8  38 60 FF F0 */	li r3, -16
/* 8039865C 0038E3DC  48 00 00 08 */	b lbl_80398664
lbl_80398660:
/* 80398660 0038E3E0  38 60 00 00 */	li r3, 0
lbl_80398664:
/* 80398664 0038E3E4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80398668 0038E3E8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8039866C 0038E3EC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80398670 0038E3F0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80398674 0038E3F4  7C 08 03 A6 */	mtlr r0
/* 80398678 0038E3F8  38 21 00 20 */	addi r1, r1, 0x20
/* 8039867C 0038E3FC  4E 80 00 20 */	blr 

.global NWC24FClose
NWC24FClose:
/* 80398680 0038E400  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80398684 0038E404  7C 08 02 A6 */	mflr r0
/* 80398688 0038E408  90 01 00 14 */	stw r0, 0x14(r1)
/* 8039868C 0038E40C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80398690 0038E410  3B E0 00 00 */	li r31, 0
/* 80398694 0038E414  93 C1 00 08 */	stw r30, 8(r1)
/* 80398698 0038E418  7C 7E 1B 78 */	mr r30, r3
/* 8039869C 0038E41C  80 03 00 04 */	lwz r0, 4(r3)
/* 803986A0 0038E420  28 00 00 09 */	cmplwi r0, 9
/* 803986A4 0038E424  41 82 00 0C */	beq lbl_803986B0
/* 803986A8 0038E428  28 00 01 09 */	cmplwi r0, 0x109
/* 803986AC 0038E42C  40 82 00 18 */	bne lbl_803986C4
lbl_803986B0:
/* 803986B0 0038E430  7F C3 F3 78 */	mr r3, r30
/* 803986B4 0038E434  48 00 0B E9 */	bl BufferedWriteFlush
/* 803986B8 0038E438  38 00 00 00 */	li r0, 0
/* 803986BC 0038E43C  7C 7F 1B 78 */	mr r31, r3
/* 803986C0 0038E440  90 0D CD 3C */	stw r0, lbl_805A115C-_SDA_BASE_(r13)
lbl_803986C4:
/* 803986C4 0038E444  80 1E 00 04 */	lwz r0, 4(r30)
/* 803986C8 0038E448  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 803986CC 0038E44C  41 82 00 70 */	beq lbl_8039873C
/* 803986D0 0038E450  80 7E 00 98 */	lwz r3, 0x98(r30)
/* 803986D4 0038E454  48 02 B1 55 */	bl VFCloseFile
/* 803986D8 0038E458  2C 03 00 00 */	cmpwi r3, 0
/* 803986DC 0038E45C  41 82 00 58 */	beq lbl_80398734
/* 803986E0 0038E460  2C 03 00 05 */	cmpwi r3, 5
/* 803986E4 0038E464  40 82 00 48 */	bne lbl_8039872C
/* 803986E8 0038E468  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 803986EC 0038E46C  48 02 B8 5D */	bl VFGetLastDeviceError
/* 803986F0 0038E470  2C 03 FF FB */	cmpwi r3, -5
/* 803986F4 0038E474  41 82 00 20 */	beq lbl_80398714
/* 803986F8 0038E478  40 80 00 10 */	bge lbl_80398708
/* 803986FC 0038E47C  2C 03 FF F1 */	cmpwi r3, -15
/* 80398700 0038E480  41 82 00 14 */	beq lbl_80398714
/* 80398704 0038E484  48 00 00 20 */	b lbl_80398724
lbl_80398708:
/* 80398708 0038E488  2C 03 FF FD */	cmpwi r3, -3
/* 8039870C 0038E48C  40 80 00 18 */	bge lbl_80398724
/* 80398710 0038E490  48 00 00 0C */	b lbl_8039871C
lbl_80398714:
/* 80398714 0038E494  38 60 FF D2 */	li r3, -46
/* 80398718 0038E498  48 00 00 2C */	b lbl_80398744
lbl_8039871C:
/* 8039871C 0038E49C  38 60 FF DA */	li r3, -38
/* 80398720 0038E4A0  48 00 00 24 */	b lbl_80398744
lbl_80398724:
/* 80398724 0038E4A4  38 60 FF EF */	li r3, -17
/* 80398728 0038E4A8  48 00 00 1C */	b lbl_80398744
lbl_8039872C:
/* 8039872C 0038E4AC  38 60 FF EF */	li r3, -17
/* 80398730 0038E4B0  48 00 00 14 */	b lbl_80398744
lbl_80398734:
/* 80398734 0038E4B4  38 60 00 00 */	li r3, 0
/* 80398738 0038E4B8  48 00 00 0C */	b lbl_80398744
lbl_8039873C:
/* 8039873C 0038E4BC  7F C3 F3 78 */	mr r3, r30
/* 80398740 0038E4C0  48 00 00 29 */	bl NWC24iFCloseNand
lbl_80398744:
/* 80398744 0038E4C4  2C 1F 00 00 */	cmpwi r31, 0
/* 80398748 0038E4C8  41 82 00 08 */	beq lbl_80398750
/* 8039874C 0038E4CC  7F E3 FB 78 */	mr r3, r31
lbl_80398750:
/* 80398750 0038E4D0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80398754 0038E4D4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80398758 0038E4D8  83 C1 00 08 */	lwz r30, 8(r1)
/* 8039875C 0038E4DC  7C 08 03 A6 */	mtlr r0
/* 80398760 0038E4E0  38 21 00 10 */	addi r1, r1, 0x10
/* 80398764 0038E4E4  4E 80 00 20 */	blr 

.global NWC24iFCloseNand
NWC24iFCloseNand:
/* 80398768 0038E4E8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8039876C 0038E4EC  7C 08 02 A6 */	mflr r0
/* 80398770 0038E4F0  90 01 00 34 */	stw r0, 0x34(r1)
/* 80398774 0038E4F4  39 61 00 30 */	addi r11, r1, 0x30
/* 80398778 0038E4F8  48 05 8B 9D */	bl _savegpr_24
/* 8039877C 0038E4FC  3B 40 00 00 */	li r26, 0
/* 80398780 0038E500  3B C0 03 E8 */	li r30, 0x3e8
/* 80398784 0038E504  7F FA F1 D6 */	mullw r31, r26, r30
/* 80398788 0038E508  3C 80 10 62 */	lis r4, 0x10624DD3@ha
/* 8039878C 0038E50C  7C 78 1B 78 */	mr r24, r3
/* 80398790 0038E510  3B 84 4D D3 */	addi r28, r4, 0x10624DD3@l
/* 80398794 0038E514  3B 20 00 00 */	li r25, 0
/* 80398798 0038E518  3F A0 80 00 */	lis r29, 0x8000
lbl_8039879C:
/* 8039879C 0038E51C  38 78 00 0C */	addi r3, r24, 0xc
/* 803987A0 0038E520  4B E7 34 9D */	bl NANDClose
/* 803987A4 0038E524  38 03 00 03 */	addi r0, r3, 3
/* 803987A8 0038E528  7C 7B 1B 78 */	mr r27, r3
/* 803987AC 0038E52C  28 00 00 01 */	cmplwi r0, 1
/* 803987B0 0038E530  41 81 00 30 */	bgt lbl_803987E0
/* 803987B4 0038E534  80 1D 00 F8 */	lwz r0, 0xf8(r29)
/* 803987B8 0038E538  54 00 F0 BE */	srwi r0, r0, 2
/* 803987BC 0038E53C  7C 1C 00 16 */	mulhwu r0, r28, r0
/* 803987C0 0038E540  54 03 D1 BE */	srwi r3, r0, 6
/* 803987C4 0038E544  7C 03 F0 16 */	mulhwu r0, r3, r30
/* 803987C8 0038E548  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 803987CC 0038E54C  7C 60 FA 14 */	add r3, r0, r31
/* 803987D0 0038E550  4B E4 92 B1 */	bl OSSleepTicks
/* 803987D4 0038E554  3B 39 00 01 */	addi r25, r25, 1
/* 803987D8 0038E558  28 19 00 03 */	cmplwi r25, 3
/* 803987DC 0038E55C  41 80 FF C0 */	blt lbl_8039879C
lbl_803987E0:
/* 803987E0 0038E560  2C 1B FF FC */	cmpwi r27, -4
/* 803987E4 0038E564  40 82 00 0C */	bne lbl_803987F0
/* 803987E8 0038E568  3B 40 FF DA */	li r26, -38
/* 803987EC 0038E56C  48 00 00 10 */	b lbl_803987FC
lbl_803987F0:
/* 803987F0 0038E570  2C 1B 00 00 */	cmpwi r27, 0
/* 803987F4 0038E574  41 82 00 08 */	beq lbl_803987FC
/* 803987F8 0038E578  3B 40 FF EF */	li r26, -17
lbl_803987FC:
/* 803987FC 0038E57C  39 61 00 30 */	addi r11, r1, 0x30
/* 80398800 0038E580  7F 43 D3 78 */	mr r3, r26
/* 80398804 0038E584  48 05 8B 5D */	bl _restgpr_24
/* 80398808 0038E588  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8039880C 0038E58C  7C 08 03 A6 */	mtlr r0
/* 80398810 0038E590  38 21 00 30 */	addi r1, r1, 0x30
/* 80398814 0038E594  4E 80 00 20 */	blr 

.global NWC24FSeek
NWC24FSeek:
/* 80398818 0038E598  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8039881C 0038E59C  7C 08 02 A6 */	mflr r0
/* 80398820 0038E5A0  90 01 00 34 */	stw r0, 0x34(r1)
/* 80398824 0038E5A4  39 61 00 30 */	addi r11, r1, 0x30
/* 80398828 0038E5A8  48 05 8A E9 */	bl _savegpr_23
/* 8039882C 0038E5AC  80 03 00 04 */	lwz r0, 4(r3)
/* 80398830 0038E5B0  7C 7D 1B 78 */	mr r29, r3
/* 80398834 0038E5B4  7C 9E 23 78 */	mr r30, r4
/* 80398838 0038E5B8  7C BF 2B 78 */	mr r31, r5
/* 8039883C 0038E5BC  28 00 00 0A */	cmplwi r0, 0xa
/* 80398840 0038E5C0  41 82 00 0C */	beq lbl_8039884C
/* 80398844 0038E5C4  28 00 01 0A */	cmplwi r0, 0x10a
/* 80398848 0038E5C8  40 82 00 BC */	bne lbl_80398904
lbl_8039884C:
/* 8039884C 0038E5CC  80 03 00 04 */	lwz r0, 4(r3)
/* 80398850 0038E5D0  54 85 D8 08 */	slwi r5, r4, 0x1b
/* 80398854 0038E5D4  54 86 0F FE */	srwi r6, r4, 0x1f
/* 80398858 0038E5D8  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 8039885C 0038E5DC  7C A6 28 50 */	subf r5, r6, r5
/* 80398860 0038E5E0  54 A0 28 3E */	rotlwi r0, r5, 5
/* 80398864 0038E5E4  7C 00 32 14 */	add r0, r0, r6
/* 80398868 0038E5E8  90 03 00 08 */	stw r0, 8(r3)
/* 8039886C 0038E5EC  7C 80 20 50 */	subf r4, r0, r4
/* 80398870 0038E5F0  41 82 00 74 */	beq lbl_803988E4
/* 80398874 0038E5F4  80 63 00 98 */	lwz r3, 0x98(r3)
/* 80398878 0038E5F8  7F E5 FB 78 */	mr r5, r31
/* 8039887C 0038E5FC  48 02 B0 19 */	bl VFSeekFile
/* 80398880 0038E600  2C 03 00 00 */	cmpwi r3, 0
/* 80398884 0038E604  41 82 00 58 */	beq lbl_803988DC
/* 80398888 0038E608  2C 03 00 05 */	cmpwi r3, 5
/* 8039888C 0038E60C  40 82 00 48 */	bne lbl_803988D4
/* 80398890 0038E610  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398894 0038E614  48 02 B6 B5 */	bl VFGetLastDeviceError
/* 80398898 0038E618  2C 03 FF FB */	cmpwi r3, -5
/* 8039889C 0038E61C  41 82 00 20 */	beq lbl_803988BC
/* 803988A0 0038E620  40 80 00 10 */	bge lbl_803988B0
/* 803988A4 0038E624  2C 03 FF F1 */	cmpwi r3, -15
/* 803988A8 0038E628  41 82 00 14 */	beq lbl_803988BC
/* 803988AC 0038E62C  48 00 00 20 */	b lbl_803988CC
lbl_803988B0:
/* 803988B0 0038E630  2C 03 FF FD */	cmpwi r3, -3
/* 803988B4 0038E634  40 80 00 18 */	bge lbl_803988CC
/* 803988B8 0038E638  48 00 00 0C */	b lbl_803988C4
lbl_803988BC:
/* 803988BC 0038E63C  38 60 FF D2 */	li r3, -46
/* 803988C0 0038E640  48 00 01 30 */	b lbl_803989F0
lbl_803988C4:
/* 803988C4 0038E644  38 60 FF DA */	li r3, -38
/* 803988C8 0038E648  48 00 01 28 */	b lbl_803989F0
lbl_803988CC:
/* 803988CC 0038E64C  38 60 FF EB */	li r3, -21
/* 803988D0 0038E650  48 00 01 20 */	b lbl_803989F0
lbl_803988D4:
/* 803988D4 0038E654  38 60 FF EB */	li r3, -21
/* 803988D8 0038E658  48 00 01 18 */	b lbl_803989F0
lbl_803988DC:
/* 803988DC 0038E65C  38 60 00 00 */	li r3, 0
/* 803988E0 0038E660  48 00 01 10 */	b lbl_803989F0
lbl_803988E4:
/* 803988E4 0038E664  7F E5 FB 78 */	mr r5, r31
/* 803988E8 0038E668  38 63 00 0C */	addi r3, r3, 0xc
/* 803988EC 0038E66C  4B E7 23 4D */	bl NANDSeek
/* 803988F0 0038E670  2C 03 00 00 */	cmpwi r3, 0
/* 803988F4 0038E674  38 60 00 00 */	li r3, 0
/* 803988F8 0038E678  40 80 00 F8 */	bge lbl_803989F0
/* 803988FC 0038E67C  38 60 FF EB */	li r3, -21
/* 80398900 0038E680  48 00 00 F0 */	b lbl_803989F0
lbl_80398904:
/* 80398904 0038E684  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 80398908 0038E688  41 82 00 70 */	beq lbl_80398978
/* 8039890C 0038E68C  80 63 00 98 */	lwz r3, 0x98(r3)
/* 80398910 0038E690  48 02 AF 85 */	bl VFSeekFile
/* 80398914 0038E694  2C 03 00 00 */	cmpwi r3, 0
/* 80398918 0038E698  41 82 00 58 */	beq lbl_80398970
/* 8039891C 0038E69C  2C 03 00 05 */	cmpwi r3, 5
/* 80398920 0038E6A0  40 82 00 48 */	bne lbl_80398968
/* 80398924 0038E6A4  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398928 0038E6A8  48 02 B6 21 */	bl VFGetLastDeviceError
/* 8039892C 0038E6AC  2C 03 FF FB */	cmpwi r3, -5
/* 80398930 0038E6B0  41 82 00 20 */	beq lbl_80398950
/* 80398934 0038E6B4  40 80 00 10 */	bge lbl_80398944
/* 80398938 0038E6B8  2C 03 FF F1 */	cmpwi r3, -15
/* 8039893C 0038E6BC  41 82 00 14 */	beq lbl_80398950
/* 80398940 0038E6C0  48 00 00 20 */	b lbl_80398960
lbl_80398944:
/* 80398944 0038E6C4  2C 03 FF FD */	cmpwi r3, -3
/* 80398948 0038E6C8  40 80 00 18 */	bge lbl_80398960
/* 8039894C 0038E6CC  48 00 00 0C */	b lbl_80398958
lbl_80398950:
/* 80398950 0038E6D0  38 60 FF D2 */	li r3, -46
/* 80398954 0038E6D4  48 00 00 9C */	b lbl_803989F0
lbl_80398958:
/* 80398958 0038E6D8  38 60 FF DA */	li r3, -38
/* 8039895C 0038E6DC  48 00 00 94 */	b lbl_803989F0
lbl_80398960:
/* 80398960 0038E6E0  38 60 FF EB */	li r3, -21
/* 80398964 0038E6E4  48 00 00 8C */	b lbl_803989F0
lbl_80398968:
/* 80398968 0038E6E8  38 60 FF EB */	li r3, -21
/* 8039896C 0038E6EC  48 00 00 84 */	b lbl_803989F0
lbl_80398970:
/* 80398970 0038E6F0  38 60 00 00 */	li r3, 0
/* 80398974 0038E6F4  48 00 00 7C */	b lbl_803989F0
lbl_80398978:
/* 80398978 0038E6F8  3A E0 00 00 */	li r23, 0
/* 8039897C 0038E6FC  3B 60 03 E8 */	li r27, 0x3e8
/* 80398980 0038E700  7F 97 D9 D6 */	mullw r28, r23, r27
/* 80398984 0038E704  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 80398988 0038E708  3F 40 80 00 */	lis r26, 0x8000
/* 8039898C 0038E70C  3B 23 4D D3 */	addi r25, r3, 0x10624DD3@l
lbl_80398990:
/* 80398990 0038E710  7F C4 F3 78 */	mr r4, r30
/* 80398994 0038E714  7F E5 FB 78 */	mr r5, r31
/* 80398998 0038E718  38 7D 00 0C */	addi r3, r29, 0xc
/* 8039899C 0038E71C  4B E7 22 9D */	bl NANDSeek
/* 803989A0 0038E720  38 03 00 03 */	addi r0, r3, 3
/* 803989A4 0038E724  7C 78 1B 78 */	mr r24, r3
/* 803989A8 0038E728  28 00 00 01 */	cmplwi r0, 1
/* 803989AC 0038E72C  41 81 00 30 */	bgt lbl_803989DC
/* 803989B0 0038E730  80 1A 00 F8 */	lwz r0, 0xf8(r26)
/* 803989B4 0038E734  54 00 F0 BE */	srwi r0, r0, 2
/* 803989B8 0038E738  7C 19 00 16 */	mulhwu r0, r25, r0
/* 803989BC 0038E73C  54 03 D1 BE */	srwi r3, r0, 6
/* 803989C0 0038E740  7C 03 D8 16 */	mulhwu r0, r3, r27
/* 803989C4 0038E744  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 803989C8 0038E748  7C 60 E2 14 */	add r3, r0, r28
/* 803989CC 0038E74C  4B E4 90 B5 */	bl OSSleepTicks
/* 803989D0 0038E750  3A F7 00 01 */	addi r23, r23, 1
/* 803989D4 0038E754  28 17 00 03 */	cmplwi r23, 3
/* 803989D8 0038E758  41 80 FF B8 */	blt lbl_80398990
lbl_803989DC:
/* 803989DC 0038E75C  2C 18 00 00 */	cmpwi r24, 0
/* 803989E0 0038E760  40 80 00 0C */	bge lbl_803989EC
/* 803989E4 0038E764  38 60 FF EB */	li r3, -21
/* 803989E8 0038E768  48 00 00 08 */	b lbl_803989F0
lbl_803989EC:
/* 803989EC 0038E76C  38 60 00 00 */	li r3, 0
lbl_803989F0:
/* 803989F0 0038E770  39 61 00 30 */	addi r11, r1, 0x30
/* 803989F4 0038E774  48 05 89 69 */	bl _restgpr_23
/* 803989F8 0038E778  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803989FC 0038E77C  7C 08 03 A6 */	mtlr r0
/* 80398A00 0038E780  38 21 00 30 */	addi r1, r1, 0x30
/* 80398A04 0038E784  4E 80 00 20 */	blr 

.global NWC24FRead
NWC24FRead:
/* 80398A08 0038E788  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80398A0C 0038E78C  7C 08 02 A6 */	mflr r0
/* 80398A10 0038E790  90 01 00 34 */	stw r0, 0x34(r1)
/* 80398A14 0038E794  39 61 00 30 */	addi r11, r1, 0x30
/* 80398A18 0038E798  48 05 88 F9 */	bl _savegpr_23
/* 80398A1C 0038E79C  80 05 00 04 */	lwz r0, 4(r5)
/* 80398A20 0038E7A0  7C 7D 1B 78 */	mr r29, r3
/* 80398A24 0038E7A4  7C 9E 23 78 */	mr r30, r4
/* 80398A28 0038E7A8  7C BF 2B 78 */	mr r31, r5
/* 80398A2C 0038E7AC  2C 00 00 0A */	cmpwi r0, 0xa
/* 80398A30 0038E7B0  41 82 00 40 */	beq lbl_80398A70
/* 80398A34 0038E7B4  40 80 00 1C */	bge lbl_80398A50
/* 80398A38 0038E7B8  2C 00 00 01 */	cmpwi r0, 1
/* 80398A3C 0038E7BC  41 82 00 2C */	beq lbl_80398A68
/* 80398A40 0038E7C0  41 80 00 44 */	blt lbl_80398A84
/* 80398A44 0038E7C4  2C 00 00 09 */	cmpwi r0, 9
/* 80398A48 0038E7C8  40 80 00 20 */	bge lbl_80398A68
/* 80398A4C 0038E7CC  48 00 00 38 */	b lbl_80398A84
lbl_80398A50:
/* 80398A50 0038E7D0  2C 00 01 0A */	cmpwi r0, 0x10a
/* 80398A54 0038E7D4  41 82 00 1C */	beq lbl_80398A70
/* 80398A58 0038E7D8  40 80 00 2C */	bge lbl_80398A84
/* 80398A5C 0038E7DC  2C 00 01 01 */	cmpwi r0, 0x101
/* 80398A60 0038E7E0  41 82 00 08 */	beq lbl_80398A68
/* 80398A64 0038E7E4  48 00 00 20 */	b lbl_80398A84
lbl_80398A68:
/* 80398A68 0038E7E8  38 60 FF F9 */	li r3, -7
/* 80398A6C 0038E7EC  48 00 01 54 */	b lbl_80398BC0
lbl_80398A70:
/* 80398A70 0038E7F0  7F A3 EB 78 */	mr r3, r29
/* 80398A74 0038E7F4  7F C4 F3 78 */	mr r4, r30
/* 80398A78 0038E7F8  7F E5 FB 78 */	mr r5, r31
/* 80398A7C 0038E7FC  48 00 09 91 */	bl BufferedRead
/* 80398A80 0038E800  48 00 01 40 */	b lbl_80398BC0
lbl_80398A84:
/* 80398A84 0038E804  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 80398A88 0038E808  41 82 00 7C */	beq lbl_80398B04
/* 80398A8C 0038E80C  80 65 00 98 */	lwz r3, 0x98(r5)
/* 80398A90 0038E810  7F A4 EB 78 */	mr r4, r29
/* 80398A94 0038E814  7F C5 F3 78 */	mr r5, r30
/* 80398A98 0038E818  38 C0 00 00 */	li r6, 0
/* 80398A9C 0038E81C  48 02 AE 85 */	bl VFReadFile
/* 80398AA0 0038E820  2C 03 00 00 */	cmpwi r3, 0
/* 80398AA4 0038E824  41 82 00 58 */	beq lbl_80398AFC
/* 80398AA8 0038E828  2C 03 00 05 */	cmpwi r3, 5
/* 80398AAC 0038E82C  40 82 00 48 */	bne lbl_80398AF4
/* 80398AB0 0038E830  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398AB4 0038E834  48 02 B4 95 */	bl VFGetLastDeviceError
/* 80398AB8 0038E838  2C 03 FF FB */	cmpwi r3, -5
/* 80398ABC 0038E83C  41 82 00 20 */	beq lbl_80398ADC
/* 80398AC0 0038E840  40 80 00 10 */	bge lbl_80398AD0
/* 80398AC4 0038E844  2C 03 FF F1 */	cmpwi r3, -15
/* 80398AC8 0038E848  41 82 00 14 */	beq lbl_80398ADC
/* 80398ACC 0038E84C  48 00 00 20 */	b lbl_80398AEC
lbl_80398AD0:
/* 80398AD0 0038E850  2C 03 FF FD */	cmpwi r3, -3
/* 80398AD4 0038E854  40 80 00 18 */	bge lbl_80398AEC
/* 80398AD8 0038E858  48 00 00 0C */	b lbl_80398AE4
lbl_80398ADC:
/* 80398ADC 0038E85C  38 60 FF D2 */	li r3, -46
/* 80398AE0 0038E860  48 00 00 E0 */	b lbl_80398BC0
lbl_80398AE4:
/* 80398AE4 0038E864  38 60 FF DA */	li r3, -38
/* 80398AE8 0038E868  48 00 00 D8 */	b lbl_80398BC0
lbl_80398AEC:
/* 80398AEC 0038E86C  38 60 FF EE */	li r3, -18
/* 80398AF0 0038E870  48 00 00 D0 */	b lbl_80398BC0
lbl_80398AF4:
/* 80398AF4 0038E874  38 60 FF EE */	li r3, -18
/* 80398AF8 0038E878  48 00 00 C8 */	b lbl_80398BC0
lbl_80398AFC:
/* 80398AFC 0038E87C  38 60 00 00 */	li r3, 0
/* 80398B00 0038E880  48 00 00 C0 */	b lbl_80398BC0
lbl_80398B04:
/* 80398B04 0038E884  3A E0 00 00 */	li r23, 0
/* 80398B08 0038E888  3B 60 03 E8 */	li r27, 0x3e8
/* 80398B0C 0038E88C  7F 97 D9 D6 */	mullw r28, r23, r27
/* 80398B10 0038E890  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 80398B14 0038E894  3F 40 80 00 */	lis r26, 0x8000
/* 80398B18 0038E898  3B 23 4D D3 */	addi r25, r3, 0x10624DD3@l
lbl_80398B1C:
/* 80398B1C 0038E89C  7F A4 EB 78 */	mr r4, r29
/* 80398B20 0038E8A0  7F C5 F3 78 */	mr r5, r30
/* 80398B24 0038E8A4  38 7F 00 0C */	addi r3, r31, 0xc
/* 80398B28 0038E8A8  4B E7 1F 51 */	bl NANDRead
/* 80398B2C 0038E8AC  38 03 00 03 */	addi r0, r3, 3
/* 80398B30 0038E8B0  7C 78 1B 78 */	mr r24, r3
/* 80398B34 0038E8B4  28 00 00 01 */	cmplwi r0, 1
/* 80398B38 0038E8B8  41 81 00 30 */	bgt lbl_80398B68
/* 80398B3C 0038E8BC  80 1A 00 F8 */	lwz r0, 0xf8(r26)
/* 80398B40 0038E8C0  54 00 F0 BE */	srwi r0, r0, 2
/* 80398B44 0038E8C4  7C 19 00 16 */	mulhwu r0, r25, r0
/* 80398B48 0038E8C8  54 03 D1 BE */	srwi r3, r0, 6
/* 80398B4C 0038E8CC  7C 03 D8 16 */	mulhwu r0, r3, r27
/* 80398B50 0038E8D0  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 80398B54 0038E8D4  7C 60 E2 14 */	add r3, r0, r28
/* 80398B58 0038E8D8  4B E4 8F 29 */	bl OSSleepTicks
/* 80398B5C 0038E8DC  3A F7 00 01 */	addi r23, r23, 1
/* 80398B60 0038E8E0  28 17 00 03 */	cmplwi r23, 3
/* 80398B64 0038E8E4  41 80 FF B8 */	blt lbl_80398B1C
lbl_80398B68:
/* 80398B68 0038E8E8  2C 18 FF FC */	cmpwi r24, -4
/* 80398B6C 0038E8EC  40 82 00 0C */	bne lbl_80398B78
/* 80398B70 0038E8F0  38 60 FF DA */	li r3, -38
/* 80398B74 0038E8F4  48 00 00 4C */	b lbl_80398BC0
lbl_80398B78:
/* 80398B78 0038E8F8  2C 18 00 00 */	cmpwi r24, 0
/* 80398B7C 0038E8FC  40 80 00 40 */	bge lbl_80398BBC
/* 80398B80 0038E900  2C 18 FF FB */	cmpwi r24, -5
/* 80398B84 0038E904  41 82 00 20 */	beq lbl_80398BA4
/* 80398B88 0038E908  40 80 00 10 */	bge lbl_80398B98
/* 80398B8C 0038E90C  2C 18 FF F1 */	cmpwi r24, -15
/* 80398B90 0038E910  41 82 00 14 */	beq lbl_80398BA4
/* 80398B94 0038E914  48 00 00 20 */	b lbl_80398BB4
lbl_80398B98:
/* 80398B98 0038E918  2C 18 FF FD */	cmpwi r24, -3
/* 80398B9C 0038E91C  40 80 00 18 */	bge lbl_80398BB4
/* 80398BA0 0038E920  48 00 00 0C */	b lbl_80398BAC
lbl_80398BA4:
/* 80398BA4 0038E924  38 60 FF D2 */	li r3, -46
/* 80398BA8 0038E928  48 00 00 18 */	b lbl_80398BC0
lbl_80398BAC:
/* 80398BAC 0038E92C  38 60 FF DA */	li r3, -38
/* 80398BB0 0038E930  48 00 00 10 */	b lbl_80398BC0
lbl_80398BB4:
/* 80398BB4 0038E934  38 60 FF EE */	li r3, -18
/* 80398BB8 0038E938  48 00 00 08 */	b lbl_80398BC0
lbl_80398BBC:
/* 80398BBC 0038E93C  38 60 00 00 */	li r3, 0
lbl_80398BC0:
/* 80398BC0 0038E940  39 61 00 30 */	addi r11, r1, 0x30
/* 80398BC4 0038E944  48 05 87 99 */	bl _restgpr_23
/* 80398BC8 0038E948  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80398BCC 0038E94C  7C 08 03 A6 */	mtlr r0
/* 80398BD0 0038E950  38 21 00 30 */	addi r1, r1, 0x30
/* 80398BD4 0038E954  4E 80 00 20 */	blr 

.global NWC24FWrite
NWC24FWrite:
/* 80398BD8 0038E958  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80398BDC 0038E95C  7C 08 02 A6 */	mflr r0
/* 80398BE0 0038E960  90 01 00 34 */	stw r0, 0x34(r1)
/* 80398BE4 0038E964  39 61 00 30 */	addi r11, r1, 0x30
/* 80398BE8 0038E968  48 05 87 29 */	bl _savegpr_23
/* 80398BEC 0038E96C  80 05 00 04 */	lwz r0, 4(r5)
/* 80398BF0 0038E970  7C 7D 1B 78 */	mr r29, r3
/* 80398BF4 0038E974  7C 9E 23 78 */	mr r30, r4
/* 80398BF8 0038E978  7C BF 2B 78 */	mr r31, r5
/* 80398BFC 0038E97C  2C 00 00 0A */	cmpwi r0, 0xa
/* 80398C00 0038E980  41 82 00 4C */	beq lbl_80398C4C
/* 80398C04 0038E984  40 80 00 1C */	bge lbl_80398C20
/* 80398C08 0038E988  2C 00 00 02 */	cmpwi r0, 2
/* 80398C0C 0038E98C  41 82 00 40 */	beq lbl_80398C4C
/* 80398C10 0038E990  41 80 00 44 */	blt lbl_80398C54
/* 80398C14 0038E994  2C 00 00 09 */	cmpwi r0, 9
/* 80398C18 0038E998  40 80 00 20 */	bge lbl_80398C38
/* 80398C1C 0038E99C  48 00 00 38 */	b lbl_80398C54
lbl_80398C20:
/* 80398C20 0038E9A0  2C 00 01 09 */	cmpwi r0, 0x109
/* 80398C24 0038E9A4  41 82 00 14 */	beq lbl_80398C38
/* 80398C28 0038E9A8  40 80 00 2C */	bge lbl_80398C54
/* 80398C2C 0038E9AC  2C 00 01 02 */	cmpwi r0, 0x102
/* 80398C30 0038E9B0  41 82 00 1C */	beq lbl_80398C4C
/* 80398C34 0038E9B4  48 00 00 20 */	b lbl_80398C54
lbl_80398C38:
/* 80398C38 0038E9B8  7F A3 EB 78 */	mr r3, r29
/* 80398C3C 0038E9BC  7F C4 F3 78 */	mr r4, r30
/* 80398C40 0038E9C0  7F E5 FB 78 */	mr r5, r31
/* 80398C44 0038E9C4  48 00 04 C5 */	bl BufferedWrite
/* 80398C48 0038E9C8  48 00 01 50 */	b lbl_80398D98
lbl_80398C4C:
/* 80398C4C 0038E9CC  38 60 FF F9 */	li r3, -7
/* 80398C50 0038E9D0  48 00 01 48 */	b lbl_80398D98
lbl_80398C54:
/* 80398C54 0038E9D4  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 80398C58 0038E9D8  41 82 00 78 */	beq lbl_80398CD0
/* 80398C5C 0038E9DC  80 65 00 98 */	lwz r3, 0x98(r5)
/* 80398C60 0038E9E0  7F A4 EB 78 */	mr r4, r29
/* 80398C64 0038E9E4  7F C5 F3 78 */	mr r5, r30
/* 80398C68 0038E9E8  48 02 AD 55 */	bl VFWriteFile
/* 80398C6C 0038E9EC  2C 03 00 00 */	cmpwi r3, 0
/* 80398C70 0038E9F0  41 82 00 58 */	beq lbl_80398CC8
/* 80398C74 0038E9F4  2C 03 00 05 */	cmpwi r3, 5
/* 80398C78 0038E9F8  40 82 00 48 */	bne lbl_80398CC0
/* 80398C7C 0038E9FC  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398C80 0038EA00  48 02 B2 C9 */	bl VFGetLastDeviceError
/* 80398C84 0038EA04  2C 03 FF FB */	cmpwi r3, -5
/* 80398C88 0038EA08  41 82 00 20 */	beq lbl_80398CA8
/* 80398C8C 0038EA0C  40 80 00 10 */	bge lbl_80398C9C
/* 80398C90 0038EA10  2C 03 FF F1 */	cmpwi r3, -15
/* 80398C94 0038EA14  41 82 00 14 */	beq lbl_80398CA8
/* 80398C98 0038EA18  48 00 00 20 */	b lbl_80398CB8
lbl_80398C9C:
/* 80398C9C 0038EA1C  2C 03 FF FD */	cmpwi r3, -3
/* 80398CA0 0038EA20  40 80 00 18 */	bge lbl_80398CB8
/* 80398CA4 0038EA24  48 00 00 0C */	b lbl_80398CB0
lbl_80398CA8:
/* 80398CA8 0038EA28  38 60 FF D2 */	li r3, -46
/* 80398CAC 0038EA2C  48 00 00 EC */	b lbl_80398D98
lbl_80398CB0:
/* 80398CB0 0038EA30  38 60 FF DA */	li r3, -38
/* 80398CB4 0038EA34  48 00 00 E4 */	b lbl_80398D98
lbl_80398CB8:
/* 80398CB8 0038EA38  38 60 FF ED */	li r3, -19
/* 80398CBC 0038EA3C  48 00 00 DC */	b lbl_80398D98
lbl_80398CC0:
/* 80398CC0 0038EA40  38 60 FF ED */	li r3, -19
/* 80398CC4 0038EA44  48 00 00 D4 */	b lbl_80398D98
lbl_80398CC8:
/* 80398CC8 0038EA48  38 60 00 00 */	li r3, 0
/* 80398CCC 0038EA4C  48 00 00 CC */	b lbl_80398D98
lbl_80398CD0:
/* 80398CD0 0038EA50  3A E0 00 00 */	li r23, 0
/* 80398CD4 0038EA54  3B 60 03 E8 */	li r27, 0x3e8
/* 80398CD8 0038EA58  7F 97 D9 D6 */	mullw r28, r23, r27
/* 80398CDC 0038EA5C  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 80398CE0 0038EA60  3F 40 80 00 */	lis r26, 0x8000
/* 80398CE4 0038EA64  3B 23 4D D3 */	addi r25, r3, 0x10624DD3@l
lbl_80398CE8:
/* 80398CE8 0038EA68  7F A4 EB 78 */	mr r4, r29
/* 80398CEC 0038EA6C  7F C5 F3 78 */	mr r5, r30
/* 80398CF0 0038EA70  38 7F 00 0C */	addi r3, r31, 0xc
/* 80398CF4 0038EA74  4B E7 1E 65 */	bl NANDWrite
/* 80398CF8 0038EA78  38 03 00 03 */	addi r0, r3, 3
/* 80398CFC 0038EA7C  7C 78 1B 78 */	mr r24, r3
/* 80398D00 0038EA80  28 00 00 01 */	cmplwi r0, 1
/* 80398D04 0038EA84  41 81 00 30 */	bgt lbl_80398D34
/* 80398D08 0038EA88  80 1A 00 F8 */	lwz r0, 0xf8(r26)
/* 80398D0C 0038EA8C  54 00 F0 BE */	srwi r0, r0, 2
/* 80398D10 0038EA90  7C 19 00 16 */	mulhwu r0, r25, r0
/* 80398D14 0038EA94  54 03 D1 BE */	srwi r3, r0, 6
/* 80398D18 0038EA98  7C 03 D8 16 */	mulhwu r0, r3, r27
/* 80398D1C 0038EA9C  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 80398D20 0038EAA0  7C 60 E2 14 */	add r3, r0, r28
/* 80398D24 0038EAA4  4B E4 8D 5D */	bl OSSleepTicks
/* 80398D28 0038EAA8  3A F7 00 01 */	addi r23, r23, 1
/* 80398D2C 0038EAAC  28 17 00 03 */	cmplwi r23, 3
/* 80398D30 0038EAB0  41 80 FF B8 */	blt lbl_80398CE8
lbl_80398D34:
/* 80398D34 0038EAB4  2C 18 FF FC */	cmpwi r24, -4
/* 80398D38 0038EAB8  40 82 00 0C */	bne lbl_80398D44
/* 80398D3C 0038EABC  38 60 FF DA */	li r3, -38
/* 80398D40 0038EAC0  48 00 00 58 */	b lbl_80398D98
lbl_80398D44:
/* 80398D44 0038EAC4  2C 18 00 00 */	cmpwi r24, 0
/* 80398D48 0038EAC8  40 80 00 40 */	bge lbl_80398D88
/* 80398D4C 0038EACC  2C 18 FF FB */	cmpwi r24, -5
/* 80398D50 0038EAD0  41 82 00 20 */	beq lbl_80398D70
/* 80398D54 0038EAD4  40 80 00 10 */	bge lbl_80398D64
/* 80398D58 0038EAD8  2C 18 FF F1 */	cmpwi r24, -15
/* 80398D5C 0038EADC  41 82 00 14 */	beq lbl_80398D70
/* 80398D60 0038EAE0  48 00 00 20 */	b lbl_80398D80
lbl_80398D64:
/* 80398D64 0038EAE4  2C 18 FF FD */	cmpwi r24, -3
/* 80398D68 0038EAE8  40 80 00 18 */	bge lbl_80398D80
/* 80398D6C 0038EAEC  48 00 00 0C */	b lbl_80398D78
lbl_80398D70:
/* 80398D70 0038EAF0  38 60 FF D2 */	li r3, -46
/* 80398D74 0038EAF4  48 00 00 24 */	b lbl_80398D98
lbl_80398D78:
/* 80398D78 0038EAF8  38 60 FF DA */	li r3, -38
/* 80398D7C 0038EAFC  48 00 00 1C */	b lbl_80398D98
lbl_80398D80:
/* 80398D80 0038EB00  38 60 FF ED */	li r3, -19
/* 80398D84 0038EB04  48 00 00 14 */	b lbl_80398D98
lbl_80398D88:
/* 80398D88 0038EB08  7C 18 F0 00 */	cmpw r24, r30
/* 80398D8C 0038EB0C  38 60 00 00 */	li r3, 0
/* 80398D90 0038EB10  41 82 00 08 */	beq lbl_80398D98
/* 80398D94 0038EB14  38 60 FF ED */	li r3, -19
lbl_80398D98:
/* 80398D98 0038EB18  39 61 00 30 */	addi r11, r1, 0x30
/* 80398D9C 0038EB1C  48 05 85 C1 */	bl _restgpr_23
/* 80398DA0 0038EB20  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80398DA4 0038EB24  7C 08 03 A6 */	mtlr r0
/* 80398DA8 0038EB28  38 21 00 30 */	addi r1, r1, 0x30
/* 80398DAC 0038EB2C  4E 80 00 20 */	blr 

.global NWC24FGetLength
NWC24FGetLength:
/* 80398DB0 0038EB30  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80398DB4 0038EB34  7C 08 02 A6 */	mflr r0
/* 80398DB8 0038EB38  90 01 00 14 */	stw r0, 0x14(r1)
/* 80398DBC 0038EB3C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80398DC0 0038EB40  7C 9F 23 78 */	mr r31, r4
/* 80398DC4 0038EB44  80 03 00 04 */	lwz r0, 4(r3)
/* 80398DC8 0038EB48  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 80398DCC 0038EB4C  41 82 00 74 */	beq lbl_80398E40
/* 80398DD0 0038EB50  80 63 00 98 */	lwz r3, 0x98(r3)
/* 80398DD4 0038EB54  48 02 AE E5 */	bl VFGetFileSizeByFd
/* 80398DD8 0038EB58  2C 03 00 00 */	cmpwi r3, 0
/* 80398DDC 0038EB5C  40 80 00 58 */	bge lbl_80398E34
/* 80398DE0 0038EB60  2C 03 00 05 */	cmpwi r3, 5
/* 80398DE4 0038EB64  40 82 00 48 */	bne lbl_80398E2C
/* 80398DE8 0038EB68  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398DEC 0038EB6C  48 02 B1 5D */	bl VFGetLastDeviceError
/* 80398DF0 0038EB70  2C 03 FF FB */	cmpwi r3, -5
/* 80398DF4 0038EB74  41 82 00 20 */	beq lbl_80398E14
/* 80398DF8 0038EB78  40 80 00 10 */	bge lbl_80398E08
/* 80398DFC 0038EB7C  2C 03 FF F1 */	cmpwi r3, -15
/* 80398E00 0038EB80  41 82 00 14 */	beq lbl_80398E14
/* 80398E04 0038EB84  48 00 00 20 */	b lbl_80398E24
lbl_80398E08:
/* 80398E08 0038EB88  2C 03 FF FD */	cmpwi r3, -3
/* 80398E0C 0038EB8C  40 80 00 18 */	bge lbl_80398E24
/* 80398E10 0038EB90  48 00 00 0C */	b lbl_80398E1C
lbl_80398E14:
/* 80398E14 0038EB94  38 60 FF D2 */	li r3, -46
/* 80398E18 0038EB98  48 00 00 40 */	b lbl_80398E58
lbl_80398E1C:
/* 80398E1C 0038EB9C  38 60 FF DA */	li r3, -38
/* 80398E20 0038EBA0  48 00 00 38 */	b lbl_80398E58
lbl_80398E24:
/* 80398E24 0038EBA4  38 60 FF EB */	li r3, -21
/* 80398E28 0038EBA8  48 00 00 30 */	b lbl_80398E58
lbl_80398E2C:
/* 80398E2C 0038EBAC  38 60 FF EB */	li r3, -21
/* 80398E30 0038EBB0  48 00 00 28 */	b lbl_80398E58
lbl_80398E34:
/* 80398E34 0038EBB4  90 7F 00 00 */	stw r3, 0(r31)
/* 80398E38 0038EBB8  38 60 00 00 */	li r3, 0
/* 80398E3C 0038EBBC  48 00 00 1C */	b lbl_80398E58
lbl_80398E40:
/* 80398E40 0038EBC0  38 63 00 0C */	addi r3, r3, 0xc
/* 80398E44 0038EBC4  4B E7 22 A1 */	bl NANDGetLength
/* 80398E48 0038EBC8  2C 03 00 00 */	cmpwi r3, 0
/* 80398E4C 0038EBCC  38 60 00 00 */	li r3, 0
/* 80398E50 0038EBD0  41 82 00 08 */	beq lbl_80398E58
/* 80398E54 0038EBD4  38 60 FF EB */	li r3, -21
lbl_80398E58:
/* 80398E58 0038EBD8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80398E5C 0038EBDC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80398E60 0038EBE0  7C 08 03 A6 */	mtlr r0
/* 80398E64 0038EBE4  38 21 00 10 */	addi r1, r1, 0x10
/* 80398E68 0038EBE8  4E 80 00 20 */	blr 

.global NWC24FDeleteVF
NWC24FDeleteVF:
/* 80398E6C 0038EBEC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80398E70 0038EBF0  7C 08 02 A6 */	mflr r0
/* 80398E74 0038EBF4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80398E78 0038EBF8  48 02 AB D1 */	bl VFDeleteFile
/* 80398E7C 0038EBFC  2C 03 00 00 */	cmpwi r3, 0
/* 80398E80 0038EC00  41 82 00 58 */	beq lbl_80398ED8
/* 80398E84 0038EC04  2C 03 00 05 */	cmpwi r3, 5
/* 80398E88 0038EC08  40 82 00 48 */	bne lbl_80398ED0
/* 80398E8C 0038EC0C  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398E90 0038EC10  48 02 B0 B9 */	bl VFGetLastDeviceError
/* 80398E94 0038EC14  2C 03 FF FB */	cmpwi r3, -5
/* 80398E98 0038EC18  41 82 00 20 */	beq lbl_80398EB8
/* 80398E9C 0038EC1C  40 80 00 10 */	bge lbl_80398EAC
/* 80398EA0 0038EC20  2C 03 FF F1 */	cmpwi r3, -15
/* 80398EA4 0038EC24  41 82 00 14 */	beq lbl_80398EB8
/* 80398EA8 0038EC28  48 00 00 20 */	b lbl_80398EC8
lbl_80398EAC:
/* 80398EAC 0038EC2C  2C 03 FF FD */	cmpwi r3, -3
/* 80398EB0 0038EC30  40 80 00 18 */	bge lbl_80398EC8
/* 80398EB4 0038EC34  48 00 00 0C */	b lbl_80398EC0
lbl_80398EB8:
/* 80398EB8 0038EC38  38 60 FF D2 */	li r3, -46
/* 80398EBC 0038EC3C  48 00 00 20 */	b lbl_80398EDC
lbl_80398EC0:
/* 80398EC0 0038EC40  38 60 FF DA */	li r3, -38
/* 80398EC4 0038EC44  48 00 00 18 */	b lbl_80398EDC
lbl_80398EC8:
/* 80398EC8 0038EC48  38 60 FF EB */	li r3, -21
/* 80398ECC 0038EC4C  48 00 00 10 */	b lbl_80398EDC
lbl_80398ED0:
/* 80398ED0 0038EC50  38 60 FF EB */	li r3, -21
/* 80398ED4 0038EC54  48 00 00 08 */	b lbl_80398EDC
lbl_80398ED8:
/* 80398ED8 0038EC58  38 60 00 00 */	li r3, 0
lbl_80398EDC:
/* 80398EDC 0038EC5C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80398EE0 0038EC60  7C 08 03 A6 */	mtlr r0
/* 80398EE4 0038EC64  38 21 00 10 */	addi r1, r1, 0x10
/* 80398EE8 0038EC68  4E 80 00 20 */	blr 

.global NWC24MountVF
NWC24MountVF:
/* 80398EEC 0038EC6C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80398EF0 0038EC70  7C 08 02 A6 */	mflr r0
/* 80398EF4 0038EC74  90 01 00 14 */	stw r0, 0x14(r1)
/* 80398EF8 0038EC78  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80398EFC 0038EC7C  7C 7F 1B 78 */	mr r31, r3
/* 80398F00 0038EC80  48 02 A4 41 */	bl VFMountDriveNANDFlashEx
/* 80398F04 0038EC84  3C 03 00 00 */	addis r0, r3, 0
/* 80398F08 0038EC88  28 00 B0 01 */	cmplwi r0, 0xb001
/* 80398F0C 0038EC8C  40 82 00 0C */	bne lbl_80398F18
/* 80398F10 0038EC90  38 60 FF EC */	li r3, -20
/* 80398F14 0038EC94  48 00 00 CC */	b lbl_80398FE0
lbl_80398F18:
/* 80398F18 0038EC98  2C 03 00 00 */	cmpwi r3, 0
/* 80398F1C 0038EC9C  41 82 00 58 */	beq lbl_80398F74
/* 80398F20 0038ECA0  2C 03 00 05 */	cmpwi r3, 5
/* 80398F24 0038ECA4  40 82 00 48 */	bne lbl_80398F6C
/* 80398F28 0038ECA8  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398F2C 0038ECAC  48 02 B0 1D */	bl VFGetLastDeviceError
/* 80398F30 0038ECB0  2C 03 FF FB */	cmpwi r3, -5
/* 80398F34 0038ECB4  41 82 00 20 */	beq lbl_80398F54
/* 80398F38 0038ECB8  40 80 00 10 */	bge lbl_80398F48
/* 80398F3C 0038ECBC  2C 03 FF F1 */	cmpwi r3, -15
/* 80398F40 0038ECC0  41 82 00 14 */	beq lbl_80398F54
/* 80398F44 0038ECC4  48 00 00 20 */	b lbl_80398F64
lbl_80398F48:
/* 80398F48 0038ECC8  2C 03 FF FD */	cmpwi r3, -3
/* 80398F4C 0038ECCC  40 80 00 18 */	bge lbl_80398F64
/* 80398F50 0038ECD0  48 00 00 0C */	b lbl_80398F5C
lbl_80398F54:
/* 80398F54 0038ECD4  38 60 FF D2 */	li r3, -46
/* 80398F58 0038ECD8  48 00 00 88 */	b lbl_80398FE0
lbl_80398F5C:
/* 80398F5C 0038ECDC  38 60 FF DA */	li r3, -38
/* 80398F60 0038ECE0  48 00 00 80 */	b lbl_80398FE0
lbl_80398F64:
/* 80398F64 0038ECE4  38 60 FF D5 */	li r3, -43
/* 80398F68 0038ECE8  48 00 00 78 */	b lbl_80398FE0
lbl_80398F6C:
/* 80398F6C 0038ECEC  38 60 FF D5 */	li r3, -43
/* 80398F70 0038ECF0  48 00 00 70 */	b lbl_80398FE0
lbl_80398F74:
/* 80398F74 0038ECF4  7F E3 FB 78 */	mr r3, r31
/* 80398F78 0038ECF8  38 80 00 01 */	li r4, 1
/* 80398F7C 0038ECFC  48 02 B1 49 */	bl VFSetSyncMode
/* 80398F80 0038ED00  2C 03 00 00 */	cmpwi r3, 0
/* 80398F84 0038ED04  41 82 00 58 */	beq lbl_80398FDC
/* 80398F88 0038ED08  2C 03 00 05 */	cmpwi r3, 5
/* 80398F8C 0038ED0C  40 82 00 48 */	bne lbl_80398FD4
/* 80398F90 0038ED10  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80398F94 0038ED14  48 02 AF B5 */	bl VFGetLastDeviceError
/* 80398F98 0038ED18  2C 03 FF FB */	cmpwi r3, -5
/* 80398F9C 0038ED1C  41 82 00 20 */	beq lbl_80398FBC
/* 80398FA0 0038ED20  40 80 00 10 */	bge lbl_80398FB0
/* 80398FA4 0038ED24  2C 03 FF F1 */	cmpwi r3, -15
/* 80398FA8 0038ED28  41 82 00 14 */	beq lbl_80398FBC
/* 80398FAC 0038ED2C  48 00 00 20 */	b lbl_80398FCC
lbl_80398FB0:
/* 80398FB0 0038ED30  2C 03 FF FD */	cmpwi r3, -3
/* 80398FB4 0038ED34  40 80 00 18 */	bge lbl_80398FCC
/* 80398FB8 0038ED38  48 00 00 0C */	b lbl_80398FC4
lbl_80398FBC:
/* 80398FBC 0038ED3C  38 60 FF D2 */	li r3, -46
/* 80398FC0 0038ED40  48 00 00 20 */	b lbl_80398FE0
lbl_80398FC4:
/* 80398FC4 0038ED44  38 60 FF DA */	li r3, -38
/* 80398FC8 0038ED48  48 00 00 18 */	b lbl_80398FE0
lbl_80398FCC:
/* 80398FCC 0038ED4C  38 60 FF D5 */	li r3, -43
/* 80398FD0 0038ED50  48 00 00 10 */	b lbl_80398FE0
lbl_80398FD4:
/* 80398FD4 0038ED54  38 60 FF D5 */	li r3, -43
/* 80398FD8 0038ED58  48 00 00 08 */	b lbl_80398FE0
lbl_80398FDC:
/* 80398FDC 0038ED5C  38 60 00 00 */	li r3, 0
lbl_80398FE0:
/* 80398FE0 0038ED60  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80398FE4 0038ED64  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80398FE8 0038ED68  7C 08 03 A6 */	mtlr r0
/* 80398FEC 0038ED6C  38 21 00 10 */	addi r1, r1, 0x10
/* 80398FF0 0038ED70  4E 80 00 20 */	blr 

.global NWC24UnmountVF
NWC24UnmountVF:
/* 80398FF4 0038ED74  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80398FF8 0038ED78  7C 08 02 A6 */	mflr r0
/* 80398FFC 0038ED7C  90 01 00 14 */	stw r0, 0x14(r1)
/* 80399000 0038ED80  48 02 A4 CD */	bl VFUnmountDrive
/* 80399004 0038ED84  2C 03 00 00 */	cmpwi r3, 0
/* 80399008 0038ED88  41 82 00 58 */	beq lbl_80399060
/* 8039900C 0038ED8C  2C 03 00 05 */	cmpwi r3, 5
/* 80399010 0038ED90  40 82 00 48 */	bne lbl_80399058
/* 80399014 0038ED94  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80399018 0038ED98  48 02 AF 31 */	bl VFGetLastDeviceError
/* 8039901C 0038ED9C  2C 03 FF FB */	cmpwi r3, -5
/* 80399020 0038EDA0  41 82 00 20 */	beq lbl_80399040
/* 80399024 0038EDA4  40 80 00 10 */	bge lbl_80399034
/* 80399028 0038EDA8  2C 03 FF F1 */	cmpwi r3, -15
/* 8039902C 0038EDAC  41 82 00 14 */	beq lbl_80399040
/* 80399030 0038EDB0  48 00 00 20 */	b lbl_80399050
lbl_80399034:
/* 80399034 0038EDB4  2C 03 FF FD */	cmpwi r3, -3
/* 80399038 0038EDB8  40 80 00 18 */	bge lbl_80399050
/* 8039903C 0038EDBC  48 00 00 0C */	b lbl_80399048
lbl_80399040:
/* 80399040 0038EDC0  38 60 FF D2 */	li r3, -46
/* 80399044 0038EDC4  48 00 00 20 */	b lbl_80399064
lbl_80399048:
/* 80399048 0038EDC8  38 60 FF DA */	li r3, -38
/* 8039904C 0038EDCC  48 00 00 18 */	b lbl_80399064
lbl_80399050:
/* 80399050 0038EDD0  38 60 FF D5 */	li r3, -43
/* 80399054 0038EDD4  48 00 00 10 */	b lbl_80399064
lbl_80399058:
/* 80399058 0038EDD8  38 60 FF D5 */	li r3, -43
/* 8039905C 0038EDDC  48 00 00 08 */	b lbl_80399064
lbl_80399060:
/* 80399060 0038EDE0  38 60 00 00 */	li r3, 0
lbl_80399064:
/* 80399064 0038EDE4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80399068 0038EDE8  7C 08 03 A6 */	mtlr r0
/* 8039906C 0038EDEC  38 21 00 10 */	addi r1, r1, 0x10
/* 80399070 0038EDF0  4E 80 00 20 */	blr 

.global NWC24CheckSizeVF
NWC24CheckSizeVF:
/* 80399074 0038EDF4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80399078 0038EDF8  7C 08 02 A6 */	mflr r0
/* 8039907C 0038EDFC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80399080 0038EE00  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80399084 0038EE04  7C 9F 23 78 */	mr r31, r4
/* 80399088 0038EE08  48 02 AF 49 */	bl VFGetDriveFreeSize
/* 8039908C 0038EE0C  2C 03 00 00 */	cmpwi r3, 0
/* 80399090 0038EE10  90 7F 00 00 */	stw r3, 0(r31)
/* 80399094 0038EE14  40 80 00 5C */	bge lbl_803990F0
/* 80399098 0038EE18  48 02 AE AD */	bl VFGetLastError
/* 8039909C 0038EE1C  2C 03 00 05 */	cmpwi r3, 5
/* 803990A0 0038EE20  40 82 00 48 */	bne lbl_803990E8
/* 803990A4 0038EE24  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 803990A8 0038EE28  48 02 AE A1 */	bl VFGetLastDeviceError
/* 803990AC 0038EE2C  2C 03 FF FB */	cmpwi r3, -5
/* 803990B0 0038EE30  41 82 00 20 */	beq lbl_803990D0
/* 803990B4 0038EE34  40 80 00 10 */	bge lbl_803990C4
/* 803990B8 0038EE38  2C 03 FF F1 */	cmpwi r3, -15
/* 803990BC 0038EE3C  41 82 00 14 */	beq lbl_803990D0
/* 803990C0 0038EE40  48 00 00 20 */	b lbl_803990E0
lbl_803990C4:
/* 803990C4 0038EE44  2C 03 FF FD */	cmpwi r3, -3
/* 803990C8 0038EE48  40 80 00 18 */	bge lbl_803990E0
/* 803990CC 0038EE4C  48 00 00 0C */	b lbl_803990D8
lbl_803990D0:
/* 803990D0 0038EE50  38 60 FF D2 */	li r3, -46
/* 803990D4 0038EE54  48 00 00 20 */	b lbl_803990F4
lbl_803990D8:
/* 803990D8 0038EE58  38 60 FF DA */	li r3, -38
/* 803990DC 0038EE5C  48 00 00 18 */	b lbl_803990F4
lbl_803990E0:
/* 803990E0 0038EE60  38 60 FF D5 */	li r3, -43
/* 803990E4 0038EE64  48 00 00 10 */	b lbl_803990F4
lbl_803990E8:
/* 803990E8 0038EE68  38 60 FF D5 */	li r3, -43
/* 803990EC 0038EE6C  48 00 00 08 */	b lbl_803990F4
lbl_803990F0:
/* 803990F0 0038EE70  38 60 00 00 */	li r3, 0
lbl_803990F4:
/* 803990F4 0038EE74  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803990F8 0038EE78  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803990FC 0038EE7C  7C 08 03 A6 */	mtlr r0
/* 80399100 0038EE80  38 21 00 10 */	addi r1, r1, 0x10
/* 80399104 0038EE84  4E 80 00 20 */	blr 

.global BufferedWrite
BufferedWrite:
/* 80399108 0038EE88  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 8039910C 0038EE8C  7C 08 02 A6 */	mflr r0
/* 80399110 0038EE90  90 01 00 44 */	stw r0, 0x44(r1)
/* 80399114 0038EE94  39 61 00 40 */	addi r11, r1, 0x40
/* 80399118 0038EE98  48 05 81 E5 */	bl _savegpr_18
/* 8039911C 0038EE9C  80 CD CD 50 */	lwz r6, lbl_805A1170-_SDA_BASE_(r13)
/* 80399120 0038EEA0  7C 7B 1B 78 */	mr r27, r3
/* 80399124 0038EEA4  83 A5 00 08 */	lwz r29, 8(r5)
/* 80399128 0038EEA8  7C 9E 23 78 */	mr r30, r4
/* 8039912C 0038EEAC  7C B7 2B 78 */	mr r23, r5
/* 80399130 0038EEB0  3B 86 0B 00 */	addi r28, r6, 0xb00
/* 80399134 0038EEB4  3B 20 00 00 */	li r25, 0
/* 80399138 0038EEB8  3E 40 80 00 */	lis r18, 0x8000
/* 8039913C 0038EEBC  3E 60 10 62 */	lis r19, 0x1062
/* 80399140 0038EEC0  3A 80 00 00 */	li r20, 0
/* 80399144 0038EEC4  3A A0 03 E8 */	li r21, 0x3e8
/* 80399148 0038EEC8  48 00 01 2C */	b lbl_80399274
lbl_8039914C:
/* 8039914C 0038EECC  22 DD 08 00 */	subfic r22, r29, 0x800
/* 80399150 0038EED0  7C 1E B0 40 */	cmplw r30, r22
/* 80399154 0038EED4  40 80 00 08 */	bge lbl_8039915C
/* 80399158 0038EED8  7F D6 F3 78 */	mr r22, r30
lbl_8039915C:
/* 8039915C 0038EEDC  7F 64 DB 78 */	mr r4, r27
/* 80399160 0038EEE0  7E C5 B3 78 */	mr r5, r22
/* 80399164 0038EEE4  7C 7C EA 14 */	add r3, r28, r29
/* 80399168 0038EEE8  4B C6 B1 D1 */	bl func_80004338
/* 8039916C 0038EEEC  7F BD B2 14 */	add r29, r29, r22
/* 80399170 0038EEF0  7F D6 F0 50 */	subf r30, r22, r30
/* 80399174 0038EEF4  28 1D 08 00 */	cmplwi r29, 0x800
/* 80399178 0038EEF8  7F 7B B2 14 */	add r27, r27, r22
/* 8039917C 0038EEFC  41 80 00 F8 */	blt lbl_80399274
/* 80399180 0038EF00  80 17 00 04 */	lwz r0, 4(r23)
/* 80399184 0038EF04  3B A0 00 00 */	li r29, 0
/* 80399188 0038EF08  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 8039918C 0038EF0C  41 82 00 70 */	beq lbl_803991FC
/* 80399190 0038EF10  80 77 00 98 */	lwz r3, 0x98(r23)
/* 80399194 0038EF14  7F 84 E3 78 */	mr r4, r28
/* 80399198 0038EF18  38 A0 08 00 */	li r5, 0x800
/* 8039919C 0038EF1C  48 02 A8 21 */	bl VFWriteFile
/* 803991A0 0038EF20  2C 03 00 00 */	cmpwi r3, 0
/* 803991A4 0038EF24  41 82 00 D0 */	beq lbl_80399274
/* 803991A8 0038EF28  2C 03 00 05 */	cmpwi r3, 5
/* 803991AC 0038EF2C  40 82 00 48 */	bne lbl_803991F4
/* 803991B0 0038EF30  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 803991B4 0038EF34  48 02 AD 95 */	bl VFGetLastDeviceError
/* 803991B8 0038EF38  2C 03 FF FB */	cmpwi r3, -5
/* 803991BC 0038EF3C  41 82 00 20 */	beq lbl_803991DC
/* 803991C0 0038EF40  40 80 00 10 */	bge lbl_803991D0
/* 803991C4 0038EF44  2C 03 FF F1 */	cmpwi r3, -15
/* 803991C8 0038EF48  41 82 00 14 */	beq lbl_803991DC
/* 803991CC 0038EF4C  48 00 00 20 */	b lbl_803991EC
lbl_803991D0:
/* 803991D0 0038EF50  2C 03 FF FD */	cmpwi r3, -3
/* 803991D4 0038EF54  40 80 00 18 */	bge lbl_803991EC
/* 803991D8 0038EF58  48 00 00 0C */	b lbl_803991E4
lbl_803991DC:
/* 803991DC 0038EF5C  3B 20 FF D2 */	li r25, -46
/* 803991E0 0038EF60  48 00 00 9C */	b lbl_8039927C
lbl_803991E4:
/* 803991E4 0038EF64  3B 20 FF DA */	li r25, -38
/* 803991E8 0038EF68  48 00 00 94 */	b lbl_8039927C
lbl_803991EC:
/* 803991EC 0038EF6C  3B 20 FF ED */	li r25, -19
/* 803991F0 0038EF70  48 00 00 8C */	b lbl_8039927C
lbl_803991F4:
/* 803991F4 0038EF74  3B 20 FF ED */	li r25, -19
/* 803991F8 0038EF78  48 00 00 84 */	b lbl_8039927C
lbl_803991FC:
/* 803991FC 0038EF7C  7E D4 A9 D6 */	mullw r22, r20, r21
/* 80399200 0038EF80  3B F3 4D D3 */	addi r31, r19, 0x4dd3
/* 80399204 0038EF84  3B 00 00 00 */	li r24, 0
lbl_80399208:
/* 80399208 0038EF88  7F 84 E3 78 */	mr r4, r28
/* 8039920C 0038EF8C  38 77 00 0C */	addi r3, r23, 0xc
/* 80399210 0038EF90  38 A0 08 00 */	li r5, 0x800
/* 80399214 0038EF94  4B E7 19 45 */	bl NANDWrite
/* 80399218 0038EF98  38 03 00 03 */	addi r0, r3, 3
/* 8039921C 0038EF9C  7C 7A 1B 78 */	mr r26, r3
/* 80399220 0038EFA0  28 00 00 01 */	cmplwi r0, 1
/* 80399224 0038EFA4  41 81 00 30 */	bgt lbl_80399254
/* 80399228 0038EFA8  80 12 00 F8 */	lwz r0, 0xf8(r18)
/* 8039922C 0038EFAC  54 00 F0 BE */	srwi r0, r0, 2
/* 80399230 0038EFB0  7C 1F 00 16 */	mulhwu r0, r31, r0
/* 80399234 0038EFB4  54 03 D1 BE */	srwi r3, r0, 6
/* 80399238 0038EFB8  7C 03 A8 16 */	mulhwu r0, r3, r21
/* 8039923C 0038EFBC  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 80399240 0038EFC0  7C 60 B2 14 */	add r3, r0, r22
/* 80399244 0038EFC4  4B E4 88 3D */	bl OSSleepTicks
/* 80399248 0038EFC8  3B 18 00 01 */	addi r24, r24, 1
/* 8039924C 0038EFCC  28 18 00 03 */	cmplwi r24, 3
/* 80399250 0038EFD0  41 80 FF B8 */	blt lbl_80399208
lbl_80399254:
/* 80399254 0038EFD4  2C 1A FF FC */	cmpwi r26, -4
/* 80399258 0038EFD8  40 82 00 0C */	bne lbl_80399264
/* 8039925C 0038EFDC  38 60 FF DA */	li r3, -38
/* 80399260 0038EFE0  48 00 00 24 */	b lbl_80399284
lbl_80399264:
/* 80399264 0038EFE4  2C 1A 08 00 */	cmpwi r26, 0x800
/* 80399268 0038EFE8  41 82 00 0C */	beq lbl_80399274
/* 8039926C 0038EFEC  3B 20 FF ED */	li r25, -19
/* 80399270 0038EFF0  48 00 00 0C */	b lbl_8039927C
lbl_80399274:
/* 80399274 0038EFF4  2C 1E 00 00 */	cmpwi r30, 0
/* 80399278 0038EFF8  40 82 FE D4 */	bne lbl_8039914C
lbl_8039927C:
/* 8039927C 0038EFFC  93 B7 00 08 */	stw r29, 8(r23)
/* 80399280 0038F000  7F 23 CB 78 */	mr r3, r25
lbl_80399284:
/* 80399284 0038F004  39 61 00 40 */	addi r11, r1, 0x40
/* 80399288 0038F008  48 05 80 C1 */	bl _restgpr_18
/* 8039928C 0038F00C  80 01 00 44 */	lwz r0, 0x44(r1)
/* 80399290 0038F010  7C 08 03 A6 */	mtlr r0
/* 80399294 0038F014  38 21 00 40 */	addi r1, r1, 0x40
/* 80399298 0038F018  4E 80 00 20 */	blr 

.global BufferedWriteFlush
BufferedWriteFlush:
/* 8039929C 0038F01C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803992A0 0038F020  7C 08 02 A6 */	mflr r0
/* 803992A4 0038F024  90 01 00 34 */	stw r0, 0x34(r1)
/* 803992A8 0038F028  39 61 00 30 */	addi r11, r1, 0x30
/* 803992AC 0038F02C  48 05 80 61 */	bl _savegpr_22
/* 803992B0 0038F030  83 E3 00 08 */	lwz r31, 8(r3)
/* 803992B4 0038F034  7C 7C 1B 78 */	mr r28, r3
/* 803992B8 0038F038  80 8D CD 50 */	lwz r4, lbl_805A1170-_SDA_BASE_(r13)
/* 803992BC 0038F03C  3B A0 00 00 */	li r29, 0
/* 803992C0 0038F040  2C 1F 00 00 */	cmpwi r31, 0
/* 803992C4 0038F044  3B C4 0B 00 */	addi r30, r4, 0xb00
/* 803992C8 0038F048  40 82 00 0C */	bne lbl_803992D4
/* 803992CC 0038F04C  38 60 00 00 */	li r3, 0
/* 803992D0 0038F050  48 00 01 24 */	b lbl_803993F4
lbl_803992D4:
/* 803992D4 0038F054  7C 9E FA 14 */	add r4, r30, r31
/* 803992D8 0038F058  38 A0 00 00 */	li r5, 0
/* 803992DC 0038F05C  48 00 00 10 */	b lbl_803992EC
lbl_803992E0:
/* 803992E0 0038F060  98 A4 00 00 */	stb r5, 0(r4)
/* 803992E4 0038F064  3B FF 00 01 */	addi r31, r31, 1
/* 803992E8 0038F068  38 84 00 01 */	addi r4, r4, 1
lbl_803992EC:
/* 803992EC 0038F06C  57 E0 06 FF */	clrlwi. r0, r31, 0x1b
/* 803992F0 0038F070  40 82 FF F0 */	bne lbl_803992E0
/* 803992F4 0038F074  80 03 00 04 */	lwz r0, 4(r3)
/* 803992F8 0038F078  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 803992FC 0038F07C  41 82 00 74 */	beq lbl_80399370
/* 80399300 0038F080  80 63 00 98 */	lwz r3, 0x98(r3)
/* 80399304 0038F084  7F C4 F3 78 */	mr r4, r30
/* 80399308 0038F088  7F E5 FB 78 */	mr r5, r31
/* 8039930C 0038F08C  48 02 A6 B1 */	bl VFWriteFile
/* 80399310 0038F090  2C 03 00 00 */	cmpwi r3, 0
/* 80399314 0038F094  41 82 00 54 */	beq lbl_80399368
/* 80399318 0038F098  2C 03 00 05 */	cmpwi r3, 5
/* 8039931C 0038F09C  40 82 00 48 */	bne lbl_80399364
/* 80399320 0038F0A0  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 80399324 0038F0A4  48 02 AC 25 */	bl VFGetLastDeviceError
/* 80399328 0038F0A8  2C 03 FF FB */	cmpwi r3, -5
/* 8039932C 0038F0AC  41 82 00 20 */	beq lbl_8039934C
/* 80399330 0038F0B0  40 80 00 10 */	bge lbl_80399340
/* 80399334 0038F0B4  2C 03 FF F1 */	cmpwi r3, -15
/* 80399338 0038F0B8  41 82 00 14 */	beq lbl_8039934C
/* 8039933C 0038F0BC  48 00 00 20 */	b lbl_8039935C
lbl_80399340:
/* 80399340 0038F0C0  2C 03 FF FD */	cmpwi r3, -3
/* 80399344 0038F0C4  40 80 00 18 */	bge lbl_8039935C
/* 80399348 0038F0C8  48 00 00 0C */	b lbl_80399354
lbl_8039934C:
/* 8039934C 0038F0CC  3B A0 FF D2 */	li r29, -46
/* 80399350 0038F0D0  48 00 00 18 */	b lbl_80399368
lbl_80399354:
/* 80399354 0038F0D4  3B A0 FF DA */	li r29, -38
/* 80399358 0038F0D8  48 00 00 10 */	b lbl_80399368
lbl_8039935C:
/* 8039935C 0038F0DC  3B A0 FF ED */	li r29, -19
/* 80399360 0038F0E0  48 00 00 08 */	b lbl_80399368
lbl_80399364:
/* 80399364 0038F0E4  3B A0 FF ED */	li r29, -19
lbl_80399368:
/* 80399368 0038F0E8  7F A3 EB 78 */	mr r3, r29
/* 8039936C 0038F0EC  48 00 00 88 */	b lbl_803993F4
lbl_80399370:
/* 80399370 0038F0F0  3A C0 00 00 */	li r22, 0
/* 80399374 0038F0F4  3B 40 03 E8 */	li r26, 0x3e8
/* 80399378 0038F0F8  7F 76 D1 D6 */	mullw r27, r22, r26
/* 8039937C 0038F0FC  3C 60 10 62 */	lis r3, 0x10624DD3@ha
/* 80399380 0038F100  3F 20 80 00 */	lis r25, 0x8000
/* 80399384 0038F104  3B 03 4D D3 */	addi r24, r3, 0x10624DD3@l
lbl_80399388:
/* 80399388 0038F108  7F C4 F3 78 */	mr r4, r30
/* 8039938C 0038F10C  7F E5 FB 78 */	mr r5, r31
/* 80399390 0038F110  38 7C 00 0C */	addi r3, r28, 0xc
/* 80399394 0038F114  4B E7 17 C5 */	bl NANDWrite
/* 80399398 0038F118  38 03 00 03 */	addi r0, r3, 3
/* 8039939C 0038F11C  7C 77 1B 78 */	mr r23, r3
/* 803993A0 0038F120  28 00 00 01 */	cmplwi r0, 1
/* 803993A4 0038F124  41 81 00 30 */	bgt lbl_803993D4
/* 803993A8 0038F128  80 19 00 F8 */	lwz r0, 0xf8(r25)
/* 803993AC 0038F12C  54 00 F0 BE */	srwi r0, r0, 2
/* 803993B0 0038F130  7C 18 00 16 */	mulhwu r0, r24, r0
/* 803993B4 0038F134  54 03 D1 BE */	srwi r3, r0, 6
/* 803993B8 0038F138  7C 03 D0 16 */	mulhwu r0, r3, r26
/* 803993BC 0038F13C  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 803993C0 0038F140  7C 60 DA 14 */	add r3, r0, r27
/* 803993C4 0038F144  4B E4 86 BD */	bl OSSleepTicks
/* 803993C8 0038F148  3A D6 00 01 */	addi r22, r22, 1
/* 803993CC 0038F14C  28 16 00 03 */	cmplwi r22, 3
/* 803993D0 0038F150  41 80 FF B8 */	blt lbl_80399388
lbl_803993D4:
/* 803993D4 0038F154  2C 17 FF FC */	cmpwi r23, -4
/* 803993D8 0038F158  40 82 00 0C */	bne lbl_803993E4
/* 803993DC 0038F15C  38 60 FF DA */	li r3, -38
/* 803993E0 0038F160  48 00 00 14 */	b lbl_803993F4
lbl_803993E4:
/* 803993E4 0038F164  7C 17 F8 40 */	cmplw r23, r31
/* 803993E8 0038F168  41 82 00 08 */	beq lbl_803993F0
/* 803993EC 0038F16C  3B A0 FF ED */	li r29, -19
lbl_803993F0:
/* 803993F0 0038F170  7F A3 EB 78 */	mr r3, r29
lbl_803993F4:
/* 803993F4 0038F174  39 61 00 30 */	addi r11, r1, 0x30
/* 803993F8 0038F178  48 05 7F 61 */	bl _restgpr_22
/* 803993FC 0038F17C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80399400 0038F180  7C 08 03 A6 */	mtlr r0
/* 80399404 0038F184  38 21 00 30 */	addi r1, r1, 0x30
/* 80399408 0038F188  4E 80 00 20 */	blr 

.global BufferedRead
BufferedRead:
/* 8039940C 0038F18C  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 80399410 0038F190  7C 08 02 A6 */	mflr r0
/* 80399414 0038F194  90 01 00 64 */	stw r0, 0x64(r1)
/* 80399418 0038F198  39 61 00 60 */	addi r11, r1, 0x60
/* 8039941C 0038F19C  48 05 7E D5 */	bl _savegpr_15
/* 80399420 0038F1A0  80 0D CD 38 */	lwz r0, lbl_805A1158-_SDA_BASE_(r13)
/* 80399424 0038F1A4  7C 8F 23 78 */	mr r15, r4
/* 80399428 0038F1A8  80 8D CD 50 */	lwz r4, lbl_805A1170-_SDA_BASE_(r13)
/* 8039942C 0038F1AC  7C 73 1B 78 */	mr r19, r3
/* 80399430 0038F1B0  2C 00 00 00 */	cmpwi r0, 0
/* 80399434 0038F1B4  7C B0 2B 78 */	mr r16, r5
/* 80399438 0038F1B8  7D F9 7B 78 */	mr r25, r15
/* 8039943C 0038F1BC  3A 84 09 00 */	addi r20, r4, 0x900
/* 80399440 0038F1C0  3A 40 00 00 */	li r18, 0
/* 80399444 0038F1C4  41 82 00 0C */	beq lbl_80399450
/* 80399448 0038F1C8  38 60 FF EA */	li r3, -22
/* 8039944C 0038F1CC  48 00 01 94 */	b lbl_803995E0
lbl_80399450:
/* 80399450 0038F1D0  80 05 00 00 */	lwz r0, 0(r5)
/* 80399454 0038F1D4  90 0D CD 38 */	stw r0, lbl_805A1158-_SDA_BASE_(r13)
/* 80399458 0038F1D8  82 A5 00 08 */	lwz r21, 8(r5)
/* 8039945C 0038F1DC  56 A0 00 01 */	rlwinm. r0, r21, 0, 0, 0
/* 80399460 0038F1E0  41 82 00 0C */	beq lbl_8039946C
/* 80399464 0038F1E4  38 60 FF D8 */	li r3, -40
/* 80399468 0038F1E8  48 00 01 78 */	b lbl_803995E0
lbl_8039946C:
/* 8039946C 0038F1EC  3F 60 80 00 */	lis r27, 0x8000
/* 80399470 0038F1F0  3F 80 10 62 */	lis r28, 0x1062
/* 80399474 0038F1F4  3B A0 00 00 */	li r29, 0
/* 80399478 0038F1F8  3B C0 03 E8 */	li r30, 0x3e8
/* 8039947C 0038F1FC  48 00 01 3C */	b lbl_803995B8
lbl_80399480:
/* 80399480 0038F200  22 F5 02 00 */	subfic r23, r21, 0x200
/* 80399484 0038F204  3B 00 02 00 */	li r24, 0x200
/* 80399488 0038F208  7C 19 B8 40 */	cmplw r25, r23
/* 8039948C 0038F20C  40 80 00 14 */	bge lbl_803994A0
/* 80399490 0038F210  7C 79 AA 14 */	add r3, r25, r21
/* 80399494 0038F214  7F 37 CB 78 */	mr r23, r25
/* 80399498 0038F218  38 03 00 1F */	addi r0, r3, 0x1f
/* 8039949C 0038F21C  54 18 00 34 */	rlwinm r24, r0, 0, 0, 0x1a
lbl_803994A0:
/* 803994A0 0038F220  80 10 00 04 */	lwz r0, 4(r16)
/* 803994A4 0038F224  54 00 05 EF */	rlwinm. r0, r0, 0, 0x17, 0x17
/* 803994A8 0038F228  41 82 00 7C */	beq lbl_80399524
/* 803994AC 0038F22C  80 70 00 98 */	lwz r3, 0x98(r16)
/* 803994B0 0038F230  7E 84 A3 78 */	mr r4, r20
/* 803994B4 0038F234  7F 05 C3 78 */	mr r5, r24
/* 803994B8 0038F238  38 C1 00 08 */	addi r6, r1, 8
/* 803994BC 0038F23C  48 02 A4 65 */	bl VFReadFile
/* 803994C0 0038F240  2C 03 00 00 */	cmpwi r3, 0
/* 803994C4 0038F244  41 82 00 58 */	beq lbl_8039951C
/* 803994C8 0038F248  2C 03 00 05 */	cmpwi r3, 5
/* 803994CC 0038F24C  40 82 00 48 */	bne lbl_80399514
/* 803994D0 0038F250  38 6D B8 A8 */	addi r3, r13, lbl_8059FCC8-_SDA_BASE_
/* 803994D4 0038F254  48 02 AA 75 */	bl VFGetLastDeviceError
/* 803994D8 0038F258  2C 03 FF FB */	cmpwi r3, -5
/* 803994DC 0038F25C  41 82 00 20 */	beq lbl_803994FC
/* 803994E0 0038F260  40 80 00 10 */	bge lbl_803994F0
/* 803994E4 0038F264  2C 03 FF F1 */	cmpwi r3, -15
/* 803994E8 0038F268  41 82 00 14 */	beq lbl_803994FC
/* 803994EC 0038F26C  48 00 00 20 */	b lbl_8039950C
lbl_803994F0:
/* 803994F0 0038F270  2C 03 FF FD */	cmpwi r3, -3
/* 803994F4 0038F274  40 80 00 18 */	bge lbl_8039950C
/* 803994F8 0038F278  48 00 00 0C */	b lbl_80399504
lbl_803994FC:
/* 803994FC 0038F27C  3A 40 FF D2 */	li r18, -46
/* 80399500 0038F280  48 00 00 C0 */	b lbl_803995C0
lbl_80399504:
/* 80399504 0038F284  3A 40 FF DA */	li r18, -38
/* 80399508 0038F288  48 00 00 B8 */	b lbl_803995C0
lbl_8039950C:
/* 8039950C 0038F28C  3A 40 FF EE */	li r18, -18
/* 80399510 0038F290  48 00 00 B0 */	b lbl_803995C0
lbl_80399514:
/* 80399514 0038F294  3A 40 FF EE */	li r18, -18
/* 80399518 0038F298  48 00 00 A8 */	b lbl_803995C0
lbl_8039951C:
/* 8039951C 0038F29C  82 C1 00 08 */	lwz r22, 8(r1)
/* 80399520 0038F2A0  48 00 00 6C */	b lbl_8039958C
lbl_80399524:
/* 80399524 0038F2A4  7F FD F1 D6 */	mullw r31, r29, r30
/* 80399528 0038F2A8  3B 5C 4D D3 */	addi r26, r28, 0x4dd3
/* 8039952C 0038F2AC  3A 20 00 00 */	li r17, 0
lbl_80399530:
/* 80399530 0038F2B0  7E 84 A3 78 */	mr r4, r20
/* 80399534 0038F2B4  7F 05 C3 78 */	mr r5, r24
/* 80399538 0038F2B8  38 70 00 0C */	addi r3, r16, 0xc
/* 8039953C 0038F2BC  4B E7 15 3D */	bl NANDRead
/* 80399540 0038F2C0  38 03 00 03 */	addi r0, r3, 3
/* 80399544 0038F2C4  7C 76 1B 78 */	mr r22, r3
/* 80399548 0038F2C8  28 00 00 01 */	cmplwi r0, 1
/* 8039954C 0038F2CC  41 81 00 30 */	bgt lbl_8039957C
/* 80399550 0038F2D0  80 1B 00 F8 */	lwz r0, 0xf8(r27)
/* 80399554 0038F2D4  54 00 F0 BE */	srwi r0, r0, 2
/* 80399558 0038F2D8  7C 1A 00 16 */	mulhwu r0, r26, r0
/* 8039955C 0038F2DC  54 03 D1 BE */	srwi r3, r0, 6
/* 80399560 0038F2E0  7C 03 F0 16 */	mulhwu r0, r3, r30
/* 80399564 0038F2E4  1C 83 03 E8 */	mulli r4, r3, 0x3e8
/* 80399568 0038F2E8  7C 60 FA 14 */	add r3, r0, r31
/* 8039956C 0038F2EC  4B E4 85 15 */	bl OSSleepTicks
/* 80399570 0038F2F0  3A 31 00 01 */	addi r17, r17, 1
/* 80399574 0038F2F4  28 11 00 03 */	cmplwi r17, 3
/* 80399578 0038F2F8  41 80 FF B8 */	blt lbl_80399530
lbl_8039957C:
/* 8039957C 0038F2FC  2C 16 FF FC */	cmpwi r22, -4
/* 80399580 0038F300  40 82 00 0C */	bne lbl_8039958C
/* 80399584 0038F304  38 60 FF DA */	li r3, -38
/* 80399588 0038F308  48 00 00 58 */	b lbl_803995E0
lbl_8039958C:
/* 8039958C 0038F30C  7C 16 C0 40 */	cmplw r22, r24
/* 80399590 0038F310  41 82 00 0C */	beq lbl_8039959C
/* 80399594 0038F314  3A 40 FF EE */	li r18, -18
/* 80399598 0038F318  48 00 00 28 */	b lbl_803995C0
lbl_8039959C:
/* 8039959C 0038F31C  7E 63 9B 78 */	mr r3, r19
/* 803995A0 0038F320  7E E5 BB 78 */	mr r5, r23
/* 803995A4 0038F324  7C 94 AA 14 */	add r4, r20, r21
/* 803995A8 0038F328  4B C6 AD 91 */	bl func_80004338
/* 803995AC 0038F32C  7E 73 BA 14 */	add r19, r19, r23
/* 803995B0 0038F330  7F 37 C8 50 */	subf r25, r23, r25
/* 803995B4 0038F334  3A A0 00 00 */	li r21, 0
lbl_803995B8:
/* 803995B8 0038F338  2C 19 00 00 */	cmpwi r25, 0
/* 803995BC 0038F33C  40 82 FE C4 */	bne lbl_80399480
lbl_803995C0:
/* 803995C0 0038F340  80 90 00 08 */	lwz r4, 8(r16)
/* 803995C4 0038F344  38 00 00 00 */	li r0, 0
/* 803995C8 0038F348  7E 43 93 78 */	mr r3, r18
/* 803995CC 0038F34C  7C 84 7A 14 */	add r4, r4, r15
/* 803995D0 0038F350  54 84 06 FE */	clrlwi r4, r4, 0x1b
/* 803995D4 0038F354  64 84 80 00 */	oris r4, r4, 0x8000
/* 803995D8 0038F358  90 90 00 08 */	stw r4, 8(r16)
/* 803995DC 0038F35C  90 0D CD 38 */	stw r0, lbl_805A1158-_SDA_BASE_(r13)
lbl_803995E0:
/* 803995E0 0038F360  39 61 00 60 */	addi r11, r1, 0x60
/* 803995E4 0038F364  48 05 7D 59 */	bl _restgpr_15
/* 803995E8 0038F368  80 01 00 64 */	lwz r0, 0x64(r1)
/* 803995EC 0038F36C  7C 08 03 A6 */	mtlr r0
/* 803995F0 0038F370  38 21 00 60 */	addi r1, r1, 0x60
/* 803995F4 0038F374  4E 80 00 20 */	blr 

