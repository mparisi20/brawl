.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global nw4r2ef16EmitterFormTorusFPQ34nw4r$7Emission
nw4r2ef16EmitterFormTorusFPQ34nw4r$7Emission:
/* 80172254 00167FD4  94 21 FE 00 */	stwu r1, -0x200(r1)
/* 80172258 00167FD8  7C 08 02 A6 */	mflr r0
/* 8017225C 00167FDC  90 01 02 04 */	stw r0, 0x204(r1)
/* 80172260 00167FE0  DB E1 01 F0 */	stfd f31, 0x1f0(r1)
/* 80172264 00167FE4  F3 E1 01 F8 */	psq_st f31, 504(r1), 0, qr0
/* 80172268 00167FE8  DB C1 01 E0 */	stfd f30, 0x1e0(r1)
/* 8017226C 00167FEC  F3 C1 01 E8 */	psq_st f30, 488(r1), 0, qr0
/* 80172270 00167FF0  DB A1 01 D0 */	stfd f29, 0x1d0(r1)
/* 80172274 00167FF4  F3 A1 01 D8 */	psq_st f29, 472(r1), 0, qr0
/* 80172278 00167FF8  DB 81 01 C0 */	stfd f28, 0x1c0(r1)
/* 8017227C 00167FFC  F3 81 01 C8 */	psq_st f28, 456(r1), 0, qr0
/* 80172280 00168000  DB 61 01 B0 */	stfd f27, 0x1b0(r1)
/* 80172284 00168004  F3 61 01 B8 */	psq_st f27, 440(r1), 0, qr0
/* 80172288 00168008  DB 41 01 A0 */	stfd f26, 0x1a0(r1)
/* 8017228C 0016800C  F3 41 01 A8 */	psq_st f26, 424(r1), 0, qr0
/* 80172290 00168010  DB 21 01 90 */	stfd f25, 0x190(r1)
/* 80172294 00168014  F3 21 01 98 */	psq_st f25, 408(r1), 0, qr0
/* 80172298 00168018  DB 01 01 80 */	stfd f24, 0x180(r1)
/* 8017229C 0016801C  F3 01 01 88 */	psq_st f24, 392(r1), 0, qr0
/* 801722A0 00168020  DA E1 01 70 */	stfd f23, 0x170(r1)
/* 801722A4 00168024  F2 E1 01 78 */	psq_st f23, 376(r1), 0, qr0
/* 801722A8 00168028  DA C1 01 60 */	stfd f22, 0x160(r1)
/* 801722AC 0016802C  F2 C1 01 68 */	psq_st f22, 360(r1), 0, qr0
/* 801722B0 00168030  DA A1 01 50 */	stfd f21, 0x150(r1)
/* 801722B4 00168034  F2 A1 01 58 */	psq_st f21, 344(r1), 0, qr0
/* 801722B8 00168038  DA 81 01 40 */	stfd f20, 0x140(r1)
/* 801722BC 0016803C  F2 81 01 48 */	psq_st f20, 328(r1), 0, qr0
/* 801722C0 00168040  DA 61 01 30 */	stfd f19, 0x130(r1)
/* 801722C4 00168044  F2 61 01 38 */	psq_st f19, 312(r1), 0, qr0
/* 801722C8 00168048  DA 41 01 20 */	stfd f18, 0x120(r1)
/* 801722CC 0016804C  F2 41 01 28 */	psq_st f18, 296(r1), 0, qr0
/* 801722D0 00168050  DA 21 01 10 */	stfd f17, 0x110(r1)
/* 801722D4 00168054  F2 21 01 18 */	psq_st f17, 280(r1), 0, qr0
/* 801722D8 00168058  DA 01 01 00 */	stfd f16, 0x100(r1)
/* 801722DC 0016805C  F2 01 01 08 */	psq_st f16, 264(r1), 0, qr0
/* 801722E0 00168060  D9 E1 00 F0 */	stfd f15, 0xf0(r1)
/* 801722E4 00168064  F1 E1 00 F8 */	psq_st f15, 248(r1), 0, qr0
/* 801722E8 00168068  D9 C1 00 E0 */	stfd f14, 0xe0(r1)
/* 801722EC 0016806C  F1 C1 00 E8 */	psq_st f14, 232(r1), 0, qr0
/* 801722F0 00168070  39 61 00 E0 */	addi r11, r1, 0xe0
/* 801722F4 00168074  48 27 F0 11 */	bl _savegpr_20
/* 801722F8 00168078  3C 00 43 30 */	lis r0, 0x4330
/* 801722FC 0016807C  2C 06 00 01 */	cmpwi r6, 1
/* 80172300 00168080  D0 21 00 08 */	stfs f1, 8(r1)
/* 80172304 00168084  7C 74 1B 78 */	mr r20, r3
/* 80172308 00168088  7C 95 23 78 */	mr r21, r4
/* 8017230C 0016808C  7C B6 2B 78 */	mr r22, r5
/* 80172310 00168090  90 01 00 60 */	stw r0, 0x60(r1)
/* 80172314 00168094  7C D7 33 78 */	mr r23, r6
/* 80172318 00168098  7D 18 43 78 */	mr r24, r8
/* 8017231C 0016809C  7D 39 4B 78 */	mr r25, r9
/* 80172320 001680A0  90 01 00 68 */	stw r0, 0x68(r1)
/* 80172324 001680A4  7D 5A 53 78 */	mr r26, r10
/* 80172328 001680A8  41 80 05 24 */	blt lbl_8017284C
/* 8017232C 001680AC  C2 68 00 00 */	lfs f19, 0(r8)
/* 80172330 001680B0  C0 02 9B C0 */	lfs f0, lbl_805A2EE0-_SDA2_BASE_(r2)
/* 80172334 001680B4  FC 20 9A 10 */	fabs f1, f19
/* 80172338 001680B8  FC 20 08 18 */	frsp f1, f1
/* 8017233C 001680BC  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80172340 001680C0  40 81 00 08 */	ble lbl_80172348
/* 80172344 001680C4  48 00 00 08 */	b lbl_8017234C
lbl_80172348:
/* 80172348 001680C8  FE 60 00 90 */	fmr f19, f0
lbl_8017234C:
/* 8017234C 001680CC  C3 08 00 10 */	lfs f24, 0x10(r8)
/* 80172350 001680D0  C0 02 9B C0 */	lfs f0, lbl_805A2EE0-_SDA2_BASE_(r2)
/* 80172354 001680D4  FC 20 C2 10 */	fabs f1, f24
/* 80172358 001680D8  FC 20 08 18 */	frsp f1, f1
/* 8017235C 001680DC  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80172360 001680E0  40 81 00 08 */	ble lbl_80172368
/* 80172364 001680E4  48 00 00 08 */	b lbl_8017236C
lbl_80172368:
/* 80172368 001680E8  FF 00 00 90 */	fmr f24, f0
lbl_8017236C:
/* 8017236C 001680EC  54 E0 01 8D */	rlwinm. r0, r7, 0, 6, 6
/* 80172370 001680F0  41 82 00 0C */	beq lbl_8017237C
/* 80172374 001680F4  FE 40 98 90 */	fmr f18, f19
/* 80172378 001680F8  48 00 00 24 */	b lbl_8017239C
lbl_8017237C:
/* 8017237C 001680FC  C2 48 00 14 */	lfs f18, 0x14(r8)
/* 80172380 00168100  C0 02 9B C0 */	lfs f0, lbl_805A2EE0-_SDA2_BASE_(r2)
/* 80172384 00168104  FC 20 92 10 */	fabs f1, f18
/* 80172388 00168108  FC 20 08 18 */	frsp f1, f1
/* 8017238C 0016810C  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80172390 00168110  40 81 00 08 */	ble lbl_80172398
/* 80172394 00168114  48 00 00 08 */	b lbl_8017239C
lbl_80172398:
/* 80172398 00168118  FE 40 00 90 */	fmr f18, f0
lbl_8017239C:
/* 8017239C 0016811C  C2 22 9B C4 */	lfs f17, lbl_805A2EE4-_SDA2_BASE_(r2)
/* 801723A0 00168120  54 E0 03 5B */	rlwinm. r0, r7, 0, 0xd, 0xd
/* 801723A4 00168124  D2 21 00 70 */	stfs f17, 0x70(r1)
/* 801723A8 00168128  41 82 00 0C */	beq lbl_801723B4
/* 801723AC 0016812C  C2 08 00 08 */	lfs f16, 8(r8)
/* 801723B0 00168130  48 00 00 4C */	b lbl_801723FC
lbl_801723B4:
/* 801723B4 00168134  3C 60 00 03 */	lis r3, 0x000343FD@ha
/* 801723B8 00168138  80 A4 00 EC */	lwz r5, 0xec(r4)
/* 801723BC 0016813C  38 03 43 FD */	addi r0, r3, 0x000343FD@l
/* 801723C0 00168140  C8 82 9B F8 */	lfd f4, lbl_805A2F18-_SDA2_BASE_(r2)
/* 801723C4 00168144  7C 65 01 D6 */	mullw r3, r5, r0
/* 801723C8 00168148  C0 42 9B C8 */	lfs f2, lbl_805A2EE8-_SDA2_BASE_(r2)
/* 801723CC 0016814C  C0 22 9B D0 */	lfs f1, lbl_805A2EF0-_SDA2_BASE_(r2)
/* 801723D0 00168150  C0 02 9B CC */	lfs f0, lbl_805A2EEC-_SDA2_BASE_(r2)
/* 801723D4 00168154  3C 63 00 27 */	addis r3, r3, 0x27
/* 801723D8 00168158  38 63 9E C3 */	addi r3, r3, -24893
/* 801723DC 0016815C  54 60 84 3E */	srwi r0, r3, 0x10
/* 801723E0 00168160  90 64 00 EC */	stw r3, 0xec(r4)
/* 801723E4 00168164  90 01 00 64 */	stw r0, 0x64(r1)
/* 801723E8 00168168  C8 61 00 60 */	lfd f3, 0x60(r1)
/* 801723EC 0016816C  EC 63 20 28 */	fsubs f3, f3, f4
/* 801723F0 00168170  EC 43 10 24 */	fdivs f2, f3, f2
/* 801723F4 00168174  EC 21 00 B2 */	fmuls f1, f1, f2
/* 801723F8 00168178  EE 00 00 72 */	fmuls f16, f0, f1
lbl_801723FC:
/* 801723FC 0016817C  54 FC 03 9D */	rlwinm. r28, r7, 0, 0xe, 0xe
/* 80172400 00168180  41 82 00 90 */	beq lbl_80172490
/* 80172404 00168184  C0 28 00 0C */	lfs f1, 0xc(r8)
/* 80172408 00168188  C0 08 00 08 */	lfs f0, 8(r8)
/* 8017240C 0016818C  C8 42 9B D8 */	lfd f2, lbl_805A2EF8-_SDA2_BASE_(r2)
/* 80172410 00168190  EC 21 00 28 */	fsubs f1, f1, f0
/* 80172414 00168194  48 28 E7 29 */	bl fmod
/* 80172418 00168198  FC 20 08 18 */	frsp f1, f1
/* 8017241C 0016819C  C0 02 9B E0 */	lfs f0, lbl_805A2F00-_SDA2_BASE_(r2)
/* 80172420 001681A0  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80172424 001681A4  41 80 00 10 */	blt lbl_80172434
/* 80172428 001681A8  C0 02 9B E4 */	lfs f0, lbl_805A2F04-_SDA2_BASE_(r2)
/* 8017242C 001681AC  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 80172430 001681B0  40 81 00 30 */	ble lbl_80172460
lbl_80172434:
/* 80172434 001681B4  A0 15 00 32 */	lhz r0, 0x32(r21)
/* 80172438 001681B8  C0 78 00 0C */	lfs f3, 0xc(r24)
/* 8017243C 001681BC  90 01 00 6C */	stw r0, 0x6c(r1)
/* 80172440 001681C0  C0 58 00 08 */	lfs f2, 8(r24)
/* 80172444 001681C4  C8 22 9B F8 */	lfd f1, lbl_805A2F18-_SDA2_BASE_(r2)
/* 80172448 001681C8  C8 01 00 68 */	lfd f0, 0x68(r1)
/* 8017244C 001681CC  EC 43 10 28 */	fsubs f2, f3, f2
/* 80172450 001681D0  EC 00 08 28 */	fsubs f0, f0, f1
/* 80172454 001681D4  EC 02 00 24 */	fdivs f0, f2, f0
/* 80172458 001681D8  D0 01 00 70 */	stfs f0, 0x70(r1)
/* 8017245C 001681DC  48 00 00 34 */	b lbl_80172490
lbl_80172460:
/* 80172460 001681E0  A0 75 00 32 */	lhz r3, 0x32(r21)
/* 80172464 001681E4  C0 58 00 0C */	lfs f2, 0xc(r24)
/* 80172468 001681E8  38 03 FF FF */	addi r0, r3, -1
/* 8017246C 001681EC  C0 18 00 08 */	lfs f0, 8(r24)
/* 80172470 001681F0  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 80172474 001681F4  C8 22 9C 00 */	lfd f1, lbl_805A2F20-_SDA2_BASE_(r2)
/* 80172478 001681F8  90 01 00 64 */	stw r0, 0x64(r1)
/* 8017247C 001681FC  EC 42 00 28 */	fsubs f2, f2, f0
/* 80172480 00168200  C8 01 00 60 */	lfd f0, 0x60(r1)
/* 80172484 00168204  EC 00 08 28 */	fsubs f0, f0, f1
/* 80172488 00168208  EC 02 00 24 */	fdivs f0, f2, f0
/* 8017248C 0016820C  D0 01 00 70 */	stfs f0, 0x70(r1)
lbl_80172490:
/* 80172490 00168210  2C 1C 00 00 */	cmpwi r28, 0
/* 80172494 00168214  7E FD BB 78 */	mr r29, r23
/* 80172498 00168218  41 82 00 08 */	beq lbl_801724A0
/* 8017249C 0016821C  7F B7 B9 D6 */	mullw r29, r23, r23
lbl_801724A0:
/* 801724A0 00168220  C0 02 9B D0 */	lfs f0, lbl_805A2EF0-_SDA2_BASE_(r2)
/* 801724A4 00168224  3F C0 00 03 */	lis r30, 0x000343FD@ha
/* 801724A8 00168228  C1 E2 9B C4 */	lfs f15, lbl_805A2EE4-_SDA2_BASE_(r2)
/* 801724AC 0016822C  3B FE 43 FD */	addi r31, r30, 0x000343FD@l
/* 801724B0 00168230  D8 01 00 78 */	stfd f0, 0x78(r1)
/* 801724B4 00168234  3B 60 00 00 */	li r27, 0
/* 801724B8 00168238  C0 02 9B CC */	lfs f0, lbl_805A2EEC-_SDA2_BASE_(r2)
/* 801724BC 0016823C  FF A0 78 90 */	fmr f29, f15
/* 801724C0 00168240  FF C0 78 90 */	fmr f30, f15
/* 801724C4 00168244  CB 42 9B F8 */	lfd f26, lbl_805A2F18-_SDA2_BASE_(r2)
/* 801724C8 00168248  D8 01 00 80 */	stfd f0, 0x80(r1)
/* 801724CC 0016824C  FF E0 78 90 */	fmr f31, f15
/* 801724D0 00168250  C8 02 9C 00 */	lfd f0, lbl_805A2F20-_SDA2_BASE_(r2)
/* 801724D4 00168254  C3 62 9B C8 */	lfs f27, lbl_805A2EE8-_SDA2_BASE_(r2)
/* 801724D8 00168258  D8 01 00 90 */	stfd f0, 0x90(r1)
/* 801724DC 0016825C  C0 02 9B F0 */	lfs f0, lbl_805A2F10-_SDA2_BASE_(r2)
/* 801724E0 00168260  D9 E1 00 88 */	stfd f15, 0x88(r1)
/* 801724E4 00168264  C3 22 9B E8 */	lfs f25, lbl_805A2F08-_SDA2_BASE_(r2)
/* 801724E8 00168268  D8 01 00 98 */	stfd f0, 0x98(r1)
/* 801724EC 0016826C  C0 02 9B F4 */	lfs f0, lbl_805A2F14-_SDA2_BASE_(r2)
/* 801724F0 00168270  C3 82 9B EC */	lfs f28, lbl_805A2F0C-_SDA2_BASE_(r2)
/* 801724F4 00168274  D8 01 00 A0 */	stfd f0, 0xa0(r1)
/* 801724F8 00168278  48 00 03 4C */	b lbl_80172844
lbl_801724FC:
/* 801724FC 0016827C  C0 18 00 04 */	lfs f0, 4(r24)
/* 80172500 00168280  2C 1C 00 00 */	cmpwi r28, 0
/* 80172504 00168284  EC 39 00 28 */	fsubs f1, f25, f0
/* 80172508 00168288  EC 19 00 2A */	fadds f0, f25, f0
/* 8017250C 0016828C  ED C1 00 24 */	fdivs f14, f1, f0
/* 80172510 00168290  40 82 00 74 */	bne lbl_80172584
/* 80172514 00168294  80 15 00 EC */	lwz r0, 0xec(r21)
/* 80172518 00168298  38 9E 43 FD */	addi r4, r30, 0x43fd
/* 8017251C 0016829C  7C 60 21 D6 */	mullw r3, r0, r4
/* 80172520 001682A0  3C 63 00 27 */	addis r3, r3, 0x27
/* 80172524 001682A4  38 03 9E C3 */	addi r0, r3, -24893
/* 80172528 001682A8  7C 60 21 D6 */	mullw r3, r0, r4
/* 8017252C 001682AC  90 15 00 EC */	stw r0, 0xec(r21)
/* 80172530 001682B0  54 00 84 3E */	srwi r0, r0, 0x10
/* 80172534 001682B4  90 01 00 6C */	stw r0, 0x6c(r1)
/* 80172538 001682B8  C0 58 00 0C */	lfs f2, 0xc(r24)
/* 8017253C 001682BC  C8 01 00 68 */	lfd f0, 0x68(r1)
/* 80172540 001682C0  3C 63 00 27 */	addis r3, r3, 0x27
/* 80172544 001682C4  EC 00 D0 28 */	fsubs f0, f0, f26
/* 80172548 001682C8  38 63 9E C3 */	addi r3, r3, -24893
/* 8017254C 001682CC  C0 38 00 08 */	lfs f1, 8(r24)
/* 80172550 001682D0  54 60 84 3E */	srwi r0, r3, 0x10
/* 80172554 001682D4  90 01 00 64 */	stw r0, 0x64(r1)
/* 80172558 001682D8  EC 60 D8 24 */	fdivs f3, f0, f27
/* 8017255C 001682DC  C8 01 00 60 */	lfd f0, 0x60(r1)
/* 80172560 001682E0  90 75 00 EC */	stw r3, 0xec(r21)
/* 80172564 001682E4  EC 42 08 28 */	fsubs f2, f2, f1
/* 80172568 001682E8  EC 00 D0 28 */	fsubs f0, f0, f26
/* 8017256C 001682EC  EE 22 00 F2 */	fmuls f17, f2, f3
/* 80172570 001682F0  EC 20 D8 24 */	fdivs f1, f0, f27
/* 80172574 001682F4  C8 01 00 78 */	lfd f0, 0x78(r1)
/* 80172578 001682F8  EC 20 00 72 */	fmuls f1, f0, f1
/* 8017257C 001682FC  C8 01 00 80 */	lfd f0, 0x80(r1)
/* 80172580 00168300  ED E0 00 72 */	fmuls f15, f0, f1
lbl_80172584:
/* 80172584 00168304  EC 30 88 2A */	fadds f1, f16, f17
/* 80172588 00168308  48 28 E4 59 */	bl sin
/* 8017258C 0016830C  FE E0 08 18 */	frsp f23, f1
/* 80172590 00168310  EC 30 88 2A */	fadds f1, f16, f17
/* 80172594 00168314  48 28 DF 45 */	bl cos
/* 80172598 00168318  FE C0 08 18 */	frsp f22, f1
/* 8017259C 0016831C  FC 20 78 90 */	fmr f1, f15
/* 801725A0 00168320  48 28 E4 41 */	bl sin
/* 801725A4 00168324  FE A0 08 18 */	frsp f21, f1
/* 801725A8 00168328  FC 20 78 90 */	fmr f1, f15
/* 801725AC 0016832C  48 28 DF 2D */	bl cos
/* 801725B0 00168330  FE 80 08 18 */	frsp f20, f1
/* 801725B4 00168334  FC 00 70 50 */	fneg f0, f14
/* 801725B8 00168338  EC 38 05 72 */	fmuls f1, f24, f21
/* 801725BC 0016833C  EC 4E 05 32 */	fmuls f2, f14, f20
/* 801725C0 00168340  EC 00 05 32 */	fmuls f0, f0, f20
/* 801725C4 00168344  D0 21 00 58 */	stfs f1, 0x58(r1)
/* 801725C8 00168348  EC 3C 70 2A */	fadds f1, f28, f14
/* 801725CC 0016834C  EC 57 00 B2 */	fmuls f2, f23, f2
/* 801725D0 00168350  EC 16 00 32 */	fmuls f0, f22, f0
/* 801725D4 00168354  80 01 00 58 */	lwz r0, 0x58(r1)
/* 801725D8 00168358  EC 57 10 2A */	fadds f2, f23, f2
/* 801725DC 0016835C  90 01 00 40 */	stw r0, 0x40(r1)
/* 801725E0 00168360  EC 00 B0 28 */	fsubs f0, f0, f22
/* 801725E4 00168364  EC 53 00 B2 */	fmuls f2, f19, f2
/* 801725E8 00168368  EC 12 00 32 */	fmuls f0, f18, f0
/* 801725EC 0016836C  EC 42 08 24 */	fdivs f2, f2, f1
/* 801725F0 00168370  EC 20 08 24 */	fdivs f1, f0, f1
/* 801725F4 00168374  D0 41 00 54 */	stfs f2, 0x54(r1)
/* 801725F8 00168378  80 01 00 54 */	lwz r0, 0x54(r1)
/* 801725FC 0016837C  90 01 00 3C */	stw r0, 0x3c(r1)
/* 80172600 00168380  C0 01 00 3C */	lfs f0, 0x3c(r1)
/* 80172604 00168384  D0 21 00 5C */	stfs f1, 0x5c(r1)
/* 80172608 00168388  FC 1D 00 00 */	fcmpu cr0, f29, f0
/* 8017260C 0016838C  80 01 00 5C */	lwz r0, 0x5c(r1)
/* 80172610 00168390  90 01 00 44 */	stw r0, 0x44(r1)
/* 80172614 00168394  40 82 00 1C */	bne lbl_80172630
/* 80172618 00168398  C0 01 00 40 */	lfs f0, 0x40(r1)
/* 8017261C 0016839C  FC 1D 00 00 */	fcmpu cr0, f29, f0
/* 80172620 001683A0  40 82 00 10 */	bne lbl_80172630
/* 80172624 001683A4  C0 01 00 44 */	lfs f0, 0x44(r1)
/* 80172628 001683A8  FC 1D 00 00 */	fcmpu cr0, f29, f0
/* 8017262C 001683AC  41 82 00 10 */	beq lbl_8017263C
lbl_80172630:
/* 80172630 001683B0  38 61 00 3C */	addi r3, r1, 0x3c
/* 80172634 001683B4  7C 64 1B 78 */	mr r4, r3
/* 80172638 001683B8  48 07 A9 D1 */	bl PSVECNormalize
lbl_8017263C:
/* 8017263C 001683BC  C0 01 00 54 */	lfs f0, 0x54(r1)
/* 80172640 001683C0  C0 21 00 5C */	lfs f1, 0x5c(r1)
/* 80172644 001683C4  FC 1E 00 00 */	fcmpu cr0, f30, f0
/* 80172648 001683C8  D0 01 00 30 */	stfs f0, 0x30(r1)
/* 8017264C 001683CC  D3 C1 00 34 */	stfs f30, 0x34(r1)
/* 80172650 001683D0  D0 21 00 38 */	stfs f1, 0x38(r1)
/* 80172654 001683D4  40 82 00 0C */	bne lbl_80172660
/* 80172658 001683D8  FC 1E 08 00 */	fcmpu cr0, f30, f1
/* 8017265C 001683DC  41 82 00 10 */	beq lbl_8017266C
lbl_80172660:
/* 80172660 001683E0  38 61 00 30 */	addi r3, r1, 0x30
/* 80172664 001683E4  7C 64 1B 78 */	mr r4, r3
/* 80172668 001683E8  48 07 A9 A1 */	bl PSVECNormalize
lbl_8017266C:
/* 8017266C 001683EC  C8 01 00 88 */	lfd f0, 0x88(r1)
/* 80172670 001683F0  FC 00 70 00 */	fcmpu cr0, f0, f14
/* 80172674 001683F4  40 82 00 2C */	bne lbl_801726A0
/* 80172678 001683F8  FC 00 90 50 */	fneg f0, f18
/* 8017267C 001683FC  EC 53 05 32 */	fmuls f2, f19, f20
/* 80172680 00168400  EC 38 05 72 */	fmuls f1, f24, f21
/* 80172684 00168404  EC 00 05 32 */	fmuls f0, f0, f20
/* 80172688 00168408  EC 57 00 B2 */	fmuls f2, f23, f2
/* 8017268C 0016840C  D0 21 00 28 */	stfs f1, 0x28(r1)
/* 80172690 00168410  EC 16 00 32 */	fmuls f0, f22, f0
/* 80172694 00168414  D0 41 00 24 */	stfs f2, 0x24(r1)
/* 80172698 00168418  D0 01 00 2C */	stfs f0, 0x2c(r1)
/* 8017269C 0016841C  48 00 00 3C */	b lbl_801726D8
lbl_801726A0:
/* 801726A0 00168420  FC 00 70 50 */	fneg f0, f14
/* 801726A4 00168424  EC 4E 05 32 */	fmuls f2, f14, f20
/* 801726A8 00168428  EC 38 05 72 */	fmuls f1, f24, f21
/* 801726AC 0016842C  EC 00 05 32 */	fmuls f0, f0, f20
/* 801726B0 00168430  EC 77 00 B2 */	fmuls f3, f23, f2
/* 801726B4 00168434  D0 21 00 28 */	stfs f1, 0x28(r1)
/* 801726B8 00168438  EC 5C 70 2A */	fadds f2, f28, f14
/* 801726BC 0016843C  EC 16 00 32 */	fmuls f0, f22, f0
/* 801726C0 00168440  EC 33 00 F2 */	fmuls f1, f19, f3
/* 801726C4 00168444  EC 12 00 32 */	fmuls f0, f18, f0
/* 801726C8 00168448  EC 21 10 24 */	fdivs f1, f1, f2
/* 801726CC 0016844C  EC 00 10 24 */	fdivs f0, f0, f2
/* 801726D0 00168450  D0 21 00 24 */	stfs f1, 0x24(r1)
/* 801726D4 00168454  D0 01 00 2C */	stfs f0, 0x2c(r1)
lbl_801726D8:
/* 801726D8 00168458  C0 01 00 24 */	lfs f0, 0x24(r1)
/* 801726DC 0016845C  FC 1F 00 00 */	fcmpu cr0, f31, f0
/* 801726E0 00168460  40 82 00 1C */	bne lbl_801726FC
/* 801726E4 00168464  C0 01 00 28 */	lfs f0, 0x28(r1)
/* 801726E8 00168468  FC 1F 00 00 */	fcmpu cr0, f31, f0
/* 801726EC 0016846C  40 82 00 10 */	bne lbl_801726FC
/* 801726F0 00168470  C0 01 00 2C */	lfs f0, 0x2c(r1)
/* 801726F4 00168474  FC 1F 00 00 */	fcmpu cr0, f31, f0
/* 801726F8 00168478  41 82 00 10 */	beq lbl_80172708
lbl_801726FC:
/* 801726FC 0016847C  38 61 00 24 */	addi r3, r1, 0x24
/* 80172700 00168480  7C 64 1B 78 */	mr r4, r3
/* 80172704 00168484  48 07 A9 05 */	bl PSVECNormalize
lbl_80172708:
/* 80172708 00168488  7E 83 A3 78 */	mr r3, r20
/* 8017270C 0016848C  7E A5 AB 78 */	mr r5, r21
/* 80172710 00168490  38 81 00 48 */	addi r4, r1, 0x48
/* 80172714 00168494  38 C1 00 54 */	addi r6, r1, 0x54
/* 80172718 00168498  38 E1 00 24 */	addi r7, r1, 0x24
/* 8017271C 0016849C  39 01 00 3C */	addi r8, r1, 0x3c
/* 80172720 001684A0  39 21 00 30 */	addi r9, r1, 0x30
/* 80172724 001684A4  4B FF D5 11 */	bl nw4r2ef11EmitterFormCFPQ34nw4r4mat$7CalcVelocity
/* 80172728 001684A8  80 15 00 EC */	lwz r0, 0xec(r21)
/* 8017272C 001684AC  7E 83 A3 78 */	mr r3, r20
/* 80172730 001684B0  C0 21 00 08 */	lfs f1, 8(r1)
/* 80172734 001684B4  7F 24 CB 78 */	mr r4, r25
/* 80172738 001684B8  7C C0 F9 D6 */	mullw r6, r0, r31
/* 8017273C 001684BC  7E A5 AB 78 */	mr r5, r21
/* 80172740 001684C0  3C C6 00 27 */	addis r6, r6, 0x27
/* 80172744 001684C4  38 C6 9E C3 */	addi r6, r6, -24893
/* 80172748 001684C8  54 C0 84 3E */	srwi r0, r6, 0x10
/* 8017274C 001684CC  90 D5 00 EC */	stw r6, 0xec(r21)
/* 80172750 001684D0  90 01 00 6C */	stw r0, 0x6c(r1)
/* 80172754 001684D4  81 41 00 48 */	lwz r10, 0x48(r1)
/* 80172758 001684D8  C8 01 00 68 */	lfd f0, 0x68(r1)
/* 8017275C 001684DC  81 21 00 4C */	lwz r9, 0x4c(r1)
/* 80172760 001684E0  EC 00 D0 28 */	fsubs f0, f0, f26
/* 80172764 001684E4  81 01 00 50 */	lwz r8, 0x50(r1)
/* 80172768 001684E8  80 E1 00 54 */	lwz r7, 0x54(r1)
/* 8017276C 001684EC  80 C1 00 58 */	lwz r6, 0x58(r1)
/* 80172770 001684F0  EE 80 D8 24 */	fdivs f20, f0, f27
/* 80172774 001684F4  80 01 00 5C */	lwz r0, 0x5c(r1)
/* 80172778 001684F8  91 41 00 0C */	stw r10, 0xc(r1)
/* 8017277C 001684FC  91 21 00 10 */	stw r9, 0x10(r1)
/* 80172780 00168500  91 01 00 14 */	stw r8, 0x14(r1)
/* 80172784 00168504  90 E1 00 18 */	stw r7, 0x18(r1)
/* 80172788 00168508  90 C1 00 1C */	stw r6, 0x1c(r1)
/* 8017278C 0016850C  90 01 00 20 */	stw r0, 0x20(r1)
/* 80172790 00168510  4B FF D9 C1 */	bl nw4r2ef11EmitterFormFUsfPQ34nw4r2e$7CalcLife
/* 80172794 00168514  88 15 00 67 */	lbz r0, 0x67(r21)
/* 80172798 00168518  7C 64 1B 78 */	mr r4, r3
/* 8017279C 0016851C  81 96 00 1C */	lwz r12, 0x1c(r22)
/* 801727A0 00168520  7E C3 B3 78 */	mr r3, r22
/* 801727A4 00168524  7C 00 07 74 */	extsb r0, r0
/* 801727A8 00168528  C8 01 00 90 */	lfd f0, 0x90(r1)
/* 801727AC 0016852C  6C 00 80 00 */	xoris r0, r0, 0x8000
/* 801727B0 00168530  81 8C 00 14 */	lwz r12, 0x14(r12)
/* 801727B4 00168534  90 01 00 64 */	stw r0, 0x64(r1)
/* 801727B8 00168538  7F 47 D3 78 */	mr r7, r26
/* 801727BC 0016853C  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 801727C0 00168540  38 A1 00 18 */	addi r5, r1, 0x18
/* 801727C4 00168544  C8 21 00 60 */	lfd f1, 0x60(r1)
/* 801727C8 00168548  38 C1 00 0C */	addi r6, r1, 0xc
/* 801727CC 0016854C  39 15 00 FC */	addi r8, r21, 0xfc
/* 801727D0 00168550  81 35 00 F8 */	lwz r9, 0xf8(r21)
/* 801727D4 00168554  EC 21 00 28 */	fsubs f1, f1, f0
/* 801727D8 00168558  C8 01 00 98 */	lfd f0, 0x98(r1)
/* 801727DC 0016855C  A1 55 00 E8 */	lhz r10, 0xe8(r21)
/* 801727E0 00168560  EC 00 00 72 */	fmuls f0, f0, f1
/* 801727E4 00168564  EC 00 05 32 */	fmuls f0, f0, f20
/* 801727E8 00168568  EC 3C 00 2A */	fadds f1, f28, f0
/* 801727EC 0016856C  7D 89 03 A6 */	mtctr r12
/* 801727F0 00168570  4E 80 04 21 */	bctrl 
/* 801727F4 00168574  2C 1C 00 00 */	cmpwi r28, 0
/* 801727F8 00168578  41 82 00 48 */	beq lbl_80172840
/* 801727FC 0016857C  38 7B 00 01 */	addi r3, r27, 1
/* 80172800 00168580  7C 03 BB D6 */	divw r0, r3, r23
/* 80172804 00168584  7C 00 B9 D6 */	mullw r0, r0, r23
/* 80172808 00168588  7C 00 18 51 */	subf. r0, r0, r3
/* 8017280C 0016858C  40 82 00 14 */	bne lbl_80172820
/* 80172810 00168590  C0 01 00 70 */	lfs f0, 0x70(r1)
/* 80172814 00168594  C1 E2 9B C4 */	lfs f15, lbl_805A2EE4-_SDA2_BASE_(r2)
/* 80172818 00168598  EE 31 00 2A */	fadds f17, f17, f0
/* 8017281C 0016859C  48 00 00 24 */	b lbl_80172840
lbl_80172820:
/* 80172820 001685A0  6E E0 80 00 */	xoris r0, r23, 0x8000
/* 80172824 001685A4  C8 01 00 90 */	lfd f0, 0x90(r1)
/* 80172828 001685A8  90 01 00 6C */	stw r0, 0x6c(r1)
/* 8017282C 001685AC  C8 21 00 68 */	lfd f1, 0x68(r1)
/* 80172830 001685B0  EC 21 00 28 */	fsubs f1, f1, f0
/* 80172834 001685B4  C8 01 00 A0 */	lfd f0, 0xa0(r1)
/* 80172838 001685B8  EC 00 08 24 */	fdivs f0, f0, f1
/* 8017283C 001685BC  ED EF 00 2A */	fadds f15, f15, f0
lbl_80172840:
/* 80172840 001685C0  3B 7B 00 01 */	addi r27, r27, 1
lbl_80172844:
/* 80172844 001685C4  7C 1B E8 00 */	cmpw r27, r29
/* 80172848 001685C8  41 80 FC B4 */	blt lbl_801724FC
lbl_8017284C:
/* 8017284C 001685CC  E3 E1 01 F8 */	psq_l f31, 504(r1), 0, qr0
/* 80172850 001685D0  CB E1 01 F0 */	lfd f31, 0x1f0(r1)
/* 80172854 001685D4  E3 C1 01 E8 */	psq_l f30, 488(r1), 0, qr0
/* 80172858 001685D8  CB C1 01 E0 */	lfd f30, 0x1e0(r1)
/* 8017285C 001685DC  E3 A1 01 D8 */	psq_l f29, 472(r1), 0, qr0
/* 80172860 001685E0  CB A1 01 D0 */	lfd f29, 0x1d0(r1)
/* 80172864 001685E4  E3 81 01 C8 */	psq_l f28, 456(r1), 0, qr0
/* 80172868 001685E8  CB 81 01 C0 */	lfd f28, 0x1c0(r1)
/* 8017286C 001685EC  E3 61 01 B8 */	psq_l f27, 440(r1), 0, qr0
/* 80172870 001685F0  CB 61 01 B0 */	lfd f27, 0x1b0(r1)
/* 80172874 001685F4  E3 41 01 A8 */	psq_l f26, 424(r1), 0, qr0
/* 80172878 001685F8  CB 41 01 A0 */	lfd f26, 0x1a0(r1)
/* 8017287C 001685FC  E3 21 01 98 */	psq_l f25, 408(r1), 0, qr0
/* 80172880 00168600  CB 21 01 90 */	lfd f25, 0x190(r1)
/* 80172884 00168604  E3 01 01 88 */	psq_l f24, 392(r1), 0, qr0
/* 80172888 00168608  CB 01 01 80 */	lfd f24, 0x180(r1)
/* 8017288C 0016860C  E2 E1 01 78 */	psq_l f23, 376(r1), 0, qr0
/* 80172890 00168610  CA E1 01 70 */	lfd f23, 0x170(r1)
/* 80172894 00168614  E2 C1 01 68 */	psq_l f22, 360(r1), 0, qr0
/* 80172898 00168618  CA C1 01 60 */	lfd f22, 0x160(r1)
/* 8017289C 0016861C  E2 A1 01 58 */	psq_l f21, 344(r1), 0, qr0
/* 801728A0 00168620  CA A1 01 50 */	lfd f21, 0x150(r1)
/* 801728A4 00168624  E2 81 01 48 */	psq_l f20, 328(r1), 0, qr0
/* 801728A8 00168628  CA 81 01 40 */	lfd f20, 0x140(r1)
/* 801728AC 0016862C  E2 61 01 38 */	psq_l f19, 312(r1), 0, qr0
/* 801728B0 00168630  CA 61 01 30 */	lfd f19, 0x130(r1)
/* 801728B4 00168634  E2 41 01 28 */	psq_l f18, 296(r1), 0, qr0
/* 801728B8 00168638  CA 41 01 20 */	lfd f18, 0x120(r1)
/* 801728BC 0016863C  E2 21 01 18 */	psq_l f17, 280(r1), 0, qr0
/* 801728C0 00168640  CA 21 01 10 */	lfd f17, 0x110(r1)
/* 801728C4 00168644  E2 01 01 08 */	psq_l f16, 264(r1), 0, qr0
/* 801728C8 00168648  CA 01 01 00 */	lfd f16, 0x100(r1)
/* 801728CC 0016864C  E1 E1 00 F8 */	psq_l f15, 248(r1), 0, qr0
/* 801728D0 00168650  C9 E1 00 F0 */	lfd f15, 0xf0(r1)
/* 801728D4 00168654  E1 C1 00 E8 */	psq_l f14, 232(r1), 0, qr0
/* 801728D8 00168658  39 61 00 E0 */	addi r11, r1, 0xe0
/* 801728DC 0016865C  C9 C1 00 E0 */	lfd f14, 0xe0(r1)
/* 801728E0 00168660  48 27 EA 71 */	bl _restgpr_20
/* 801728E4 00168664  80 01 02 04 */	lwz r0, 0x204(r1)
/* 801728E8 00168668  7C 08 03 A6 */	mtlr r0
/* 801728EC 0016866C  38 21 02 00 */	addi r1, r1, 0x200
/* 801728F0 00168670  4E 80 00 20 */	blr 

