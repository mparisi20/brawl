.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global TMCC_JPEGENC_Encode_frame
TMCC_JPEGENC_Encode_frame:
/* 8026A28C 0026000C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8026A290 00260010  7C 08 02 A6 */	mflr r0
/* 8026A294 00260014  3C 80 00 01 */	lis r4, 0x0000FFC0@ha
/* 8026A298 00260018  38 C0 00 01 */	li r6, 1
/* 8026A29C 0026001C  90 01 00 24 */	stw r0, 0x24(r1)
/* 8026A2A0 00260020  38 04 FF C0 */	addi r0, r4, 0x0000FFC0@l
/* 8026A2A4 00260024  BF 41 00 08 */	stmw r26, 8(r1)
/* 8026A2A8 00260028  3B E3 16 34 */	addi r31, r3, 0x1634
/* 8026A2AC 0026002C  7C 7A 1B 78 */	mr r26, r3
/* 8026A2B0 00260030  88 A3 00 0F */	lbz r5, 0xf(r3)
/* 8026A2B4 00260034  88 83 00 0E */	lbz r4, 0xe(r3)
/* 8026A2B8 00260038  A3 C3 00 04 */	lhz r30, 4(r3)
/* 8026A2BC 0026003C  7C DC 28 30 */	slw r28, r6, r5
/* 8026A2C0 00260040  A3 A3 00 02 */	lhz r29, 2(r3)
/* 8026A2C4 00260044  7C DB 20 30 */	slw r27, r6, r4
/* 8026A2C8 00260048  7F E3 FB 78 */	mr r3, r31
/* 8026A2CC 0026004C  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A2D0 00260050  4B FF F0 39 */	bl TMCC_JPEGENC_PutWord
/* 8026A2D4 00260054  7F E3 FB 78 */	mr r3, r31
/* 8026A2D8 00260058  38 80 00 11 */	li r4, 0x11
/* 8026A2DC 0026005C  4B FF F0 2D */	bl TMCC_JPEGENC_PutWord
/* 8026A2E0 00260060  7F E3 FB 78 */	mr r3, r31
/* 8026A2E4 00260064  38 80 00 08 */	li r4, 8
/* 8026A2E8 00260068  4B FF EF D5 */	bl TMCC_JPEGENC_PutByte
/* 8026A2EC 0026006C  7F E3 FB 78 */	mr r3, r31
/* 8026A2F0 00260070  7F C4 F3 78 */	mr r4, r30
/* 8026A2F4 00260074  4B FF F0 15 */	bl TMCC_JPEGENC_PutWord
/* 8026A2F8 00260078  7F E3 FB 78 */	mr r3, r31
/* 8026A2FC 0026007C  7F A4 EB 78 */	mr r4, r29
/* 8026A300 00260080  4B FF F0 09 */	bl TMCC_JPEGENC_PutWord
/* 8026A304 00260084  7F E3 FB 78 */	mr r3, r31
/* 8026A308 00260088  38 80 00 03 */	li r4, 3
/* 8026A30C 0026008C  4B FF EF B1 */	bl TMCC_JPEGENC_PutByte
/* 8026A310 00260090  7F E3 FB 78 */	mr r3, r31
/* 8026A314 00260094  38 80 00 00 */	li r4, 0
/* 8026A318 00260098  4B FF EF A5 */	bl TMCC_JPEGENC_PutByte
/* 8026A31C 0026009C  7F E3 FB 78 */	mr r3, r31
/* 8026A320 002600A0  7F 64 DB 78 */	mr r4, r27
/* 8026A324 002600A4  38 A0 00 04 */	li r5, 4
/* 8026A328 002600A8  4B FF F3 D5 */	bl TMCC_JPEGENC_PutStreamWithCheck
/* 8026A32C 002600AC  7F E3 FB 78 */	mr r3, r31
/* 8026A330 002600B0  7F 84 E3 78 */	mr r4, r28
/* 8026A334 002600B4  38 A0 00 04 */	li r5, 4
/* 8026A338 002600B8  4B FF F3 C5 */	bl TMCC_JPEGENC_PutStreamWithCheck
/* 8026A33C 002600BC  7F E3 FB 78 */	mr r3, r31
/* 8026A340 002600C0  38 80 00 00 */	li r4, 0
/* 8026A344 002600C4  4B FF EF 79 */	bl TMCC_JPEGENC_PutByte
/* 8026A348 002600C8  7F E3 FB 78 */	mr r3, r31
/* 8026A34C 002600CC  38 80 00 01 */	li r4, 1
/* 8026A350 002600D0  4B FF EF 6D */	bl TMCC_JPEGENC_PutByte
/* 8026A354 002600D4  7F E3 FB 78 */	mr r3, r31
/* 8026A358 002600D8  38 80 00 11 */	li r4, 0x11
/* 8026A35C 002600DC  4B FF EF 61 */	bl TMCC_JPEGENC_PutByte
/* 8026A360 002600E0  7F E3 FB 78 */	mr r3, r31
/* 8026A364 002600E4  38 80 00 01 */	li r4, 1
/* 8026A368 002600E8  4B FF EF 55 */	bl TMCC_JPEGENC_PutByte
/* 8026A36C 002600EC  7F E3 FB 78 */	mr r3, r31
/* 8026A370 002600F0  38 80 00 02 */	li r4, 2
/* 8026A374 002600F4  4B FF EF 49 */	bl TMCC_JPEGENC_PutByte
/* 8026A378 002600F8  7F E3 FB 78 */	mr r3, r31
/* 8026A37C 002600FC  38 80 00 11 */	li r4, 0x11
/* 8026A380 00260100  4B FF EF 3D */	bl TMCC_JPEGENC_PutByte
/* 8026A384 00260104  7F E3 FB 78 */	mr r3, r31
/* 8026A388 00260108  38 80 00 01 */	li r4, 1
/* 8026A38C 0026010C  4B FF EF 31 */	bl TMCC_JPEGENC_PutByte
/* 8026A390 00260110  7F 43 D3 78 */	mr r3, r26
/* 8026A394 00260114  48 00 17 99 */	bl TMCC_JPEGENC_Encode_scan
/* 8026A398 00260118  BB 41 00 08 */	lmw r26, 8(r1)
/* 8026A39C 0026011C  7C 63 FE 70 */	srawi r3, r3, 0x1f
/* 8026A3A0 00260120  38 00 FF FE */	li r0, -2
/* 8026A3A4 00260124  7C 03 18 38 */	and r3, r0, r3
/* 8026A3A8 00260128  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8026A3AC 0026012C  7C 08 03 A6 */	mtlr r0
/* 8026A3B0 00260130  38 21 00 20 */	addi r1, r1, 0x20
/* 8026A3B4 00260134  4E 80 00 20 */	blr 

