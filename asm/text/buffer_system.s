.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global TMCC_JPEGDEC_init_stream
TMCC_JPEGDEC_init_stream:
/* 80260F70 00256CF0  2C 04 00 00 */	cmpwi r4, 0
/* 80260F74 00256CF4  40 82 00 0C */	bne lbl_80260F80
/* 80260F78 00256CF8  38 60 FF FF */	li r3, -1
/* 80260F7C 00256CFC  4E 80 00 20 */	blr 
lbl_80260F80:
/* 80260F80 00256D00  2C 05 00 00 */	cmpwi r5, 0
/* 80260F84 00256D04  40 82 00 0C */	bne lbl_80260F90
/* 80260F88 00256D08  38 60 FF FF */	li r3, -1
/* 80260F8C 00256D0C  4E 80 00 20 */	blr 
lbl_80260F90:
/* 80260F90 00256D10  54 80 06 FF */	clrlwi. r0, r4, 0x1b
/* 80260F94 00256D14  41 82 00 0C */	beq lbl_80260FA0
/* 80260F98 00256D18  38 60 FF FF */	li r3, -1
/* 80260F9C 00256D1C  4E 80 00 20 */	blr 
lbl_80260FA0:
/* 80260FA0 00256D20  7C A4 2A 14 */	add r5, r4, r5
/* 80260FA4 00256D24  90 83 00 08 */	stw r4, 8(r3)
/* 80260FA8 00256D28  38 05 FF F6 */	addi r0, r5, -10
/* 80260FAC 00256D2C  90 83 00 0C */	stw r4, 0xc(r3)
/* 80260FB0 00256D30  90 A3 00 10 */	stw r5, 0x10(r3)
/* 80260FB4 00256D34  90 03 00 14 */	stw r0, 0x14(r3)
/* 80260FB8 00256D38  38 60 00 00 */	li r3, 0
/* 80260FBC 00256D3C  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_get_byte
TMCC_JPEGDEC_get_byte:
/* 80260FC0 00256D40  80 C4 00 0C */	lwz r6, 0xc(r4)
/* 80260FC4 00256D44  80 04 00 10 */	lwz r0, 0x10(r4)
/* 80260FC8 00256D48  7C 06 00 40 */	cmplw r6, r0
/* 80260FCC 00256D4C  41 80 00 0C */	blt lbl_80260FD8
/* 80260FD0 00256D50  38 60 FF 70 */	li r3, -144
/* 80260FD4 00256D54  4E 80 00 20 */	blr 
lbl_80260FD8:
/* 80260FD8 00256D58  88 A6 00 00 */	lbz r5, 0(r6)
/* 80260FDC 00256D5C  38 C6 00 01 */	addi r6, r6, 1
/* 80260FE0 00256D60  38 00 FF 70 */	li r0, -144
/* 80260FE4 00256D64  98 A3 00 00 */	stb r5, 0(r3)
/* 80260FE8 00256D68  80 A4 00 10 */	lwz r5, 0x10(r4)
/* 80260FEC 00256D6C  90 C4 00 0C */	stw r6, 0xc(r4)
/* 80260FF0 00256D70  7C 65 30 10 */	subfc r3, r5, r6
/* 80260FF4 00256D74  7C 65 01 94 */	addze r3, r5
/* 80260FF8 00256D78  7C 63 28 50 */	subf r3, r3, r5
/* 80260FFC 00256D7C  7C 03 18 38 */	and r3, r0, r3
/* 80261000 00256D80  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_get_wbyte
TMCC_JPEGDEC_get_wbyte:
/* 80261004 00256D84  80 E4 00 10 */	lwz r7, 0x10(r4)
/* 80261008 00256D88  81 04 00 0C */	lwz r8, 0xc(r4)
/* 8026100C 00256D8C  7C 08 38 40 */	cmplw r8, r7
/* 80261010 00256D90  41 80 00 0C */	blt lbl_8026101C
/* 80261014 00256D94  38 00 FF 70 */	li r0, -144
/* 80261018 00256D98  48 00 00 28 */	b lbl_80261040
lbl_8026101C:
/* 8026101C 00256D9C  38 C8 00 01 */	addi r6, r8, 1
/* 80261020 00256DA0  38 00 FF 70 */	li r0, -144
/* 80261024 00256DA4  90 C4 00 0C */	stw r6, 0xc(r4)
/* 80261028 00256DA8  7C A7 30 10 */	subfc r5, r7, r6
/* 8026102C 00256DAC  7C A7 01 94 */	addze r5, r7
/* 80261030 00256DB0  7C A5 38 50 */	subf r5, r5, r7
/* 80261034 00256DB4  89 28 00 00 */	lbz r9, 0(r8)
/* 80261038 00256DB8  7C C8 33 78 */	mr r8, r6
/* 8026103C 00256DBC  7C 00 28 38 */	and r0, r0, r5
lbl_80261040:
/* 80261040 00256DC0  2C 00 00 00 */	cmpwi r0, 0
/* 80261044 00256DC4  55 2A 44 2E */	rlwinm r10, r9, 8, 0x10, 0x17
/* 80261048 00256DC8  40 80 00 0C */	bge lbl_80261054
/* 8026104C 00256DCC  7C 03 03 78 */	mr r3, r0
/* 80261050 00256DD0  4E 80 00 20 */	blr 
lbl_80261054:
/* 80261054 00256DD4  7C 08 38 40 */	cmplw r8, r7
/* 80261058 00256DD8  41 80 00 0C */	blt lbl_80261064
/* 8026105C 00256DDC  38 A0 FF 70 */	li r5, -144
/* 80261060 00256DE0  48 00 00 2C */	b lbl_8026108C
lbl_80261064:
/* 80261064 00256DE4  80 E4 00 0C */	lwz r7, 0xc(r4)
/* 80261068 00256DE8  38 00 FF 70 */	li r0, -144
/* 8026106C 00256DEC  80 A4 00 10 */	lwz r5, 0x10(r4)
/* 80261070 00256DF0  38 C7 00 01 */	addi r6, r7, 1
/* 80261074 00256DF4  90 C4 00 0C */	stw r6, 0xc(r4)
/* 80261078 00256DF8  7C 85 30 10 */	subfc r4, r5, r6
/* 8026107C 00256DFC  7C 85 01 94 */	addze r4, r5
/* 80261080 00256E00  7C 84 28 50 */	subf r4, r4, r5
/* 80261084 00256E04  89 27 00 00 */	lbz r9, 0(r7)
/* 80261088 00256E08  7C 05 20 38 */	and r5, r0, r4
lbl_8026108C:
/* 8026108C 00256E0C  7C 8A 4A 14 */	add r4, r10, r9
/* 80261090 00256E10  7C A0 FE 70 */	srawi r0, r5, 0x1f
/* 80261094 00256E14  B0 83 00 00 */	sth r4, 0(r3)
/* 80261098 00256E18  7C A3 00 38 */	and r3, r5, r0
/* 8026109C 00256E1C  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_get_sbyte
TMCC_JPEGDEC_get_sbyte:
/* 802610A0 00256E20  38 00 FF 70 */	li r0, -144
/* 802610A4 00256E24  7C 89 03 A6 */	mtctr r4
/* 802610A8 00256E28  28 04 00 00 */	cmplwi r4, 0
/* 802610AC 00256E2C  40 81 00 54 */	ble lbl_80261100
lbl_802610B0:
/* 802610B0 00256E30  80 E5 00 0C */	lwz r7, 0xc(r5)
/* 802610B4 00256E34  80 C5 00 10 */	lwz r6, 0x10(r5)
/* 802610B8 00256E38  7C 07 30 40 */	cmplw r7, r6
/* 802610BC 00256E3C  41 80 00 0C */	blt lbl_802610C8
/* 802610C0 00256E40  38 80 FF 70 */	li r4, -144
/* 802610C4 00256E44  48 00 00 20 */	b lbl_802610E4
lbl_802610C8:
/* 802610C8 00256E48  38 87 00 01 */	addi r4, r7, 1
/* 802610CC 00256E4C  90 85 00 0C */	stw r4, 0xc(r5)
/* 802610D0 00256E50  7C 86 20 10 */	subfc r4, r6, r4
/* 802610D4 00256E54  7C 86 01 94 */	addze r4, r6
/* 802610D8 00256E58  7C 84 30 50 */	subf r4, r4, r6
/* 802610DC 00256E5C  89 07 00 00 */	lbz r8, 0(r7)
/* 802610E0 00256E60  7C 04 20 38 */	and r4, r0, r4
lbl_802610E4:
/* 802610E4 00256E64  2C 04 00 00 */	cmpwi r4, 0
/* 802610E8 00256E68  99 03 00 00 */	stb r8, 0(r3)
/* 802610EC 00256E6C  38 63 00 01 */	addi r3, r3, 1
/* 802610F0 00256E70  40 80 00 0C */	bge lbl_802610FC
/* 802610F4 00256E74  7C 83 23 78 */	mr r3, r4
/* 802610F8 00256E78  4E 80 00 20 */	blr 
lbl_802610FC:
/* 802610FC 00256E7C  42 00 FF B4 */	bdnz lbl_802610B0
lbl_80261100:
/* 80261100 00256E80  38 60 00 00 */	li r3, 0
/* 80261104 00256E84  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_move_ptr
TMCC_JPEGDEC_move_ptr:
/* 80261108 00256E88  2C 03 00 00 */	cmpwi r3, 0
/* 8026110C 00256E8C  41 80 00 38 */	blt lbl_80261144
/* 80261110 00256E90  80 C4 00 0C */	lwz r6, 0xc(r4)
/* 80261114 00256E94  80 A4 00 10 */	lwz r5, 0x10(r4)
/* 80261118 00256E98  7C 06 28 50 */	subf r0, r6, r5
/* 8026111C 00256E9C  7C 00 18 00 */	cmpw r0, r3
/* 80261120 00256EA0  41 80 00 1C */	blt lbl_8026113C
/* 80261124 00256EA4  7C 06 1A 14 */	add r0, r6, r3
/* 80261128 00256EA8  7C 05 00 40 */	cmplw r5, r0
/* 8026112C 00256EAC  90 04 00 0C */	stw r0, 0xc(r4)
/* 80261130 00256EB0  41 81 00 40 */	bgt lbl_80261170
/* 80261134 00256EB4  38 60 FF 70 */	li r3, -144
/* 80261138 00256EB8  4E 80 00 20 */	blr 
lbl_8026113C:
/* 8026113C 00256EBC  38 60 FF 70 */	li r3, -144
/* 80261140 00256EC0  4E 80 00 20 */	blr 
lbl_80261144:
/* 80261144 00256EC4  7C A3 00 D0 */	neg r5, r3
/* 80261148 00256EC8  80 04 00 08 */	lwz r0, 8(r4)
/* 8026114C 00256ECC  80 64 00 0C */	lwz r3, 0xc(r4)
/* 80261150 00256ED0  7C 00 18 50 */	subf r0, r0, r3
/* 80261154 00256ED4  7C 00 28 00 */	cmpw r0, r5
/* 80261158 00256ED8  41 80 00 10 */	blt lbl_80261168
/* 8026115C 00256EDC  7C 05 18 50 */	subf r0, r5, r3
/* 80261160 00256EE0  90 04 00 0C */	stw r0, 0xc(r4)
/* 80261164 00256EE4  48 00 00 0C */	b lbl_80261170
lbl_80261168:
/* 80261168 00256EE8  38 60 FF 70 */	li r3, -144
/* 8026116C 00256EEC  4E 80 00 20 */	blr 
lbl_80261170:
/* 80261170 00256EF0  38 60 00 00 */	li r3, 0
/* 80261174 00256EF4  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_load_buff
TMCC_JPEGDEC_load_buff:
/* 80261178 00256EF8  80 C3 00 0C */	lwz r6, 0xc(r3)
/* 8026117C 00256EFC  80 03 00 14 */	lwz r0, 0x14(r3)
/* 80261180 00256F00  7C 06 00 40 */	cmplw r6, r0
/* 80261184 00256F04  40 80 00 44 */	bge lbl_802611C8
/* 80261188 00256F08  80 03 00 00 */	lwz r0, 0(r3)
/* 8026118C 00256F0C  80 83 00 04 */	lwz r4, 4(r3)
lbl_80261190:
/* 80261190 00256F10  88 A6 00 00 */	lbz r5, 0(r6)
/* 80261194 00256F14  54 00 40 2E */	slwi r0, r0, 8
/* 80261198 00256F18  38 C6 00 01 */	addi r6, r6, 1
/* 8026119C 00256F1C  38 84 00 08 */	addi r4, r4, 8
/* 802611A0 00256F20  28 05 00 FF */	cmplwi r5, 0xff
/* 802611A4 00256F24  7C 00 2A 14 */	add r0, r0, r5
/* 802611A8 00256F28  40 82 00 08 */	bne lbl_802611B0
/* 802611AC 00256F2C  38 C6 00 01 */	addi r6, r6, 1
lbl_802611B0:
/* 802611B0 00256F30  2C 04 00 18 */	cmpwi r4, 0x18
/* 802611B4 00256F34  40 81 FF DC */	ble lbl_80261190
/* 802611B8 00256F38  90 03 00 00 */	stw r0, 0(r3)
/* 802611BC 00256F3C  90 83 00 04 */	stw r4, 4(r3)
/* 802611C0 00256F40  90 C3 00 0C */	stw r6, 0xc(r3)
/* 802611C4 00256F44  48 00 00 58 */	b lbl_8026121C
lbl_802611C8:
/* 802611C8 00256F48  80 83 00 0C */	lwz r4, 0xc(r3)
/* 802611CC 00256F4C  80 03 00 10 */	lwz r0, 0x10(r3)
/* 802611D0 00256F50  7C 00 20 40 */	cmplw r0, r4
/* 802611D4 00256F54  40 81 00 48 */	ble lbl_8026121C
/* 802611D8 00256F58  80 03 00 00 */	lwz r0, 0(r3)
/* 802611DC 00256F5C  38 C4 00 01 */	addi r6, r4, 1
/* 802611E0 00256F60  88 E4 00 00 */	lbz r7, 0(r4)
/* 802611E4 00256F64  54 00 40 2E */	slwi r0, r0, 8
/* 802611E8 00256F68  80 83 00 04 */	lwz r4, 4(r3)
/* 802611EC 00256F6C  7C A0 3A 14 */	add r5, r0, r7
/* 802611F0 00256F70  28 07 00 FF */	cmplwi r7, 0xff
/* 802611F4 00256F74  38 04 00 08 */	addi r0, r4, 8
/* 802611F8 00256F78  90 C3 00 0C */	stw r6, 0xc(r3)
/* 802611FC 00256F7C  90 A3 00 00 */	stw r5, 0(r3)
/* 80261200 00256F80  90 03 00 04 */	stw r0, 4(r3)
/* 80261204 00256F84  40 82 00 0C */	bne lbl_80261210
/* 80261208 00256F88  38 06 00 01 */	addi r0, r6, 1
/* 8026120C 00256F8C  90 03 00 0C */	stw r0, 0xc(r3)
lbl_80261210:
/* 80261210 00256F90  80 03 00 04 */	lwz r0, 4(r3)
/* 80261214 00256F94  2C 00 00 18 */	cmpwi r0, 0x18
/* 80261218 00256F98  40 81 FF B0 */	ble lbl_802611C8
lbl_8026121C:
/* 8026121C 00256F9C  38 60 00 00 */	li r3, 0
/* 80261220 00256FA0  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_get_position
TMCC_JPEGDEC_get_position:
/* 80261224 00256FA4  80 83 00 08 */	lwz r4, 8(r3)
/* 80261228 00256FA8  80 03 00 0C */	lwz r0, 0xc(r3)
/* 8026122C 00256FAC  7C 64 00 50 */	subf r3, r4, r0
/* 80261230 00256FB0  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_chk_possible_size
TMCC_JPEGDEC_chk_possible_size:
/* 80261234 00256FB4  80 83 00 0C */	lwz r4, 0xc(r3)
/* 80261238 00256FB8  80 03 00 10 */	lwz r0, 0x10(r3)
/* 8026123C 00256FBC  7C 64 00 50 */	subf r3, r4, r0
/* 80261240 00256FC0  4E 80 00 20 */	blr 

.global TMCC_JPEGDEC_set_thumbnaildata
TMCC_JPEGDEC_set_thumbnaildata:
/* 80261244 00256FC4  7C A4 2A 14 */	add r5, r4, r5
/* 80261248 00256FC8  90 83 00 0C */	stw r4, 0xc(r3)
/* 8026124C 00256FCC  38 05 FF F6 */	addi r0, r5, -10
/* 80261250 00256FD0  90 83 00 08 */	stw r4, 8(r3)
/* 80261254 00256FD4  90 A3 00 10 */	stw r5, 0x10(r3)
/* 80261258 00256FD8  90 03 00 14 */	stw r0, 0x14(r3)
/* 8026125C 00256FDC  38 60 00 00 */	li r3, 0
/* 80261260 00256FE0  4E 80 00 20 */	blr 

