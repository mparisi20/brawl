.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gfArchiveDatabase$7create
gfArchiveDatabase$7create:
/* 8001643C 0000C1BC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80016440 0000C1C0  7C 08 02 A6 */	mflr r0
/* 80016444 0000C1C4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80016448 0000C1C8  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8001644C 0000C1CC  7C 7F 1B 78 */	mr r31, r3
/* 80016450 0000C1D0  7C 83 23 78 */	mr r3, r4
/* 80016454 0000C1D4  1C 9F 00 0C */	mulli r4, r31, 0xc
/* 80016458 0000C1D8  38 84 00 08 */	addi r4, r4, 8
/* 8001645C 0000C1DC  48 00 E5 89 */	bl gfHeapManager$7alloc
/* 80016460 0000C1E0  2C 03 00 00 */	cmpwi r3, 0
/* 80016464 0000C1E4  41 82 00 5C */	beq lbl_800164C0
/* 80016468 0000C1E8  38 03 00 08 */	addi r0, r3, 8
/* 8001646C 0000C1EC  38 80 00 00 */	li r4, 0
/* 80016470 0000C1F0  90 03 00 04 */	stw r0, 4(r3)
/* 80016474 0000C1F4  38 C0 00 00 */	li r6, 0
/* 80016478 0000C1F8  38 E0 00 00 */	li r7, 0
/* 8001647C 0000C1FC  B3 E3 00 00 */	sth r31, 0(r3)
/* 80016480 0000C200  B0 83 00 02 */	sth r4, 2(r3)
/* 80016484 0000C204  48 00 00 30 */	b lbl_800164B4
lbl_80016488:
/* 80016488 0000C208  80 03 00 04 */	lwz r0, 4(r3)
/* 8001648C 0000C20C  38 C6 00 01 */	addi r6, r6, 1
/* 80016490 0000C210  7C 87 01 2E */	stwx r4, r7, r0
/* 80016494 0000C214  7C A0 3A 14 */	add r5, r0, r7
/* 80016498 0000C218  38 E7 00 0C */	addi r7, r7, 0xc
/* 8001649C 0000C21C  88 05 00 04 */	lbz r0, 4(r5)
/* 800164A0 0000C220  54 00 06 F2 */	rlwinm r0, r0, 0, 0x1b, 0x19
/* 800164A4 0000C224  50 00 16 30 */	rlwimi r0, r0, 2, 0x18, 0x18
/* 800164A8 0000C228  60 00 00 40 */	ori r0, r0, 0x40
/* 800164AC 0000C22C  98 05 00 04 */	stb r0, 4(r5)
/* 800164B0 0000C230  90 85 00 08 */	stw r4, 8(r5)
lbl_800164B4:
/* 800164B4 0000C234  A0 03 00 00 */	lhz r0, 0(r3)
/* 800164B8 0000C238  7C 06 00 00 */	cmpw r6, r0
/* 800164BC 0000C23C  41 80 FF CC */	blt lbl_80016488
lbl_800164C0:
/* 800164C0 0000C240  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800164C4 0000C244  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800164C8 0000C248  7C 08 03 A6 */	mtlr r0
/* 800164CC 0000C24C  38 21 00 10 */	addi r1, r1, 0x10
/* 800164D0 0000C250  4E 80 00 20 */	blr 

.global gfArchiveDatabase$7__dt
gfArchiveDatabase$7__dt:
/* 800164D4 0000C254  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 800164D8 0000C258  7C 08 02 A6 */	mflr r0
/* 800164DC 0000C25C  90 01 00 24 */	stw r0, 0x24(r1)
/* 800164E0 0000C260  39 61 00 20 */	addi r11, r1, 0x20
/* 800164E4 0000C264  48 3D AE 39 */	bl _savegpr_26
/* 800164E8 0000C268  2C 03 00 00 */	cmpwi r3, 0
/* 800164EC 0000C26C  7C 7C 1B 78 */	mr r28, r3
/* 800164F0 0000C270  7C 9D 23 78 */	mr r29, r4
/* 800164F4 0000C274  41 82 00 C0 */	beq lbl_800165B4
/* 800164F8 0000C278  3B C0 00 00 */	li r30, 0
/* 800164FC 0000C27C  3B E0 00 00 */	li r31, 0
/* 80016500 0000C280  3B 60 00 00 */	li r27, 0
/* 80016504 0000C284  48 00 00 84 */	b lbl_80016588
lbl_80016508:
/* 80016508 0000C288  80 1C 00 04 */	lwz r0, 4(r28)
/* 8001650C 0000C28C  7F 40 FA 14 */	add r26, r0, r31
/* 80016510 0000C290  88 1A 00 04 */	lbz r0, 4(r26)
/* 80016514 0000C294  54 00 DF FF */	rlwinm. r0, r0, 0x1b, 0x1f, 0x1f
/* 80016518 0000C298  41 82 00 68 */	beq lbl_80016580
/* 8001651C 0000C29C  80 9A 00 00 */	lwz r4, 0(r26)
/* 80016520 0000C2A0  A8 64 00 0A */	lha r3, 0xa(r4)
/* 80016524 0000C2A4  38 63 FF FF */	addi r3, r3, -1
/* 80016528 0000C2A8  7C 60 07 35 */	extsh. r0, r3
/* 8001652C 0000C2AC  B0 64 00 0A */	sth r3, 0xa(r4)
/* 80016530 0000C2B0  40 82 00 2C */	bne lbl_8001655C
/* 80016534 0000C2B4  88 1A 00 04 */	lbz r0, 4(r26)
/* 80016538 0000C2B8  54 00 D7 FF */	rlwinm. r0, r0, 0x1a, 0x1f, 0x1f
/* 8001653C 0000C2BC  41 82 00 10 */	beq lbl_8001654C
/* 80016540 0000C2C0  80 7A 00 00 */	lwz r3, 0(r26)
/* 80016544 0000C2C4  38 80 00 01 */	li r4, 1
/* 80016548 0000C2C8  4B FF D5 D5 */	bl gfArchive$7__dt
lbl_8001654C:
/* 8001654C 0000C2CC  93 7A 00 00 */	stw r27, 0(r26)
/* 80016550 0000C2D0  88 1A 00 04 */	lbz r0, 4(r26)
/* 80016554 0000C2D4  54 00 06 F2 */	rlwinm r0, r0, 0, 0x1b, 0x19
/* 80016558 0000C2D8  98 1A 00 04 */	stb r0, 4(r26)
lbl_8001655C:
/* 8001655C 0000C2DC  80 1C 00 04 */	lwz r0, 4(r28)
/* 80016560 0000C2E0  7F 7F 01 2E */	stwx r27, r31, r0
/* 80016564 0000C2E4  7C 60 FA 14 */	add r3, r0, r31
/* 80016568 0000C2E8  88 03 00 04 */	lbz r0, 4(r3)
/* 8001656C 0000C2EC  54 00 06 F2 */	rlwinm r0, r0, 0, 0x1b, 0x19
/* 80016570 0000C2F0  50 00 16 30 */	rlwimi r0, r0, 2, 0x18, 0x18
/* 80016574 0000C2F4  60 00 00 40 */	ori r0, r0, 0x40
/* 80016578 0000C2F8  98 03 00 04 */	stb r0, 4(r3)
/* 8001657C 0000C2FC  93 63 00 08 */	stw r27, 8(r3)
lbl_80016580:
/* 80016580 0000C300  3B FF 00 0C */	addi r31, r31, 0xc
/* 80016584 0000C304  3B DE 00 01 */	addi r30, r30, 1
lbl_80016588:
/* 80016588 0000C308  A0 1C 00 00 */	lhz r0, 0(r28)
/* 8001658C 0000C30C  7C 1E 00 00 */	cmpw r30, r0
/* 80016590 0000C310  41 80 FF 78 */	blt lbl_80016508
/* 80016594 0000C314  38 00 00 00 */	li r0, 0
/* 80016598 0000C318  2C 1D 00 00 */	cmpwi r29, 0
/* 8001659C 0000C31C  90 1C 00 04 */	stw r0, 4(r28)
/* 800165A0 0000C320  B0 1C 00 00 */	sth r0, 0(r28)
/* 800165A4 0000C324  B0 1C 00 02 */	sth r0, 2(r28)
/* 800165A8 0000C328  40 81 00 0C */	ble lbl_800165B4
/* 800165AC 0000C32C  7F 83 E3 78 */	mr r3, r28
/* 800165B0 0000C330  4B FF 63 19 */	bl __dl
lbl_800165B4:
/* 800165B4 0000C334  39 61 00 20 */	addi r11, r1, 0x20
/* 800165B8 0000C338  7F 83 E3 78 */	mr r3, r28
/* 800165BC 0000C33C  48 3D AD AD */	bl _restgpr_26
/* 800165C0 0000C340  80 01 00 24 */	lwz r0, 0x24(r1)
/* 800165C4 0000C344  7C 08 03 A6 */	mtlr r0
/* 800165C8 0000C348  38 21 00 20 */	addi r1, r1, 0x20
/* 800165CC 0000C34C  4E 80 00 20 */	blr 

.global gfArchiveDatabase$7add
gfArchiveDatabase$7add:
/* 800165D0 0000C350  A0 03 00 00 */	lhz r0, 0(r3)
/* 800165D4 0000C354  38 E0 00 00 */	li r7, 0
/* 800165D8 0000C358  39 00 00 00 */	li r8, 0
/* 800165DC 0000C35C  7C 09 03 A6 */	mtctr r0
/* 800165E0 0000C360  2C 00 00 00 */	cmpwi r0, 0
/* 800165E4 0000C364  40 81 00 28 */	ble lbl_8001660C
lbl_800165E8:
/* 800165E8 0000C368  80 03 00 04 */	lwz r0, 4(r3)
/* 800165EC 0000C36C  7C C0 42 14 */	add r6, r0, r8
/* 800165F0 0000C370  88 06 00 04 */	lbz r0, 4(r6)
/* 800165F4 0000C374  54 00 DF FF */	rlwinm. r0, r0, 0x1b, 0x1f, 0x1f
/* 800165F8 0000C378  40 82 00 08 */	bne lbl_80016600
/* 800165FC 0000C37C  48 00 00 14 */	b lbl_80016610
lbl_80016600:
/* 80016600 0000C380  39 08 00 0C */	addi r8, r8, 0xc
/* 80016604 0000C384  38 E7 00 01 */	addi r7, r7, 1
/* 80016608 0000C388  42 00 FF E0 */	bdnz lbl_800165E8
lbl_8001660C:
/* 8001660C 0000C38C  38 E0 FF FF */	li r7, -1
lbl_80016610:
/* 80016610 0000C390  A8 C4 00 0A */	lha r6, 0xa(r4)
/* 80016614 0000C394  1D 07 00 0C */	mulli r8, r7, 0xc
/* 80016618 0000C398  38 06 00 01 */	addi r0, r6, 1
/* 8001661C 0000C39C  B0 04 00 0A */	sth r0, 0xa(r4)
/* 80016620 0000C3A0  80 C3 00 04 */	lwz r6, 4(r3)
/* 80016624 0000C3A4  7C 86 41 2E */	stwx r4, r6, r8
/* 80016628 0000C3A8  80 03 00 04 */	lwz r0, 4(r3)
/* 8001662C 0000C3AC  7C 80 42 14 */	add r4, r0, r8
/* 80016630 0000C3B0  88 04 00 04 */	lbz r0, 4(r4)
/* 80016634 0000C3B4  60 00 00 20 */	ori r0, r0, 0x20
/* 80016638 0000C3B8  98 04 00 04 */	stb r0, 4(r4)
/* 8001663C 0000C3BC  80 03 00 04 */	lwz r0, 4(r3)
/* 80016640 0000C3C0  7C 80 42 14 */	add r4, r0, r8
/* 80016644 0000C3C4  88 04 00 04 */	lbz r0, 4(r4)
/* 80016648 0000C3C8  50 A0 36 72 */	rlwimi r0, r5, 6, 0x19, 0x19
/* 8001664C 0000C3CC  98 04 00 04 */	stb r0, 4(r4)
/* 80016650 0000C3D0  A0 83 00 02 */	lhz r4, 2(r3)
/* 80016654 0000C3D4  38 04 00 01 */	addi r0, r4, 1
/* 80016658 0000C3D8  B0 03 00 02 */	sth r0, 2(r3)
/* 8001665C 0000C3DC  7C E3 3B 78 */	mr r3, r7
/* 80016660 0000C3E0  4E 80 00 20 */	blr 

.global gfArchiveDatabase$7get
gfArchiveDatabase$7get:
/* 80016664 0000C3E4  1C 04 00 0C */	mulli r0, r4, 0xc
/* 80016668 0000C3E8  80 83 00 04 */	lwz r4, 4(r3)
/* 8001666C 0000C3EC  38 60 00 00 */	li r3, 0
/* 80016670 0000C3F0  7C 84 02 14 */	add r4, r4, r0
/* 80016674 0000C3F4  88 04 00 04 */	lbz r0, 4(r4)
/* 80016678 0000C3F8  54 00 DF FF */	rlwinm. r0, r0, 0x1b, 0x1f, 0x1f
/* 8001667C 0000C3FC  4D 82 00 20 */	beqlr 
/* 80016680 0000C400  80 64 00 00 */	lwz r3, 0(r4)
/* 80016684 0000C404  4E 80 00 20 */	blr 

