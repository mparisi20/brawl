.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global PFFAT_ReadFATSector
PFFAT_ReadFATSector:
/* 803DF760 003D54E0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803DF764 003D54E4  7C 08 02 A6 */	mflr r0
/* 803DF768 003D54E8  90 01 00 24 */	stw r0, 0x24(r1)
/* 803DF76C 003D54EC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803DF770 003D54F0  7C 9F 23 78 */	mr r31, r4
/* 803DF774 003D54F4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803DF778 003D54F8  7C 7E 1B 78 */	mr r30, r3
/* 803DF77C 003D54FC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803DF780 003D5500  93 81 00 10 */	stw r28, 0x10(r1)
/* 803DF784 003D5504  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803DF788 003D5508  2C 00 00 01 */	cmpwi r0, 1
/* 803DF78C 003D550C  41 82 00 30 */	beq lbl_803DF7BC
/* 803DF790 003D5510  40 80 00 10 */	bge lbl_803DF7A0
/* 803DF794 003D5514  2C 00 00 00 */	cmpwi r0, 0
/* 803DF798 003D5518  40 80 00 14 */	bge lbl_803DF7AC
/* 803DF79C 003D551C  48 00 00 30 */	b lbl_803DF7CC
lbl_803DF7A0:
/* 803DF7A0 003D5520  2C 00 00 03 */	cmpwi r0, 3
/* 803DF7A4 003D5524  40 80 00 28 */	bge lbl_803DF7CC
/* 803DF7A8 003D5528  48 00 00 1C */	b lbl_803DF7C4
lbl_803DF7AC:
/* 803DF7AC 003D552C  54 A0 F8 7E */	srwi r0, r5, 1
/* 803DF7B0 003D5530  7C 05 02 14 */	add r0, r5, r0
/* 803DF7B4 003D5534  54 06 04 3E */	clrlwi r6, r0, 0x10
/* 803DF7B8 003D5538  48 00 00 1C */	b lbl_803DF7D4
lbl_803DF7BC:
/* 803DF7BC 003D553C  54 A6 08 3C */	slwi r6, r5, 1
/* 803DF7C0 003D5540  48 00 00 14 */	b lbl_803DF7D4
lbl_803DF7C4:
/* 803DF7C4 003D5544  54 A6 10 3A */	slwi r6, r5, 2
/* 803DF7C8 003D5548  48 00 00 0C */	b lbl_803DF7D4
lbl_803DF7CC:
/* 803DF7CC 003D554C  38 60 00 0F */	li r3, 0xf
/* 803DF7D0 003D5550  48 00 00 C4 */	b lbl_803DF894
lbl_803DF7D4:
/* 803DF7D4 003D5554  88 03 00 20 */	lbz r0, 0x20(r3)
/* 803DF7D8 003D5558  3B 80 00 01 */	li r28, 1
/* 803DF7DC 003D555C  80 A3 00 28 */	lwz r5, 0x28(r3)
/* 803DF7E0 003D5560  7C C0 04 30 */	srw r0, r6, r0
/* 803DF7E4 003D5564  7C 05 02 14 */	add r0, r5, r0
/* 803DF7E8 003D5568  54 00 04 3E */	clrlwi r0, r0, 0x10
/* 803DF7EC 003D556C  90 04 00 18 */	stw r0, 0x18(r4)
/* 803DF7F0 003D5570  A0 63 00 18 */	lhz r3, 0x18(r3)
/* 803DF7F4 003D5574  54 60 06 31 */	rlwinm. r0, r3, 0, 0x18, 0x18
/* 803DF7F8 003D5578  41 82 00 08 */	beq lbl_803DF800
/* 803DF7FC 003D557C  54 7C 07 7E */	clrlwi r28, r3, 0x1d
lbl_803DF800:
/* 803DF800 003D5580  80 9F 00 08 */	lwz r4, 8(r31)
/* 803DF804 003D5584  7F C3 F3 78 */	mr r3, r30
/* 803DF808 003D5588  80 BF 00 18 */	lwz r5, 0x18(r31)
/* 803DF80C 003D558C  38 C0 00 00 */	li r6, 0
/* 803DF810 003D5590  A0 FE 00 00 */	lhz r7, 0(r30)
/* 803DF814 003D5594  48 00 95 AD */	bl PFSEC_ReadFAT
/* 803DF818 003D5598  2C 03 10 00 */	cmpwi r3, 0x1000
/* 803DF81C 003D559C  7C 7D 1B 78 */	mr r29, r3
/* 803DF820 003D55A0  40 82 00 58 */	bne lbl_803DF878
/* 803DF824 003D55A4  81 9E 1F C0 */	lwz r12, 0x1fc0(r30)
/* 803DF828 003D55A8  2C 0C 00 00 */	cmpwi r12, 0
/* 803DF82C 003D55AC  41 82 00 4C */	beq lbl_803DF878
/* 803DF830 003D55B0  80 7E 1F 84 */	lwz r3, 0x1f84(r30)
/* 803DF834 003D55B4  7D 89 03 A6 */	mtctr r12
/* 803DF838 003D55B8  4E 80 04 21 */	bctrl 
/* 803DF83C 003D55BC  2C 03 00 00 */	cmpwi r3, 0
/* 803DF840 003D55C0  41 82 00 48 */	beq lbl_803DF888
/* 803DF844 003D55C4  2C 03 00 01 */	cmpwi r3, 1
/* 803DF848 003D55C8  40 82 00 30 */	bne lbl_803DF878
/* 803DF84C 003D55CC  88 1E 00 22 */	lbz r0, 0x22(r30)
/* 803DF850 003D55D0  28 00 00 02 */	cmplwi r0, 2
/* 803DF854 003D55D4  41 80 00 24 */	blt lbl_803DF878
/* 803DF858 003D55D8  7C 1C 00 40 */	cmplw r28, r0
/* 803DF85C 003D55DC  40 80 00 1C */	bge lbl_803DF878
/* 803DF860 003D55E0  80 7F 00 18 */	lwz r3, 0x18(r31)
/* 803DF864 003D55E4  3B 9C 00 01 */	addi r28, r28, 1
/* 803DF868 003D55E8  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 803DF86C 003D55EC  7C 03 02 14 */	add r0, r3, r0
/* 803DF870 003D55F0  90 1F 00 18 */	stw r0, 0x18(r31)
/* 803DF874 003D55F4  48 00 00 14 */	b lbl_803DF888
lbl_803DF878:
/* 803DF878 003D55F8  2C 1D 00 00 */	cmpwi r29, 0
/* 803DF87C 003D55FC  41 82 00 0C */	beq lbl_803DF888
/* 803DF880 003D5600  7F A3 EB 78 */	mr r3, r29
/* 803DF884 003D5604  48 00 00 10 */	b lbl_803DF894
lbl_803DF888:
/* 803DF888 003D5608  2C 1D 00 00 */	cmpwi r29, 0
/* 803DF88C 003D560C  40 82 FF 74 */	bne lbl_803DF800
/* 803DF890 003D5610  7F A3 EB 78 */	mr r3, r29
lbl_803DF894:
/* 803DF894 003D5614  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803DF898 003D5618  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803DF89C 003D561C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803DF8A0 003D5620  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803DF8A4 003D5624  83 81 00 10 */	lwz r28, 0x10(r1)
/* 803DF8A8 003D5628  7C 08 03 A6 */	mtlr r0
/* 803DF8AC 003D562C  38 21 00 20 */	addi r1, r1, 0x20
/* 803DF8B0 003D5630  4E 80 00 20 */	blr 

.global PFFAT_SearchForNumFreeClusters
PFFAT_SearchForNumFreeClusters:
/* 803DF8B4 003D5634  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 803DF8B8 003D5638  7C 08 02 A6 */	mflr r0
/* 803DF8BC 003D563C  90 01 00 54 */	stw r0, 0x54(r1)
/* 803DF8C0 003D5640  39 61 00 50 */	addi r11, r1, 0x50
/* 803DF8C4 003D5644  48 01 1A 3D */	bl _savegpr_19
/* 803DF8C8 003D5648  38 00 FF FF */	li r0, -1
/* 803DF8CC 003D564C  28 04 00 02 */	cmplwi r4, 2
/* 803DF8D0 003D5650  90 07 00 00 */	stw r0, 0(r7)
/* 803DF8D4 003D5654  7C 74 1B 78 */	mr r20, r3
/* 803DF8D8 003D5658  7C 95 23 78 */	mr r21, r4
/* 803DF8DC 003D565C  7C B6 2B 78 */	mr r22, r5
/* 803DF8E0 003D5660  90 08 00 00 */	stw r0, 0(r8)
/* 803DF8E4 003D5664  7C D7 33 78 */	mr r23, r6
/* 803DF8E8 003D5668  7C F8 3B 78 */	mr r24, r7
/* 803DF8EC 003D566C  7D 19 43 78 */	mr r25, r8
/* 803DF8F0 003D5670  80 63 00 34 */	lwz r3, 0x34(r3)
/* 803DF8F4 003D5674  3B 60 00 00 */	li r27, 0
/* 803DF8F8 003D5678  3B C0 00 00 */	li r30, 0
/* 803DF8FC 003D567C  3B A0 FF FF */	li r29, -1
/* 803DF900 003D5680  3B E3 00 02 */	addi r31, r3, 2
/* 803DF904 003D5684  3B 80 00 00 */	li r28, 0
/* 803DF908 003D5688  41 80 00 0C */	blt lbl_803DF914
/* 803DF90C 003D568C  7C 04 F8 40 */	cmplw r4, r31
/* 803DF910 003D5690  41 80 00 08 */	blt lbl_803DF918
lbl_803DF914:
/* 803DF914 003D5694  3A A0 00 02 */	li r21, 2
lbl_803DF918:
/* 803DF918 003D5698  28 05 00 02 */	cmplwi r5, 2
/* 803DF91C 003D569C  41 80 00 0C */	blt lbl_803DF928
/* 803DF920 003D56A0  7C 05 F8 40 */	cmplw r5, r31
/* 803DF924 003D56A4  41 80 00 08 */	blt lbl_803DF92C
lbl_803DF928:
/* 803DF928 003D56A8  3A DF FF FF */	addi r22, r31, -1
lbl_803DF92C:
/* 803DF92C 003D56AC  7E BA AB 78 */	mr r26, r21
/* 803DF930 003D56B0  7E 83 A3 78 */	mr r3, r20
/* 803DF934 003D56B4  38 A1 00 08 */	addi r5, r1, 8
/* 803DF938 003D56B8  38 C1 00 0C */	addi r6, r1, 0xc
/* 803DF93C 003D56BC  38 80 FF FF */	li r4, -1
/* 803DF940 003D56C0  4B FF AB 15 */	bl PFCACHE_AllocateDataPage
/* 803DF944 003D56C4  2C 03 00 00 */	cmpwi r3, 0
/* 803DF948 003D56C8  41 82 00 08 */	beq lbl_803DF950
/* 803DF94C 003D56CC  48 00 01 98 */	b lbl_803DFAE4
lbl_803DF950:
/* 803DF950 003D56D0  80 81 00 08 */	lwz r4, 8(r1)
/* 803DF954 003D56D4  7E 83 A3 78 */	mr r3, r20
/* 803DF958 003D56D8  7E A5 AB 78 */	mr r5, r21
/* 803DF95C 003D56DC  4B FF FE 05 */	bl PFFAT_ReadFATSector
/* 803DF960 003D56E0  2C 03 00 00 */	cmpwi r3, 0
/* 803DF964 003D56E4  7C 73 1B 78 */	mr r19, r3
/* 803DF968 003D56E8  41 82 00 18 */	beq lbl_803DF980
/* 803DF96C 003D56EC  80 81 00 08 */	lwz r4, 8(r1)
/* 803DF970 003D56F0  7E 83 A3 78 */	mr r3, r20
/* 803DF974 003D56F4  4B FF AB E9 */	bl PFCACHE_FreeDataPage
/* 803DF978 003D56F8  7E 63 9B 78 */	mr r3, r19
/* 803DF97C 003D56FC  48 00 01 68 */	b lbl_803DFAE4
lbl_803DF980:
/* 803DF980 003D5700  80 61 00 08 */	lwz r3, 8(r1)
/* 803DF984 003D5704  38 00 00 00 */	li r0, 0
/* 803DF988 003D5708  3A 60 FF FF */	li r19, -1
/* 803DF98C 003D570C  B0 03 00 02 */	sth r0, 2(r3)
/* 803DF990 003D5710  48 00 01 14 */	b lbl_803DFAA4
lbl_803DF994:
/* 803DF994 003D5714  7C 1F A8 40 */	cmplw r31, r21
/* 803DF998 003D5718  41 81 00 08 */	bgt lbl_803DF9A0
/* 803DF99C 003D571C  3A A0 00 02 */	li r21, 2
lbl_803DF9A0:
/* 803DF9A0 003D5720  80 14 00 1C */	lwz r0, 0x1c(r20)
/* 803DF9A4 003D5724  80 C1 00 08 */	lwz r6, 8(r1)
/* 803DF9A8 003D5728  2C 00 00 01 */	cmpwi r0, 1
/* 803DF9AC 003D572C  41 82 00 34 */	beq lbl_803DF9E0
/* 803DF9B0 003D5730  40 80 00 10 */	bge lbl_803DF9C0
/* 803DF9B4 003D5734  2C 00 00 00 */	cmpwi r0, 0
/* 803DF9B8 003D5738  40 80 00 14 */	bge lbl_803DF9CC
/* 803DF9BC 003D573C  48 00 00 4C */	b lbl_803DFA08
lbl_803DF9C0:
/* 803DF9C0 003D5740  2C 00 00 03 */	cmpwi r0, 3
/* 803DF9C4 003D5744  40 80 00 44 */	bge lbl_803DFA08
/* 803DF9C8 003D5748  48 00 00 2C */	b lbl_803DF9F4
lbl_803DF9CC:
/* 803DF9CC 003D574C  7E 83 A3 78 */	mr r3, r20
/* 803DF9D0 003D5750  56 A4 04 3E */	clrlwi r4, r21, 0x10
/* 803DF9D4 003D5754  38 A1 00 10 */	addi r5, r1, 0x10
/* 803DF9D8 003D5758  48 00 30 99 */	bl PFFAT12_ReadFATEntryWithBuf
/* 803DF9DC 003D575C  48 00 00 30 */	b lbl_803DFA0C
lbl_803DF9E0:
/* 803DF9E0 003D5760  7E 83 A3 78 */	mr r3, r20
/* 803DF9E4 003D5764  7E A4 AB 78 */	mr r4, r21
/* 803DF9E8 003D5768  38 A1 00 10 */	addi r5, r1, 0x10
/* 803DF9EC 003D576C  48 00 35 C5 */	bl PFFAT16_ReadFATEntryWithBuf
/* 803DF9F0 003D5770  48 00 00 1C */	b lbl_803DFA0C
lbl_803DF9F4:
/* 803DF9F4 003D5774  7E 83 A3 78 */	mr r3, r20
/* 803DF9F8 003D5778  7E A4 AB 78 */	mr r4, r21
/* 803DF9FC 003D577C  38 A1 00 10 */	addi r5, r1, 0x10
/* 803DFA00 003D5780  48 00 3A 91 */	bl PFFAT32_ReadFATEntryWithBuf
/* 803DFA04 003D5784  48 00 00 08 */	b lbl_803DFA0C
lbl_803DFA08:
/* 803DFA08 003D5788  38 60 00 0F */	li r3, 0xf
lbl_803DFA0C:
/* 803DFA0C 003D578C  2C 03 00 00 */	cmpwi r3, 0
/* 803DFA10 003D5790  41 82 00 08 */	beq lbl_803DFA18
/* 803DFA14 003D5794  48 00 00 D0 */	b lbl_803DFAE4
lbl_803DFA18:
/* 803DFA18 003D5798  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803DFA1C 003D579C  2C 00 00 00 */	cmpwi r0, 0
/* 803DFA20 003D57A0  40 82 00 3C */	bne lbl_803DFA5C
/* 803DFA24 003D57A4  80 78 00 00 */	lwz r3, 0(r24)
/* 803DFA28 003D57A8  3C 03 00 01 */	addis r0, r3, 1
/* 803DFA2C 003D57AC  28 00 FF FF */	cmplwi r0, 0xffff
/* 803DFA30 003D57B0  40 82 00 08 */	bne lbl_803DFA38
/* 803DFA34 003D57B4  92 B8 00 00 */	stw r21, 0(r24)
lbl_803DFA38:
/* 803DFA38 003D57B8  3B DE 00 01 */	addi r30, r30, 1
/* 803DFA3C 003D57BC  7C 1E B8 40 */	cmplw r30, r23
/* 803DFA40 003D57C0  41 80 00 34 */	blt lbl_803DFA74
/* 803DFA44 003D57C4  92 B9 00 00 */	stw r21, 0(r25)
/* 803DFA48 003D57C8  7E 83 A3 78 */	mr r3, r20
/* 803DFA4C 003D57CC  80 81 00 08 */	lwz r4, 8(r1)
/* 803DFA50 003D57D0  4B FF AB 0D */	bl PFCACHE_FreeDataPage
/* 803DFA54 003D57D4  38 60 00 00 */	li r3, 0
/* 803DFA58 003D57D8  48 00 00 8C */	b lbl_803DFAE4
lbl_803DFA5C:
/* 803DFA5C 003D57DC  7C 1C F0 40 */	cmplw r28, r30
/* 803DFA60 003D57E0  40 80 00 0C */	bge lbl_803DFA6C
/* 803DFA64 003D57E4  83 B8 00 00 */	lwz r29, 0(r24)
/* 803DFA68 003D57E8  7F DC F3 78 */	mr r28, r30
lbl_803DFA6C:
/* 803DFA6C 003D57EC  92 78 00 00 */	stw r19, 0(r24)
/* 803DFA70 003D57F0  3B C0 00 00 */	li r30, 0
lbl_803DFA74:
/* 803DFA74 003D57F4  2C 1B 00 00 */	cmpwi r27, 0
/* 803DFA78 003D57F8  3A B5 00 01 */	addi r21, r21, 1
/* 803DFA7C 003D57FC  40 82 00 28 */	bne lbl_803DFAA4
/* 803DFA80 003D5800  2C 1E 00 00 */	cmpwi r30, 0
/* 803DFA84 003D5804  40 82 00 20 */	bne lbl_803DFAA4
/* 803DFA88 003D5808  28 15 00 02 */	cmplwi r21, 2
/* 803DFA8C 003D580C  40 81 00 18 */	ble lbl_803DFAA4
/* 803DFA90 003D5810  7C 15 B0 40 */	cmplw r21, r22
/* 803DFA94 003D5814  40 82 00 10 */	bne lbl_803DFAA4
/* 803DFA98 003D5818  7F 56 D3 78 */	mr r22, r26
/* 803DFA9C 003D581C  3A A0 00 02 */	li r21, 2
/* 803DFAA0 003D5820  3B 60 00 01 */	li r27, 1
lbl_803DFAA4:
/* 803DFAA4 003D5824  7C 15 B0 40 */	cmplw r21, r22
/* 803DFAA8 003D5828  40 81 FE EC */	ble lbl_803DF994
/* 803DFAAC 003D582C  7C 1C F0 40 */	cmplw r28, r30
/* 803DFAB0 003D5830  40 80 00 0C */	bge lbl_803DFABC
/* 803DFAB4 003D5834  83 B8 00 00 */	lwz r29, 0(r24)
/* 803DFAB8 003D5838  7F DC F3 78 */	mr r28, r30
lbl_803DFABC:
/* 803DFABC 003D583C  2C 1C 00 00 */	cmpwi r28, 0
/* 803DFAC0 003D5840  41 82 00 14 */	beq lbl_803DFAD4
/* 803DFAC4 003D5844  7C 7C EA 14 */	add r3, r28, r29
/* 803DFAC8 003D5848  93 B8 00 00 */	stw r29, 0(r24)
/* 803DFACC 003D584C  38 03 FF FF */	addi r0, r3, -1
/* 803DFAD0 003D5850  90 19 00 00 */	stw r0, 0(r25)
lbl_803DFAD4:
/* 803DFAD4 003D5854  80 81 00 08 */	lwz r4, 8(r1)
/* 803DFAD8 003D5858  7E 83 A3 78 */	mr r3, r20
/* 803DFADC 003D585C  4B FF AA 81 */	bl PFCACHE_FreeDataPage
/* 803DFAE0 003D5860  38 60 00 00 */	li r3, 0
lbl_803DFAE4:
/* 803DFAE4 003D5864  39 61 00 50 */	addi r11, r1, 0x50
/* 803DFAE8 003D5868  48 01 18 65 */	bl _restgpr_19
/* 803DFAEC 003D586C  80 01 00 54 */	lwz r0, 0x54(r1)
/* 803DFAF0 003D5870  7C 08 03 A6 */	mtlr r0
/* 803DFAF4 003D5874  38 21 00 50 */	addi r1, r1, 0x50
/* 803DFAF8 003D5878  4E 80 00 20 */	blr 

.global PFFAT_ResetCluster
PFFAT_ResetCluster:
/* 803DFAFC 003D587C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803DFB00 003D5880  7C 08 02 A6 */	mflr r0
/* 803DFB04 003D5884  90 01 00 34 */	stw r0, 0x34(r1)
/* 803DFB08 003D5888  38 A1 00 10 */	addi r5, r1, 0x10
/* 803DFB0C 003D588C  38 C1 00 0C */	addi r6, r1, 0xc
/* 803DFB10 003D5890  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 803DFB14 003D5894  93 C1 00 28 */	stw r30, 0x28(r1)
/* 803DFB18 003D5898  93 A1 00 24 */	stw r29, 0x24(r1)
/* 803DFB1C 003D589C  7C 9D 23 78 */	mr r29, r4
/* 803DFB20 003D58A0  38 80 FF FF */	li r4, -1
/* 803DFB24 003D58A4  93 81 00 20 */	stw r28, 0x20(r1)
/* 803DFB28 003D58A8  7C 7C 1B 78 */	mr r28, r3
/* 803DFB2C 003D58AC  4B FF A9 29 */	bl PFCACHE_AllocateDataPage
/* 803DFB30 003D58B0  2C 03 00 00 */	cmpwi r3, 0
/* 803DFB34 003D58B4  41 82 00 08 */	beq lbl_803DFB3C
/* 803DFB38 003D58B8  48 00 00 CC */	b lbl_803DFC04
lbl_803DFB3C:
/* 803DFB3C 003D58BC  88 1C 00 21 */	lbz r0, 0x21(r28)
/* 803DFB40 003D58C0  38 7D FF FE */	addi r3, r29, -2
/* 803DFB44 003D58C4  80 9C 00 30 */	lwz r4, 0x30(r28)
/* 803DFB48 003D58C8  3B A0 00 00 */	li r29, 0
/* 803DFB4C 003D58CC  7C 60 00 30 */	slw r0, r3, r0
/* 803DFB50 003D58D0  7F C4 02 14 */	add r30, r4, r0
/* 803DFB54 003D58D4  48 00 00 94 */	b lbl_803DFBE8
lbl_803DFB58:
/* 803DFB58 003D58D8  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803DFB5C 003D58DC  7F FE EA 14 */	add r31, r30, r29
/* 803DFB60 003D58E0  A0 FC 00 00 */	lhz r7, 0(r28)
/* 803DFB64 003D58E4  7F 83 E3 78 */	mr r3, r28
/* 803DFB68 003D58E8  80 84 00 08 */	lwz r4, 8(r4)
/* 803DFB6C 003D58EC  7F E5 FB 78 */	mr r5, r31
/* 803DFB70 003D58F0  39 01 00 08 */	addi r8, r1, 8
/* 803DFB74 003D58F4  38 C0 00 00 */	li r6, 0
/* 803DFB78 003D58F8  39 20 00 01 */	li r9, 1
/* 803DFB7C 003D58FC  48 00 93 09 */	bl PFSEC_ReadData
/* 803DFB80 003D5900  2C 03 00 00 */	cmpwi r3, 0
/* 803DFB84 003D5904  40 82 00 70 */	bne lbl_803DFBF4
/* 803DFB88 003D5908  A0 BC 00 00 */	lhz r5, 0(r28)
/* 803DFB8C 003D590C  80 01 00 08 */	lwz r0, 8(r1)
/* 803DFB90 003D5910  7C 00 28 40 */	cmplw r0, r5
/* 803DFB94 003D5914  40 82 00 60 */	bne lbl_803DFBF4
/* 803DFB98 003D5918  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803DFB9C 003D591C  38 80 00 00 */	li r4, 0
/* 803DFBA0 003D5920  80 63 00 08 */	lwz r3, 8(r3)
/* 803DFBA4 003D5924  4B FF 67 A9 */	bl pf_memset
/* 803DFBA8 003D5928  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803DFBAC 003D592C  7F 83 E3 78 */	mr r3, r28
/* 803DFBB0 003D5930  A0 FC 00 00 */	lhz r7, 0(r28)
/* 803DFBB4 003D5934  7F E5 FB 78 */	mr r5, r31
/* 803DFBB8 003D5938  80 84 00 08 */	lwz r4, 8(r4)
/* 803DFBBC 003D593C  39 01 00 08 */	addi r8, r1, 8
/* 803DFBC0 003D5940  38 C0 00 00 */	li r6, 0
/* 803DFBC4 003D5944  39 20 00 01 */	li r9, 1
/* 803DFBC8 003D5948  48 00 96 99 */	bl PFSEC_WriteData
/* 803DFBCC 003D594C  2C 03 00 00 */	cmpwi r3, 0
/* 803DFBD0 003D5950  40 82 00 24 */	bne lbl_803DFBF4
/* 803DFBD4 003D5954  80 61 00 08 */	lwz r3, 8(r1)
/* 803DFBD8 003D5958  A0 1C 00 00 */	lhz r0, 0(r28)
/* 803DFBDC 003D595C  7C 03 00 40 */	cmplw r3, r0
/* 803DFBE0 003D5960  40 82 00 14 */	bne lbl_803DFBF4
/* 803DFBE4 003D5964  3B BD 00 01 */	addi r29, r29, 1
lbl_803DFBE8:
/* 803DFBE8 003D5968  88 1C 00 06 */	lbz r0, 6(r28)
/* 803DFBEC 003D596C  7C 1D 00 40 */	cmplw r29, r0
/* 803DFBF0 003D5970  41 80 FF 68 */	blt lbl_803DFB58
lbl_803DFBF4:
/* 803DFBF4 003D5974  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803DFBF8 003D5978  7F 83 E3 78 */	mr r3, r28
/* 803DFBFC 003D597C  4B FF A9 61 */	bl PFCACHE_FreeDataPage
/* 803DFC00 003D5980  38 60 00 00 */	li r3, 0
lbl_803DFC04:
/* 803DFC04 003D5984  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803DFC08 003D5988  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 803DFC0C 003D598C  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 803DFC10 003D5990  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 803DFC14 003D5994  83 81 00 20 */	lwz r28, 0x20(r1)
/* 803DFC18 003D5998  7C 08 03 A6 */	mtlr r0
/* 803DFC1C 003D599C  38 21 00 30 */	addi r1, r1, 0x30
/* 803DFC20 003D59A0  4E 80 00 20 */	blr 

.global PFFAT_FindClusterLink
PFFAT_FindClusterLink:
/* 803DFC24 003D59A4  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803DFC28 003D59A8  7C 08 02 A6 */	mflr r0
/* 803DFC2C 003D59AC  90 01 00 34 */	stw r0, 0x34(r1)
/* 803DFC30 003D59B0  39 61 00 30 */	addi r11, r1, 0x30
/* 803DFC34 003D59B4  48 01 16 ED */	bl _savegpr_27
/* 803DFC38 003D59B8  3B A0 FF FF */	li r29, -1
/* 803DFC3C 003D59BC  38 00 00 00 */	li r0, 0
/* 803DFC40 003D59C0  93 A1 00 08 */	stw r29, 8(r1)
/* 803DFC44 003D59C4  7C 7B 1B 78 */	mr r27, r3
/* 803DFC48 003D59C8  7C BE 2B 78 */	mr r30, r5
/* 803DFC4C 003D59CC  7C DF 33 78 */	mr r31, r6
/* 803DFC50 003D59D0  90 06 00 00 */	stw r0, 0(r6)
/* 803DFC54 003D59D4  80 03 00 24 */	lwz r0, 0x24(r3)
/* 803DFC58 003D59D8  2C 00 00 00 */	cmpwi r0, 0
/* 803DFC5C 003D59DC  40 82 00 0C */	bne lbl_803DFC68
/* 803DFC60 003D59E0  38 60 00 00 */	li r3, 0
/* 803DFC64 003D59E4  48 00 01 38 */	b lbl_803DFD9C
lbl_803DFC68:
/* 803DFC68 003D59E8  80 03 00 2C */	lwz r0, 0x2c(r3)
/* 803DFC6C 003D59EC  7C 00 20 40 */	cmplw r0, r4
/* 803DFC70 003D59F0  41 80 01 20 */	blt lbl_803DFD90
/* 803DFC74 003D59F4  A0 E3 00 20 */	lhz r7, 0x20(r3)
/* 803DFC78 003D59F8  38 07 00 01 */	addi r0, r7, 1
/* 803DFC7C 003D59FC  7C E4 03 96 */	divwu r7, r4, r0
/* 803DFC80 003D5A00  7C 07 01 D6 */	mullw r0, r7, r0
/* 803DFC84 003D5A04  7F 80 20 51 */	subf. r28, r0, r4
/* 803DFC88 003D5A08  40 82 00 20 */	bne lbl_803DFCA8
/* 803DFC8C 003D5A0C  80 83 00 1C */	lwz r4, 0x1c(r3)
/* 803DFC90 003D5A10  54 E3 10 3A */	slwi r3, r7, 2
/* 803DFC94 003D5A14  38 00 00 01 */	li r0, 1
/* 803DFC98 003D5A18  7C 64 18 2E */	lwzx r3, r4, r3
/* 803DFC9C 003D5A1C  90 65 00 00 */	stw r3, 0(r5)
/* 803DFCA0 003D5A20  90 06 00 00 */	stw r0, 0(r6)
/* 803DFCA4 003D5A24  48 00 00 F4 */	b lbl_803DFD98
lbl_803DFCA8:
/* 803DFCA8 003D5A28  80 63 00 1C */	lwz r3, 0x1c(r3)
/* 803DFCAC 003D5A2C  54 E0 10 3A */	slwi r0, r7, 2
/* 803DFCB0 003D5A30  7C 83 00 2E */	lwzx r4, r3, r0
/* 803DFCB4 003D5A34  48 00 00 84 */	b lbl_803DFD38
lbl_803DFCB8:
/* 803DFCB8 003D5A38  80 7B 00 34 */	lwz r3, 0x34(r27)
/* 803DFCBC 003D5A3C  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803DFCC0 003D5A40  2C 00 00 01 */	cmpwi r0, 1
/* 803DFCC4 003D5A44  41 82 00 30 */	beq lbl_803DFCF4
/* 803DFCC8 003D5A48  40 80 00 10 */	bge lbl_803DFCD8
/* 803DFCCC 003D5A4C  2C 00 00 00 */	cmpwi r0, 0
/* 803DFCD0 003D5A50  40 80 00 14 */	bge lbl_803DFCE4
/* 803DFCD4 003D5A54  48 00 00 38 */	b lbl_803DFD0C
lbl_803DFCD8:
/* 803DFCD8 003D5A58  2C 00 00 03 */	cmpwi r0, 3
/* 803DFCDC 003D5A5C  40 80 00 30 */	bge lbl_803DFD0C
/* 803DFCE0 003D5A60  48 00 00 20 */	b lbl_803DFD00
lbl_803DFCE4:
/* 803DFCE4 003D5A64  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 803DFCE8 003D5A68  38 A1 00 08 */	addi r5, r1, 8
/* 803DFCEC 003D5A6C  48 00 27 7D */	bl PFFAT12_ReadFATEntry
/* 803DFCF0 003D5A70  48 00 00 24 */	b lbl_803DFD14
lbl_803DFCF4:
/* 803DFCF4 003D5A74  38 A1 00 08 */	addi r5, r1, 8
/* 803DFCF8 003D5A78  48 00 2F E5 */	bl PFFAT16_ReadFATEntry
/* 803DFCFC 003D5A7C  48 00 00 18 */	b lbl_803DFD14
lbl_803DFD00:
/* 803DFD00 003D5A80  38 A1 00 08 */	addi r5, r1, 8
/* 803DFD04 003D5A84  48 00 34 1D */	bl PFFAT32_ReadFATEntry
/* 803DFD08 003D5A88  48 00 00 0C */	b lbl_803DFD14
lbl_803DFD0C:
/* 803DFD0C 003D5A8C  93 A1 00 08 */	stw r29, 8(r1)
/* 803DFD10 003D5A90  38 60 00 0F */	li r3, 0xf
lbl_803DFD14:
/* 803DFD14 003D5A94  2C 03 00 00 */	cmpwi r3, 0
/* 803DFD18 003D5A98  41 82 00 08 */	beq lbl_803DFD20
/* 803DFD1C 003D5A9C  48 00 00 80 */	b lbl_803DFD9C
lbl_803DFD20:
/* 803DFD20 003D5AA0  80 81 00 08 */	lwz r4, 8(r1)
/* 803DFD24 003D5AA4  2C 04 00 00 */	cmpwi r4, 0
/* 803DFD28 003D5AA8  40 82 00 0C */	bne lbl_803DFD34
/* 803DFD2C 003D5AAC  38 60 00 0D */	li r3, 0xd
/* 803DFD30 003D5AB0  48 00 00 6C */	b lbl_803DFD9C
lbl_803DFD34:
/* 803DFD34 003D5AB4  3B 9C FF FF */	addi r28, r28, -1
lbl_803DFD38:
/* 803DFD38 003D5AB8  2C 1C 00 00 */	cmpwi r28, 0
/* 803DFD3C 003D5ABC  40 82 FF 7C */	bne lbl_803DFCB8
/* 803DFD40 003D5AC0  80 A1 00 08 */	lwz r5, 8(r1)
/* 803DFD44 003D5AC4  2C 05 00 00 */	cmpwi r5, 0
/* 803DFD48 003D5AC8  40 82 00 0C */	bne lbl_803DFD54
/* 803DFD4C 003D5ACC  38 60 00 0D */	li r3, 0xd
/* 803DFD50 003D5AD0  48 00 00 4C */	b lbl_803DFD9C
lbl_803DFD54:
/* 803DFD54 003D5AD4  80 7B 00 34 */	lwz r3, 0x34(r27)
/* 803DFD58 003D5AD8  3C 80 80 42 */	lis r4, lbl_8041B0E0@ha
/* 803DFD5C 003D5ADC  38 84 B0 E0 */	addi r4, r4, lbl_8041B0E0@l
/* 803DFD60 003D5AE0  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803DFD64 003D5AE4  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803DFD68 003D5AE8  7C 64 02 14 */	add r3, r4, r0
/* 803DFD6C 003D5AEC  80 03 00 08 */	lwz r0, 8(r3)
/* 803DFD70 003D5AF0  7C 05 00 40 */	cmplw r5, r0
/* 803DFD74 003D5AF4  40 82 00 0C */	bne lbl_803DFD80
/* 803DFD78 003D5AF8  38 60 00 00 */	li r3, 0
/* 803DFD7C 003D5AFC  48 00 00 20 */	b lbl_803DFD9C
lbl_803DFD80:
/* 803DFD80 003D5B00  90 BE 00 00 */	stw r5, 0(r30)
/* 803DFD84 003D5B04  38 00 00 01 */	li r0, 1
/* 803DFD88 003D5B08  90 1F 00 00 */	stw r0, 0(r31)
/* 803DFD8C 003D5B0C  48 00 00 0C */	b lbl_803DFD98
lbl_803DFD90:
/* 803DFD90 003D5B10  38 60 00 00 */	li r3, 0
/* 803DFD94 003D5B14  48 00 00 08 */	b lbl_803DFD9C
lbl_803DFD98:
/* 803DFD98 003D5B18  38 60 00 00 */	li r3, 0
lbl_803DFD9C:
/* 803DFD9C 003D5B1C  39 61 00 30 */	addi r11, r1, 0x30
/* 803DFDA0 003D5B20  48 01 15 CD */	bl _restgpr_27
/* 803DFDA4 003D5B24  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803DFDA8 003D5B28  7C 08 03 A6 */	mtlr r0
/* 803DFDAC 003D5B2C  38 21 00 30 */	addi r1, r1, 0x30
/* 803DFDB0 003D5B30  4E 80 00 20 */	blr 

.global PFFAT_FindClusterLinkWithBuf
PFFAT_FindClusterLinkWithBuf:
/* 803DFDB4 003D5B34  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803DFDB8 003D5B38  7C 08 02 A6 */	mflr r0
/* 803DFDBC 003D5B3C  90 01 00 34 */	stw r0, 0x34(r1)
/* 803DFDC0 003D5B40  39 61 00 30 */	addi r11, r1, 0x30
/* 803DFDC4 003D5B44  48 01 15 5D */	bl _savegpr_27
/* 803DFDC8 003D5B48  39 00 FF FF */	li r8, -1
/* 803DFDCC 003D5B4C  38 00 00 00 */	li r0, 0
/* 803DFDD0 003D5B50  91 01 00 08 */	stw r8, 8(r1)
/* 803DFDD4 003D5B54  7C 7B 1B 78 */	mr r27, r3
/* 803DFDD8 003D5B58  7C BE 2B 78 */	mr r30, r5
/* 803DFDDC 003D5B5C  7C DF 33 78 */	mr r31, r6
/* 803DFDE0 003D5B60  90 06 00 00 */	stw r0, 0(r6)
/* 803DFDE4 003D5B64  7C FC 3B 78 */	mr r28, r7
/* 803DFDE8 003D5B68  80 03 00 24 */	lwz r0, 0x24(r3)
/* 803DFDEC 003D5B6C  2C 00 00 00 */	cmpwi r0, 0
/* 803DFDF0 003D5B70  40 82 00 0C */	bne lbl_803DFDFC
/* 803DFDF4 003D5B74  38 60 00 00 */	li r3, 0
/* 803DFDF8 003D5B78  48 00 01 40 */	b lbl_803DFF38
lbl_803DFDFC:
/* 803DFDFC 003D5B7C  80 03 00 2C */	lwz r0, 0x2c(r3)
/* 803DFE00 003D5B80  7C 00 20 40 */	cmplw r0, r4
/* 803DFE04 003D5B84  41 80 01 28 */	blt lbl_803DFF2C
/* 803DFE08 003D5B88  A0 E3 00 20 */	lhz r7, 0x20(r3)
/* 803DFE0C 003D5B8C  38 07 00 01 */	addi r0, r7, 1
/* 803DFE10 003D5B90  7C E4 03 96 */	divwu r7, r4, r0
/* 803DFE14 003D5B94  7C 07 01 D6 */	mullw r0, r7, r0
/* 803DFE18 003D5B98  7F A0 20 51 */	subf. r29, r0, r4
/* 803DFE1C 003D5B9C  40 82 00 20 */	bne lbl_803DFE3C
/* 803DFE20 003D5BA0  80 83 00 1C */	lwz r4, 0x1c(r3)
/* 803DFE24 003D5BA4  54 E3 10 3A */	slwi r3, r7, 2
/* 803DFE28 003D5BA8  38 00 00 01 */	li r0, 1
/* 803DFE2C 003D5BAC  7C 64 18 2E */	lwzx r3, r4, r3
/* 803DFE30 003D5BB0  90 65 00 00 */	stw r3, 0(r5)
/* 803DFE34 003D5BB4  90 06 00 00 */	stw r0, 0(r6)
/* 803DFE38 003D5BB8  48 00 00 FC */	b lbl_803DFF34
lbl_803DFE3C:
/* 803DFE3C 003D5BBC  80 63 00 1C */	lwz r3, 0x1c(r3)
/* 803DFE40 003D5BC0  54 E0 10 3A */	slwi r0, r7, 2
/* 803DFE44 003D5BC4  7C 83 00 2E */	lwzx r4, r3, r0
/* 803DFE48 003D5BC8  48 00 00 8C */	b lbl_803DFED4
lbl_803DFE4C:
/* 803DFE4C 003D5BCC  80 7B 00 34 */	lwz r3, 0x34(r27)
/* 803DFE50 003D5BD0  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803DFE54 003D5BD4  2C 00 00 01 */	cmpwi r0, 1
/* 803DFE58 003D5BD8  41 82 00 34 */	beq lbl_803DFE8C
/* 803DFE5C 003D5BDC  40 80 00 10 */	bge lbl_803DFE6C
/* 803DFE60 003D5BE0  2C 00 00 00 */	cmpwi r0, 0
/* 803DFE64 003D5BE4  40 80 00 14 */	bge lbl_803DFE78
/* 803DFE68 003D5BE8  48 00 00 44 */	b lbl_803DFEAC
lbl_803DFE6C:
/* 803DFE6C 003D5BEC  2C 00 00 03 */	cmpwi r0, 3
/* 803DFE70 003D5BF0  40 80 00 3C */	bge lbl_803DFEAC
/* 803DFE74 003D5BF4  48 00 00 28 */	b lbl_803DFE9C
lbl_803DFE78:
/* 803DFE78 003D5BF8  7F 86 E3 78 */	mr r6, r28
/* 803DFE7C 003D5BFC  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 803DFE80 003D5C00  38 A1 00 08 */	addi r5, r1, 8
/* 803DFE84 003D5C04  48 00 2B ED */	bl PFFAT12_ReadFATEntryWithBuf
/* 803DFE88 003D5C08  48 00 00 28 */	b lbl_803DFEB0
lbl_803DFE8C:
/* 803DFE8C 003D5C0C  7F 86 E3 78 */	mr r6, r28
/* 803DFE90 003D5C10  38 A1 00 08 */	addi r5, r1, 8
/* 803DFE94 003D5C14  48 00 31 1D */	bl PFFAT16_ReadFATEntryWithBuf
/* 803DFE98 003D5C18  48 00 00 18 */	b lbl_803DFEB0
lbl_803DFE9C:
/* 803DFE9C 003D5C1C  7F 86 E3 78 */	mr r6, r28
/* 803DFEA0 003D5C20  38 A1 00 08 */	addi r5, r1, 8
/* 803DFEA4 003D5C24  48 00 35 ED */	bl PFFAT32_ReadFATEntryWithBuf
/* 803DFEA8 003D5C28  48 00 00 08 */	b lbl_803DFEB0
lbl_803DFEAC:
/* 803DFEAC 003D5C2C  38 60 00 0F */	li r3, 0xf
lbl_803DFEB0:
/* 803DFEB0 003D5C30  2C 03 00 00 */	cmpwi r3, 0
/* 803DFEB4 003D5C34  41 82 00 08 */	beq lbl_803DFEBC
/* 803DFEB8 003D5C38  48 00 00 80 */	b lbl_803DFF38
lbl_803DFEBC:
/* 803DFEBC 003D5C3C  80 81 00 08 */	lwz r4, 8(r1)
/* 803DFEC0 003D5C40  2C 04 00 00 */	cmpwi r4, 0
/* 803DFEC4 003D5C44  40 82 00 0C */	bne lbl_803DFED0
/* 803DFEC8 003D5C48  38 60 00 0D */	li r3, 0xd
/* 803DFECC 003D5C4C  48 00 00 6C */	b lbl_803DFF38
lbl_803DFED0:
/* 803DFED0 003D5C50  3B BD FF FF */	addi r29, r29, -1
lbl_803DFED4:
/* 803DFED4 003D5C54  2C 1D 00 00 */	cmpwi r29, 0
/* 803DFED8 003D5C58  40 82 FF 74 */	bne lbl_803DFE4C
/* 803DFEDC 003D5C5C  80 A1 00 08 */	lwz r5, 8(r1)
/* 803DFEE0 003D5C60  2C 05 00 00 */	cmpwi r5, 0
/* 803DFEE4 003D5C64  40 82 00 0C */	bne lbl_803DFEF0
/* 803DFEE8 003D5C68  38 60 00 0D */	li r3, 0xd
/* 803DFEEC 003D5C6C  48 00 00 4C */	b lbl_803DFF38
lbl_803DFEF0:
/* 803DFEF0 003D5C70  80 7B 00 34 */	lwz r3, 0x34(r27)
/* 803DFEF4 003D5C74  3C 80 80 42 */	lis r4, lbl_8041B0E0@ha
/* 803DFEF8 003D5C78  38 84 B0 E0 */	addi r4, r4, lbl_8041B0E0@l
/* 803DFEFC 003D5C7C  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803DFF00 003D5C80  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803DFF04 003D5C84  7C 64 02 14 */	add r3, r4, r0
/* 803DFF08 003D5C88  80 03 00 08 */	lwz r0, 8(r3)
/* 803DFF0C 003D5C8C  7C 05 00 40 */	cmplw r5, r0
/* 803DFF10 003D5C90  40 82 00 0C */	bne lbl_803DFF1C
/* 803DFF14 003D5C94  38 60 00 00 */	li r3, 0
/* 803DFF18 003D5C98  48 00 00 20 */	b lbl_803DFF38
lbl_803DFF1C:
/* 803DFF1C 003D5C9C  90 BE 00 00 */	stw r5, 0(r30)
/* 803DFF20 003D5CA0  38 00 00 01 */	li r0, 1
/* 803DFF24 003D5CA4  90 1F 00 00 */	stw r0, 0(r31)
/* 803DFF28 003D5CA8  48 00 00 0C */	b lbl_803DFF34
lbl_803DFF2C:
/* 803DFF2C 003D5CAC  38 60 00 00 */	li r3, 0
/* 803DFF30 003D5CB0  48 00 00 08 */	b lbl_803DFF38
lbl_803DFF34:
/* 803DFF34 003D5CB4  38 60 00 00 */	li r3, 0
lbl_803DFF38:
/* 803DFF38 003D5CB8  39 61 00 30 */	addi r11, r1, 0x30
/* 803DFF3C 003D5CBC  48 01 14 31 */	bl _restgpr_27
/* 803DFF40 003D5CC0  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803DFF44 003D5CC4  7C 08 03 A6 */	mtlr r0
/* 803DFF48 003D5CC8  38 21 00 30 */	addi r1, r1, 0x30
/* 803DFF4C 003D5CCC  4E 80 00 20 */	blr 

.global PFFAT_ReadCluster
PFFAT_ReadCluster:
/* 803DFF50 003D5CD0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803DFF54 003D5CD4  7C 08 02 A6 */	mflr r0
/* 803DFF58 003D5CD8  90 01 00 24 */	stw r0, 0x24(r1)
/* 803DFF5C 003D5CDC  39 61 00 20 */	addi r11, r1, 0x20
/* 803DFF60 003D5CE0  48 01 13 C1 */	bl _savegpr_27
/* 803DFF64 003D5CE4  38 00 FF FF */	li r0, -1
/* 803DFF68 003D5CE8  7C 7E 1B 78 */	mr r30, r3
/* 803DFF6C 003D5CEC  90 06 00 00 */	stw r0, 0(r6)
/* 803DFF70 003D5CF0  7C 9B 23 78 */	mr r27, r4
/* 803DFF74 003D5CF4  7C BF 2B 78 */	mr r31, r5
/* 803DFF78 003D5CF8  7C DC 33 78 */	mr r28, r6
/* 803DFF7C 003D5CFC  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803DFF80 003D5D00  7C FD 3B 78 */	mr r29, r7
/* 803DFF84 003D5D04  2C 00 00 00 */	cmpwi r0, 0
/* 803DFF88 003D5D08  41 82 00 2C */	beq lbl_803DFFB4
/* 803DFF8C 003D5D0C  80 07 00 00 */	lwz r0, 0(r7)
/* 803DFF90 003D5D10  28 00 00 01 */	cmplwi r0, 1
/* 803DFF94 003D5D14  40 82 00 20 */	bne lbl_803DFFB4
/* 803DFF98 003D5D18  7F E4 FB 78 */	mr r4, r31
/* 803DFF9C 003D5D1C  7F 85 E3 78 */	mr r5, r28
/* 803DFFA0 003D5D20  7F A6 EB 78 */	mr r6, r29
/* 803DFFA4 003D5D24  4B FF FC 81 */	bl PFFAT_FindClusterLink
/* 803DFFA8 003D5D28  2C 03 00 00 */	cmpwi r3, 0
/* 803DFFAC 003D5D2C  41 82 00 08 */	beq lbl_803DFFB4
/* 803DFFB0 003D5D30  48 00 01 48 */	b lbl_803E00F8
lbl_803DFFB4:
/* 803DFFB4 003D5D34  80 1E 00 1C */	lwz r0, 0x1c(r30)
/* 803DFFB8 003D5D38  2C 00 00 00 */	cmpwi r0, 0
/* 803DFFBC 003D5D3C  41 82 00 10 */	beq lbl_803DFFCC
/* 803DFFC0 003D5D40  80 1D 00 00 */	lwz r0, 0(r29)
/* 803DFFC4 003D5D44  2C 00 00 00 */	cmpwi r0, 0
/* 803DFFC8 003D5D48  40 82 01 2C */	bne lbl_803E00F4
lbl_803DFFCC:
/* 803DFFCC 003D5D4C  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 803DFFD0 003D5D50  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803DFFD4 003D5D54  2C 00 00 01 */	cmpwi r0, 1
/* 803DFFD8 003D5D58  41 82 00 30 */	beq lbl_803E0008
/* 803DFFDC 003D5D5C  40 80 00 10 */	bge lbl_803DFFEC
/* 803DFFE0 003D5D60  2C 00 00 00 */	cmpwi r0, 0
/* 803DFFE4 003D5D64  40 80 00 14 */	bge lbl_803DFFF8
/* 803DFFE8 003D5D68  48 00 00 40 */	b lbl_803E0028
lbl_803DFFEC:
/* 803DFFEC 003D5D6C  2C 00 00 03 */	cmpwi r0, 3
/* 803DFFF0 003D5D70  40 80 00 38 */	bge lbl_803E0028
/* 803DFFF4 003D5D74  48 00 00 24 */	b lbl_803E0018
lbl_803DFFF8:
/* 803DFFF8 003D5D78  7F 85 E3 78 */	mr r5, r28
/* 803DFFFC 003D5D7C  57 64 04 3E */	clrlwi r4, r27, 0x10
/* 803E0000 003D5D80  48 00 24 69 */	bl PFFAT12_ReadFATEntry
/* 803E0004 003D5D84  48 00 00 30 */	b lbl_803E0034
lbl_803E0008:
/* 803E0008 003D5D88  7F 64 DB 78 */	mr r4, r27
/* 803E000C 003D5D8C  7F 85 E3 78 */	mr r5, r28
/* 803E0010 003D5D90  48 00 2C CD */	bl PFFAT16_ReadFATEntry
/* 803E0014 003D5D94  48 00 00 20 */	b lbl_803E0034
lbl_803E0018:
/* 803E0018 003D5D98  7F 64 DB 78 */	mr r4, r27
/* 803E001C 003D5D9C  7F 85 E3 78 */	mr r5, r28
/* 803E0020 003D5DA0  48 00 31 01 */	bl PFFAT32_ReadFATEntry
/* 803E0024 003D5DA4  48 00 00 10 */	b lbl_803E0034
lbl_803E0028:
/* 803E0028 003D5DA8  38 00 FF FF */	li r0, -1
/* 803E002C 003D5DAC  38 60 00 0F */	li r3, 0xf
/* 803E0030 003D5DB0  90 1C 00 00 */	stw r0, 0(r28)
lbl_803E0034:
/* 803E0034 003D5DB4  2C 03 00 00 */	cmpwi r3, 0
/* 803E0038 003D5DB8  41 82 00 08 */	beq lbl_803E0040
/* 803E003C 003D5DBC  48 00 00 BC */	b lbl_803E00F8
lbl_803E0040:
/* 803E0040 003D5DC0  80 DC 00 00 */	lwz r6, 0(r28)
/* 803E0044 003D5DC4  2C 06 00 00 */	cmpwi r6, 0
/* 803E0048 003D5DC8  40 82 00 0C */	bne lbl_803E0054
/* 803E004C 003D5DCC  38 60 00 0D */	li r3, 0xd
/* 803E0050 003D5DD0  48 00 00 A8 */	b lbl_803E00F8
lbl_803E0054:
/* 803E0054 003D5DD4  3C 06 00 01 */	addis r0, r6, 1
/* 803E0058 003D5DD8  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E005C 003D5DDC  40 82 00 0C */	bne lbl_803E0068
/* 803E0060 003D5DE0  38 60 00 06 */	li r3, 6
/* 803E0064 003D5DE4  48 00 00 94 */	b lbl_803E00F8
lbl_803E0068:
/* 803E0068 003D5DE8  80 BE 00 1C */	lwz r5, 0x1c(r30)
/* 803E006C 003D5DEC  2C 05 00 00 */	cmpwi r5, 0
/* 803E0070 003D5DF0  41 82 00 84 */	beq lbl_803E00F4
/* 803E0074 003D5DF4  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 803E0078 003D5DF8  3C 80 80 42 */	lis r4, lbl_8041B0E0@ha
/* 803E007C 003D5DFC  38 84 B0 E0 */	addi r4, r4, lbl_8041B0E0@l
/* 803E0080 003D5E00  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E0084 003D5E04  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E0088 003D5E08  7C 64 02 14 */	add r3, r4, r0
/* 803E008C 003D5E0C  80 03 00 08 */	lwz r0, 8(r3)
/* 803E0090 003D5E10  7C 06 00 40 */	cmplw r6, r0
/* 803E0094 003D5E14  41 82 00 60 */	beq lbl_803E00F4
/* 803E0098 003D5E18  80 9E 00 24 */	lwz r4, 0x24(r30)
/* 803E009C 003D5E1C  80 1E 00 28 */	lwz r0, 0x28(r30)
/* 803E00A0 003D5E20  7C 00 20 40 */	cmplw r0, r4
/* 803E00A4 003D5E24  40 81 00 50 */	ble lbl_803E00F4
/* 803E00A8 003D5E28  2C 00 00 00 */	cmpwi r0, 0
/* 803E00AC 003D5E2C  41 82 00 48 */	beq lbl_803E00F4
/* 803E00B0 003D5E30  A0 7E 00 20 */	lhz r3, 0x20(r30)
/* 803E00B4 003D5E34  38 03 00 01 */	addi r0, r3, 1
/* 803E00B8 003D5E38  7C 04 01 D6 */	mullw r0, r4, r0
/* 803E00BC 003D5E3C  7C 1F 00 40 */	cmplw r31, r0
/* 803E00C0 003D5E40  40 82 00 24 */	bne lbl_803E00E4
/* 803E00C4 003D5E44  38 60 00 00 */	li r3, 0
/* 803E00C8 003D5E48  54 80 10 3A */	slwi r0, r4, 2
/* 803E00CC 003D5E4C  B0 7E 00 22 */	sth r3, 0x22(r30)
/* 803E00D0 003D5E50  7C C5 01 2E */	stwx r6, r5, r0
/* 803E00D4 003D5E54  80 7E 00 24 */	lwz r3, 0x24(r30)
/* 803E00D8 003D5E58  38 03 00 01 */	addi r0, r3, 1
/* 803E00DC 003D5E5C  90 1E 00 24 */	stw r0, 0x24(r30)
/* 803E00E0 003D5E60  48 00 00 10 */	b lbl_803E00F0
lbl_803E00E4:
/* 803E00E4 003D5E64  A0 7E 00 22 */	lhz r3, 0x22(r30)
/* 803E00E8 003D5E68  38 03 00 01 */	addi r0, r3, 1
/* 803E00EC 003D5E6C  B0 1E 00 22 */	sth r0, 0x22(r30)
lbl_803E00F0:
/* 803E00F0 003D5E70  93 FE 00 2C */	stw r31, 0x2c(r30)
lbl_803E00F4:
/* 803E00F4 003D5E74  38 60 00 00 */	li r3, 0
lbl_803E00F8:
/* 803E00F8 003D5E78  39 61 00 20 */	addi r11, r1, 0x20
/* 803E00FC 003D5E7C  48 01 12 71 */	bl _restgpr_27
/* 803E0100 003D5E80  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E0104 003D5E84  7C 08 03 A6 */	mtlr r0
/* 803E0108 003D5E88  38 21 00 20 */	addi r1, r1, 0x20
/* 803E010C 003D5E8C  4E 80 00 20 */	blr 

.global PFFAT_ReadClusterWithBuf
PFFAT_ReadClusterWithBuf:
/* 803E0110 003D5E90  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E0114 003D5E94  7C 08 02 A6 */	mflr r0
/* 803E0118 003D5E98  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E011C 003D5E9C  39 61 00 20 */	addi r11, r1, 0x20
/* 803E0120 003D5EA0  48 01 11 FD */	bl _savegpr_26
/* 803E0124 003D5EA4  38 00 FF FF */	li r0, -1
/* 803E0128 003D5EA8  7C 7E 1B 78 */	mr r30, r3
/* 803E012C 003D5EAC  90 06 00 00 */	stw r0, 0(r6)
/* 803E0130 003D5EB0  7C 9A 23 78 */	mr r26, r4
/* 803E0134 003D5EB4  7C BF 2B 78 */	mr r31, r5
/* 803E0138 003D5EB8  7C DB 33 78 */	mr r27, r6
/* 803E013C 003D5EBC  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E0140 003D5EC0  7C FC 3B 78 */	mr r28, r7
/* 803E0144 003D5EC4  7D 1D 43 78 */	mr r29, r8
/* 803E0148 003D5EC8  2C 00 00 00 */	cmpwi r0, 0
/* 803E014C 003D5ECC  41 82 00 30 */	beq lbl_803E017C
/* 803E0150 003D5ED0  80 07 00 00 */	lwz r0, 0(r7)
/* 803E0154 003D5ED4  28 00 00 01 */	cmplwi r0, 1
/* 803E0158 003D5ED8  40 82 00 24 */	bne lbl_803E017C
/* 803E015C 003D5EDC  7F E4 FB 78 */	mr r4, r31
/* 803E0160 003D5EE0  7F 65 DB 78 */	mr r5, r27
/* 803E0164 003D5EE4  7F 86 E3 78 */	mr r6, r28
/* 803E0168 003D5EE8  7F A7 EB 78 */	mr r7, r29
/* 803E016C 003D5EEC  4B FF FC 49 */	bl PFFAT_FindClusterLinkWithBuf
/* 803E0170 003D5EF0  2C 03 00 00 */	cmpwi r3, 0
/* 803E0174 003D5EF4  41 82 00 08 */	beq lbl_803E017C
/* 803E0178 003D5EF8  48 00 01 4C */	b lbl_803E02C4
lbl_803E017C:
/* 803E017C 003D5EFC  80 1E 00 1C */	lwz r0, 0x1c(r30)
/* 803E0180 003D5F00  2C 00 00 00 */	cmpwi r0, 0
/* 803E0184 003D5F04  41 82 00 10 */	beq lbl_803E0194
/* 803E0188 003D5F08  80 1C 00 00 */	lwz r0, 0(r28)
/* 803E018C 003D5F0C  2C 00 00 00 */	cmpwi r0, 0
/* 803E0190 003D5F10  40 82 01 30 */	bne lbl_803E02C0
lbl_803E0194:
/* 803E0194 003D5F14  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 803E0198 003D5F18  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E019C 003D5F1C  2C 00 00 01 */	cmpwi r0, 1
/* 803E01A0 003D5F20  41 82 00 34 */	beq lbl_803E01D4
/* 803E01A4 003D5F24  40 80 00 10 */	bge lbl_803E01B4
/* 803E01A8 003D5F28  2C 00 00 00 */	cmpwi r0, 0
/* 803E01AC 003D5F2C  40 80 00 14 */	bge lbl_803E01C0
/* 803E01B0 003D5F30  48 00 00 4C */	b lbl_803E01FC
lbl_803E01B4:
/* 803E01B4 003D5F34  2C 00 00 03 */	cmpwi r0, 3
/* 803E01B8 003D5F38  40 80 00 44 */	bge lbl_803E01FC
/* 803E01BC 003D5F3C  48 00 00 2C */	b lbl_803E01E8
lbl_803E01C0:
/* 803E01C0 003D5F40  7F 65 DB 78 */	mr r5, r27
/* 803E01C4 003D5F44  7F A6 EB 78 */	mr r6, r29
/* 803E01C8 003D5F48  57 44 04 3E */	clrlwi r4, r26, 0x10
/* 803E01CC 003D5F4C  48 00 28 A5 */	bl PFFAT12_ReadFATEntryWithBuf
/* 803E01D0 003D5F50  48 00 00 30 */	b lbl_803E0200
lbl_803E01D4:
/* 803E01D4 003D5F54  7F 44 D3 78 */	mr r4, r26
/* 803E01D8 003D5F58  7F 65 DB 78 */	mr r5, r27
/* 803E01DC 003D5F5C  7F A6 EB 78 */	mr r6, r29
/* 803E01E0 003D5F60  48 00 2D D1 */	bl PFFAT16_ReadFATEntryWithBuf
/* 803E01E4 003D5F64  48 00 00 1C */	b lbl_803E0200
lbl_803E01E8:
/* 803E01E8 003D5F68  7F 44 D3 78 */	mr r4, r26
/* 803E01EC 003D5F6C  7F 65 DB 78 */	mr r5, r27
/* 803E01F0 003D5F70  7F A6 EB 78 */	mr r6, r29
/* 803E01F4 003D5F74  48 00 32 9D */	bl PFFAT32_ReadFATEntryWithBuf
/* 803E01F8 003D5F78  48 00 00 08 */	b lbl_803E0200
lbl_803E01FC:
/* 803E01FC 003D5F7C  38 60 00 0F */	li r3, 0xf
lbl_803E0200:
/* 803E0200 003D5F80  2C 03 00 00 */	cmpwi r3, 0
/* 803E0204 003D5F84  41 82 00 08 */	beq lbl_803E020C
/* 803E0208 003D5F88  48 00 00 BC */	b lbl_803E02C4
lbl_803E020C:
/* 803E020C 003D5F8C  80 DB 00 00 */	lwz r6, 0(r27)
/* 803E0210 003D5F90  2C 06 00 00 */	cmpwi r6, 0
/* 803E0214 003D5F94  40 82 00 0C */	bne lbl_803E0220
/* 803E0218 003D5F98  38 60 00 0D */	li r3, 0xd
/* 803E021C 003D5F9C  48 00 00 A8 */	b lbl_803E02C4
lbl_803E0220:
/* 803E0220 003D5FA0  3C 06 00 01 */	addis r0, r6, 1
/* 803E0224 003D5FA4  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E0228 003D5FA8  40 82 00 0C */	bne lbl_803E0234
/* 803E022C 003D5FAC  38 60 00 06 */	li r3, 6
/* 803E0230 003D5FB0  48 00 00 94 */	b lbl_803E02C4
lbl_803E0234:
/* 803E0234 003D5FB4  80 BE 00 1C */	lwz r5, 0x1c(r30)
/* 803E0238 003D5FB8  2C 05 00 00 */	cmpwi r5, 0
/* 803E023C 003D5FBC  41 82 00 84 */	beq lbl_803E02C0
/* 803E0240 003D5FC0  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 803E0244 003D5FC4  3C 80 80 42 */	lis r4, lbl_8041B0E0@ha
/* 803E0248 003D5FC8  38 84 B0 E0 */	addi r4, r4, lbl_8041B0E0@l
/* 803E024C 003D5FCC  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E0250 003D5FD0  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E0254 003D5FD4  7C 64 02 14 */	add r3, r4, r0
/* 803E0258 003D5FD8  80 03 00 08 */	lwz r0, 8(r3)
/* 803E025C 003D5FDC  7C 06 00 40 */	cmplw r6, r0
/* 803E0260 003D5FE0  41 82 00 60 */	beq lbl_803E02C0
/* 803E0264 003D5FE4  80 9E 00 24 */	lwz r4, 0x24(r30)
/* 803E0268 003D5FE8  80 1E 00 28 */	lwz r0, 0x28(r30)
/* 803E026C 003D5FEC  7C 00 20 40 */	cmplw r0, r4
/* 803E0270 003D5FF0  40 81 00 50 */	ble lbl_803E02C0
/* 803E0274 003D5FF4  2C 00 00 00 */	cmpwi r0, 0
/* 803E0278 003D5FF8  41 82 00 48 */	beq lbl_803E02C0
/* 803E027C 003D5FFC  A0 7E 00 20 */	lhz r3, 0x20(r30)
/* 803E0280 003D6000  38 03 00 01 */	addi r0, r3, 1
/* 803E0284 003D6004  7C 04 01 D6 */	mullw r0, r4, r0
/* 803E0288 003D6008  7C 1F 00 40 */	cmplw r31, r0
/* 803E028C 003D600C  40 82 00 24 */	bne lbl_803E02B0
/* 803E0290 003D6010  38 60 00 00 */	li r3, 0
/* 803E0294 003D6014  54 80 10 3A */	slwi r0, r4, 2
/* 803E0298 003D6018  B0 7E 00 22 */	sth r3, 0x22(r30)
/* 803E029C 003D601C  7C C5 01 2E */	stwx r6, r5, r0
/* 803E02A0 003D6020  80 7E 00 24 */	lwz r3, 0x24(r30)
/* 803E02A4 003D6024  38 03 00 01 */	addi r0, r3, 1
/* 803E02A8 003D6028  90 1E 00 24 */	stw r0, 0x24(r30)
/* 803E02AC 003D602C  48 00 00 10 */	b lbl_803E02BC
lbl_803E02B0:
/* 803E02B0 003D6030  A0 7E 00 22 */	lhz r3, 0x22(r30)
/* 803E02B4 003D6034  38 03 00 01 */	addi r0, r3, 1
/* 803E02B8 003D6038  B0 1E 00 22 */	sth r0, 0x22(r30)
lbl_803E02BC:
/* 803E02BC 003D603C  93 FE 00 2C */	stw r31, 0x2c(r30)
lbl_803E02C0:
/* 803E02C0 003D6040  38 60 00 00 */	li r3, 0
lbl_803E02C4:
/* 803E02C4 003D6044  39 61 00 20 */	addi r11, r1, 0x20
/* 803E02C8 003D6048  48 01 10 A1 */	bl _restgpr_26
/* 803E02CC 003D604C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E02D0 003D6050  7C 08 03 A6 */	mtlr r0
/* 803E02D4 003D6054  38 21 00 20 */	addi r1, r1, 0x20
/* 803E02D8 003D6058  4E 80 00 20 */	blr 

.global PFFAT_WriteCluster
PFFAT_WriteCluster:
/* 803E02DC 003D605C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E02E0 003D6060  7C 08 02 A6 */	mflr r0
/* 803E02E4 003D6064  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E02E8 003D6068  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E02EC 003D606C  7C BF 2B 78 */	mr r31, r5
/* 803E02F0 003D6070  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E02F4 003D6074  7C 9E 23 78 */	mr r30, r4
/* 803E02F8 003D6078  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803E02FC 003D607C  7C 7D 1B 78 */	mr r29, r3
/* 803E0300 003D6080  93 81 00 10 */	stw r28, 0x10(r1)
/* 803E0304 003D6084  7C DC 33 78 */	mr r28, r6
/* 803E0308 003D6088  90 E1 00 08 */	stw r7, 8(r1)
/* 803E030C 003D608C  80 63 00 34 */	lwz r3, 0x34(r3)
/* 803E0310 003D6090  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E0314 003D6094  2C 00 00 01 */	cmpwi r0, 1
/* 803E0318 003D6098  41 82 00 40 */	beq lbl_803E0358
/* 803E031C 003D609C  40 80 00 10 */	bge lbl_803E032C
/* 803E0320 003D60A0  2C 00 00 00 */	cmpwi r0, 0
/* 803E0324 003D60A4  40 80 00 14 */	bge lbl_803E0338
/* 803E0328 003D60A8  48 00 00 70 */	b lbl_803E0398
lbl_803E032C:
/* 803E032C 003D60AC  2C 00 00 03 */	cmpwi r0, 3
/* 803E0330 003D60B0  40 80 00 68 */	bge lbl_803E0398
/* 803E0334 003D60B4  48 00 00 40 */	b lbl_803E0374
lbl_803E0338:
/* 803E0338 003D60B8  28 06 0F FF */	cmplwi r6, 0xfff
/* 803E033C 003D60BC  40 81 00 0C */	ble lbl_803E0348
/* 803E0340 003D60C0  38 60 00 10 */	li r3, 0x10
/* 803E0344 003D60C4  48 00 00 58 */	b lbl_803E039C
lbl_803E0348:
/* 803E0348 003D60C8  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 803E034C 003D60CC  54 C5 04 3E */	clrlwi r5, r6, 0x10
/* 803E0350 003D60D0  48 00 22 AD */	bl PFFAT12_WriteFATEntry
/* 803E0354 003D60D4  48 00 00 48 */	b lbl_803E039C
lbl_803E0358:
/* 803E0358 003D60D8  28 06 FF FF */	cmplwi r6, 0xffff
/* 803E035C 003D60DC  40 81 00 0C */	ble lbl_803E0368
/* 803E0360 003D60E0  38 60 00 10 */	li r3, 0x10
/* 803E0364 003D60E4  48 00 00 38 */	b lbl_803E039C
lbl_803E0368:
/* 803E0368 003D60E8  7F 85 E3 78 */	mr r5, r28
/* 803E036C 003D60EC  48 00 2A 85 */	bl PFFAT16_WriteFATEntry
/* 803E0370 003D60F0  48 00 00 2C */	b lbl_803E039C
lbl_803E0374:
/* 803E0374 003D60F4  3C A0 10 00 */	lis r5, 0x0FFFFFFF@ha
/* 803E0378 003D60F8  38 05 FF FF */	addi r0, r5, 0x0FFFFFFF@l
/* 803E037C 003D60FC  7C 06 00 40 */	cmplw r6, r0
/* 803E0380 003D6100  40 81 00 0C */	ble lbl_803E038C
/* 803E0384 003D6104  38 60 00 10 */	li r3, 0x10
/* 803E0388 003D6108  48 00 00 14 */	b lbl_803E039C
lbl_803E038C:
/* 803E038C 003D610C  7F 85 E3 78 */	mr r5, r28
/* 803E0390 003D6110  48 00 2E B5 */	bl PFFAT32_WriteFATEntry
/* 803E0394 003D6114  48 00 00 08 */	b lbl_803E039C
lbl_803E0398:
/* 803E0398 003D6118  38 60 00 0F */	li r3, 0xf
lbl_803E039C:
/* 803E039C 003D611C  2C 03 00 00 */	cmpwi r3, 0
/* 803E03A0 003D6120  41 82 00 08 */	beq lbl_803E03A8
/* 803E03A4 003D6124  48 00 01 3C */	b lbl_803E04E0
lbl_803E03A8:
/* 803E03A8 003D6128  80 BD 00 1C */	lwz r5, 0x1c(r29)
/* 803E03AC 003D612C  2C 05 00 00 */	cmpwi r5, 0
/* 803E03B0 003D6130  41 82 01 2C */	beq lbl_803E04DC
/* 803E03B4 003D6134  80 01 00 08 */	lwz r0, 8(r1)
/* 803E03B8 003D6138  28 00 00 01 */	cmplwi r0, 1
/* 803E03BC 003D613C  40 82 01 20 */	bne lbl_803E04DC
/* 803E03C0 003D6140  2C 1C 00 00 */	cmpwi r28, 0
/* 803E03C4 003D6144  40 82 00 68 */	bne lbl_803E042C
/* 803E03C8 003D6148  A0 7D 00 20 */	lhz r3, 0x20(r29)
/* 803E03CC 003D614C  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 803E03D0 003D6150  38 83 00 01 */	addi r4, r3, 1
/* 803E03D4 003D6154  7C 7F 23 96 */	divwu r3, r31, r4
/* 803E03D8 003D6158  7C 00 18 40 */	cmplw r0, r3
/* 803E03DC 003D615C  41 80 01 00 */	blt lbl_803E04DC
/* 803E03E0 003D6160  7C 03 21 D6 */	mullw r0, r3, r4
/* 803E03E4 003D6164  7C 00 F8 51 */	subf. r0, r0, r31
/* 803E03E8 003D6168  40 82 00 10 */	bne lbl_803E03F8
/* 803E03EC 003D616C  54 60 10 3A */	slwi r0, r3, 2
/* 803E03F0 003D6170  38 60 00 00 */	li r3, 0
/* 803E03F4 003D6174  7C 65 01 2E */	stwx r3, r5, r0
lbl_803E03F8:
/* 803E03F8 003D6178  80 1D 00 2C */	lwz r0, 0x2c(r29)
/* 803E03FC 003D617C  7C 00 F8 40 */	cmplw r0, r31
/* 803E0400 003D6180  41 80 00 DC */	blt lbl_803E04DC
/* 803E0404 003D6184  A0 7D 00 20 */	lhz r3, 0x20(r29)
/* 803E0408 003D6188  38 9F FF FF */	addi r4, r31, -1
/* 803E040C 003D618C  90 9D 00 2C */	stw r4, 0x2c(r29)
/* 803E0410 003D6190  38 03 00 01 */	addi r0, r3, 1
/* 803E0414 003D6194  7C 64 03 96 */	divwu r3, r4, r0
/* 803E0418 003D6198  7C 03 01 D6 */	mullw r0, r3, r0
/* 803E041C 003D619C  90 7D 00 24 */	stw r3, 0x24(r29)
/* 803E0420 003D61A0  7C 00 20 50 */	subf r0, r0, r4
/* 803E0424 003D61A4  B0 1D 00 22 */	sth r0, 0x22(r29)
/* 803E0428 003D61A8  48 00 00 B4 */	b lbl_803E04DC
lbl_803E042C:
/* 803E042C 003D61AC  80 7D 00 34 */	lwz r3, 0x34(r29)
/* 803E0430 003D61B0  3C 80 80 42 */	lis r4, lbl_8041B0E0@ha
/* 803E0434 003D61B4  38 84 B0 E0 */	addi r4, r4, lbl_8041B0E0@l
/* 803E0438 003D61B8  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E043C 003D61BC  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E0440 003D61C0  7C 64 02 14 */	add r3, r4, r0
/* 803E0444 003D61C4  80 03 00 08 */	lwz r0, 8(r3)
/* 803E0448 003D61C8  7C 1E 00 40 */	cmplw r30, r0
/* 803E044C 003D61CC  41 82 00 90 */	beq lbl_803E04DC
/* 803E0450 003D61D0  7F A3 EB 78 */	mr r3, r29
/* 803E0454 003D61D4  7F E4 FB 78 */	mr r4, r31
/* 803E0458 003D61D8  38 A1 00 0C */	addi r5, r1, 0xc
/* 803E045C 003D61DC  38 C1 00 08 */	addi r6, r1, 8
/* 803E0460 003D61E0  4B FF F7 C5 */	bl PFFAT_FindClusterLink
/* 803E0464 003D61E4  2C 03 00 00 */	cmpwi r3, 0
/* 803E0468 003D61E8  41 82 00 08 */	beq lbl_803E0470
/* 803E046C 003D61EC  48 00 00 74 */	b lbl_803E04E0
lbl_803E0470:
/* 803E0470 003D61F0  80 01 00 08 */	lwz r0, 8(r1)
/* 803E0474 003D61F4  2C 00 00 00 */	cmpwi r0, 0
/* 803E0478 003D61F8  40 82 00 64 */	bne lbl_803E04DC
/* 803E047C 003D61FC  80 9D 00 24 */	lwz r4, 0x24(r29)
/* 803E0480 003D6200  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 803E0484 003D6204  7C 00 20 40 */	cmplw r0, r4
/* 803E0488 003D6208  40 81 00 54 */	ble lbl_803E04DC
/* 803E048C 003D620C  2C 00 00 00 */	cmpwi r0, 0
/* 803E0490 003D6210  41 82 00 4C */	beq lbl_803E04DC
/* 803E0494 003D6214  A0 7D 00 20 */	lhz r3, 0x20(r29)
/* 803E0498 003D6218  38 03 00 01 */	addi r0, r3, 1
/* 803E049C 003D621C  7C 04 01 D6 */	mullw r0, r4, r0
/* 803E04A0 003D6220  7C 1F 00 40 */	cmplw r31, r0
/* 803E04A4 003D6224  40 82 00 28 */	bne lbl_803E04CC
/* 803E04A8 003D6228  38 00 00 00 */	li r0, 0
/* 803E04AC 003D622C  80 7D 00 1C */	lwz r3, 0x1c(r29)
/* 803E04B0 003D6230  B0 1D 00 22 */	sth r0, 0x22(r29)
/* 803E04B4 003D6234  54 80 10 3A */	slwi r0, r4, 2
/* 803E04B8 003D6238  7F C3 01 2E */	stwx r30, r3, r0
/* 803E04BC 003D623C  80 7D 00 24 */	lwz r3, 0x24(r29)
/* 803E04C0 003D6240  38 03 00 01 */	addi r0, r3, 1
/* 803E04C4 003D6244  90 1D 00 24 */	stw r0, 0x24(r29)
/* 803E04C8 003D6248  48 00 00 10 */	b lbl_803E04D8
lbl_803E04CC:
/* 803E04CC 003D624C  A0 7D 00 22 */	lhz r3, 0x22(r29)
/* 803E04D0 003D6250  38 03 00 01 */	addi r0, r3, 1
/* 803E04D4 003D6254  B0 1D 00 22 */	sth r0, 0x22(r29)
lbl_803E04D8:
/* 803E04D8 003D6258  93 FD 00 2C */	stw r31, 0x2c(r29)
lbl_803E04DC:
/* 803E04DC 003D625C  38 60 00 00 */	li r3, 0
lbl_803E04E0:
/* 803E04E0 003D6260  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E04E4 003D6264  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E04E8 003D6268  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E04EC 003D626C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E04F0 003D6270  83 81 00 10 */	lwz r28, 0x10(r1)
/* 803E04F4 003D6274  7C 08 03 A6 */	mtlr r0
/* 803E04F8 003D6278  38 21 00 20 */	addi r1, r1, 0x20
/* 803E04FC 003D627C  4E 80 00 20 */	blr 

.global PFFAT_WriteClusterWithBuf
PFFAT_WriteClusterWithBuf:
/* 803E0500 003D6280  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E0504 003D6284  7C 08 02 A6 */	mflr r0
/* 803E0508 003D6288  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E050C 003D628C  39 61 00 30 */	addi r11, r1, 0x30
/* 803E0510 003D6290  48 01 0E 11 */	bl _savegpr_27
/* 803E0514 003D6294  90 E1 00 08 */	stw r7, 8(r1)
/* 803E0518 003D6298  7C 7D 1B 78 */	mr r29, r3
/* 803E051C 003D629C  7C 9E 23 78 */	mr r30, r4
/* 803E0520 003D62A0  7C BF 2B 78 */	mr r31, r5
/* 803E0524 003D62A4  80 63 00 34 */	lwz r3, 0x34(r3)
/* 803E0528 003D62A8  7C DB 33 78 */	mr r27, r6
/* 803E052C 003D62AC  7D 1C 43 78 */	mr r28, r8
/* 803E0530 003D62B0  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E0534 003D62B4  2C 00 00 01 */	cmpwi r0, 1
/* 803E0538 003D62B8  41 82 00 44 */	beq lbl_803E057C
/* 803E053C 003D62BC  40 80 00 10 */	bge lbl_803E054C
/* 803E0540 003D62C0  2C 00 00 00 */	cmpwi r0, 0
/* 803E0544 003D62C4  40 80 00 14 */	bge lbl_803E0558
/* 803E0548 003D62C8  48 00 00 7C */	b lbl_803E05C4
lbl_803E054C:
/* 803E054C 003D62CC  2C 00 00 03 */	cmpwi r0, 3
/* 803E0550 003D62D0  40 80 00 74 */	bge lbl_803E05C4
/* 803E0554 003D62D4  48 00 00 48 */	b lbl_803E059C
lbl_803E0558:
/* 803E0558 003D62D8  28 06 0F FF */	cmplwi r6, 0xfff
/* 803E055C 003D62DC  40 81 00 0C */	ble lbl_803E0568
/* 803E0560 003D62E0  38 60 00 10 */	li r3, 0x10
/* 803E0564 003D62E4  48 00 00 64 */	b lbl_803E05C8
lbl_803E0568:
/* 803E0568 003D62E8  54 C5 04 3E */	clrlwi r5, r6, 0x10
/* 803E056C 003D62EC  7F 86 E3 78 */	mr r6, r28
/* 803E0570 003D62F0  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 803E0574 003D62F4  48 00 22 41 */	bl PFFAT12_WriteFATEntryWithBuf
/* 803E0578 003D62F8  48 00 00 50 */	b lbl_803E05C8
lbl_803E057C:
/* 803E057C 003D62FC  28 06 FF FF */	cmplwi r6, 0xffff
/* 803E0580 003D6300  40 81 00 0C */	ble lbl_803E058C
/* 803E0584 003D6304  38 60 00 10 */	li r3, 0x10
/* 803E0588 003D6308  48 00 00 40 */	b lbl_803E05C8
lbl_803E058C:
/* 803E058C 003D630C  7F 65 DB 78 */	mr r5, r27
/* 803E0590 003D6310  7F 86 E3 78 */	mr r6, r28
/* 803E0594 003D6314  48 00 29 15 */	bl PFFAT16_WriteFATEntryWithBuf
/* 803E0598 003D6318  48 00 00 30 */	b lbl_803E05C8
lbl_803E059C:
/* 803E059C 003D631C  3C A0 10 00 */	lis r5, 0x0FFFFFFF@ha
/* 803E05A0 003D6320  38 05 FF FF */	addi r0, r5, 0x0FFFFFFF@l
/* 803E05A4 003D6324  7C 06 00 40 */	cmplw r6, r0
/* 803E05A8 003D6328  40 81 00 0C */	ble lbl_803E05B4
/* 803E05AC 003D632C  38 60 00 10 */	li r3, 0x10
/* 803E05B0 003D6330  48 00 00 18 */	b lbl_803E05C8
lbl_803E05B4:
/* 803E05B4 003D6334  7F 65 DB 78 */	mr r5, r27
/* 803E05B8 003D6338  7F 86 E3 78 */	mr r6, r28
/* 803E05BC 003D633C  48 00 2D 95 */	bl PFFAT32_WriteFATEntryWithBuf
/* 803E05C0 003D6340  48 00 00 08 */	b lbl_803E05C8
lbl_803E05C4:
/* 803E05C4 003D6344  38 60 00 0F */	li r3, 0xf
lbl_803E05C8:
/* 803E05C8 003D6348  2C 03 00 00 */	cmpwi r3, 0
/* 803E05CC 003D634C  41 82 00 08 */	beq lbl_803E05D4
/* 803E05D0 003D6350  48 00 01 40 */	b lbl_803E0710
lbl_803E05D4:
/* 803E05D4 003D6354  80 BD 00 1C */	lwz r5, 0x1c(r29)
/* 803E05D8 003D6358  2C 05 00 00 */	cmpwi r5, 0
/* 803E05DC 003D635C  41 82 01 30 */	beq lbl_803E070C
/* 803E05E0 003D6360  80 01 00 08 */	lwz r0, 8(r1)
/* 803E05E4 003D6364  28 00 00 01 */	cmplwi r0, 1
/* 803E05E8 003D6368  40 82 01 24 */	bne lbl_803E070C
/* 803E05EC 003D636C  2C 1B 00 00 */	cmpwi r27, 0
/* 803E05F0 003D6370  40 82 00 68 */	bne lbl_803E0658
/* 803E05F4 003D6374  A0 7D 00 20 */	lhz r3, 0x20(r29)
/* 803E05F8 003D6378  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 803E05FC 003D637C  38 83 00 01 */	addi r4, r3, 1
/* 803E0600 003D6380  7C 7F 23 96 */	divwu r3, r31, r4
/* 803E0604 003D6384  7C 00 18 40 */	cmplw r0, r3
/* 803E0608 003D6388  41 80 01 04 */	blt lbl_803E070C
/* 803E060C 003D638C  7C 03 21 D6 */	mullw r0, r3, r4
/* 803E0610 003D6390  7C 00 F8 51 */	subf. r0, r0, r31
/* 803E0614 003D6394  40 82 00 10 */	bne lbl_803E0624
/* 803E0618 003D6398  54 60 10 3A */	slwi r0, r3, 2
/* 803E061C 003D639C  38 60 00 00 */	li r3, 0
/* 803E0620 003D63A0  7C 65 01 2E */	stwx r3, r5, r0
lbl_803E0624:
/* 803E0624 003D63A4  80 1D 00 2C */	lwz r0, 0x2c(r29)
/* 803E0628 003D63A8  7C 00 F8 40 */	cmplw r0, r31
/* 803E062C 003D63AC  41 80 00 E0 */	blt lbl_803E070C
/* 803E0630 003D63B0  A0 7D 00 20 */	lhz r3, 0x20(r29)
/* 803E0634 003D63B4  38 9F FF FF */	addi r4, r31, -1
/* 803E0638 003D63B8  90 9D 00 2C */	stw r4, 0x2c(r29)
/* 803E063C 003D63BC  38 03 00 01 */	addi r0, r3, 1
/* 803E0640 003D63C0  7C 64 03 96 */	divwu r3, r4, r0
/* 803E0644 003D63C4  7C 03 01 D6 */	mullw r0, r3, r0
/* 803E0648 003D63C8  90 7D 00 24 */	stw r3, 0x24(r29)
/* 803E064C 003D63CC  7C 00 20 50 */	subf r0, r0, r4
/* 803E0650 003D63D0  B0 1D 00 22 */	sth r0, 0x22(r29)
/* 803E0654 003D63D4  48 00 00 B8 */	b lbl_803E070C
lbl_803E0658:
/* 803E0658 003D63D8  80 7D 00 34 */	lwz r3, 0x34(r29)
/* 803E065C 003D63DC  3C 80 80 42 */	lis r4, lbl_8041B0E0@ha
/* 803E0660 003D63E0  38 84 B0 E0 */	addi r4, r4, lbl_8041B0E0@l
/* 803E0664 003D63E4  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E0668 003D63E8  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E066C 003D63EC  7C 64 02 14 */	add r3, r4, r0
/* 803E0670 003D63F0  80 03 00 08 */	lwz r0, 8(r3)
/* 803E0674 003D63F4  7C 1E 00 40 */	cmplw r30, r0
/* 803E0678 003D63F8  41 82 00 94 */	beq lbl_803E070C
/* 803E067C 003D63FC  7F A3 EB 78 */	mr r3, r29
/* 803E0680 003D6400  7F E4 FB 78 */	mr r4, r31
/* 803E0684 003D6404  7F 87 E3 78 */	mr r7, r28
/* 803E0688 003D6408  38 A1 00 0C */	addi r5, r1, 0xc
/* 803E068C 003D640C  38 C1 00 08 */	addi r6, r1, 8
/* 803E0690 003D6410  4B FF F7 25 */	bl PFFAT_FindClusterLinkWithBuf
/* 803E0694 003D6414  2C 03 00 00 */	cmpwi r3, 0
/* 803E0698 003D6418  41 82 00 08 */	beq lbl_803E06A0
/* 803E069C 003D641C  48 00 00 74 */	b lbl_803E0710
lbl_803E06A0:
/* 803E06A0 003D6420  80 01 00 08 */	lwz r0, 8(r1)
/* 803E06A4 003D6424  2C 00 00 00 */	cmpwi r0, 0
/* 803E06A8 003D6428  40 82 00 64 */	bne lbl_803E070C
/* 803E06AC 003D642C  80 9D 00 24 */	lwz r4, 0x24(r29)
/* 803E06B0 003D6430  80 1D 00 28 */	lwz r0, 0x28(r29)
/* 803E06B4 003D6434  7C 00 20 40 */	cmplw r0, r4
/* 803E06B8 003D6438  40 81 00 54 */	ble lbl_803E070C
/* 803E06BC 003D643C  2C 00 00 00 */	cmpwi r0, 0
/* 803E06C0 003D6440  41 82 00 4C */	beq lbl_803E070C
/* 803E06C4 003D6444  A0 7D 00 20 */	lhz r3, 0x20(r29)
/* 803E06C8 003D6448  38 03 00 01 */	addi r0, r3, 1
/* 803E06CC 003D644C  7C 04 01 D6 */	mullw r0, r4, r0
/* 803E06D0 003D6450  7C 1F 00 40 */	cmplw r31, r0
/* 803E06D4 003D6454  40 82 00 28 */	bne lbl_803E06FC
/* 803E06D8 003D6458  38 00 00 00 */	li r0, 0
/* 803E06DC 003D645C  80 7D 00 1C */	lwz r3, 0x1c(r29)
/* 803E06E0 003D6460  B0 1D 00 22 */	sth r0, 0x22(r29)
/* 803E06E4 003D6464  54 80 10 3A */	slwi r0, r4, 2
/* 803E06E8 003D6468  7F C3 01 2E */	stwx r30, r3, r0
/* 803E06EC 003D646C  80 7D 00 24 */	lwz r3, 0x24(r29)
/* 803E06F0 003D6470  38 03 00 01 */	addi r0, r3, 1
/* 803E06F4 003D6474  90 1D 00 24 */	stw r0, 0x24(r29)
/* 803E06F8 003D6478  48 00 00 10 */	b lbl_803E0708
lbl_803E06FC:
/* 803E06FC 003D647C  A0 7D 00 22 */	lhz r3, 0x22(r29)
/* 803E0700 003D6480  38 03 00 01 */	addi r0, r3, 1
/* 803E0704 003D6484  B0 1D 00 22 */	sth r0, 0x22(r29)
lbl_803E0708:
/* 803E0708 003D6488  93 FD 00 2C */	stw r31, 0x2c(r29)
lbl_803E070C:
/* 803E070C 003D648C  38 60 00 00 */	li r3, 0
lbl_803E0710:
/* 803E0710 003D6490  39 61 00 30 */	addi r11, r1, 0x30
/* 803E0714 003D6494  48 01 0C 59 */	bl _restgpr_27
/* 803E0718 003D6498  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E071C 003D649C  7C 08 03 A6 */	mtlr r0
/* 803E0720 003D64A0  38 21 00 30 */	addi r1, r1, 0x30
/* 803E0724 003D64A4  4E 80 00 20 */	blr 

.global PFFAT_DoAllocateChain
PFFAT_DoAllocateChain:
/* 803E0728 003D64A8  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 803E072C 003D64AC  7C 08 02 A6 */	mflr r0
/* 803E0730 003D64B0  90 01 00 44 */	stw r0, 0x44(r1)
/* 803E0734 003D64B4  39 61 00 40 */	addi r11, r1, 0x40
/* 803E0738 003D64B8  48 01 0B DD */	bl _savegpr_24
/* 803E073C 003D64BC  83 E3 00 34 */	lwz r31, 0x34(r3)
/* 803E0740 003D64C0  7C 79 1B 78 */	mr r25, r3
/* 803E0744 003D64C4  3D 20 80 42 */	lis r9, lbl_8041B0E0@ha
/* 803E0748 003D64C8  7D 18 43 78 */	mr r24, r8
/* 803E074C 003D64CC  80 7F 00 1C */	lwz r3, 0x1c(r31)
/* 803E0750 003D64D0  38 00 FF FF */	li r0, -1
/* 803E0754 003D64D4  39 29 B0 E0 */	addi r9, r9, lbl_8041B0E0@l
/* 803E0758 003D64D8  7C BA 2B 78 */	mr r26, r5
/* 803E075C 003D64DC  90 06 00 00 */	stw r0, 0(r6)
/* 803E0760 003D64E0  1C 63 00 14 */	mulli r3, r3, 0x14
/* 803E0764 003D64E4  7C DB 33 78 */	mr r27, r6
/* 803E0768 003D64E8  90 07 00 00 */	stw r0, 0(r7)
/* 803E076C 003D64EC  7C FC 3B 78 */	mr r28, r7
/* 803E0770 003D64F0  7C A9 1A 14 */	add r5, r9, r3
/* 803E0774 003D64F4  7C 86 23 78 */	mr r6, r4
/* 803E0778 003D64F8  90 01 00 10 */	stw r0, 0x10(r1)
/* 803E077C 003D64FC  7F E3 FB 78 */	mr r3, r31
/* 803E0780 003D6500  83 C5 00 08 */	lwz r30, 8(r5)
/* 803E0784 003D6504  38 E1 00 14 */	addi r7, r1, 0x14
/* 803E0788 003D6508  80 9F 00 3C */	lwz r4, 0x3c(r31)
/* 803E078C 003D650C  39 01 00 10 */	addi r8, r1, 0x10
/* 803E0790 003D6510  38 A0 FF FF */	li r5, -1
/* 803E0794 003D6514  4B FF F1 21 */	bl PFFAT_SearchForNumFreeClusters
/* 803E0798 003D6518  2C 03 00 00 */	cmpwi r3, 0
/* 803E079C 003D651C  41 82 00 08 */	beq lbl_803E07A4
/* 803E07A0 003D6520  48 00 02 D0 */	b lbl_803E0A70
lbl_803E07A4:
/* 803E07A4 003D6524  80 81 00 14 */	lwz r4, 0x14(r1)
/* 803E07A8 003D6528  3C 04 00 01 */	addis r0, r4, 1
/* 803E07AC 003D652C  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E07B0 003D6530  40 82 00 0C */	bne lbl_803E07BC
/* 803E07B4 003D6534  38 60 00 00 */	li r3, 0
/* 803E07B8 003D6538  48 00 02 B8 */	b lbl_803E0A70
lbl_803E07BC:
/* 803E07BC 003D653C  2C 18 00 00 */	cmpwi r24, 0
/* 803E07C0 003D6540  41 82 00 18 */	beq lbl_803E07D8
/* 803E07C4 003D6544  7F E3 FB 78 */	mr r3, r31
/* 803E07C8 003D6548  4B FF F3 35 */	bl PFFAT_ResetCluster
/* 803E07CC 003D654C  2C 03 00 00 */	cmpwi r3, 0
/* 803E07D0 003D6550  41 82 00 08 */	beq lbl_803E07D8
/* 803E07D4 003D6554  48 00 02 9C */	b lbl_803E0A70
lbl_803E07D8:
/* 803E07D8 003D6558  7F E3 FB 78 */	mr r3, r31
/* 803E07DC 003D655C  38 A1 00 08 */	addi r5, r1, 8
/* 803E07E0 003D6560  38 C1 00 0C */	addi r6, r1, 0xc
/* 803E07E4 003D6564  38 80 FF FF */	li r4, -1
/* 803E07E8 003D6568  4B FF 9C 6D */	bl PFCACHE_AllocateDataPage
/* 803E07EC 003D656C  2C 03 00 00 */	cmpwi r3, 0
/* 803E07F0 003D6570  41 82 00 08 */	beq lbl_803E07F8
/* 803E07F4 003D6574  48 00 02 7C */	b lbl_803E0A70
lbl_803E07F8:
/* 803E07F8 003D6578  80 81 00 08 */	lwz r4, 8(r1)
/* 803E07FC 003D657C  7F E3 FB 78 */	mr r3, r31
/* 803E0800 003D6580  80 A1 00 14 */	lwz r5, 0x14(r1)
/* 803E0804 003D6584  4B FF EF 5D */	bl PFFAT_ReadFATSector
/* 803E0808 003D6588  2C 03 00 00 */	cmpwi r3, 0
/* 803E080C 003D658C  7C 78 1B 78 */	mr r24, r3
/* 803E0810 003D6590  41 82 00 18 */	beq lbl_803E0828
/* 803E0814 003D6594  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0818 003D6598  7F E3 FB 78 */	mr r3, r31
/* 803E081C 003D659C  4B FF 9D 41 */	bl PFCACHE_FreeDataPage
/* 803E0820 003D65A0  7F 03 C3 78 */	mr r3, r24
/* 803E0824 003D65A4  48 00 02 4C */	b lbl_803E0A70
lbl_803E0828:
/* 803E0828 003D65A8  80 61 00 08 */	lwz r3, 8(r1)
/* 803E082C 003D65AC  38 00 00 00 */	li r0, 0
/* 803E0830 003D65B0  B0 03 00 02 */	sth r0, 2(r3)
/* 803E0834 003D65B4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E0838 003D65B8  48 00 00 AC */	b lbl_803E08E4
lbl_803E083C:
/* 803E083C 003D65BC  81 01 00 08 */	lwz r8, 8(r1)
/* 803E0840 003D65C0  7F 23 CB 78 */	mr r3, r25
/* 803E0844 003D65C4  7F A4 EB 78 */	mr r4, r29
/* 803E0848 003D65C8  7F 45 D3 78 */	mr r5, r26
/* 803E084C 003D65CC  38 DD 00 01 */	addi r6, r29, 1
/* 803E0850 003D65D0  38 E0 00 01 */	li r7, 1
/* 803E0854 003D65D4  4B FF FC AD */	bl PFFAT_WriteClusterWithBuf
/* 803E0858 003D65D8  2C 03 00 00 */	cmpwi r3, 0
/* 803E085C 003D65DC  7C 78 1B 78 */	mr r24, r3
/* 803E0860 003D65E0  41 82 00 18 */	beq lbl_803E0878
/* 803E0864 003D65E4  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0868 003D65E8  7F E3 FB 78 */	mr r3, r31
/* 803E086C 003D65EC  4B FF 9C F1 */	bl PFCACHE_FreeDataPage
/* 803E0870 003D65F0  7F 03 C3 78 */	mr r3, r24
/* 803E0874 003D65F4  48 00 01 FC */	b lbl_803E0A70
lbl_803E0878:
/* 803E0878 003D65F8  A0 1F 1F AC */	lhz r0, 0x1fac(r31)
/* 803E087C 003D65FC  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 803E0880 003D6600  41 82 00 44 */	beq lbl_803E08C4
/* 803E0884 003D6604  80 7F 00 38 */	lwz r3, 0x38(r31)
/* 803E0888 003D6608  3C 03 00 01 */	addis r0, r3, 1
/* 803E088C 003D660C  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E0890 003D6610  41 82 00 34 */	beq lbl_803E08C4
/* 803E0894 003D6614  2C 03 00 00 */	cmpwi r3, 0
/* 803E0898 003D6618  41 82 00 2C */	beq lbl_803E08C4
/* 803E089C 003D661C  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E08A0 003D6620  2C 00 00 02 */	cmpwi r0, 2
/* 803E08A4 003D6624  40 82 00 14 */	bne lbl_803E08B8
/* 803E08A8 003D6628  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E08AC 003D662C  80 1F 00 10 */	lwz r0, 0x10(r31)
/* 803E08B0 003D6630  7C 03 00 40 */	cmplw r3, r0
/* 803E08B4 003D6634  41 82 00 10 */	beq lbl_803E08C4
lbl_803E08B8:
/* 803E08B8 003D6638  80 7F 00 38 */	lwz r3, 0x38(r31)
/* 803E08BC 003D663C  38 03 FF FF */	addi r0, r3, -1
/* 803E08C0 003D6640  90 1F 00 38 */	stw r0, 0x38(r31)
lbl_803E08C4:
/* 803E08C4 003D6644  80 7B 00 00 */	lwz r3, 0(r27)
/* 803E08C8 003D6648  3C 03 00 01 */	addis r0, r3, 1
/* 803E08CC 003D664C  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E08D0 003D6650  40 82 00 08 */	bne lbl_803E08D8
/* 803E08D4 003D6654  93 BB 00 00 */	stw r29, 0(r27)
lbl_803E08D8:
/* 803E08D8 003D6658  93 BC 00 00 */	stw r29, 0(r28)
/* 803E08DC 003D665C  3B 5A 00 01 */	addi r26, r26, 1
/* 803E08E0 003D6660  3B BD 00 01 */	addi r29, r29, 1
lbl_803E08E4:
/* 803E08E4 003D6664  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803E08E8 003D6668  7C 1D 20 40 */	cmplw r29, r4
/* 803E08EC 003D666C  41 80 FF 50 */	blt lbl_803E083C
/* 803E08F0 003D6670  3C 04 00 01 */	addis r0, r4, 1
/* 803E08F4 003D6674  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E08F8 003D6678  41 82 00 94 */	beq lbl_803E098C
/* 803E08FC 003D667C  81 01 00 08 */	lwz r8, 8(r1)
/* 803E0900 003D6680  7F 23 CB 78 */	mr r3, r25
/* 803E0904 003D6684  7F 45 D3 78 */	mr r5, r26
/* 803E0908 003D6688  7F C6 F3 78 */	mr r6, r30
/* 803E090C 003D668C  38 E0 00 01 */	li r7, 1
/* 803E0910 003D6690  4B FF FB F1 */	bl PFFAT_WriteClusterWithBuf
/* 803E0914 003D6694  2C 03 00 00 */	cmpwi r3, 0
/* 803E0918 003D6698  7C 7E 1B 78 */	mr r30, r3
/* 803E091C 003D669C  41 82 00 18 */	beq lbl_803E0934
/* 803E0920 003D66A0  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0924 003D66A4  7F E3 FB 78 */	mr r3, r31
/* 803E0928 003D66A8  4B FF 9C 35 */	bl PFCACHE_FreeDataPage
/* 803E092C 003D66AC  7F C3 F3 78 */	mr r3, r30
/* 803E0930 003D66B0  48 00 01 40 */	b lbl_803E0A70
lbl_803E0934:
/* 803E0934 003D66B4  80 7B 00 00 */	lwz r3, 0(r27)
/* 803E0938 003D66B8  3C 03 00 01 */	addis r0, r3, 1
/* 803E093C 003D66BC  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E0940 003D66C0  40 82 00 08 */	bne lbl_803E0948
/* 803E0944 003D66C4  93 BB 00 00 */	stw r29, 0(r27)
lbl_803E0948:
/* 803E0948 003D66C8  93 BC 00 00 */	stw r29, 0(r28)
/* 803E094C 003D66CC  80 7F 00 38 */	lwz r3, 0x38(r31)
/* 803E0950 003D66D0  3C 03 00 01 */	addis r0, r3, 1
/* 803E0954 003D66D4  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E0958 003D66D8  41 82 00 34 */	beq lbl_803E098C
/* 803E095C 003D66DC  2C 03 00 00 */	cmpwi r3, 0
/* 803E0960 003D66E0  41 82 00 2C */	beq lbl_803E098C
/* 803E0964 003D66E4  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E0968 003D66E8  2C 00 00 02 */	cmpwi r0, 2
/* 803E096C 003D66EC  40 82 00 14 */	bne lbl_803E0980
/* 803E0970 003D66F0  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E0974 003D66F4  80 1F 00 10 */	lwz r0, 0x10(r31)
/* 803E0978 003D66F8  7C 03 00 40 */	cmplw r3, r0
/* 803E097C 003D66FC  41 82 00 10 */	beq lbl_803E098C
lbl_803E0980:
/* 803E0980 003D6700  80 7F 00 38 */	lwz r3, 0x38(r31)
/* 803E0984 003D6704  38 03 FF FF */	addi r0, r3, -1
/* 803E0988 003D6708  90 1F 00 38 */	stw r0, 0x38(r31)
lbl_803E098C:
/* 803E098C 003D670C  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E0990 003D6710  3B 60 00 00 */	li r27, 0
/* 803E0994 003D6714  3B A0 00 00 */	li r29, 0
/* 803E0998 003D6718  38 03 00 01 */	addi r0, r3, 1
/* 803E099C 003D671C  90 1F 00 3C */	stw r0, 0x3c(r31)
/* 803E09A0 003D6720  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803E09A4 003D6724  90 19 00 0C */	stw r0, 0xc(r25)
/* 803E09A8 003D6728  93 59 00 10 */	stw r26, 0x10(r25)
/* 803E09AC 003D672C  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803E09B0 003D6730  90 1C 00 00 */	stw r0, 0(r28)
/* 803E09B4 003D6734  83 41 00 08 */	lwz r26, 8(r1)
/* 803E09B8 003D6738  83 3A 00 18 */	lwz r25, 0x18(r26)
/* 803E09BC 003D673C  48 00 00 3C */	b lbl_803E09F8
lbl_803E09C0:
/* 803E09C0 003D6740  80 9A 00 08 */	lwz r4, 8(r26)
/* 803E09C4 003D6744  7F E3 FB 78 */	mr r3, r31
/* 803E09C8 003D6748  A0 FF 00 00 */	lhz r7, 0(r31)
/* 803E09CC 003D674C  7F 25 CB 78 */	mr r5, r25
/* 803E09D0 003D6750  38 C0 00 00 */	li r6, 0
/* 803E09D4 003D6754  48 00 87 A5 */	bl PFSEC_WriteFAT
/* 803E09D8 003D6758  2C 03 00 00 */	cmpwi r3, 0
/* 803E09DC 003D675C  41 82 00 10 */	beq lbl_803E09EC
/* 803E09E0 003D6760  2C 1B 00 00 */	cmpwi r27, 0
/* 803E09E4 003D6764  40 82 00 08 */	bne lbl_803E09EC
/* 803E09E8 003D6768  7C 7B 1B 78 */	mr r27, r3
lbl_803E09EC:
/* 803E09EC 003D676C  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 803E09F0 003D6770  3B BD 00 01 */	addi r29, r29, 1
/* 803E09F4 003D6774  7F 39 02 14 */	add r25, r25, r0
lbl_803E09F8:
/* 803E09F8 003D6778  88 1F 00 22 */	lbz r0, 0x22(r31)
/* 803E09FC 003D677C  57 A3 04 3E */	clrlwi r3, r29, 0x10
/* 803E0A00 003D6780  7C 03 00 00 */	cmpw r3, r0
/* 803E0A04 003D6784  41 80 FF BC */	blt lbl_803E09C0
/* 803E0A08 003D6788  2C 1B 00 00 */	cmpwi r27, 0
/* 803E0A0C 003D678C  41 82 00 18 */	beq lbl_803E0A24
/* 803E0A10 003D6790  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0A14 003D6794  7F E3 FB 78 */	mr r3, r31
/* 803E0A18 003D6798  4B FF 9B 45 */	bl PFCACHE_FreeDataPage
/* 803E0A1C 003D679C  7F 63 DB 78 */	mr r3, r27
/* 803E0A20 003D67A0  48 00 00 50 */	b lbl_803E0A70
lbl_803E0A24:
/* 803E0A24 003D67A4  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0A28 003D67A8  7F E3 FB 78 */	mr r3, r31
/* 803E0A2C 003D67AC  4B FF 9B 31 */	bl PFCACHE_FreeDataPage
/* 803E0A30 003D67B0  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E0A34 003D67B4  2C 00 00 02 */	cmpwi r0, 2
/* 803E0A38 003D67B8  40 82 00 34 */	bne lbl_803E0A6C
/* 803E0A3C 003D67BC  A0 1F 1F AC */	lhz r0, 0x1fac(r31)
/* 803E0A40 003D67C0  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 803E0A44 003D67C4  41 82 00 28 */	beq lbl_803E0A6C
/* 803E0A48 003D67C8  7F E3 FB 78 */	mr r3, r31
/* 803E0A4C 003D67CC  48 00 18 01 */	bl PFFAT_RefreshFSINFO
/* 803E0A50 003D67D0  2C 03 00 00 */	cmpwi r3, 0
/* 803E0A54 003D67D4  41 82 00 18 */	beq lbl_803E0A6C
/* 803E0A58 003D67D8  38 00 FF FF */	li r0, -1
/* 803E0A5C 003D67DC  90 1F 00 38 */	stw r0, 0x38(r31)
/* 803E0A60 003D67E0  A0 1F 1F AC */	lhz r0, 0x1fac(r31)
/* 803E0A64 003D67E4  54 00 07 B8 */	rlwinm r0, r0, 0, 0x1e, 0x1c
/* 803E0A68 003D67E8  B0 1F 1F AC */	sth r0, 0x1fac(r31)
lbl_803E0A6C:
/* 803E0A6C 003D67EC  38 60 00 00 */	li r3, 0
lbl_803E0A70:
/* 803E0A70 003D67F0  39 61 00 40 */	addi r11, r1, 0x40
/* 803E0A74 003D67F4  48 01 08 ED */	bl _restgpr_24
/* 803E0A78 003D67F8  80 01 00 44 */	lwz r0, 0x44(r1)
/* 803E0A7C 003D67FC  7C 08 03 A6 */	mtlr r0
/* 803E0A80 003D6800  38 21 00 40 */	addi r1, r1, 0x40
/* 803E0A84 003D6804  4E 80 00 20 */	blr 

.global PFFAT_GetClusterInChain
PFFAT_GetClusterInChain:
/* 803E0A88 003D6808  94 21 FF B0 */	stwu r1, -0x50(r1)
/* 803E0A8C 003D680C  7C 08 02 A6 */	mflr r0
/* 803E0A90 003D6810  90 01 00 54 */	stw r0, 0x54(r1)
/* 803E0A94 003D6814  39 61 00 50 */	addi r11, r1, 0x50
/* 803E0A98 003D6818  48 01 08 6D */	bl _savegpr_20
/* 803E0A9C 003D681C  81 43 00 34 */	lwz r10, 0x34(r3)
/* 803E0AA0 003D6820  3D 20 80 42 */	lis r9, lbl_8041B0E0@ha
/* 803E0AA4 003D6824  38 00 FF FF */	li r0, -1
/* 803E0AA8 003D6828  7C F7 3B 78 */	mr r23, r7
/* 803E0AAC 003D682C  81 4A 00 1C */	lwz r10, 0x1c(r10)
/* 803E0AB0 003D6830  39 29 B0 E0 */	addi r9, r9, lbl_8041B0E0@l
/* 803E0AB4 003D6834  7C 75 1B 78 */	mr r21, r3
/* 803E0AB8 003D6838  7C B6 2B 78 */	mr r22, r5
/* 803E0ABC 003D683C  90 08 00 00 */	stw r0, 0(r8)
/* 803E0AC0 003D6840  1D 4A 00 14 */	mulli r10, r10, 0x14
/* 803E0AC4 003D6844  7D 18 43 78 */	mr r24, r8
/* 803E0AC8 003D6848  90 07 00 00 */	stw r0, 0(r7)
/* 803E0ACC 003D684C  7C E9 52 14 */	add r7, r9, r10
/* 803E0AD0 003D6850  7F E9 50 2E */	lwzx r31, r9, r10
/* 803E0AD4 003D6854  80 03 00 14 */	lwz r0, 0x14(r3)
/* 803E0AD8 003D6858  83 C7 00 04 */	lwz r30, 4(r7)
/* 803E0ADC 003D685C  2C 00 00 00 */	cmpwi r0, 0
/* 803E0AE0 003D6860  41 82 00 28 */	beq lbl_803E0B08
/* 803E0AE4 003D6864  7C 00 20 40 */	cmplw r0, r4
/* 803E0AE8 003D6868  41 81 00 20 */	bgt lbl_803E0B08
/* 803E0AEC 003D686C  80 03 00 18 */	lwz r0, 0x18(r3)
/* 803E0AF0 003D6870  3B 21 00 14 */	addi r25, r1, 0x14
/* 803E0AF4 003D6874  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E0AF8 003D6878  80 E3 00 14 */	lwz r7, 0x14(r3)
/* 803E0AFC 003D687C  7F 87 20 50 */	subf r28, r7, r4
/* 803E0B00 003D6880  3B 47 00 01 */	addi r26, r7, 1
/* 803E0B04 003D6884  48 00 00 10 */	b lbl_803E0B14
lbl_803E0B08:
/* 803E0B08 003D6888  83 23 00 08 */	lwz r25, 8(r3)
/* 803E0B0C 003D688C  7C 9C 23 78 */	mr r28, r4
/* 803E0B10 003D6890  3B 40 00 01 */	li r26, 1
lbl_803E0B14:
/* 803E0B14 003D6894  83 B9 00 00 */	lwz r29, 0(r25)
/* 803E0B18 003D6898  28 05 00 02 */	cmplwi r5, 2
/* 803E0B1C 003D689C  93 A1 00 18 */	stw r29, 0x18(r1)
/* 803E0B20 003D68A0  40 82 00 74 */	bne lbl_803E0B94
/* 803E0B24 003D68A4  2C 1C 00 00 */	cmpwi r28, 0
/* 803E0B28 003D68A8  41 82 00 18 */	beq lbl_803E0B40
/* 803E0B2C 003D68AC  2C 06 00 00 */	cmpwi r6, 0
/* 803E0B30 003D68B0  41 82 00 10 */	beq lbl_803E0B40
/* 803E0B34 003D68B4  7C BC 32 14 */	add r5, r28, r6
/* 803E0B38 003D68B8  3B 85 FF FF */	addi r28, r5, -1
/* 803E0B3C 003D68BC  48 00 00 08 */	b lbl_803E0B44
lbl_803E0B40:
/* 803E0B40 003D68C0  7C DC 33 78 */	mr r28, r6
lbl_803E0B44:
/* 803E0B44 003D68C4  81 23 00 0C */	lwz r9, 0xc(r3)
/* 803E0B48 003D68C8  7F 9B E3 78 */	mr r27, r28
/* 803E0B4C 003D68CC  2C 09 00 00 */	cmpwi r9, 0
/* 803E0B50 003D68D0  41 82 00 5C */	beq lbl_803E0BAC
/* 803E0B54 003D68D4  80 A3 00 34 */	lwz r5, 0x34(r3)
/* 803E0B58 003D68D8  3C E0 80 42 */	lis r7, lbl_8041B0E0@ha
/* 803E0B5C 003D68DC  81 03 00 10 */	lwz r8, 0x10(r3)
/* 803E0B60 003D68E0  38 E7 B0 E0 */	addi r7, r7, lbl_8041B0E0@l
/* 803E0B64 003D68E4  80 05 00 1C */	lwz r0, 0x1c(r5)
/* 803E0B68 003D68E8  7D 3D 4B 78 */	mr r29, r9
/* 803E0B6C 003D68EC  7C A8 32 14 */	add r5, r8, r6
/* 803E0B70 003D68F0  3B 80 00 00 */	li r28, 0
/* 803E0B74 003D68F4  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E0B78 003D68F8  7F 64 28 50 */	subf r27, r4, r5
/* 803E0B7C 003D68FC  7C 87 02 14 */	add r4, r7, r0
/* 803E0B80 003D6900  80 04 00 08 */	lwz r0, 8(r4)
/* 803E0B84 003D6904  90 01 00 18 */	stw r0, 0x18(r1)
/* 803E0B88 003D6908  80 83 00 10 */	lwz r4, 0x10(r3)
/* 803E0B8C 003D690C  3B 44 00 01 */	addi r26, r4, 1
/* 803E0B90 003D6910  48 00 00 1C */	b lbl_803E0BAC
lbl_803E0B94:
/* 803E0B94 003D6914  28 05 00 01 */	cmplwi r5, 1
/* 803E0B98 003D6918  40 82 00 10 */	bne lbl_803E0BA8
/* 803E0B9C 003D691C  2C 1D 00 00 */	cmpwi r29, 0
/* 803E0BA0 003D6920  40 82 00 08 */	bne lbl_803E0BA8
/* 803E0BA4 003D6924  3B 9C 00 01 */	addi r28, r28, 1
lbl_803E0BA8:
/* 803E0BA8 003D6928  7F 9B E3 78 */	mr r27, r28
lbl_803E0BAC:
/* 803E0BAC 003D692C  2C 1C 00 00 */	cmpwi r28, 0
/* 803E0BB0 003D6930  41 82 01 5C */	beq lbl_803E0D0C
/* 803E0BB4 003D6934  80 63 00 34 */	lwz r3, 0x34(r3)
/* 803E0BB8 003D6938  38 A1 00 08 */	addi r5, r1, 8
/* 803E0BBC 003D693C  38 C1 00 10 */	addi r6, r1, 0x10
/* 803E0BC0 003D6940  38 80 FF FF */	li r4, -1
/* 803E0BC4 003D6944  4B FF 98 91 */	bl PFCACHE_AllocateDataPage
/* 803E0BC8 003D6948  2C 03 00 00 */	cmpwi r3, 0
/* 803E0BCC 003D694C  41 82 00 08 */	beq lbl_803E0BD4
/* 803E0BD0 003D6950  48 00 02 24 */	b lbl_803E0DF4
lbl_803E0BD4:
/* 803E0BD4 003D6954  80 75 00 34 */	lwz r3, 0x34(r21)
/* 803E0BD8 003D6958  7F A5 EB 78 */	mr r5, r29
/* 803E0BDC 003D695C  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0BE0 003D6960  4B FF EB 81 */	bl PFFAT_ReadFATSector
/* 803E0BE4 003D6964  2C 03 00 00 */	cmpwi r3, 0
/* 803E0BE8 003D6968  7C 74 1B 78 */	mr r20, r3
/* 803E0BEC 003D696C  41 82 00 18 */	beq lbl_803E0C04
/* 803E0BF0 003D6970  80 75 00 34 */	lwz r3, 0x34(r21)
/* 803E0BF4 003D6974  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0BF8 003D6978  4B FF 99 65 */	bl PFCACHE_FreeDataPage
/* 803E0BFC 003D697C  7E 83 A3 78 */	mr r3, r20
/* 803E0C00 003D6980  48 00 01 F4 */	b lbl_803E0DF4
lbl_803E0C04:
/* 803E0C04 003D6984  80 61 00 08 */	lwz r3, 8(r1)
/* 803E0C08 003D6988  38 80 00 00 */	li r4, 0
/* 803E0C0C 003D698C  3F 60 80 42 */	lis r27, lbl_8041B0E0@ha
/* 803E0C10 003D6990  38 00 00 01 */	li r0, 1
/* 803E0C14 003D6994  B0 83 00 02 */	sth r4, 2(r3)
/* 803E0C18 003D6998  3B 7B B0 E0 */	addi r27, r27, lbl_8041B0E0@l
/* 803E0C1C 003D699C  90 01 00 0C */	stw r0, 0xc(r1)
/* 803E0C20 003D69A0  48 00 00 C8 */	b lbl_803E0CE8
lbl_803E0C24:
/* 803E0C24 003D69A4  2C 1D 00 00 */	cmpwi r29, 0
/* 803E0C28 003D69A8  41 82 00 50 */	beq lbl_803E0C78
/* 803E0C2C 003D69AC  81 01 00 08 */	lwz r8, 8(r1)
/* 803E0C30 003D69B0  7E A3 AB 78 */	mr r3, r21
/* 803E0C34 003D69B4  7F A4 EB 78 */	mr r4, r29
/* 803E0C38 003D69B8  7F 45 D3 78 */	mr r5, r26
/* 803E0C3C 003D69BC  38 C1 00 18 */	addi r6, r1, 0x18
/* 803E0C40 003D69C0  38 E1 00 0C */	addi r7, r1, 0xc
/* 803E0C44 003D69C4  4B FF F4 CD */	bl PFFAT_ReadClusterWithBuf
/* 803E0C48 003D69C8  2C 03 00 00 */	cmpwi r3, 0
/* 803E0C4C 003D69CC  7C 74 1B 78 */	mr r20, r3
/* 803E0C50 003D69D0  41 82 00 44 */	beq lbl_803E0C94
/* 803E0C54 003D69D4  80 61 00 18 */	lwz r3, 0x18(r1)
/* 803E0C58 003D69D8  3C 03 00 01 */	addis r0, r3, 1
/* 803E0C5C 003D69DC  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E0C60 003D69E0  41 82 00 34 */	beq lbl_803E0C94
/* 803E0C64 003D69E4  80 75 00 34 */	lwz r3, 0x34(r21)
/* 803E0C68 003D69E8  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0C6C 003D69EC  4B FF 98 F1 */	bl PFCACHE_FreeDataPage
/* 803E0C70 003D69F0  7E 83 A3 78 */	mr r3, r20
/* 803E0C74 003D69F4  48 00 01 80 */	b lbl_803E0DF4
lbl_803E0C78:
/* 803E0C78 003D69F8  80 75 00 34 */	lwz r3, 0x34(r21)
/* 803E0C7C 003D69FC  3B 5A FF FF */	addi r26, r26, -1
/* 803E0C80 003D6A00  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E0C84 003D6A04  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E0C88 003D6A08  7C 7B 02 14 */	add r3, r27, r0
/* 803E0C8C 003D6A0C  80 03 00 08 */	lwz r0, 8(r3)
/* 803E0C90 003D6A10  90 01 00 18 */	stw r0, 0x18(r1)
lbl_803E0C94:
/* 803E0C94 003D6A14  80 81 00 18 */	lwz r4, 0x18(r1)
/* 803E0C98 003D6A18  28 04 00 02 */	cmplwi r4, 2
/* 803E0C9C 003D6A1C  41 80 00 18 */	blt lbl_803E0CB4
/* 803E0CA0 003D6A20  80 75 00 34 */	lwz r3, 0x34(r21)
/* 803E0CA4 003D6A24  80 63 00 34 */	lwz r3, 0x34(r3)
/* 803E0CA8 003D6A28  38 03 00 02 */	addi r0, r3, 2
/* 803E0CAC 003D6A2C  7C 04 00 40 */	cmplw r4, r0
/* 803E0CB0 003D6A30  41 80 00 20 */	blt lbl_803E0CD0
lbl_803E0CB4:
/* 803E0CB4 003D6A34  7C 04 F0 40 */	cmplw r4, r30
/* 803E0CB8 003D6A38  40 80 00 18 */	bge lbl_803E0CD0
/* 803E0CBC 003D6A3C  80 75 00 34 */	lwz r3, 0x34(r21)
/* 803E0CC0 003D6A40  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0CC4 003D6A44  4B FF 98 99 */	bl PFCACHE_FreeDataPage
/* 803E0CC8 003D6A48  38 60 00 0E */	li r3, 0xe
/* 803E0CCC 003D6A4C  48 00 01 28 */	b lbl_803E0DF4
lbl_803E0CD0:
/* 803E0CD0 003D6A50  2C 16 00 00 */	cmpwi r22, 0
/* 803E0CD4 003D6A54  41 82 00 0C */	beq lbl_803E0CE0
/* 803E0CD8 003D6A58  7C 04 F0 40 */	cmplw r4, r30
/* 803E0CDC 003D6A5C  40 80 00 20 */	bge lbl_803E0CFC
lbl_803E0CE0:
/* 803E0CE0 003D6A60  7C 9D 23 78 */	mr r29, r4
/* 803E0CE4 003D6A64  3B 5A 00 01 */	addi r26, r26, 1
lbl_803E0CE8:
/* 803E0CE8 003D6A68  2C 1C 00 00 */	cmpwi r28, 0
/* 803E0CEC 003D6A6C  3B 9C FF FF */	addi r28, r28, -1
/* 803E0CF0 003D6A70  41 82 00 0C */	beq lbl_803E0CFC
/* 803E0CF4 003D6A74  7C 1D F8 40 */	cmplw r29, r31
/* 803E0CF8 003D6A78  41 80 FF 2C */	blt lbl_803E0C24
lbl_803E0CFC:
/* 803E0CFC 003D6A7C  80 75 00 34 */	lwz r3, 0x34(r21)
/* 803E0D00 003D6A80  7F 9B E3 78 */	mr r27, r28
/* 803E0D04 003D6A84  80 81 00 08 */	lwz r4, 8(r1)
/* 803E0D08 003D6A88  4B FF 98 55 */	bl PFCACHE_FreeDataPage
lbl_803E0D0C:
/* 803E0D0C 003D6A8C  2C 16 00 00 */	cmpwi r22, 0
/* 803E0D10 003D6A90  41 82 00 DC */	beq lbl_803E0DEC
/* 803E0D14 003D6A94  80 01 00 18 */	lwz r0, 0x18(r1)
/* 803E0D18 003D6A98  7C 00 F0 40 */	cmplw r0, r30
/* 803E0D1C 003D6A9C  41 80 00 D0 */	blt lbl_803E0DEC
/* 803E0D20 003D6AA0  38 00 00 00 */	li r0, 0
/* 803E0D24 003D6AA4  7E A3 AB 78 */	mr r3, r21
/* 803E0D28 003D6AA8  90 17 00 00 */	stw r0, 0(r23)
/* 803E0D2C 003D6AAC  7F 45 D3 78 */	mr r5, r26
/* 803E0D30 003D6AB0  7E E6 BB 78 */	mr r6, r23
/* 803E0D34 003D6AB4  38 9B 00 01 */	addi r4, r27, 1
/* 803E0D38 003D6AB8  38 E1 00 18 */	addi r7, r1, 0x18
/* 803E0D3C 003D6ABC  39 00 00 00 */	li r8, 0
/* 803E0D40 003D6AC0  4B FF F9 E9 */	bl PFFAT_DoAllocateChain
/* 803E0D44 003D6AC4  2C 03 00 00 */	cmpwi r3, 0
/* 803E0D48 003D6AC8  7C 76 1B 78 */	mr r22, r3
/* 803E0D4C 003D6ACC  41 82 00 34 */	beq lbl_803E0D80
/* 803E0D50 003D6AD0  80 97 00 00 */	lwz r4, 0(r23)
/* 803E0D54 003D6AD4  3C 04 00 01 */	addis r0, r4, 1
/* 803E0D58 003D6AD8  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E0D5C 003D6ADC  41 82 00 14 */	beq lbl_803E0D70
/* 803E0D60 003D6AE0  7E A3 AB 78 */	mr r3, r21
/* 803E0D64 003D6AE4  7F 45 D3 78 */	mr r5, r26
/* 803E0D68 003D6AE8  38 C0 FF FF */	li r6, -1
/* 803E0D6C 003D6AEC  48 00 0B 45 */	bl PFFAT_FreeChain
lbl_803E0D70:
/* 803E0D70 003D6AF0  38 00 FF FF */	li r0, -1
/* 803E0D74 003D6AF4  90 17 00 00 */	stw r0, 0(r23)
/* 803E0D78 003D6AF8  90 01 00 18 */	stw r0, 0x18(r1)
/* 803E0D7C 003D6AFC  48 00 00 08 */	b lbl_803E0D84
lbl_803E0D80:
/* 803E0D80 003D6B00  3A C0 00 00 */	li r22, 0
lbl_803E0D84:
/* 803E0D84 003D6B04  2C 16 00 00 */	cmpwi r22, 0
/* 803E0D88 003D6B08  41 82 00 0C */	beq lbl_803E0D94
/* 803E0D8C 003D6B0C  7E C3 B3 78 */	mr r3, r22
/* 803E0D90 003D6B10  48 00 00 64 */	b lbl_803E0DF4
lbl_803E0D94:
/* 803E0D94 003D6B14  80 61 00 18 */	lwz r3, 0x18(r1)
/* 803E0D98 003D6B18  3C 03 00 01 */	addis r0, r3, 1
/* 803E0D9C 003D6B1C  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E0DA0 003D6B20  40 82 00 0C */	bne lbl_803E0DAC
/* 803E0DA4 003D6B24  38 60 00 06 */	li r3, 6
/* 803E0DA8 003D6B28  48 00 00 4C */	b lbl_803E0DF4
lbl_803E0DAC:
/* 803E0DAC 003D6B2C  80 19 00 00 */	lwz r0, 0(r25)
/* 803E0DB0 003D6B30  2C 00 00 00 */	cmpwi r0, 0
/* 803E0DB4 003D6B34  40 82 00 10 */	bne lbl_803E0DC4
/* 803E0DB8 003D6B38  80 17 00 00 */	lwz r0, 0(r23)
/* 803E0DBC 003D6B3C  90 19 00 00 */	stw r0, 0(r25)
/* 803E0DC0 003D6B40  48 00 00 28 */	b lbl_803E0DE8
lbl_803E0DC4:
/* 803E0DC4 003D6B44  80 D7 00 00 */	lwz r6, 0(r23)
/* 803E0DC8 003D6B48  7E A3 AB 78 */	mr r3, r21
/* 803E0DCC 003D6B4C  7F A4 EB 78 */	mr r4, r29
/* 803E0DD0 003D6B50  38 BA FF FF */	addi r5, r26, -1
/* 803E0DD4 003D6B54  38 E0 00 01 */	li r7, 1
/* 803E0DD8 003D6B58  4B FF F5 05 */	bl PFFAT_WriteCluster
/* 803E0DDC 003D6B5C  2C 03 00 00 */	cmpwi r3, 0
/* 803E0DE0 003D6B60  41 82 00 08 */	beq lbl_803E0DE8
/* 803E0DE4 003D6B64  48 00 00 10 */	b lbl_803E0DF4
lbl_803E0DE8:
/* 803E0DE8 003D6B68  83 A1 00 18 */	lwz r29, 0x18(r1)
lbl_803E0DEC:
/* 803E0DEC 003D6B6C  93 B8 00 00 */	stw r29, 0(r24)
/* 803E0DF0 003D6B70  38 60 00 00 */	li r3, 0
lbl_803E0DF4:
/* 803E0DF4 003D6B74  39 61 00 50 */	addi r11, r1, 0x50
/* 803E0DF8 003D6B78  48 01 05 59 */	bl _restgpr_20
/* 803E0DFC 003D6B7C  80 01 00 54 */	lwz r0, 0x54(r1)
/* 803E0E00 003D6B80  7C 08 03 A6 */	mtlr r0
/* 803E0E04 003D6B84  38 21 00 50 */	addi r1, r1, 0x50
/* 803E0E08 003D6B88  4E 80 00 20 */	blr 

.global PFFAT_GetClusterContinuousSectorInChain
PFFAT_GetClusterContinuousSectorInChain:
/* 803E0E0C 003D6B8C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E0E10 003D6B90  7C 08 02 A6 */	mflr r0
/* 803E0E14 003D6B94  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E0E18 003D6B98  39 61 00 30 */	addi r11, r1, 0x30
/* 803E0E1C 003D6B9C  48 01 05 01 */	bl _savegpr_26
/* 803E0E20 003D6BA0  83 E3 00 34 */	lwz r31, 0x34(r3)
/* 803E0E24 003D6BA4  39 00 FF FF */	li r8, -1
/* 803E0E28 003D6BA8  38 00 00 01 */	li r0, 1
/* 803E0E2C 003D6BAC  7C 7B 1B 78 */	mr r27, r3
/* 803E0E30 003D6BB0  91 01 00 0C */	stw r8, 0xc(r1)
/* 803E0E34 003D6BB4  7C 9A 23 78 */	mr r26, r4
/* 803E0E38 003D6BB8  7C BC 2B 78 */	mr r28, r5
/* 803E0E3C 003D6BBC  7C DD 33 78 */	mr r29, r6
/* 803E0E40 003D6BC0  90 01 00 08 */	stw r0, 8(r1)
/* 803E0E44 003D6BC4  7C FE 3B 78 */	mr r30, r7
/* 803E0E48 003D6BC8  48 00 00 AC */	b lbl_803E0EF4
lbl_803E0E4C:
/* 803E0E4C 003D6BCC  7F 63 DB 78 */	mr r3, r27
/* 803E0E50 003D6BD0  7F 44 D3 78 */	mr r4, r26
/* 803E0E54 003D6BD4  7F 85 E3 78 */	mr r5, r28
/* 803E0E58 003D6BD8  38 C1 00 0C */	addi r6, r1, 0xc
/* 803E0E5C 003D6BDC  38 E1 00 08 */	addi r7, r1, 8
/* 803E0E60 003D6BE0  4B FF F0 F1 */	bl PFFAT_ReadCluster
/* 803E0E64 003D6BE4  2C 03 00 00 */	cmpwi r3, 0
/* 803E0E68 003D6BE8  41 82 00 08 */	beq lbl_803E0E70
/* 803E0E6C 003D6BEC  48 00 00 98 */	b lbl_803E0F04
lbl_803E0E70:
/* 803E0E70 003D6BF0  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E0E74 003D6BF4  38 1A 00 01 */	addi r0, r26, 1
/* 803E0E78 003D6BF8  7C 00 20 40 */	cmplw r0, r4
/* 803E0E7C 003D6BFC  41 82 00 34 */	beq lbl_803E0EB0
/* 803E0E80 003D6C00  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E0E84 003D6C04  3C 60 80 42 */	lis r3, lbl_8041B0E0@ha
/* 803E0E88 003D6C08  38 63 B0 E0 */	addi r3, r3, lbl_8041B0E0@l
/* 803E0E8C 003D6C0C  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E0E90 003D6C10  7C 63 02 14 */	add r3, r3, r0
/* 803E0E94 003D6C14  80 03 00 08 */	lwz r0, 8(r3)
/* 803E0E98 003D6C18  7C 04 00 40 */	cmplw r4, r0
/* 803E0E9C 003D6C1C  40 82 00 64 */	bne lbl_803E0F00
/* 803E0EA0 003D6C20  38 1C FF FF */	addi r0, r28, -1
/* 803E0EA4 003D6C24  93 5B 00 0C */	stw r26, 0xc(r27)
/* 803E0EA8 003D6C28  90 1B 00 10 */	stw r0, 0x10(r27)
/* 803E0EAC 003D6C2C  48 00 00 54 */	b lbl_803E0F00
lbl_803E0EB0:
/* 803E0EB0 003D6C30  80 9B 00 30 */	lwz r4, 0x30(r27)
/* 803E0EB4 003D6C34  80 64 00 00 */	lwz r3, 0(r4)
/* 803E0EB8 003D6C38  38 03 00 01 */	addi r0, r3, 1
/* 803E0EBC 003D6C3C  90 04 00 00 */	stw r0, 0(r4)
/* 803E0EC0 003D6C40  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803E0EC4 003D6C44  80 7B 00 30 */	lwz r3, 0x30(r27)
/* 803E0EC8 003D6C48  90 03 00 04 */	stw r0, 4(r3)
/* 803E0ECC 003D6C4C  80 7E 00 00 */	lwz r3, 0(r30)
/* 803E0ED0 003D6C50  88 1F 00 06 */	lbz r0, 6(r31)
/* 803E0ED4 003D6C54  7C 63 02 14 */	add r3, r3, r0
/* 803E0ED8 003D6C58  90 7E 00 00 */	stw r3, 0(r30)
/* 803E0EDC 003D6C5C  88 1F 00 20 */	lbz r0, 0x20(r31)
/* 803E0EE0 003D6C60  7C 60 00 30 */	slw r0, r3, r0
/* 803E0EE4 003D6C64  7C 00 E8 40 */	cmplw r0, r29
/* 803E0EE8 003D6C68  40 80 00 18 */	bge lbl_803E0F00
/* 803E0EEC 003D6C6C  83 41 00 0C */	lwz r26, 0xc(r1)
/* 803E0EF0 003D6C70  3B 9C 00 01 */	addi r28, r28, 1
lbl_803E0EF4:
/* 803E0EF4 003D6C74  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803E0EF8 003D6C78  2C 00 00 00 */	cmpwi r0, 0
/* 803E0EFC 003D6C7C  40 82 FF 50 */	bne lbl_803E0E4C
lbl_803E0F00:
/* 803E0F00 003D6C80  38 60 00 00 */	li r3, 0
lbl_803E0F04:
/* 803E0F04 003D6C84  39 61 00 30 */	addi r11, r1, 0x30
/* 803E0F08 003D6C88  48 01 04 61 */	bl _restgpr_26
/* 803E0F0C 003D6C8C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E0F10 003D6C90  7C 08 03 A6 */	mtlr r0
/* 803E0F14 003D6C94  38 21 00 30 */	addi r1, r1, 0x30
/* 803E0F18 003D6C98  4E 80 00 20 */	blr 

.global PFFAT_GetClusterAllocatedInChain
PFFAT_GetClusterAllocatedInChain:
/* 803E0F1C 003D6C9C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E0F20 003D6CA0  7C 08 02 A6 */	mflr r0
/* 803E0F24 003D6CA4  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E0F28 003D6CA8  39 61 00 30 */	addi r11, r1, 0x30
/* 803E0F2C 003D6CAC  48 01 03 E9 */	bl _savegpr_24
/* 803E0F30 003D6CB0  83 E3 00 34 */	lwz r31, 0x34(r3)
/* 803E0F34 003D6CB4  39 00 FF FF */	li r8, -1
/* 803E0F38 003D6CB8  38 00 00 01 */	li r0, 1
/* 803E0F3C 003D6CBC  3F 00 80 42 */	lis r24, lbl_8041B0E0@ha
/* 803E0F40 003D6CC0  91 01 00 0C */	stw r8, 0xc(r1)
/* 803E0F44 003D6CC4  7C 79 1B 78 */	mr r25, r3
/* 803E0F48 003D6CC8  7C 9E 23 78 */	mr r30, r4
/* 803E0F4C 003D6CCC  7C BA 2B 78 */	mr r26, r5
/* 803E0F50 003D6CD0  90 01 00 08 */	stw r0, 8(r1)
/* 803E0F54 003D6CD4  7C DB 33 78 */	mr r27, r6
/* 803E0F58 003D6CD8  7C FC 3B 78 */	mr r28, r7
/* 803E0F5C 003D6CDC  3B 18 B0 E0 */	addi r24, r24, lbl_8041B0E0@l
/* 803E0F60 003D6CE0  3B A0 00 00 */	li r29, 0
/* 803E0F64 003D6CE4  48 00 00 80 */	b lbl_803E0FE4
lbl_803E0F68:
/* 803E0F68 003D6CE8  A0 9F 00 00 */	lhz r4, 0(r31)
/* 803E0F6C 003D6CEC  88 1F 00 06 */	lbz r0, 6(r31)
/* 803E0F70 003D6CF0  80 7C 00 00 */	lwz r3, 0(r28)
/* 803E0F74 003D6CF4  7C 84 01 D6 */	mullw r4, r4, r0
/* 803E0F78 003D6CF8  38 03 00 01 */	addi r0, r3, 1
/* 803E0F7C 003D6CFC  90 1C 00 00 */	stw r0, 0(r28)
/* 803E0F80 003D6D00  7F BD 22 14 */	add r29, r29, r4
/* 803E0F84 003D6D04  7C 1D D8 40 */	cmplw r29, r27
/* 803E0F88 003D6D08  40 80 00 68 */	bge lbl_803E0FF0
/* 803E0F8C 003D6D0C  7F 23 CB 78 */	mr r3, r25
/* 803E0F90 003D6D10  7F C4 F3 78 */	mr r4, r30
/* 803E0F94 003D6D14  7F 45 D3 78 */	mr r5, r26
/* 803E0F98 003D6D18  38 C1 00 0C */	addi r6, r1, 0xc
/* 803E0F9C 003D6D1C  38 E1 00 08 */	addi r7, r1, 8
/* 803E0FA0 003D6D20  4B FF EF B1 */	bl PFFAT_ReadCluster
/* 803E0FA4 003D6D24  2C 03 00 00 */	cmpwi r3, 0
/* 803E0FA8 003D6D28  41 82 00 08 */	beq lbl_803E0FB0
/* 803E0FAC 003D6D2C  48 00 00 48 */	b lbl_803E0FF4
lbl_803E0FB0:
/* 803E0FB0 003D6D30  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E0FB4 003D6D34  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E0FB8 003D6D38  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E0FBC 003D6D3C  7C 78 02 14 */	add r3, r24, r0
/* 803E0FC0 003D6D40  80 03 00 08 */	lwz r0, 8(r3)
/* 803E0FC4 003D6D44  7C 04 00 40 */	cmplw r4, r0
/* 803E0FC8 003D6D48  40 82 00 14 */	bne lbl_803E0FDC
/* 803E0FCC 003D6D4C  38 1A FF FF */	addi r0, r26, -1
/* 803E0FD0 003D6D50  93 D9 00 0C */	stw r30, 0xc(r25)
/* 803E0FD4 003D6D54  90 19 00 10 */	stw r0, 0x10(r25)
/* 803E0FD8 003D6D58  48 00 00 18 */	b lbl_803E0FF0
lbl_803E0FDC:
/* 803E0FDC 003D6D5C  7C 9E 23 78 */	mr r30, r4
/* 803E0FE0 003D6D60  3B 5A 00 01 */	addi r26, r26, 1
lbl_803E0FE4:
/* 803E0FE4 003D6D64  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803E0FE8 003D6D68  2C 00 00 00 */	cmpwi r0, 0
/* 803E0FEC 003D6D6C  40 82 FF 7C */	bne lbl_803E0F68
lbl_803E0FF0:
/* 803E0FF0 003D6D70  38 60 00 00 */	li r3, 0
lbl_803E0FF4:
/* 803E0FF4 003D6D74  39 61 00 30 */	addi r11, r1, 0x30
/* 803E0FF8 003D6D78  48 01 03 69 */	bl _restgpr_24
/* 803E0FFC 003D6D7C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E1000 003D6D80  7C 08 03 A6 */	mtlr r0
/* 803E1004 003D6D84  38 21 00 30 */	addi r1, r1, 0x30
/* 803E1008 003D6D88  4E 80 00 20 */	blr 

.global PFFAT_GetClusterSpecified
PFFAT_GetClusterSpecified:
/* 803E100C 003D6D8C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E1010 003D6D90  7C 08 02 A6 */	mflr r0
/* 803E1014 003D6D94  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E1018 003D6D98  39 61 00 30 */	addi r11, r1, 0x30
/* 803E101C 003D6D9C  48 01 03 05 */	bl _savegpr_27
/* 803E1020 003D6DA0  80 E3 00 08 */	lwz r7, 8(r3)
/* 803E1024 003D6DA4  7C 9D 23 78 */	mr r29, r4
/* 803E1028 003D6DA8  81 03 00 34 */	lwz r8, 0x34(r3)
/* 803E102C 003D6DAC  7C 7C 1B 78 */	mr r28, r3
/* 803E1030 003D6DB0  80 07 00 00 */	lwz r0, 0(r7)
/* 803E1034 003D6DB4  7C BB 2B 78 */	mr r27, r5
/* 803E1038 003D6DB8  80 88 00 1C */	lwz r4, 0x1c(r8)
/* 803E103C 003D6DBC  7C DE 33 78 */	mr r30, r6
/* 803E1040 003D6DC0  2C 00 00 00 */	cmpwi r0, 0
/* 803E1044 003D6DC4  83 E3 00 30 */	lwz r31, 0x30(r3)
/* 803E1048 003D6DC8  40 82 00 1C */	bne lbl_803E1064
/* 803E104C 003D6DCC  2C 05 00 00 */	cmpwi r5, 0
/* 803E1050 003D6DD0  40 82 00 14 */	bne lbl_803E1064
/* 803E1054 003D6DD4  38 00 FF FF */	li r0, -1
/* 803E1058 003D6DD8  38 60 00 00 */	li r3, 0
/* 803E105C 003D6DDC  90 06 00 00 */	stw r0, 0(r6)
/* 803E1060 003D6DE0  48 00 01 24 */	b lbl_803E1184
lbl_803E1064:
/* 803E1064 003D6DE4  28 00 00 01 */	cmplwi r0, 1
/* 803E1068 003D6DE8  40 82 00 24 */	bne lbl_803E108C
/* 803E106C 003D6DEC  28 04 00 01 */	cmplwi r4, 1
/* 803E1070 003D6DF0  41 81 00 14 */	bgt lbl_803E1084
/* 803E1074 003D6DF4  38 00 FF FF */	li r0, -1
/* 803E1078 003D6DF8  38 60 00 00 */	li r3, 0
/* 803E107C 003D6DFC  90 06 00 00 */	stw r0, 0(r6)
/* 803E1080 003D6E00  48 00 01 04 */	b lbl_803E1184
lbl_803E1084:
/* 803E1084 003D6E04  80 08 00 10 */	lwz r0, 0x10(r8)
/* 803E1088 003D6E08  90 07 00 00 */	stw r0, 0(r7)
lbl_803E108C:
/* 803E108C 003D6E0C  80 03 00 1C */	lwz r0, 0x1c(r3)
/* 803E1090 003D6E10  2C 00 00 00 */	cmpwi r0, 0
/* 803E1094 003D6E14  41 82 00 54 */	beq lbl_803E10E8
/* 803E1098 003D6E18  2C 05 00 00 */	cmpwi r5, 0
/* 803E109C 003D6E1C  40 82 00 4C */	bne lbl_803E10E8
/* 803E10A0 003D6E20  7F 83 E3 78 */	mr r3, r28
/* 803E10A4 003D6E24  7F A4 EB 78 */	mr r4, r29
/* 803E10A8 003D6E28  7F C5 F3 78 */	mr r5, r30
/* 803E10AC 003D6E2C  38 C1 00 10 */	addi r6, r1, 0x10
/* 803E10B0 003D6E30  4B FF EB 75 */	bl PFFAT_FindClusterLink
/* 803E10B4 003D6E34  2C 03 00 00 */	cmpwi r3, 0
/* 803E10B8 003D6E38  41 82 00 08 */	beq lbl_803E10C0
/* 803E10BC 003D6E3C  48 00 00 C8 */	b lbl_803E1184
lbl_803E10C0:
/* 803E10C0 003D6E40  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803E10C4 003D6E44  28 00 00 01 */	cmplwi r0, 1
/* 803E10C8 003D6E48  40 82 00 20 */	bne lbl_803E10E8
/* 803E10CC 003D6E4C  80 1C 00 00 */	lwz r0, 0(r28)
/* 803E10D0 003D6E50  38 60 00 00 */	li r3, 0
/* 803E10D4 003D6E54  90 1F 00 08 */	stw r0, 8(r31)
/* 803E10D8 003D6E58  93 BF 00 00 */	stw r29, 0(r31)
/* 803E10DC 003D6E5C  80 1E 00 00 */	lwz r0, 0(r30)
/* 803E10E0 003D6E60  90 1F 00 04 */	stw r0, 4(r31)
/* 803E10E4 003D6E64  48 00 00 A0 */	b lbl_803E1184
lbl_803E10E8:
/* 803E10E8 003D6E68  7C 1B 00 D0 */	neg r0, r27
/* 803E10EC 003D6E6C  38 60 FF FF */	li r3, -1
/* 803E10F0 003D6E70  7C 00 DB 78 */	or r0, r0, r27
/* 803E10F4 003D6E74  90 7E 00 00 */	stw r3, 0(r30)
/* 803E10F8 003D6E78  7F 83 E3 78 */	mr r3, r28
/* 803E10FC 003D6E7C  7F A4 EB 78 */	mr r4, r29
/* 803E1100 003D6E80  54 05 0F FE */	srwi r5, r0, 0x1f
/* 803E1104 003D6E84  38 E1 00 08 */	addi r7, r1, 8
/* 803E1108 003D6E88  39 01 00 0C */	addi r8, r1, 0xc
/* 803E110C 003D6E8C  38 C0 00 00 */	li r6, 0
/* 803E1110 003D6E90  4B FF F9 79 */	bl PFFAT_GetClusterInChain
/* 803E1114 003D6E94  2C 03 00 00 */	cmpwi r3, 0
/* 803E1118 003D6E98  41 82 00 08 */	beq lbl_803E1120
/* 803E111C 003D6E9C  48 00 00 2C */	b lbl_803E1148
lbl_803E1120:
/* 803E1120 003D6EA0  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E1124 003D6EA4  28 04 00 02 */	cmplwi r4, 2
/* 803E1128 003D6EA8  41 80 00 1C */	blt lbl_803E1144
/* 803E112C 003D6EAC  80 7C 00 34 */	lwz r3, 0x34(r28)
/* 803E1130 003D6EB0  80 63 00 34 */	lwz r3, 0x34(r3)
/* 803E1134 003D6EB4  38 03 00 02 */	addi r0, r3, 2
/* 803E1138 003D6EB8  7C 04 00 40 */	cmplw r4, r0
/* 803E113C 003D6EBC  40 80 00 08 */	bge lbl_803E1144
/* 803E1140 003D6EC0  90 9E 00 00 */	stw r4, 0(r30)
lbl_803E1144:
/* 803E1144 003D6EC4  38 60 00 00 */	li r3, 0
lbl_803E1148:
/* 803E1148 003D6EC8  2C 03 00 00 */	cmpwi r3, 0
/* 803E114C 003D6ECC  41 82 00 08 */	beq lbl_803E1154
/* 803E1150 003D6ED0  48 00 00 34 */	b lbl_803E1184
lbl_803E1154:
/* 803E1154 003D6ED4  80 7E 00 00 */	lwz r3, 0(r30)
/* 803E1158 003D6ED8  3C 03 00 01 */	addis r0, r3, 1
/* 803E115C 003D6EDC  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E1160 003D6EE0  40 82 00 0C */	bne lbl_803E116C
/* 803E1164 003D6EE4  38 60 00 00 */	li r3, 0
/* 803E1168 003D6EE8  48 00 00 1C */	b lbl_803E1184
lbl_803E116C:
/* 803E116C 003D6EEC  80 1C 00 00 */	lwz r0, 0(r28)
/* 803E1170 003D6EF0  38 60 00 00 */	li r3, 0
/* 803E1174 003D6EF4  90 1F 00 08 */	stw r0, 8(r31)
/* 803E1178 003D6EF8  93 BF 00 00 */	stw r29, 0(r31)
/* 803E117C 003D6EFC  80 1E 00 00 */	lwz r0, 0(r30)
/* 803E1180 003D6F00  90 1F 00 04 */	stw r0, 4(r31)
lbl_803E1184:
/* 803E1184 003D6F04  39 61 00 30 */	addi r11, r1, 0x30
/* 803E1188 003D6F08  48 01 01 E5 */	bl _restgpr_27
/* 803E118C 003D6F0C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E1190 003D6F10  7C 08 03 A6 */	mtlr r0
/* 803E1194 003D6F14  38 21 00 30 */	addi r1, r1, 0x30
/* 803E1198 003D6F18  4E 80 00 20 */	blr 

.global PFFAT_GetClusterAllocated
PFFAT_GetClusterAllocated:
/* 803E119C 003D6F1C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E11A0 003D6F20  7C 08 02 A6 */	mflr r0
/* 803E11A4 003D6F24  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E11A8 003D6F28  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E11AC 003D6F2C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E11B0 003D6F30  7C DE 33 78 */	mr r30, r6
/* 803E11B4 003D6F34  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803E11B8 003D6F38  7C 9D 23 78 */	mr r29, r4
/* 803E11BC 003D6F3C  93 81 00 10 */	stw r28, 0x10(r1)
/* 803E11C0 003D6F40  7C 7C 1B 78 */	mr r28, r3
/* 803E11C4 003D6F44  80 E3 00 08 */	lwz r7, 8(r3)
/* 803E11C8 003D6F48  81 03 00 34 */	lwz r8, 0x34(r3)
/* 803E11CC 003D6F4C  80 07 00 00 */	lwz r0, 0(r7)
/* 803E11D0 003D6F50  80 88 00 1C */	lwz r4, 0x1c(r8)
/* 803E11D4 003D6F54  28 00 00 01 */	cmplwi r0, 1
/* 803E11D8 003D6F58  83 E3 00 30 */	lwz r31, 0x30(r3)
/* 803E11DC 003D6F5C  40 82 00 24 */	bne lbl_803E1200
/* 803E11E0 003D6F60  28 04 00 01 */	cmplwi r4, 1
/* 803E11E4 003D6F64  41 81 00 14 */	bgt lbl_803E11F8
/* 803E11E8 003D6F68  38 00 FF FF */	li r0, -1
/* 803E11EC 003D6F6C  38 60 00 00 */	li r3, 0
/* 803E11F0 003D6F70  90 06 00 00 */	stw r0, 0(r6)
/* 803E11F4 003D6F74  48 00 00 A0 */	b lbl_803E1294
lbl_803E11F8:
/* 803E11F8 003D6F78  80 08 00 10 */	lwz r0, 0x10(r8)
/* 803E11FC 003D6F7C  90 07 00 00 */	stw r0, 0(r7)
lbl_803E1200:
/* 803E1200 003D6F80  38 00 FF FF */	li r0, -1
/* 803E1204 003D6F84  7F 83 E3 78 */	mr r3, r28
/* 803E1208 003D6F88  90 06 00 00 */	stw r0, 0(r6)
/* 803E120C 003D6F8C  7C A6 2B 78 */	mr r6, r5
/* 803E1210 003D6F90  7F A4 EB 78 */	mr r4, r29
/* 803E1214 003D6F94  38 E1 00 08 */	addi r7, r1, 8
/* 803E1218 003D6F98  39 01 00 0C */	addi r8, r1, 0xc
/* 803E121C 003D6F9C  38 A0 00 02 */	li r5, 2
/* 803E1220 003D6FA0  4B FF F8 69 */	bl PFFAT_GetClusterInChain
/* 803E1224 003D6FA4  2C 03 00 00 */	cmpwi r3, 0
/* 803E1228 003D6FA8  41 82 00 08 */	beq lbl_803E1230
/* 803E122C 003D6FAC  48 00 00 2C */	b lbl_803E1258
lbl_803E1230:
/* 803E1230 003D6FB0  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1234 003D6FB4  28 04 00 02 */	cmplwi r4, 2
/* 803E1238 003D6FB8  41 80 00 1C */	blt lbl_803E1254
/* 803E123C 003D6FBC  80 7C 00 34 */	lwz r3, 0x34(r28)
/* 803E1240 003D6FC0  80 63 00 34 */	lwz r3, 0x34(r3)
/* 803E1244 003D6FC4  38 03 00 02 */	addi r0, r3, 2
/* 803E1248 003D6FC8  7C 04 00 40 */	cmplw r4, r0
/* 803E124C 003D6FCC  40 80 00 08 */	bge lbl_803E1254
/* 803E1250 003D6FD0  90 9E 00 00 */	stw r4, 0(r30)
lbl_803E1254:
/* 803E1254 003D6FD4  38 60 00 00 */	li r3, 0
lbl_803E1258:
/* 803E1258 003D6FD8  2C 03 00 00 */	cmpwi r3, 0
/* 803E125C 003D6FDC  41 82 00 08 */	beq lbl_803E1264
/* 803E1260 003D6FE0  48 00 00 34 */	b lbl_803E1294
lbl_803E1264:
/* 803E1264 003D6FE4  80 7E 00 00 */	lwz r3, 0(r30)
/* 803E1268 003D6FE8  3C 03 00 01 */	addis r0, r3, 1
/* 803E126C 003D6FEC  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E1270 003D6FF0  40 82 00 0C */	bne lbl_803E127C
/* 803E1274 003D6FF4  38 60 00 00 */	li r3, 0
/* 803E1278 003D6FF8  48 00 00 1C */	b lbl_803E1294
lbl_803E127C:
/* 803E127C 003D6FFC  80 1C 00 00 */	lwz r0, 0(r28)
/* 803E1280 003D7000  38 60 00 00 */	li r3, 0
/* 803E1284 003D7004  90 1F 00 08 */	stw r0, 8(r31)
/* 803E1288 003D7008  93 BF 00 00 */	stw r29, 0(r31)
/* 803E128C 003D700C  80 1E 00 00 */	lwz r0, 0(r30)
/* 803E1290 003D7010  90 1F 00 04 */	stw r0, 4(r31)
lbl_803E1294:
/* 803E1294 003D7014  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E1298 003D7018  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E129C 003D701C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E12A0 003D7020  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E12A4 003D7024  83 81 00 10 */	lwz r28, 0x10(r1)
/* 803E12A8 003D7028  7C 08 03 A6 */	mtlr r0
/* 803E12AC 003D702C  38 21 00 20 */	addi r1, r1, 0x20
/* 803E12B0 003D7030  4E 80 00 20 */	blr 

.global PFFAT_GetSector
PFFAT_GetSector:
/* 803E12B4 003D7034  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E12B8 003D7038  7C 08 02 A6 */	mflr r0
/* 803E12BC 003D703C  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E12C0 003D7040  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E12C4 003D7044  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E12C8 003D7048  7C FE 3B 78 */	mr r30, r7
/* 803E12CC 003D704C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803E12D0 003D7050  7C 9D 23 78 */	mr r29, r4
/* 803E12D4 003D7054  81 03 00 08 */	lwz r8, 8(r3)
/* 803E12D8 003D7058  83 E3 00 34 */	lwz r31, 0x34(r3)
/* 803E12DC 003D705C  80 08 00 00 */	lwz r0, 0(r8)
/* 803E12E0 003D7060  81 1F 00 1C */	lwz r8, 0x1c(r31)
/* 803E12E4 003D7064  28 00 00 01 */	cmplwi r0, 1
/* 803E12E8 003D7068  40 82 00 4C */	bne lbl_803E1334
/* 803E12EC 003D706C  28 08 00 01 */	cmplwi r8, 1
/* 803E12F0 003D7070  41 81 00 44 */	bgt lbl_803E1334
/* 803E12F4 003D7074  A0 1F 00 24 */	lhz r0, 0x24(r31)
/* 803E12F8 003D7078  7C 04 00 40 */	cmplw r4, r0
/* 803E12FC 003D707C  41 80 00 14 */	blt lbl_803E1310
/* 803E1300 003D7080  38 00 FF FF */	li r0, -1
/* 803E1304 003D7084  38 60 00 00 */	li r3, 0
/* 803E1308 003D7088  90 07 00 00 */	stw r0, 0(r7)
/* 803E130C 003D708C  48 00 00 14 */	b lbl_803E1320
lbl_803E1310:
/* 803E1310 003D7090  80 1F 00 2C */	lwz r0, 0x2c(r31)
/* 803E1314 003D7094  38 60 00 00 */	li r3, 0
/* 803E1318 003D7098  7C 00 22 14 */	add r0, r0, r4
/* 803E131C 003D709C  90 07 00 00 */	stw r0, 0(r7)
lbl_803E1320:
/* 803E1320 003D70A0  2C 03 00 00 */	cmpwi r3, 0
/* 803E1324 003D70A4  41 82 00 08 */	beq lbl_803E132C
/* 803E1328 003D70A8  48 00 00 D0 */	b lbl_803E13F8
lbl_803E132C:
/* 803E132C 003D70AC  38 60 00 00 */	li r3, 0
/* 803E1330 003D70B0  48 00 00 C8 */	b lbl_803E13F8
lbl_803E1334:
/* 803E1334 003D70B4  88 1F 00 21 */	lbz r0, 0x21(r31)
/* 803E1338 003D70B8  28 05 00 02 */	cmplwi r5, 2
/* 803E133C 003D70BC  7C 84 04 30 */	srw r4, r4, r0
/* 803E1340 003D70C0  40 82 00 58 */	bne lbl_803E1398
/* 803E1344 003D70C4  A0 1F 00 00 */	lhz r0, 0(r31)
/* 803E1348 003D70C8  88 FF 00 06 */	lbz r7, 6(r31)
/* 803E134C 003D70CC  7D 06 03 96 */	divwu r8, r6, r0
/* 803E1350 003D70D0  7C 08 01 D6 */	mullw r0, r8, r0
/* 803E1354 003D70D4  7C A0 30 50 */	subf r5, r0, r6
/* 803E1358 003D70D8  38 C1 00 08 */	addi r6, r1, 8
/* 803E135C 003D70DC  7C 05 00 D0 */	neg r0, r5
/* 803E1360 003D70E0  7C 00 2B 78 */	or r0, r0, r5
/* 803E1364 003D70E4  54 00 0F FE */	srwi r0, r0, 0x1f
/* 803E1368 003D70E8  7C A8 02 14 */	add r5, r8, r0
/* 803E136C 003D70EC  7D 05 3B 96 */	divwu r8, r5, r7
/* 803E1370 003D70F0  7C 08 39 D6 */	mullw r0, r8, r7
/* 803E1374 003D70F4  7C A0 28 50 */	subf r5, r0, r5
/* 803E1378 003D70F8  7C 05 00 D0 */	neg r0, r5
/* 803E137C 003D70FC  7C 00 2B 78 */	or r0, r0, r5
/* 803E1380 003D7100  54 00 0F FE */	srwi r0, r0, 0x1f
/* 803E1384 003D7104  7C A8 02 14 */	add r5, r8, r0
/* 803E1388 003D7108  4B FF FE 15 */	bl PFFAT_GetClusterAllocated
/* 803E138C 003D710C  2C 03 00 00 */	cmpwi r3, 0
/* 803E1390 003D7110  41 82 00 1C */	beq lbl_803E13AC
/* 803E1394 003D7114  48 00 00 64 */	b lbl_803E13F8
lbl_803E1398:
/* 803E1398 003D7118  38 C1 00 08 */	addi r6, r1, 8
/* 803E139C 003D711C  4B FF FC 71 */	bl PFFAT_GetClusterSpecified
/* 803E13A0 003D7120  2C 03 00 00 */	cmpwi r3, 0
/* 803E13A4 003D7124  41 82 00 08 */	beq lbl_803E13AC
/* 803E13A8 003D7128  48 00 00 50 */	b lbl_803E13F8
lbl_803E13AC:
/* 803E13AC 003D712C  80 61 00 08 */	lwz r3, 8(r1)
/* 803E13B0 003D7130  3C 03 00 01 */	addis r0, r3, 1
/* 803E13B4 003D7134  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E13B8 003D7138  40 82 00 14 */	bne lbl_803E13CC
/* 803E13BC 003D713C  38 00 FF FF */	li r0, -1
/* 803E13C0 003D7140  38 60 00 00 */	li r3, 0
/* 803E13C4 003D7144  90 1E 00 00 */	stw r0, 0(r30)
/* 803E13C8 003D7148  48 00 00 30 */	b lbl_803E13F8
lbl_803E13CC:
/* 803E13CC 003D714C  88 9F 00 06 */	lbz r4, 6(r31)
/* 803E13D0 003D7150  38 C3 FF FE */	addi r6, r3, -2
/* 803E13D4 003D7154  88 BF 00 21 */	lbz r5, 0x21(r31)
/* 803E13D8 003D7158  38 60 00 00 */	li r3, 0
/* 803E13DC 003D715C  38 04 FF FF */	addi r0, r4, -1
/* 803E13E0 003D7160  80 FF 00 30 */	lwz r7, 0x30(r31)
/* 803E13E4 003D7164  7C C5 28 30 */	slw r5, r6, r5
/* 803E13E8 003D7168  7F A4 00 38 */	and r4, r29, r0
/* 803E13EC 003D716C  7C 07 2A 14 */	add r0, r7, r5
/* 803E13F0 003D7170  7C 04 02 14 */	add r0, r4, r0
/* 803E13F4 003D7174  90 1E 00 00 */	stw r0, 0(r30)
lbl_803E13F8:
/* 803E13F8 003D7178  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E13FC 003D717C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E1400 003D7180  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E1404 003D7184  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E1408 003D7188  7C 08 03 A6 */	mtlr r0
/* 803E140C 003D718C  38 21 00 20 */	addi r1, r1, 0x20
/* 803E1410 003D7190  4E 80 00 20 */	blr 

.global PFFAT_GetSectorSpecified
PFFAT_GetSectorSpecified:
/* 803E1414 003D7194  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803E1418 003D7198  7C 08 02 A6 */	mflr r0
/* 803E141C 003D719C  7C C7 33 78 */	mr r7, r6
/* 803E1420 003D71A0  38 C0 00 00 */	li r6, 0
/* 803E1424 003D71A4  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E1428 003D71A8  7C 05 00 D0 */	neg r0, r5
/* 803E142C 003D71AC  7C 00 2B 78 */	or r0, r0, r5
/* 803E1430 003D71B0  54 05 0F FE */	srwi r5, r0, 0x1f
/* 803E1434 003D71B4  4B FF FE 81 */	bl PFFAT_GetSector
/* 803E1438 003D71B8  2C 03 00 00 */	cmpwi r3, 0
/* 803E143C 003D71BC  41 82 00 08 */	beq lbl_803E1444
/* 803E1440 003D71C0  48 00 00 08 */	b lbl_803E1448
lbl_803E1444:
/* 803E1444 003D71C4  38 60 00 00 */	li r3, 0
lbl_803E1448:
/* 803E1448 003D71C8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803E144C 003D71CC  7C 08 03 A6 */	mtlr r0
/* 803E1450 003D71D0  38 21 00 10 */	addi r1, r1, 0x10
/* 803E1454 003D71D4  4E 80 00 20 */	blr 

.global PFFAT_GetSectorAllocated
PFFAT_GetSectorAllocated:
/* 803E1458 003D71D8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803E145C 003D71DC  7C 08 02 A6 */	mflr r0
/* 803E1460 003D71E0  7C C7 33 78 */	mr r7, r6
/* 803E1464 003D71E4  7C A6 2B 78 */	mr r6, r5
/* 803E1468 003D71E8  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E146C 003D71EC  38 A0 00 02 */	li r5, 2
/* 803E1470 003D71F0  4B FF FE 45 */	bl PFFAT_GetSector
/* 803E1474 003D71F4  7C 03 00 D0 */	neg r0, r3
/* 803E1478 003D71F8  7C 00 1B 78 */	or r0, r0, r3
/* 803E147C 003D71FC  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 803E1480 003D7200  7C 63 00 38 */	and r3, r3, r0
/* 803E1484 003D7204  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803E1488 003D7208  7C 08 03 A6 */	mtlr r0
/* 803E148C 003D720C  38 21 00 10 */	addi r1, r1, 0x10
/* 803E1490 003D7210  4E 80 00 20 */	blr 

.global PFFAT_getContinuousSector
PFFAT_getContinuousSector:
/* 803E1494 003D7214  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E1498 003D7218  7C 08 02 A6 */	mflr r0
/* 803E149C 003D721C  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E14A0 003D7220  39 61 00 30 */	addi r11, r1, 0x30
/* 803E14A4 003D7224  48 00 FE 75 */	bl _savegpr_25
/* 803E14A8 003D7228  81 06 00 00 */	lwz r8, 0(r6)
/* 803E14AC 003D722C  7C 79 1B 78 */	mr r25, r3
/* 803E14B0 003D7230  83 E3 00 34 */	lwz r31, 0x34(r3)
/* 803E14B4 003D7234  7C 9A 23 78 */	mr r26, r4
/* 803E14B8 003D7238  3C 08 00 01 */	addis r0, r8, 1
/* 803E14BC 003D723C  7C BB 2B 78 */	mr r27, r5
/* 803E14C0 003D7240  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E14C4 003D7244  7C DC 33 78 */	mr r28, r6
/* 803E14C8 003D7248  7C FD 3B 78 */	mr r29, r7
/* 803E14CC 003D724C  3B C0 FF FF */	li r30, -1
/* 803E14D0 003D7250  41 82 00 1C */	beq lbl_803E14EC
/* 803E14D4 003D7254  80 7F 00 30 */	lwz r3, 0x30(r31)
/* 803E14D8 003D7258  88 1F 00 21 */	lbz r0, 0x21(r31)
/* 803E14DC 003D725C  7C 63 40 50 */	subf r3, r3, r8
/* 803E14E0 003D7260  7C 63 04 30 */	srw r3, r3, r0
/* 803E14E4 003D7264  3B C3 00 02 */	addi r30, r3, 2
/* 803E14E8 003D7268  48 00 00 50 */	b lbl_803E1538
lbl_803E14EC:
/* 803E14EC 003D726C  7F 87 E3 78 */	mr r7, r28
/* 803E14F0 003D7270  38 A0 00 00 */	li r5, 0
/* 803E14F4 003D7274  38 C0 00 00 */	li r6, 0
/* 803E14F8 003D7278  4B FF FD BD */	bl PFFAT_GetSector
/* 803E14FC 003D727C  7C 03 00 D0 */	neg r0, r3
/* 803E1500 003D7280  7C 00 1B 78 */	or r0, r0, r3
/* 803E1504 003D7284  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 803E1508 003D7288  7C 63 00 39 */	and. r3, r3, r0
/* 803E150C 003D728C  41 82 00 08 */	beq lbl_803E1514
/* 803E1510 003D7290  48 00 00 B0 */	b lbl_803E15C0
lbl_803E1514:
/* 803E1514 003D7294  81 1C 00 00 */	lwz r8, 0(r28)
/* 803E1518 003D7298  3C 08 00 01 */	addis r0, r8, 1
/* 803E151C 003D729C  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E1520 003D72A0  41 82 00 18 */	beq lbl_803E1538
/* 803E1524 003D72A4  80 7F 00 30 */	lwz r3, 0x30(r31)
/* 803E1528 003D72A8  88 1F 00 21 */	lbz r0, 0x21(r31)
/* 803E152C 003D72AC  7C 63 40 50 */	subf r3, r3, r8
/* 803E1530 003D72B0  7C 63 04 30 */	srw r3, r3, r0
/* 803E1534 003D72B4  3B C3 00 02 */	addi r30, r3, 2
lbl_803E1538:
/* 803E1538 003D72B8  3C 08 00 01 */	addis r0, r8, 1
/* 803E153C 003D72BC  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E1540 003D72C0  41 82 00 24 */	beq lbl_803E1564
/* 803E1544 003D72C4  88 1F 00 21 */	lbz r0, 0x21(r31)
/* 803E1548 003D72C8  38 7E FF FF */	addi r3, r30, -1
/* 803E154C 003D72CC  80 9F 00 30 */	lwz r4, 0x30(r31)
/* 803E1550 003D72D0  7C 60 00 30 */	slw r0, r3, r0
/* 803E1554 003D72D4  7C 04 02 14 */	add r0, r4, r0
/* 803E1558 003D72D8  7C 08 00 50 */	subf r0, r8, r0
/* 803E155C 003D72DC  90 1D 00 00 */	stw r0, 0(r29)
/* 803E1560 003D72E0  48 00 00 0C */	b lbl_803E156C
lbl_803E1564:
/* 803E1564 003D72E4  38 00 00 00 */	li r0, 0
/* 803E1568 003D72E8  90 1D 00 00 */	stw r0, 0(r29)
lbl_803E156C:
/* 803E156C 003D72EC  80 7C 00 00 */	lwz r3, 0(r28)
/* 803E1570 003D72F0  3C 03 00 01 */	addis r0, r3, 1
/* 803E1574 003D72F4  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E1578 003D72F8  41 82 00 44 */	beq lbl_803E15BC
/* 803E157C 003D72FC  80 7D 00 00 */	lwz r3, 0(r29)
/* 803E1580 003D7300  88 1F 00 20 */	lbz r0, 0x20(r31)
/* 803E1584 003D7304  7C 60 00 30 */	slw r0, r3, r0
/* 803E1588 003D7308  7C 00 D8 40 */	cmplw r0, r27
/* 803E158C 003D730C  40 80 00 30 */	bge lbl_803E15BC
/* 803E1590 003D7310  88 1F 00 21 */	lbz r0, 0x21(r31)
/* 803E1594 003D7314  7F 23 CB 78 */	mr r3, r25
/* 803E1598 003D7318  7F C4 F3 78 */	mr r4, r30
/* 803E159C 003D731C  7F 66 DB 78 */	mr r6, r27
/* 803E15A0 003D7320  7F 45 04 30 */	srw r5, r26, r0
/* 803E15A4 003D7324  7F A7 EB 78 */	mr r7, r29
/* 803E15A8 003D7328  38 A5 00 01 */	addi r5, r5, 1
/* 803E15AC 003D732C  4B FF F8 61 */	bl PFFAT_GetClusterContinuousSectorInChain
/* 803E15B0 003D7330  2C 03 00 00 */	cmpwi r3, 0
/* 803E15B4 003D7334  41 82 00 08 */	beq lbl_803E15BC
/* 803E15B8 003D7338  48 00 00 08 */	b lbl_803E15C0
lbl_803E15BC:
/* 803E15BC 003D733C  38 60 00 00 */	li r3, 0
lbl_803E15C0:
/* 803E15C0 003D7340  39 61 00 30 */	addi r11, r1, 0x30
/* 803E15C4 003D7344  48 00 FD A1 */	bl _restgpr_25
/* 803E15C8 003D7348  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E15CC 003D734C  7C 08 03 A6 */	mtlr r0
/* 803E15D0 003D7350  38 21 00 30 */	addi r1, r1, 0x30
/* 803E15D4 003D7354  4E 80 00 20 */	blr 

.global PFFAT_CountAllocatedClusters
PFFAT_CountAllocatedClusters:
/* 803E15D8 003D7358  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803E15DC 003D735C  7C 08 02 A6 */	mflr r0
/* 803E15E0 003D7360  7C 86 23 78 */	mr r6, r4
/* 803E15E4 003D7364  7C A7 2B 78 */	mr r7, r5
/* 803E15E8 003D7368  90 01 00 14 */	stw r0, 0x14(r1)
/* 803E15EC 003D736C  38 00 00 00 */	li r0, 0
/* 803E15F0 003D7370  90 05 00 00 */	stw r0, 0(r5)
/* 803E15F4 003D7374  81 03 00 08 */	lwz r8, 8(r3)
/* 803E15F8 003D7378  81 48 00 00 */	lwz r10, 0(r8)
/* 803E15FC 003D737C  28 0A 00 02 */	cmplwi r10, 2
/* 803E1600 003D7380  40 80 00 0C */	bge lbl_803E160C
/* 803E1604 003D7384  38 60 00 00 */	li r3, 0
/* 803E1608 003D7388  48 00 00 B0 */	b lbl_803E16B8
lbl_803E160C:
/* 803E160C 003D738C  80 03 00 0C */	lwz r0, 0xc(r3)
/* 803E1610 003D7390  2C 00 00 00 */	cmpwi r0, 0
/* 803E1614 003D7394  41 82 00 18 */	beq lbl_803E162C
/* 803E1618 003D7398  80 83 00 10 */	lwz r4, 0x10(r3)
/* 803E161C 003D739C  38 60 00 00 */	li r3, 0
/* 803E1620 003D73A0  38 04 00 01 */	addi r0, r4, 1
/* 803E1624 003D73A4  90 05 00 00 */	stw r0, 0(r5)
/* 803E1628 003D73A8  48 00 00 90 */	b lbl_803E16B8
lbl_803E162C:
/* 803E162C 003D73AC  81 23 00 30 */	lwz r9, 0x30(r3)
/* 803E1630 003D73B0  80 09 00 04 */	lwz r0, 4(r9)
/* 803E1634 003D73B4  2C 00 00 00 */	cmpwi r0, 0
/* 803E1638 003D73B8  41 82 00 64 */	beq lbl_803E169C
/* 803E163C 003D73BC  81 03 00 34 */	lwz r8, 0x34(r3)
/* 803E1640 003D73C0  81 29 00 00 */	lwz r9, 0(r9)
/* 803E1644 003D73C4  A0 C8 00 00 */	lhz r6, 0(r8)
/* 803E1648 003D73C8  88 08 00 06 */	lbz r0, 6(r8)
/* 803E164C 003D73CC  39 09 00 01 */	addi r8, r9, 1
/* 803E1650 003D73D0  7C 06 01 D6 */	mullw r0, r6, r0
/* 803E1654 003D73D4  7C 08 01 D6 */	mullw r0, r8, r0
/* 803E1658 003D73D8  7C 04 00 40 */	cmplw r4, r0
/* 803E165C 003D73DC  41 81 00 10 */	bgt lbl_803E166C
/* 803E1660 003D73E0  91 05 00 00 */	stw r8, 0(r5)
/* 803E1664 003D73E4  38 60 00 00 */	li r3, 0
/* 803E1668 003D73E8  48 00 00 50 */	b lbl_803E16B8
lbl_803E166C:
/* 803E166C 003D73EC  91 25 00 00 */	stw r9, 0(r5)
/* 803E1670 003D73F0  81 03 00 34 */	lwz r8, 0x34(r3)
/* 803E1674 003D73F4  80 C3 00 30 */	lwz r6, 0x30(r3)
/* 803E1678 003D73F8  A0 A8 00 00 */	lhz r5, 0(r8)
/* 803E167C 003D73FC  88 08 00 06 */	lbz r0, 6(r8)
/* 803E1680 003D7400  81 06 00 00 */	lwz r8, 0(r6)
/* 803E1684 003D7404  7C 05 01 D6 */	mullw r0, r5, r0
/* 803E1688 003D7408  81 46 00 04 */	lwz r10, 4(r6)
/* 803E168C 003D740C  38 A8 00 01 */	addi r5, r8, 1
/* 803E1690 003D7410  7C 08 01 D6 */	mullw r0, r8, r0
/* 803E1694 003D7414  7C C0 20 50 */	subf r6, r0, r4
/* 803E1698 003D7418  48 00 00 08 */	b lbl_803E16A0
lbl_803E169C:
/* 803E169C 003D741C  38 A0 00 01 */	li r5, 1
lbl_803E16A0:
/* 803E16A0 003D7420  7D 44 53 78 */	mr r4, r10
/* 803E16A4 003D7424  4B FF F8 79 */	bl PFFAT_GetClusterAllocatedInChain
/* 803E16A8 003D7428  2C 03 00 00 */	cmpwi r3, 0
/* 803E16AC 003D742C  41 82 00 08 */	beq lbl_803E16B4
/* 803E16B0 003D7430  48 00 00 08 */	b lbl_803E16B8
lbl_803E16B4:
/* 803E16B4 003D7434  38 60 00 00 */	li r3, 0
lbl_803E16B8:
/* 803E16B8 003D7438  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803E16BC 003D743C  7C 08 03 A6 */	mtlr r0
/* 803E16C0 003D7440  38 21 00 10 */	addi r1, r1, 0x10
/* 803E16C4 003D7444  4E 80 00 20 */	blr 

.global PFFAT_CountFreeClusters
PFFAT_CountFreeClusters:
/* 803E16C8 003D7448  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E16CC 003D744C  7C 08 02 A6 */	mflr r0
/* 803E16D0 003D7450  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E16D4 003D7454  39 61 00 30 */	addi r11, r1, 0x30
/* 803E16D8 003D7458  48 00 FC 49 */	bl _savegpr_27
/* 803E16DC 003D745C  A0 03 1F AC */	lhz r0, 0x1fac(r3)
/* 803E16E0 003D7460  7C 7E 1B 78 */	mr r30, r3
/* 803E16E4 003D7464  7C 9F 23 78 */	mr r31, r4
/* 803E16E8 003D7468  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 803E16EC 003D746C  41 82 00 20 */	beq lbl_803E170C
/* 803E16F0 003D7470  80 63 00 38 */	lwz r3, 0x38(r3)
/* 803E16F4 003D7474  3C 03 00 01 */	addis r0, r3, 1
/* 803E16F8 003D7478  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E16FC 003D747C  41 82 00 10 */	beq lbl_803E170C
/* 803E1700 003D7480  90 64 00 00 */	stw r3, 0(r4)
/* 803E1704 003D7484  38 60 00 00 */	li r3, 0
/* 803E1708 003D7488  48 00 01 90 */	b lbl_803E1898
lbl_803E170C:
/* 803E170C 003D748C  3B A0 00 00 */	li r29, 0
/* 803E1710 003D7490  7F C3 F3 78 */	mr r3, r30
/* 803E1714 003D7494  93 A4 00 00 */	stw r29, 0(r4)
/* 803E1718 003D7498  38 A1 00 08 */	addi r5, r1, 8
/* 803E171C 003D749C  38 C1 00 0C */	addi r6, r1, 0xc
/* 803E1720 003D74A0  3B 60 00 02 */	li r27, 2
/* 803E1724 003D74A4  38 80 FF FF */	li r4, -1
/* 803E1728 003D74A8  4B FF 8D 2D */	bl PFCACHE_AllocateDataPage
/* 803E172C 003D74AC  2C 03 00 00 */	cmpwi r3, 0
/* 803E1730 003D74B0  41 82 00 08 */	beq lbl_803E1738
/* 803E1734 003D74B4  48 00 01 64 */	b lbl_803E1898
lbl_803E1738:
/* 803E1738 003D74B8  80 81 00 08 */	lwz r4, 8(r1)
/* 803E173C 003D74BC  7F C3 F3 78 */	mr r3, r30
/* 803E1740 003D74C0  38 A0 00 02 */	li r5, 2
/* 803E1744 003D74C4  4B FF E0 1D */	bl PFFAT_ReadFATSector
/* 803E1748 003D74C8  2C 03 00 00 */	cmpwi r3, 0
/* 803E174C 003D74CC  7C 7C 1B 78 */	mr r28, r3
/* 803E1750 003D74D0  41 82 00 18 */	beq lbl_803E1768
/* 803E1754 003D74D4  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1758 003D74D8  7F C3 F3 78 */	mr r3, r30
/* 803E175C 003D74DC  4B FF 8E 01 */	bl PFCACHE_FreeDataPage
/* 803E1760 003D74E0  7F 83 E3 78 */	mr r3, r28
/* 803E1764 003D74E4  48 00 01 34 */	b lbl_803E1898
lbl_803E1768:
/* 803E1768 003D74E8  80 61 00 08 */	lwz r3, 8(r1)
/* 803E176C 003D74EC  B3 A3 00 02 */	sth r29, 2(r3)
/* 803E1770 003D74F0  48 00 00 B4 */	b lbl_803E1824
lbl_803E1774:
/* 803E1774 003D74F4  80 1E 00 1C */	lwz r0, 0x1c(r30)
/* 803E1778 003D74F8  80 C1 00 08 */	lwz r6, 8(r1)
/* 803E177C 003D74FC  2C 00 00 01 */	cmpwi r0, 1
/* 803E1780 003D7500  41 82 00 38 */	beq lbl_803E17B8
/* 803E1784 003D7504  40 80 00 10 */	bge lbl_803E1794
/* 803E1788 003D7508  2C 00 00 00 */	cmpwi r0, 0
/* 803E178C 003D750C  40 80 00 14 */	bge lbl_803E17A0
/* 803E1790 003D7510  48 00 00 58 */	b lbl_803E17E8
lbl_803E1794:
/* 803E1794 003D7514  2C 00 00 03 */	cmpwi r0, 3
/* 803E1798 003D7518  40 80 00 50 */	bge lbl_803E17E8
/* 803E179C 003D751C  48 00 00 34 */	b lbl_803E17D0
lbl_803E17A0:
/* 803E17A0 003D7520  7F C3 F3 78 */	mr r3, r30
/* 803E17A4 003D7524  57 64 04 3E */	clrlwi r4, r27, 0x10
/* 803E17A8 003D7528  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E17AC 003D752C  48 00 12 C5 */	bl PFFAT12_ReadFATEntryWithBuf
/* 803E17B0 003D7530  7C 7D 1B 78 */	mr r29, r3
/* 803E17B4 003D7534  48 00 00 38 */	b lbl_803E17EC
lbl_803E17B8:
/* 803E17B8 003D7538  7F C3 F3 78 */	mr r3, r30
/* 803E17BC 003D753C  7F 64 DB 78 */	mr r4, r27
/* 803E17C0 003D7540  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E17C4 003D7544  48 00 17 ED */	bl PFFAT16_ReadFATEntryWithBuf
/* 803E17C8 003D7548  7C 7D 1B 78 */	mr r29, r3
/* 803E17CC 003D754C  48 00 00 20 */	b lbl_803E17EC
lbl_803E17D0:
/* 803E17D0 003D7550  7F C3 F3 78 */	mr r3, r30
/* 803E17D4 003D7554  7F 64 DB 78 */	mr r4, r27
/* 803E17D8 003D7558  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E17DC 003D755C  48 00 1C B5 */	bl PFFAT32_ReadFATEntryWithBuf
/* 803E17E0 003D7560  7C 7D 1B 78 */	mr r29, r3
/* 803E17E4 003D7564  48 00 00 08 */	b lbl_803E17EC
lbl_803E17E8:
/* 803E17E8 003D7568  3B A0 00 0F */	li r29, 0xf
lbl_803E17EC:
/* 803E17EC 003D756C  2C 1D 00 00 */	cmpwi r29, 0
/* 803E17F0 003D7570  41 82 00 18 */	beq lbl_803E1808
/* 803E17F4 003D7574  80 81 00 08 */	lwz r4, 8(r1)
/* 803E17F8 003D7578  7F C3 F3 78 */	mr r3, r30
/* 803E17FC 003D757C  4B FF 8D 61 */	bl PFCACHE_FreeDataPage
/* 803E1800 003D7580  7F A3 EB 78 */	mr r3, r29
/* 803E1804 003D7584  48 00 00 94 */	b lbl_803E1898
lbl_803E1808:
/* 803E1808 003D7588  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803E180C 003D758C  2C 00 00 00 */	cmpwi r0, 0
/* 803E1810 003D7590  40 82 00 10 */	bne lbl_803E1820
/* 803E1814 003D7594  80 7F 00 00 */	lwz r3, 0(r31)
/* 803E1818 003D7598  38 03 00 01 */	addi r0, r3, 1
/* 803E181C 003D759C  90 1F 00 00 */	stw r0, 0(r31)
lbl_803E1820:
/* 803E1820 003D75A0  3B 7B 00 01 */	addi r27, r27, 1
lbl_803E1824:
/* 803E1824 003D75A4  28 1B 00 02 */	cmplwi r27, 2
/* 803E1828 003D75A8  41 80 00 14 */	blt lbl_803E183C
/* 803E182C 003D75AC  80 7E 00 34 */	lwz r3, 0x34(r30)
/* 803E1830 003D75B0  38 03 00 02 */	addi r0, r3, 2
/* 803E1834 003D75B4  7C 1B 00 40 */	cmplw r27, r0
/* 803E1838 003D75B8  41 80 FF 3C */	blt lbl_803E1774
lbl_803E183C:
/* 803E183C 003D75BC  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1840 003D75C0  7F C3 F3 78 */	mr r3, r30
/* 803E1844 003D75C4  4B FF 8D 19 */	bl PFCACHE_FreeDataPage
/* 803E1848 003D75C8  A0 7E 1F AC */	lhz r3, 0x1fac(r30)
/* 803E184C 003D75CC  80 1E 00 1C */	lwz r0, 0x1c(r30)
/* 803E1850 003D75D0  60 63 00 04 */	ori r3, r3, 4
/* 803E1854 003D75D4  B0 7E 1F AC */	sth r3, 0x1fac(r30)
/* 803E1858 003D75D8  2C 00 00 02 */	cmpwi r0, 2
/* 803E185C 003D75DC  80 1F 00 00 */	lwz r0, 0(r31)
/* 803E1860 003D75E0  90 1E 00 38 */	stw r0, 0x38(r30)
/* 803E1864 003D75E4  40 82 00 30 */	bne lbl_803E1894
/* 803E1868 003D75E8  54 60 07 BD */	rlwinm. r0, r3, 0, 0x1e, 0x1e
/* 803E186C 003D75EC  41 82 00 28 */	beq lbl_803E1894
/* 803E1870 003D75F0  7F C3 F3 78 */	mr r3, r30
/* 803E1874 003D75F4  48 00 09 D9 */	bl PFFAT_RefreshFSINFO
/* 803E1878 003D75F8  2C 03 00 00 */	cmpwi r3, 0
/* 803E187C 003D75FC  41 82 00 18 */	beq lbl_803E1894
/* 803E1880 003D7600  A0 1E 1F AC */	lhz r0, 0x1fac(r30)
/* 803E1884 003D7604  38 60 FF FF */	li r3, -1
/* 803E1888 003D7608  90 7E 00 38 */	stw r3, 0x38(r30)
/* 803E188C 003D760C  54 00 07 B8 */	rlwinm r0, r0, 0, 0x1e, 0x1c
/* 803E1890 003D7610  B0 1E 1F AC */	sth r0, 0x1fac(r30)
lbl_803E1894:
/* 803E1894 003D7614  38 60 00 00 */	li r3, 0
lbl_803E1898:
/* 803E1898 003D7618  39 61 00 30 */	addi r11, r1, 0x30
/* 803E189C 003D761C  48 00 FA D1 */	bl _restgpr_27
/* 803E18A0 003D7620  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E18A4 003D7624  7C 08 03 A6 */	mtlr r0
/* 803E18A8 003D7628  38 21 00 30 */	addi r1, r1, 0x30
/* 803E18AC 003D762C  4E 80 00 20 */	blr 

.global PFFAT_FreeChain
PFFAT_FreeChain:
/* 803E18B0 003D7630  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 803E18B4 003D7634  7C 08 02 A6 */	mflr r0
/* 803E18B8 003D7638  90 01 00 44 */	stw r0, 0x44(r1)
/* 803E18BC 003D763C  39 61 00 40 */	addi r11, r1, 0x40
/* 803E18C0 003D7640  48 00 FA 51 */	bl _savegpr_23
/* 803E18C4 003D7644  2C 04 00 00 */	cmpwi r4, 0
/* 803E18C8 003D7648  83 E3 00 34 */	lwz r31, 0x34(r3)
/* 803E18CC 003D764C  7C 78 1B 78 */	mr r24, r3
/* 803E18D0 003D7650  7C 99 23 78 */	mr r25, r4
/* 803E18D4 003D7654  7C BA 2B 78 */	mr r26, r5
/* 803E18D8 003D7658  7C DB 33 78 */	mr r27, r6
/* 803E18DC 003D765C  40 82 00 0C */	bne lbl_803E18E8
/* 803E18E0 003D7660  38 60 00 00 */	li r3, 0
/* 803E18E4 003D7664  48 00 03 AC */	b lbl_803E1C90
lbl_803E18E8:
/* 803E18E8 003D7668  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E18EC 003D766C  3C 60 80 42 */	lis r3, lbl_8041B0E0@ha
/* 803E18F0 003D7670  38 63 B0 E0 */	addi r3, r3, lbl_8041B0E0@l
/* 803E18F4 003D7674  2C 06 00 00 */	cmpwi r6, 0
/* 803E18F8 003D7678  1C 00 00 14 */	mulli r0, r0, 0x14
/* 803E18FC 003D767C  7C 63 02 14 */	add r3, r3, r0
/* 803E1900 003D7680  83 C3 00 04 */	lwz r30, 4(r3)
/* 803E1904 003D7684  41 82 00 18 */	beq lbl_803E191C
/* 803E1908 003D7688  A0 7F 00 00 */	lhz r3, 0(r31)
/* 803E190C 003D768C  7F 7D DB 78 */	mr r29, r27
/* 803E1910 003D7690  88 1F 00 21 */	lbz r0, 0x21(r31)
/* 803E1914 003D7694  7C 7C 00 30 */	slw r28, r3, r0
/* 803E1918 003D7698  48 00 00 0C */	b lbl_803E1924
lbl_803E191C:
/* 803E191C 003D769C  38 60 00 00 */	li r3, 0
/* 803E1920 003D76A0  48 00 03 70 */	b lbl_803E1C90
lbl_803E1924:
/* 803E1924 003D76A4  7F E3 FB 78 */	mr r3, r31
/* 803E1928 003D76A8  38 A1 00 08 */	addi r5, r1, 8
/* 803E192C 003D76AC  38 C1 00 0C */	addi r6, r1, 0xc
/* 803E1930 003D76B0  38 80 FF FF */	li r4, -1
/* 803E1934 003D76B4  4B FF 8B 21 */	bl PFCACHE_AllocateDataPage
/* 803E1938 003D76B8  2C 03 00 00 */	cmpwi r3, 0
/* 803E193C 003D76BC  41 82 00 08 */	beq lbl_803E1944
/* 803E1940 003D76C0  48 00 03 50 */	b lbl_803E1C90
lbl_803E1944:
/* 803E1944 003D76C4  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1948 003D76C8  7F E3 FB 78 */	mr r3, r31
/* 803E194C 003D76CC  7F 25 CB 78 */	mr r5, r25
/* 803E1950 003D76D0  4B FF DE 11 */	bl PFFAT_ReadFATSector
/* 803E1954 003D76D4  2C 03 00 00 */	cmpwi r3, 0
/* 803E1958 003D76D8  7C 77 1B 78 */	mr r23, r3
/* 803E195C 003D76DC  41 82 00 18 */	beq lbl_803E1974
/* 803E1960 003D76E0  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1964 003D76E4  7F E3 FB 78 */	mr r3, r31
/* 803E1968 003D76E8  4B FF 8B F5 */	bl PFCACHE_FreeDataPage
/* 803E196C 003D76EC  7E E3 BB 78 */	mr r3, r23
/* 803E1970 003D76F0  48 00 03 20 */	b lbl_803E1C90
lbl_803E1974:
/* 803E1974 003D76F4  80 61 00 08 */	lwz r3, 8(r1)
/* 803E1978 003D76F8  38 00 00 01 */	li r0, 1
/* 803E197C 003D76FC  B0 03 00 02 */	sth r0, 2(r3)
/* 803E1980 003D7700  93 21 00 10 */	stw r25, 0x10(r1)
/* 803E1984 003D7704  48 00 02 40 */	b lbl_803E1BC4
lbl_803E1988:
/* 803E1988 003D7708  2C 1B 00 00 */	cmpwi r27, 0
/* 803E198C 003D770C  41 82 00 0C */	beq lbl_803E1998
/* 803E1990 003D7710  2C 1D 00 00 */	cmpwi r29, 0
/* 803E1994 003D7714  41 82 02 38 */	beq lbl_803E1BCC
lbl_803E1998:
/* 803E1998 003D7718  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E199C 003D771C  80 C1 00 08 */	lwz r6, 8(r1)
/* 803E19A0 003D7720  2C 00 00 01 */	cmpwi r0, 1
/* 803E19A4 003D7724  41 82 00 38 */	beq lbl_803E19DC
/* 803E19A8 003D7728  40 80 00 10 */	bge lbl_803E19B8
/* 803E19AC 003D772C  2C 00 00 00 */	cmpwi r0, 0
/* 803E19B0 003D7730  40 80 00 14 */	bge lbl_803E19C4
/* 803E19B4 003D7734  48 00 00 58 */	b lbl_803E1A0C
lbl_803E19B8:
/* 803E19B8 003D7738  2C 00 00 03 */	cmpwi r0, 3
/* 803E19BC 003D773C  40 80 00 50 */	bge lbl_803E1A0C
/* 803E19C0 003D7740  48 00 00 34 */	b lbl_803E19F4
lbl_803E19C4:
/* 803E19C4 003D7744  7F E3 FB 78 */	mr r3, r31
/* 803E19C8 003D7748  57 24 04 3E */	clrlwi r4, r25, 0x10
/* 803E19CC 003D774C  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E19D0 003D7750  48 00 10 A1 */	bl PFFAT12_ReadFATEntryWithBuf
/* 803E19D4 003D7754  7C 77 1B 78 */	mr r23, r3
/* 803E19D8 003D7758  48 00 00 38 */	b lbl_803E1A10
lbl_803E19DC:
/* 803E19DC 003D775C  7F E3 FB 78 */	mr r3, r31
/* 803E19E0 003D7760  7F 24 CB 78 */	mr r4, r25
/* 803E19E4 003D7764  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E19E8 003D7768  48 00 15 C9 */	bl PFFAT16_ReadFATEntryWithBuf
/* 803E19EC 003D776C  7C 77 1B 78 */	mr r23, r3
/* 803E19F0 003D7770  48 00 00 20 */	b lbl_803E1A10
lbl_803E19F4:
/* 803E19F4 003D7774  7F E3 FB 78 */	mr r3, r31
/* 803E19F8 003D7778  7F 24 CB 78 */	mr r4, r25
/* 803E19FC 003D777C  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E1A00 003D7780  48 00 1A 91 */	bl PFFAT32_ReadFATEntryWithBuf
/* 803E1A04 003D7784  7C 77 1B 78 */	mr r23, r3
/* 803E1A08 003D7788  48 00 00 08 */	b lbl_803E1A10
lbl_803E1A0C:
/* 803E1A0C 003D778C  3A E0 00 0F */	li r23, 0xf
lbl_803E1A10:
/* 803E1A10 003D7790  2C 17 00 00 */	cmpwi r23, 0
/* 803E1A14 003D7794  41 82 00 18 */	beq lbl_803E1A2C
/* 803E1A18 003D7798  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1A1C 003D779C  7F E3 FB 78 */	mr r3, r31
/* 803E1A20 003D77A0  4B FF 8B 3D */	bl PFCACHE_FreeDataPage
/* 803E1A24 003D77A4  7E E3 BB 78 */	mr r3, r23
/* 803E1A28 003D77A8  48 00 02 68 */	b lbl_803E1C90
lbl_803E1A2C:
/* 803E1A2C 003D77AC  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803E1A30 003D77B0  2C 00 00 00 */	cmpwi r0, 0
/* 803E1A34 003D77B4  40 82 00 90 */	bne lbl_803E1AC4
/* 803E1A38 003D77B8  83 41 00 08 */	lwz r26, 8(r1)
/* 803E1A3C 003D77BC  3A E0 00 00 */	li r23, 0
/* 803E1A40 003D77C0  3B 20 00 00 */	li r25, 0
/* 803E1A44 003D77C4  83 1A 00 18 */	lwz r24, 0x18(r26)
/* 803E1A48 003D77C8  48 00 00 3C */	b lbl_803E1A84
lbl_803E1A4C:
/* 803E1A4C 003D77CC  80 9A 00 08 */	lwz r4, 8(r26)
/* 803E1A50 003D77D0  7F E3 FB 78 */	mr r3, r31
/* 803E1A54 003D77D4  A0 FF 00 00 */	lhz r7, 0(r31)
/* 803E1A58 003D77D8  7F 05 C3 78 */	mr r5, r24
/* 803E1A5C 003D77DC  38 C0 00 00 */	li r6, 0
/* 803E1A60 003D77E0  48 00 77 19 */	bl PFSEC_WriteFAT
/* 803E1A64 003D77E4  2C 03 00 00 */	cmpwi r3, 0
/* 803E1A68 003D77E8  41 82 00 10 */	beq lbl_803E1A78
/* 803E1A6C 003D77EC  2C 17 00 00 */	cmpwi r23, 0
/* 803E1A70 003D77F0  40 82 00 08 */	bne lbl_803E1A78
/* 803E1A74 003D77F4  7C 77 1B 78 */	mr r23, r3
lbl_803E1A78:
/* 803E1A78 003D77F8  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 803E1A7C 003D77FC  3B 39 00 01 */	addi r25, r25, 1
/* 803E1A80 003D7800  7F 18 02 14 */	add r24, r24, r0
lbl_803E1A84:
/* 803E1A84 003D7804  88 1F 00 22 */	lbz r0, 0x22(r31)
/* 803E1A88 003D7808  57 23 04 3E */	clrlwi r3, r25, 0x10
/* 803E1A8C 003D780C  7C 03 00 00 */	cmpw r3, r0
/* 803E1A90 003D7810  41 80 FF BC */	blt lbl_803E1A4C
/* 803E1A94 003D7814  2C 17 00 00 */	cmpwi r23, 0
/* 803E1A98 003D7818  41 82 00 18 */	beq lbl_803E1AB0
/* 803E1A9C 003D781C  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1AA0 003D7820  7F E3 FB 78 */	mr r3, r31
/* 803E1AA4 003D7824  4B FF 8A B9 */	bl PFCACHE_FreeDataPage
/* 803E1AA8 003D7828  7E E3 BB 78 */	mr r3, r23
/* 803E1AAC 003D782C  48 00 01 E4 */	b lbl_803E1C90
lbl_803E1AB0:
/* 803E1AB0 003D7830  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1AB4 003D7834  7F E3 FB 78 */	mr r3, r31
/* 803E1AB8 003D7838  4B FF 8A A5 */	bl PFCACHE_FreeDataPage
/* 803E1ABC 003D783C  38 60 00 00 */	li r3, 0
/* 803E1AC0 003D7840  48 00 01 D0 */	b lbl_803E1C90
lbl_803E1AC4:
/* 803E1AC4 003D7844  3C 1A 00 01 */	addis r0, r26, 1
/* 803E1AC8 003D7848  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E1ACC 003D784C  41 82 00 2C */	beq lbl_803E1AF8
/* 803E1AD0 003D7850  81 01 00 08 */	lwz r8, 8(r1)
/* 803E1AD4 003D7854  7F 03 C3 78 */	mr r3, r24
/* 803E1AD8 003D7858  7F 24 CB 78 */	mr r4, r25
/* 803E1ADC 003D785C  7F 45 D3 78 */	mr r5, r26
/* 803E1AE0 003D7860  38 C0 00 00 */	li r6, 0
/* 803E1AE4 003D7864  38 E0 00 01 */	li r7, 1
/* 803E1AE8 003D7868  4B FF EA 19 */	bl PFFAT_WriteClusterWithBuf
/* 803E1AEC 003D786C  7C 77 1B 78 */	mr r23, r3
/* 803E1AF0 003D7870  3B 5A 00 01 */	addi r26, r26, 1
/* 803E1AF4 003D7874  48 00 00 74 */	b lbl_803E1B68
lbl_803E1AF8:
/* 803E1AF8 003D7878  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E1AFC 003D787C  80 C1 00 08 */	lwz r6, 8(r1)
/* 803E1B00 003D7880  2C 00 00 01 */	cmpwi r0, 1
/* 803E1B04 003D7884  41 82 00 34 */	beq lbl_803E1B38
/* 803E1B08 003D7888  40 80 00 10 */	bge lbl_803E1B18
/* 803E1B0C 003D788C  2C 00 00 00 */	cmpwi r0, 0
/* 803E1B10 003D7890  40 80 00 14 */	bge lbl_803E1B24
/* 803E1B14 003D7894  48 00 00 4C */	b lbl_803E1B60
lbl_803E1B18:
/* 803E1B18 003D7898  2C 00 00 03 */	cmpwi r0, 3
/* 803E1B1C 003D789C  40 80 00 44 */	bge lbl_803E1B60
/* 803E1B20 003D78A0  48 00 00 2C */	b lbl_803E1B4C
lbl_803E1B24:
/* 803E1B24 003D78A4  7F E3 FB 78 */	mr r3, r31
/* 803E1B28 003D78A8  57 24 04 3E */	clrlwi r4, r25, 0x10
/* 803E1B2C 003D78AC  38 A0 00 00 */	li r5, 0
/* 803E1B30 003D78B0  48 00 0C 85 */	bl PFFAT12_WriteFATEntryWithBuf
/* 803E1B34 003D78B4  48 00 00 30 */	b lbl_803E1B64
lbl_803E1B38:
/* 803E1B38 003D78B8  7F E3 FB 78 */	mr r3, r31
/* 803E1B3C 003D78BC  7F 24 CB 78 */	mr r4, r25
/* 803E1B40 003D78C0  38 A0 00 00 */	li r5, 0
/* 803E1B44 003D78C4  48 00 13 65 */	bl PFFAT16_WriteFATEntryWithBuf
/* 803E1B48 003D78C8  48 00 00 1C */	b lbl_803E1B64
lbl_803E1B4C:
/* 803E1B4C 003D78CC  7F E3 FB 78 */	mr r3, r31
/* 803E1B50 003D78D0  7F 24 CB 78 */	mr r4, r25
/* 803E1B54 003D78D4  38 A0 00 00 */	li r5, 0
/* 803E1B58 003D78D8  48 00 17 F9 */	bl PFFAT32_WriteFATEntryWithBuf
/* 803E1B5C 003D78DC  48 00 00 08 */	b lbl_803E1B64
lbl_803E1B60:
/* 803E1B60 003D78E0  38 60 00 0F */	li r3, 0xf
lbl_803E1B64:
/* 803E1B64 003D78E4  7C 77 1B 78 */	mr r23, r3
lbl_803E1B68:
/* 803E1B68 003D78E8  2C 17 00 00 */	cmpwi r23, 0
/* 803E1B6C 003D78EC  41 82 00 18 */	beq lbl_803E1B84
/* 803E1B70 003D78F0  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1B74 003D78F4  7F E3 FB 78 */	mr r3, r31
/* 803E1B78 003D78F8  4B FF 89 E5 */	bl PFCACHE_FreeDataPage
/* 803E1B7C 003D78FC  7E E3 BB 78 */	mr r3, r23
/* 803E1B80 003D7900  48 00 01 10 */	b lbl_803E1C90
lbl_803E1B84:
/* 803E1B84 003D7904  2C 1B 00 00 */	cmpwi r27, 0
/* 803E1B88 003D7908  41 82 00 20 */	beq lbl_803E1BA8
/* 803E1B8C 003D790C  2C 1D 00 00 */	cmpwi r29, 0
/* 803E1B90 003D7910  41 82 00 18 */	beq lbl_803E1BA8
/* 803E1B94 003D7914  7C 1D E0 10 */	subfc r0, r29, r28
/* 803E1B98 003D7918  7C 7D 01 94 */	addze r3, r29
/* 803E1B9C 003D791C  7C 1C E8 50 */	subf r0, r28, r29
/* 803E1BA0 003D7920  7C 63 E8 50 */	subf r3, r3, r29
/* 803E1BA4 003D7924  7C 1D 18 78 */	andc r29, r0, r3
lbl_803E1BA8:
/* 803E1BA8 003D7928  80 7F 00 38 */	lwz r3, 0x38(r31)
/* 803E1BAC 003D792C  3C 03 00 01 */	addis r0, r3, 1
/* 803E1BB0 003D7930  28 00 FF FF */	cmplwi r0, 0xffff
/* 803E1BB4 003D7934  41 82 00 0C */	beq lbl_803E1BC0
/* 803E1BB8 003D7938  38 03 00 01 */	addi r0, r3, 1
/* 803E1BBC 003D793C  90 1F 00 38 */	stw r0, 0x38(r31)
lbl_803E1BC0:
/* 803E1BC0 003D7940  83 21 00 10 */	lwz r25, 0x10(r1)
lbl_803E1BC4:
/* 803E1BC4 003D7944  7C 19 F0 40 */	cmplw r25, r30
/* 803E1BC8 003D7948  41 80 FD C0 */	blt lbl_803E1988
lbl_803E1BCC:
/* 803E1BCC 003D794C  83 41 00 08 */	lwz r26, 8(r1)
/* 803E1BD0 003D7950  3A E0 00 00 */	li r23, 0
/* 803E1BD4 003D7954  3B 20 00 00 */	li r25, 0
/* 803E1BD8 003D7958  83 1A 00 18 */	lwz r24, 0x18(r26)
/* 803E1BDC 003D795C  48 00 00 3C */	b lbl_803E1C18
lbl_803E1BE0:
/* 803E1BE0 003D7960  80 9A 00 08 */	lwz r4, 8(r26)
/* 803E1BE4 003D7964  7F E3 FB 78 */	mr r3, r31
/* 803E1BE8 003D7968  A0 FF 00 00 */	lhz r7, 0(r31)
/* 803E1BEC 003D796C  7F 05 C3 78 */	mr r5, r24
/* 803E1BF0 003D7970  38 C0 00 00 */	li r6, 0
/* 803E1BF4 003D7974  48 00 75 85 */	bl PFSEC_WriteFAT
/* 803E1BF8 003D7978  2C 03 00 00 */	cmpwi r3, 0
/* 803E1BFC 003D797C  41 82 00 10 */	beq lbl_803E1C0C
/* 803E1C00 003D7980  2C 17 00 00 */	cmpwi r23, 0
/* 803E1C04 003D7984  40 82 00 08 */	bne lbl_803E1C0C
/* 803E1C08 003D7988  7C 77 1B 78 */	mr r23, r3
lbl_803E1C0C:
/* 803E1C0C 003D798C  80 1F 00 0C */	lwz r0, 0xc(r31)
/* 803E1C10 003D7990  3B 39 00 01 */	addi r25, r25, 1
/* 803E1C14 003D7994  7F 18 02 14 */	add r24, r24, r0
lbl_803E1C18:
/* 803E1C18 003D7998  88 1F 00 22 */	lbz r0, 0x22(r31)
/* 803E1C1C 003D799C  57 23 04 3E */	clrlwi r3, r25, 0x10
/* 803E1C20 003D79A0  7C 03 00 00 */	cmpw r3, r0
/* 803E1C24 003D79A4  41 80 FF BC */	blt lbl_803E1BE0
/* 803E1C28 003D79A8  2C 17 00 00 */	cmpwi r23, 0
/* 803E1C2C 003D79AC  41 82 00 18 */	beq lbl_803E1C44
/* 803E1C30 003D79B0  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1C34 003D79B4  7F E3 FB 78 */	mr r3, r31
/* 803E1C38 003D79B8  4B FF 89 25 */	bl PFCACHE_FreeDataPage
/* 803E1C3C 003D79BC  7E E3 BB 78 */	mr r3, r23
/* 803E1C40 003D79C0  48 00 00 50 */	b lbl_803E1C90
lbl_803E1C44:
/* 803E1C44 003D79C4  80 81 00 08 */	lwz r4, 8(r1)
/* 803E1C48 003D79C8  7F E3 FB 78 */	mr r3, r31
/* 803E1C4C 003D79CC  4B FF 89 11 */	bl PFCACHE_FreeDataPage
/* 803E1C50 003D79D0  80 1F 00 1C */	lwz r0, 0x1c(r31)
/* 803E1C54 003D79D4  2C 00 00 02 */	cmpwi r0, 2
/* 803E1C58 003D79D8  40 82 00 34 */	bne lbl_803E1C8C
/* 803E1C5C 003D79DC  A0 1F 1F AC */	lhz r0, 0x1fac(r31)
/* 803E1C60 003D79E0  54 00 07 BD */	rlwinm. r0, r0, 0, 0x1e, 0x1e
/* 803E1C64 003D79E4  41 82 00 28 */	beq lbl_803E1C8C
/* 803E1C68 003D79E8  7F E3 FB 78 */	mr r3, r31
/* 803E1C6C 003D79EC  48 00 05 E1 */	bl PFFAT_RefreshFSINFO
/* 803E1C70 003D79F0  2C 03 00 00 */	cmpwi r3, 0
/* 803E1C74 003D79F4  41 82 00 18 */	beq lbl_803E1C8C
/* 803E1C78 003D79F8  38 00 FF FF */	li r0, -1
/* 803E1C7C 003D79FC  90 1F 00 38 */	stw r0, 0x38(r31)
/* 803E1C80 003D7A00  A0 1F 1F AC */	lhz r0, 0x1fac(r31)
/* 803E1C84 003D7A04  54 00 07 B8 */	rlwinm r0, r0, 0, 0x1e, 0x1c
/* 803E1C88 003D7A08  B0 1F 1F AC */	sth r0, 0x1fac(r31)
lbl_803E1C8C:
/* 803E1C8C 003D7A0C  38 60 00 00 */	li r3, 0
lbl_803E1C90:
/* 803E1C90 003D7A10  39 61 00 40 */	addi r11, r1, 0x40
/* 803E1C94 003D7A14  48 00 F6 C9 */	bl _restgpr_23
/* 803E1C98 003D7A18  80 01 00 44 */	lwz r0, 0x44(r1)
/* 803E1C9C 003D7A1C  7C 08 03 A6 */	mtlr r0
/* 803E1CA0 003D7A20  38 21 00 40 */	addi r1, r1, 0x40
/* 803E1CA4 003D7A24  4E 80 00 20 */	blr 

.global PFFAT_getBeforeChain
PFFAT_getBeforeChain:
/* 803E1CA8 003D7A28  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E1CAC 003D7A2C  7C 08 02 A6 */	mflr r0
/* 803E1CB0 003D7A30  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E1CB4 003D7A34  39 61 00 30 */	addi r11, r1, 0x30
/* 803E1CB8 003D7A38  48 00 F6 65 */	bl _savegpr_26
/* 803E1CBC 003D7A3C  80 E3 00 1C */	lwz r7, 0x1c(r3)
/* 803E1CC0 003D7A40  7C 9B 23 78 */	mr r27, r4
/* 803E1CC4 003D7A44  3D 00 80 42 */	lis r8, lbl_8041B0E0@ha
/* 803E1CC8 003D7A48  38 00 FF FF */	li r0, -1
/* 803E1CCC 003D7A4C  1C 87 00 14 */	mulli r4, r7, 0x14
/* 803E1CD0 003D7A50  7C BC 2B 78 */	mr r28, r5
/* 803E1CD4 003D7A54  39 08 B0 E0 */	addi r8, r8, lbl_8041B0E0@l
/* 803E1CD8 003D7A58  90 06 00 00 */	stw r0, 0(r6)
/* 803E1CDC 003D7A5C  7C DD 33 78 */	mr r29, r6
/* 803E1CE0 003D7A60  7C 88 22 14 */	add r4, r8, r4
/* 803E1CE4 003D7A64  83 C4 00 04 */	lwz r30, 4(r4)
/* 803E1CE8 003D7A68  7C 7A 1B 78 */	mr r26, r3
/* 803E1CEC 003D7A6C  38 A1 00 0C */	addi r5, r1, 0xc
/* 803E1CF0 003D7A70  38 C1 00 08 */	addi r6, r1, 8
/* 803E1CF4 003D7A74  38 80 FF FF */	li r4, -1
/* 803E1CF8 003D7A78  4B FF 87 5D */	bl PFCACHE_AllocateDataPage
/* 803E1CFC 003D7A7C  2C 03 00 00 */	cmpwi r3, 0
/* 803E1D00 003D7A80  41 82 00 08 */	beq lbl_803E1D08
/* 803E1D04 003D7A84  48 00 01 08 */	b lbl_803E1E0C
lbl_803E1D08:
/* 803E1D08 003D7A88  80 61 00 0C */	lwz r3, 0xc(r1)
/* 803E1D0C 003D7A8C  38 00 00 00 */	li r0, 0
/* 803E1D10 003D7A90  B0 03 00 02 */	sth r0, 2(r3)
/* 803E1D14 003D7A94  48 00 00 E0 */	b lbl_803E1DF4
lbl_803E1D18:
/* 803E1D18 003D7A98  80 1A 00 1C */	lwz r0, 0x1c(r26)
/* 803E1D1C 003D7A9C  80 C1 00 0C */	lwz r6, 0xc(r1)
/* 803E1D20 003D7AA0  2C 00 00 01 */	cmpwi r0, 1
/* 803E1D24 003D7AA4  41 82 00 38 */	beq lbl_803E1D5C
/* 803E1D28 003D7AA8  40 80 00 10 */	bge lbl_803E1D38
/* 803E1D2C 003D7AAC  2C 00 00 00 */	cmpwi r0, 0
/* 803E1D30 003D7AB0  40 80 00 14 */	bge lbl_803E1D44
/* 803E1D34 003D7AB4  48 00 00 58 */	b lbl_803E1D8C
lbl_803E1D38:
/* 803E1D38 003D7AB8  2C 00 00 03 */	cmpwi r0, 3
/* 803E1D3C 003D7ABC  40 80 00 50 */	bge lbl_803E1D8C
/* 803E1D40 003D7AC0  48 00 00 34 */	b lbl_803E1D74
lbl_803E1D44:
/* 803E1D44 003D7AC4  7F 43 D3 78 */	mr r3, r26
/* 803E1D48 003D7AC8  57 64 04 3E */	clrlwi r4, r27, 0x10
/* 803E1D4C 003D7ACC  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E1D50 003D7AD0  48 00 0D 21 */	bl PFFAT12_ReadFATEntryWithBuf
/* 803E1D54 003D7AD4  7C 7F 1B 78 */	mr r31, r3
/* 803E1D58 003D7AD8  48 00 00 38 */	b lbl_803E1D90
lbl_803E1D5C:
/* 803E1D5C 003D7ADC  7F 43 D3 78 */	mr r3, r26
/* 803E1D60 003D7AE0  7F 64 DB 78 */	mr r4, r27
/* 803E1D64 003D7AE4  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E1D68 003D7AE8  48 00 12 49 */	bl PFFAT16_ReadFATEntryWithBuf
/* 803E1D6C 003D7AEC  7C 7F 1B 78 */	mr r31, r3
/* 803E1D70 003D7AF0  48 00 00 20 */	b lbl_803E1D90
lbl_803E1D74:
/* 803E1D74 003D7AF4  7F 43 D3 78 */	mr r3, r26
/* 803E1D78 003D7AF8  7F 64 DB 78 */	mr r4, r27
/* 803E1D7C 003D7AFC  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E1D80 003D7B00  48 00 17 11 */	bl PFFAT32_ReadFATEntryWithBuf
/* 803E1D84 003D7B04  7C 7F 1B 78 */	mr r31, r3
/* 803E1D88 003D7B08  48 00 00 08 */	b lbl_803E1D90
lbl_803E1D8C:
/* 803E1D8C 003D7B0C  3B E0 00 0F */	li r31, 0xf
lbl_803E1D90:
/* 803E1D90 003D7B10  2C 1F 00 00 */	cmpwi r31, 0
/* 803E1D94 003D7B14  41 82 00 18 */	beq lbl_803E1DAC
/* 803E1D98 003D7B18  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E1D9C 003D7B1C  7F 43 D3 78 */	mr r3, r26
/* 803E1DA0 003D7B20  4B FF 87 BD */	bl PFCACHE_FreeDataPage
/* 803E1DA4 003D7B24  7F E3 FB 78 */	mr r3, r31
/* 803E1DA8 003D7B28  48 00 00 64 */	b lbl_803E1E0C
lbl_803E1DAC:
/* 803E1DAC 003D7B2C  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803E1DB0 003D7B30  7C 1C 00 40 */	cmplw r28, r0
/* 803E1DB4 003D7B34  40 82 00 10 */	bne lbl_803E1DC4
/* 803E1DB8 003D7B38  93 7D 00 00 */	stw r27, 0(r29)
/* 803E1DBC 003D7B3C  38 60 00 00 */	li r3, 0
/* 803E1DC0 003D7B40  48 00 00 4C */	b lbl_803E1E0C
lbl_803E1DC4:
/* 803E1DC4 003D7B44  3B 7B FF FF */	addi r27, r27, -1
/* 803E1DC8 003D7B48  28 1B 00 02 */	cmplwi r27, 2
/* 803E1DCC 003D7B4C  41 80 00 14 */	blt lbl_803E1DE0
/* 803E1DD0 003D7B50  80 7A 00 34 */	lwz r3, 0x34(r26)
/* 803E1DD4 003D7B54  38 03 00 02 */	addi r0, r3, 2
/* 803E1DD8 003D7B58  7C 1B 00 40 */	cmplw r27, r0
/* 803E1DDC 003D7B5C  41 80 00 18 */	blt lbl_803E1DF4
lbl_803E1DE0:
/* 803E1DE0 003D7B60  7C 1B F0 40 */	cmplw r27, r30
/* 803E1DE4 003D7B64  40 80 00 10 */	bge lbl_803E1DF4
/* 803E1DE8 003D7B68  93 9D 00 00 */	stw r28, 0(r29)
/* 803E1DEC 003D7B6C  38 60 00 00 */	li r3, 0
/* 803E1DF0 003D7B70  48 00 00 1C */	b lbl_803E1E0C
lbl_803E1DF4:
/* 803E1DF4 003D7B74  7C 1B F0 40 */	cmplw r27, r30
/* 803E1DF8 003D7B78  41 80 FF 20 */	blt lbl_803E1D18
/* 803E1DFC 003D7B7C  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E1E00 003D7B80  7F 43 D3 78 */	mr r3, r26
/* 803E1E04 003D7B84  4B FF 87 59 */	bl PFCACHE_FreeDataPage
/* 803E1E08 003D7B88  38 60 00 0D */	li r3, 0xd
lbl_803E1E0C:
/* 803E1E0C 003D7B8C  39 61 00 30 */	addi r11, r1, 0x30
/* 803E1E10 003D7B90  48 00 F5 59 */	bl _restgpr_26
/* 803E1E14 003D7B94  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E1E18 003D7B98  7C 08 03 A6 */	mtlr r0
/* 803E1E1C 003D7B9C  38 21 00 30 */	addi r1, r1, 0x30
/* 803E1E20 003D7BA0  4E 80 00 20 */	blr 

.global PFFAT_InitFATRegion
PFFAT_InitFATRegion:
/* 803E1E24 003D7BA4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E1E28 003D7BA8  7C 08 02 A6 */	mflr r0
/* 803E1E2C 003D7BAC  38 80 FF FF */	li r4, -1
/* 803E1E30 003D7BB0  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E1E34 003D7BB4  38 A1 00 0C */	addi r5, r1, 0xc
/* 803E1E38 003D7BB8  38 C1 00 08 */	addi r6, r1, 8
/* 803E1E3C 003D7BBC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E1E40 003D7BC0  7C 7F 1B 78 */	mr r31, r3
/* 803E1E44 003D7BC4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E1E48 003D7BC8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803E1E4C 003D7BCC  4B FF 85 91 */	bl PFCACHE_AllocateFATPage
/* 803E1E50 003D7BD0  2C 03 00 00 */	cmpwi r3, 0
/* 803E1E54 003D7BD4  41 82 00 08 */	beq lbl_803E1E5C
/* 803E1E58 003D7BD8  48 00 02 00 */	b lbl_803E2058
lbl_803E1E5C:
/* 803E1E5C 003D7BDC  80 61 00 0C */	lwz r3, 0xc(r1)
/* 803E1E60 003D7BE0  38 80 00 00 */	li r4, 0
/* 803E1E64 003D7BE4  A0 BF 00 00 */	lhz r5, 0(r31)
/* 803E1E68 003D7BE8  80 63 00 08 */	lwz r3, 8(r3)
/* 803E1E6C 003D7BEC  4B FF 44 E1 */	bl pf_memset
/* 803E1E70 003D7BF0  A3 BF 00 02 */	lhz r29, 2(r31)
/* 803E1E74 003D7BF4  48 00 00 3C */	b lbl_803E1EB0
lbl_803E1E78:
/* 803E1E78 003D7BF8  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E1E7C 003D7BFC  7F E3 FB 78 */	mr r3, r31
/* 803E1E80 003D7C00  7F A5 EB 78 */	mr r5, r29
/* 803E1E84 003D7C04  80 84 00 08 */	lwz r4, 8(r4)
/* 803E1E88 003D7C08  4B FF 89 0D */	bl PFCACHE_WriteFATSectorAndFreeIfNeeded
/* 803E1E8C 003D7C0C  2C 03 00 00 */	cmpwi r3, 0
/* 803E1E90 003D7C10  7C 7E 1B 78 */	mr r30, r3
/* 803E1E94 003D7C14  41 82 00 18 */	beq lbl_803E1EAC
/* 803E1E98 003D7C18  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E1E9C 003D7C1C  7F E3 FB 78 */	mr r3, r31
/* 803E1EA0 003D7C20  4B FF 86 2D */	bl PFCACHE_FreeFATPage
/* 803E1EA4 003D7C24  7F C3 F3 78 */	mr r3, r30
/* 803E1EA8 003D7C28  48 00 01 B0 */	b lbl_803E2058
lbl_803E1EAC:
/* 803E1EAC 003D7C2C  3B BD 00 01 */	addi r29, r29, 1
lbl_803E1EB0:
/* 803E1EB0 003D7C30  80 1F 00 2C */	lwz r0, 0x2c(r31)
/* 803E1EB4 003D7C34  7C 1D 00 40 */	cmplw r29, r0
/* 803E1EB8 003D7C38  41 80 FF C0 */	blt lbl_803E1E78
/* 803E1EBC 003D7C3C  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803E1EC0 003D7C40  7F E3 FB 78 */	mr r3, r31
/* 803E1EC4 003D7C44  4B FF 86 09 */	bl PFCACHE_FreeFATPage
/* 803E1EC8 003D7C48  80 DF 00 1C */	lwz r6, 0x1c(r31)
/* 803E1ECC 003D7C4C  3C 60 80 42 */	lis r3, lbl_8041B0E0@ha
/* 803E1ED0 003D7C50  38 63 B0 E0 */	addi r3, r3, lbl_8041B0E0@l
/* 803E1ED4 003D7C54  88 9F 00 1A */	lbz r4, 0x1a(r31)
/* 803E1ED8 003D7C58  1C 06 00 14 */	mulli r0, r6, 0x14
/* 803E1EDC 003D7C5C  2C 06 00 01 */	cmpwi r6, 1
/* 803E1EE0 003D7C60  7C 63 02 14 */	add r3, r3, r0
/* 803E1EE4 003D7C64  80 03 00 0C */	lwz r0, 0xc(r3)
/* 803E1EE8 003D7C68  7C 85 03 78 */	or r5, r4, r0
/* 803E1EEC 003D7C6C  41 82 00 44 */	beq lbl_803E1F30
/* 803E1EF0 003D7C70  40 80 00 10 */	bge lbl_803E1F00
/* 803E1EF4 003D7C74  2C 06 00 00 */	cmpwi r6, 0
/* 803E1EF8 003D7C78  40 80 00 14 */	bge lbl_803E1F0C
/* 803E1EFC 003D7C7C  48 00 00 7C */	b lbl_803E1F78
lbl_803E1F00:
/* 803E1F00 003D7C80  2C 06 00 03 */	cmpwi r6, 3
/* 803E1F04 003D7C84  40 80 00 74 */	bge lbl_803E1F78
/* 803E1F08 003D7C88  48 00 00 48 */	b lbl_803E1F50
lbl_803E1F0C:
/* 803E1F0C 003D7C8C  28 05 0F FF */	cmplwi r5, 0xfff
/* 803E1F10 003D7C90  40 81 00 0C */	ble lbl_803E1F1C
/* 803E1F14 003D7C94  38 60 00 10 */	li r3, 0x10
/* 803E1F18 003D7C98  48 00 00 64 */	b lbl_803E1F7C
lbl_803E1F1C:
/* 803E1F1C 003D7C9C  7F E3 FB 78 */	mr r3, r31
/* 803E1F20 003D7CA0  54 A5 04 3E */	clrlwi r5, r5, 0x10
/* 803E1F24 003D7CA4  38 80 00 00 */	li r4, 0
/* 803E1F28 003D7CA8  48 00 06 D5 */	bl PFFAT12_WriteFATEntry
/* 803E1F2C 003D7CAC  48 00 00 50 */	b lbl_803E1F7C
lbl_803E1F30:
/* 803E1F30 003D7CB0  28 05 FF FF */	cmplwi r5, 0xffff
/* 803E1F34 003D7CB4  40 81 00 0C */	ble lbl_803E1F40
/* 803E1F38 003D7CB8  38 60 00 10 */	li r3, 0x10
/* 803E1F3C 003D7CBC  48 00 00 40 */	b lbl_803E1F7C
lbl_803E1F40:
/* 803E1F40 003D7CC0  7F E3 FB 78 */	mr r3, r31
/* 803E1F44 003D7CC4  38 80 00 00 */	li r4, 0
/* 803E1F48 003D7CC8  48 00 0E A9 */	bl PFFAT16_WriteFATEntry
/* 803E1F4C 003D7CCC  48 00 00 30 */	b lbl_803E1F7C
lbl_803E1F50:
/* 803E1F50 003D7CD0  3C 60 10 00 */	lis r3, 0x0FFFFFFF@ha
/* 803E1F54 003D7CD4  38 03 FF FF */	addi r0, r3, 0x0FFFFFFF@l
/* 803E1F58 003D7CD8  7C 05 00 40 */	cmplw r5, r0
/* 803E1F5C 003D7CDC  40 81 00 0C */	ble lbl_803E1F68
/* 803E1F60 003D7CE0  38 60 00 10 */	li r3, 0x10
/* 803E1F64 003D7CE4  48 00 00 18 */	b lbl_803E1F7C
lbl_803E1F68:
/* 803E1F68 003D7CE8  7F E3 FB 78 */	mr r3, r31
/* 803E1F6C 003D7CEC  38 80 00 00 */	li r4, 0
/* 803E1F70 003D7CF0  48 00 12 D5 */	bl PFFAT32_WriteFATEntry
/* 803E1F74 003D7CF4  48 00 00 08 */	b lbl_803E1F7C
lbl_803E1F78:
/* 803E1F78 003D7CF8  38 60 00 0F */	li r3, 0xf
lbl_803E1F7C:
/* 803E1F7C 003D7CFC  2C 03 00 00 */	cmpwi r3, 0
/* 803E1F80 003D7D00  41 82 00 08 */	beq lbl_803E1F88
/* 803E1F84 003D7D04  48 00 00 D4 */	b lbl_803E2058
lbl_803E1F88:
/* 803E1F88 003D7D08  80 9F 00 1C */	lwz r4, 0x1c(r31)
/* 803E1F8C 003D7D0C  3C 60 80 42 */	lis r3, lbl_8041B0E0@ha
/* 803E1F90 003D7D10  38 63 B0 E0 */	addi r3, r3, lbl_8041B0E0@l
/* 803E1F94 003D7D14  1C 04 00 14 */	mulli r0, r4, 0x14
/* 803E1F98 003D7D18  2C 04 00 01 */	cmpwi r4, 1
/* 803E1F9C 003D7D1C  7C 63 02 14 */	add r3, r3, r0
/* 803E1FA0 003D7D20  80 A3 00 10 */	lwz r5, 0x10(r3)
/* 803E1FA4 003D7D24  41 82 00 44 */	beq lbl_803E1FE8
/* 803E1FA8 003D7D28  40 80 00 10 */	bge lbl_803E1FB8
/* 803E1FAC 003D7D2C  2C 04 00 00 */	cmpwi r4, 0
/* 803E1FB0 003D7D30  40 80 00 14 */	bge lbl_803E1FC4
/* 803E1FB4 003D7D34  48 00 00 7C */	b lbl_803E2030
lbl_803E1FB8:
/* 803E1FB8 003D7D38  2C 04 00 03 */	cmpwi r4, 3
/* 803E1FBC 003D7D3C  40 80 00 74 */	bge lbl_803E2030
/* 803E1FC0 003D7D40  48 00 00 48 */	b lbl_803E2008
lbl_803E1FC4:
/* 803E1FC4 003D7D44  28 05 0F FF */	cmplwi r5, 0xfff
/* 803E1FC8 003D7D48  40 81 00 0C */	ble lbl_803E1FD4
/* 803E1FCC 003D7D4C  38 60 00 10 */	li r3, 0x10
/* 803E1FD0 003D7D50  48 00 00 64 */	b lbl_803E2034
lbl_803E1FD4:
/* 803E1FD4 003D7D54  7F E3 FB 78 */	mr r3, r31
/* 803E1FD8 003D7D58  54 A5 04 3E */	clrlwi r5, r5, 0x10
/* 803E1FDC 003D7D5C  38 80 00 01 */	li r4, 1
/* 803E1FE0 003D7D60  48 00 06 1D */	bl PFFAT12_WriteFATEntry
/* 803E1FE4 003D7D64  48 00 00 50 */	b lbl_803E2034
lbl_803E1FE8:
/* 803E1FE8 003D7D68  28 05 FF FF */	cmplwi r5, 0xffff
/* 803E1FEC 003D7D6C  40 81 00 0C */	ble lbl_803E1FF8
/* 803E1FF0 003D7D70  38 60 00 10 */	li r3, 0x10
/* 803E1FF4 003D7D74  48 00 00 40 */	b lbl_803E2034
lbl_803E1FF8:
/* 803E1FF8 003D7D78  7F E3 FB 78 */	mr r3, r31
/* 803E1FFC 003D7D7C  38 80 00 01 */	li r4, 1
/* 803E2000 003D7D80  48 00 0D F1 */	bl PFFAT16_WriteFATEntry
/* 803E2004 003D7D84  48 00 00 30 */	b lbl_803E2034
lbl_803E2008:
/* 803E2008 003D7D88  3C 60 10 00 */	lis r3, 0x0FFFFFFF@ha
/* 803E200C 003D7D8C  38 03 FF FF */	addi r0, r3, 0x0FFFFFFF@l
/* 803E2010 003D7D90  7C 05 00 40 */	cmplw r5, r0
/* 803E2014 003D7D94  40 81 00 0C */	ble lbl_803E2020
/* 803E2018 003D7D98  38 60 00 10 */	li r3, 0x10
/* 803E201C 003D7D9C  48 00 00 18 */	b lbl_803E2034
lbl_803E2020:
/* 803E2020 003D7DA0  7F E3 FB 78 */	mr r3, r31
/* 803E2024 003D7DA4  38 80 00 01 */	li r4, 1
/* 803E2028 003D7DA8  48 00 12 1D */	bl PFFAT32_WriteFATEntry
/* 803E202C 003D7DAC  48 00 00 08 */	b lbl_803E2034
lbl_803E2030:
/* 803E2030 003D7DB0  38 60 00 0F */	li r3, 0xf
lbl_803E2034:
/* 803E2034 003D7DB4  2C 03 00 00 */	cmpwi r3, 0
/* 803E2038 003D7DB8  41 82 00 08 */	beq lbl_803E2040
/* 803E203C 003D7DBC  48 00 00 1C */	b lbl_803E2058
lbl_803E2040:
/* 803E2040 003D7DC0  7F E3 FB 78 */	mr r3, r31
/* 803E2044 003D7DC4  4B FF 88 0D */	bl PFCACHE_FlushFATCache
/* 803E2048 003D7DC8  7C 03 00 D0 */	neg r0, r3
/* 803E204C 003D7DCC  7C 00 1B 78 */	or r0, r0, r3
/* 803E2050 003D7DD0  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 803E2054 003D7DD4  7C 63 00 38 */	and r3, r3, r0
lbl_803E2058:
/* 803E2058 003D7DD8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E205C 003D7DDC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E2060 003D7DE0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E2064 003D7DE4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803E2068 003D7DE8  7C 08 03 A6 */	mtlr r0
/* 803E206C 003D7DEC  38 21 00 20 */	addi r1, r1, 0x20
/* 803E2070 003D7DF0  4E 80 00 20 */	blr 

.global PFFAT_MakeRootDir
PFFAT_MakeRootDir:
/* 803E2074 003D7DF4  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803E2078 003D7DF8  7C 08 02 A6 */	mflr r0
/* 803E207C 003D7DFC  3C A0 80 42 */	lis r5, lbl_8041B0E0@ha
/* 803E2080 003D7E00  90 01 00 34 */	stw r0, 0x34(r1)
/* 803E2084 003D7E04  38 A5 B0 E0 */	addi r5, r5, lbl_8041B0E0@l
/* 803E2088 003D7E08  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 803E208C 003D7E0C  7C 7F 1B 78 */	mr r31, r3
/* 803E2090 003D7E10  93 C1 00 28 */	stw r30, 0x28(r1)
/* 803E2094 003D7E14  93 A1 00 24 */	stw r29, 0x24(r1)
/* 803E2098 003D7E18  93 81 00 20 */	stw r28, 0x20(r1)
/* 803E209C 003D7E1C  80 C3 00 1C */	lwz r6, 0x1c(r3)
/* 803E20A0 003D7E20  80 83 00 10 */	lwz r4, 0x10(r3)
/* 803E20A4 003D7E24  1C 06 00 14 */	mulli r0, r6, 0x14
/* 803E20A8 003D7E28  2C 06 00 01 */	cmpwi r6, 1
/* 803E20AC 003D7E2C  7C A5 02 14 */	add r5, r5, r0
/* 803E20B0 003D7E30  80 A5 00 08 */	lwz r5, 8(r5)
/* 803E20B4 003D7E34  41 82 00 40 */	beq lbl_803E20F4
/* 803E20B8 003D7E38  40 80 00 10 */	bge lbl_803E20C8
/* 803E20BC 003D7E3C  2C 06 00 00 */	cmpwi r6, 0
/* 803E20C0 003D7E40  40 80 00 14 */	bge lbl_803E20D4
/* 803E20C4 003D7E44  48 00 00 68 */	b lbl_803E212C
lbl_803E20C8:
/* 803E20C8 003D7E48  2C 06 00 03 */	cmpwi r6, 3
/* 803E20CC 003D7E4C  40 80 00 60 */	bge lbl_803E212C
/* 803E20D0 003D7E50  48 00 00 3C */	b lbl_803E210C
lbl_803E20D4:
/* 803E20D4 003D7E54  28 05 0F FF */	cmplwi r5, 0xfff
/* 803E20D8 003D7E58  40 81 00 0C */	ble lbl_803E20E4
/* 803E20DC 003D7E5C  38 60 00 10 */	li r3, 0x10
/* 803E20E0 003D7E60  48 00 00 50 */	b lbl_803E2130
lbl_803E20E4:
/* 803E20E4 003D7E64  54 84 04 3E */	clrlwi r4, r4, 0x10
/* 803E20E8 003D7E68  54 A5 04 3E */	clrlwi r5, r5, 0x10
/* 803E20EC 003D7E6C  48 00 05 11 */	bl PFFAT12_WriteFATEntry
/* 803E20F0 003D7E70  48 00 00 40 */	b lbl_803E2130
lbl_803E20F4:
/* 803E20F4 003D7E74  28 05 FF FF */	cmplwi r5, 0xffff
/* 803E20F8 003D7E78  40 81 00 0C */	ble lbl_803E2104
/* 803E20FC 003D7E7C  38 60 00 10 */	li r3, 0x10
/* 803E2100 003D7E80  48 00 00 30 */	b lbl_803E2130
lbl_803E2104:
/* 803E2104 003D7E84  48 00 0C ED */	bl PFFAT16_WriteFATEntry
/* 803E2108 003D7E88  48 00 00 28 */	b lbl_803E2130
lbl_803E210C:
/* 803E210C 003D7E8C  3C C0 10 00 */	lis r6, 0x0FFFFFFF@ha
/* 803E2110 003D7E90  38 06 FF FF */	addi r0, r6, 0x0FFFFFFF@l
/* 803E2114 003D7E94  7C 05 00 40 */	cmplw r5, r0
/* 803E2118 003D7E98  40 81 00 0C */	ble lbl_803E2124
/* 803E211C 003D7E9C  38 60 00 10 */	li r3, 0x10
/* 803E2120 003D7EA0  48 00 00 10 */	b lbl_803E2130
lbl_803E2124:
/* 803E2124 003D7EA4  48 00 11 21 */	bl PFFAT32_WriteFATEntry
/* 803E2128 003D7EA8  48 00 00 08 */	b lbl_803E2130
lbl_803E212C:
/* 803E212C 003D7EAC  38 60 00 0F */	li r3, 0xf
lbl_803E2130:
/* 803E2130 003D7EB0  2C 03 00 00 */	cmpwi r3, 0
/* 803E2134 003D7EB4  41 82 00 08 */	beq lbl_803E213C
/* 803E2138 003D7EB8  48 00 00 F4 */	b lbl_803E222C
lbl_803E213C:
/* 803E213C 003D7EBC  7F E3 FB 78 */	mr r3, r31
/* 803E2140 003D7EC0  4B FF 87 11 */	bl PFCACHE_FlushFATCache
/* 803E2144 003D7EC4  2C 03 00 00 */	cmpwi r3, 0
/* 803E2148 003D7EC8  41 82 00 08 */	beq lbl_803E2150
/* 803E214C 003D7ECC  48 00 00 E0 */	b lbl_803E222C
lbl_803E2150:
/* 803E2150 003D7ED0  7F E3 FB 78 */	mr r3, r31
/* 803E2154 003D7ED4  38 A1 00 08 */	addi r5, r1, 8
/* 803E2158 003D7ED8  38 C1 00 0C */	addi r6, r1, 0xc
/* 803E215C 003D7EDC  38 80 FF FF */	li r4, -1
/* 803E2160 003D7EE0  4B FF 82 F5 */	bl PFCACHE_AllocateDataPage
/* 803E2164 003D7EE4  2C 03 00 00 */	cmpwi r3, 0
/* 803E2168 003D7EE8  41 82 00 08 */	beq lbl_803E2170
/* 803E216C 003D7EEC  48 00 00 C0 */	b lbl_803E222C
lbl_803E2170:
/* 803E2170 003D7EF0  80 61 00 08 */	lwz r3, 8(r1)
/* 803E2174 003D7EF4  38 80 00 00 */	li r4, 0
/* 803E2178 003D7EF8  A0 BF 00 00 */	lhz r5, 0(r31)
/* 803E217C 003D7EFC  80 63 00 08 */	lwz r3, 8(r3)
/* 803E2180 003D7F00  4B FF 41 CD */	bl pf_memset
/* 803E2184 003D7F04  80 7F 00 10 */	lwz r3, 0x10(r31)
/* 803E2188 003D7F08  3B 80 00 00 */	li r28, 0
/* 803E218C 003D7F0C  88 1F 00 21 */	lbz r0, 0x21(r31)
/* 803E2190 003D7F10  38 63 FF FE */	addi r3, r3, -2
/* 803E2194 003D7F14  80 9F 00 30 */	lwz r4, 0x30(r31)
/* 803E2198 003D7F18  7C 60 00 30 */	slw r0, r3, r0
/* 803E219C 003D7F1C  7F A4 02 14 */	add r29, r4, r0
/* 803E21A0 003D7F20  48 00 00 70 */	b lbl_803E2210
lbl_803E21A4:
/* 803E21A4 003D7F24  80 81 00 08 */	lwz r4, 8(r1)
/* 803E21A8 003D7F28  7F E3 FB 78 */	mr r3, r31
/* 803E21AC 003D7F2C  A0 FF 00 00 */	lhz r7, 0(r31)
/* 803E21B0 003D7F30  7C BD E2 14 */	add r5, r29, r28
/* 803E21B4 003D7F34  80 84 00 08 */	lwz r4, 8(r4)
/* 803E21B8 003D7F38  39 01 00 10 */	addi r8, r1, 0x10
/* 803E21BC 003D7F3C  38 C0 00 00 */	li r6, 0
/* 803E21C0 003D7F40  39 20 00 00 */	li r9, 0
/* 803E21C4 003D7F44  48 00 70 9D */	bl PFSEC_WriteData
/* 803E21C8 003D7F48  2C 03 00 00 */	cmpwi r3, 0
/* 803E21CC 003D7F4C  7C 7E 1B 78 */	mr r30, r3
/* 803E21D0 003D7F50  41 82 00 18 */	beq lbl_803E21E8
/* 803E21D4 003D7F54  80 81 00 08 */	lwz r4, 8(r1)
/* 803E21D8 003D7F58  7F E3 FB 78 */	mr r3, r31
/* 803E21DC 003D7F5C  4B FF 83 81 */	bl PFCACHE_FreeDataPage
/* 803E21E0 003D7F60  7F C3 F3 78 */	mr r3, r30
/* 803E21E4 003D7F64  48 00 00 48 */	b lbl_803E222C
lbl_803E21E8:
/* 803E21E8 003D7F68  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E21EC 003D7F6C  A0 1F 00 00 */	lhz r0, 0(r31)
/* 803E21F0 003D7F70  7C 03 00 40 */	cmplw r3, r0
/* 803E21F4 003D7F74  41 82 00 18 */	beq lbl_803E220C
/* 803E21F8 003D7F78  80 81 00 08 */	lwz r4, 8(r1)
/* 803E21FC 003D7F7C  7F E3 FB 78 */	mr r3, r31
/* 803E2200 003D7F80  4B FF 83 5D */	bl PFCACHE_FreeDataPage
/* 803E2204 003D7F84  38 60 00 11 */	li r3, 0x11
/* 803E2208 003D7F88  48 00 00 24 */	b lbl_803E222C
lbl_803E220C:
/* 803E220C 003D7F8C  3B 9C 00 01 */	addi r28, r28, 1
lbl_803E2210:
/* 803E2210 003D7F90  88 1F 00 06 */	lbz r0, 6(r31)
/* 803E2214 003D7F94  7C 1C 00 40 */	cmplw r28, r0
/* 803E2218 003D7F98  41 80 FF 8C */	blt lbl_803E21A4
/* 803E221C 003D7F9C  80 81 00 08 */	lwz r4, 8(r1)
/* 803E2220 003D7FA0  7F E3 FB 78 */	mr r3, r31
/* 803E2224 003D7FA4  4B FF 83 39 */	bl PFCACHE_FreeDataPage
/* 803E2228 003D7FA8  38 60 00 00 */	li r3, 0
lbl_803E222C:
/* 803E222C 003D7FAC  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803E2230 003D7FB0  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 803E2234 003D7FB4  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 803E2238 003D7FB8  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 803E223C 003D7FBC  83 81 00 20 */	lwz r28, 0x20(r1)
/* 803E2240 003D7FC0  7C 08 03 A6 */	mtlr r0
/* 803E2244 003D7FC4  38 21 00 30 */	addi r1, r1, 0x30
/* 803E2248 003D7FC8  4E 80 00 20 */	blr 

.global PFFAT_RefreshFSINFO
PFFAT_RefreshFSINFO:
/* 803E224C 003D7FCC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803E2250 003D7FD0  7C 08 02 A6 */	mflr r0
/* 803E2254 003D7FD4  90 01 00 24 */	stw r0, 0x24(r1)
/* 803E2258 003D7FD8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803E225C 003D7FDC  7C 7F 1B 78 */	mr r31, r3
/* 803E2260 003D7FE0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803E2264 003D7FE4  3B C0 00 00 */	li r30, 0
/* 803E2268 003D7FE8  A0 03 1F AC */	lhz r0, 0x1fac(r3)
/* 803E226C 003D7FEC  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 803E2270 003D7FF0  41 82 01 34 */	beq lbl_803E23A4
/* 803E2274 003D7FF4  38 A1 00 10 */	addi r5, r1, 0x10
/* 803E2278 003D7FF8  38 C1 00 0C */	addi r6, r1, 0xc
/* 803E227C 003D7FFC  38 80 FF FF */	li r4, -1
/* 803E2280 003D8000  4B FF 81 D5 */	bl PFCACHE_AllocateDataPage
/* 803E2284 003D8004  2C 03 00 00 */	cmpwi r3, 0
/* 803E2288 003D8008  41 82 00 08 */	beq lbl_803E2290
/* 803E228C 003D800C  48 00 01 1C */	b lbl_803E23A8
lbl_803E2290:
/* 803E2290 003D8010  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803E2294 003D8014  7F E3 FB 78 */	mr r3, r31
/* 803E2298 003D8018  A0 BF 00 14 */	lhz r5, 0x14(r31)
/* 803E229C 003D801C  39 01 00 08 */	addi r8, r1, 8
/* 803E22A0 003D8020  80 84 00 08 */	lwz r4, 8(r4)
/* 803E22A4 003D8024  38 C0 00 00 */	li r6, 0
/* 803E22A8 003D8028  A0 FF 00 00 */	lhz r7, 0(r31)
/* 803E22AC 003D802C  39 20 00 00 */	li r9, 0
/* 803E22B0 003D8030  48 00 6B D5 */	bl PFSEC_ReadData
/* 803E22B4 003D8034  2C 03 00 00 */	cmpwi r3, 0
/* 803E22B8 003D8038  7C 7E 1B 78 */	mr r30, r3
/* 803E22BC 003D803C  40 82 00 18 */	bne lbl_803E22D4
/* 803E22C0 003D8040  80 61 00 08 */	lwz r3, 8(r1)
/* 803E22C4 003D8044  A0 1F 00 00 */	lhz r0, 0(r31)
/* 803E22C8 003D8048  7C 03 00 40 */	cmplw r3, r0
/* 803E22CC 003D804C  41 82 00 08 */	beq lbl_803E22D4
/* 803E22D0 003D8050  3B C0 00 11 */	li r30, 0x11
lbl_803E22D4:
/* 803E22D4 003D8054  2C 1E 00 00 */	cmpwi r30, 0
/* 803E22D8 003D8058  40 82 00 C0 */	bne lbl_803E2398
/* 803E22DC 003D805C  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E22E0 003D8060  80 83 00 08 */	lwz r4, 8(r3)
/* 803E22E4 003D8064  38 64 01 E8 */	addi r3, r4, 0x1e8
/* 803E22E8 003D8068  54 60 07 BF */	clrlwi. r0, r3, 0x1e
/* 803E22EC 003D806C  41 82 00 4C */	beq lbl_803E2338
/* 803E22F0 003D8070  80 1F 00 38 */	lwz r0, 0x38(r31)
/* 803E22F4 003D8074  98 03 00 00 */	stb r0, 0(r3)
/* 803E22F8 003D8078  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E22FC 003D807C  80 1F 00 38 */	lwz r0, 0x38(r31)
/* 803E2300 003D8080  80 63 00 08 */	lwz r3, 8(r3)
/* 803E2304 003D8084  54 00 C6 3E */	rlwinm r0, r0, 0x18, 0x18, 0x1f
/* 803E2308 003D8088  98 03 01 E9 */	stb r0, 0x1e9(r3)
/* 803E230C 003D808C  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E2310 003D8090  80 1F 00 38 */	lwz r0, 0x38(r31)
/* 803E2314 003D8094  80 63 00 08 */	lwz r3, 8(r3)
/* 803E2318 003D8098  54 00 86 3E */	rlwinm r0, r0, 0x10, 0x18, 0x1f
/* 803E231C 003D809C  98 03 01 EA */	stb r0, 0x1ea(r3)
/* 803E2320 003D80A0  80 61 00 10 */	lwz r3, 0x10(r1)
/* 803E2324 003D80A4  80 1F 00 38 */	lwz r0, 0x38(r31)
/* 803E2328 003D80A8  80 63 00 08 */	lwz r3, 8(r3)
/* 803E232C 003D80AC  54 00 46 3E */	srwi r0, r0, 0x18
/* 803E2330 003D80B0  98 03 01 EB */	stb r0, 0x1eb(r3)
/* 803E2334 003D80B4  48 00 00 20 */	b lbl_803E2354
lbl_803E2338:
/* 803E2338 003D80B8  80 BF 00 38 */	lwz r5, 0x38(r31)
/* 803E233C 003D80BC  54 A3 42 1E */	rlwinm r3, r5, 8, 8, 0xf
/* 803E2340 003D80C0  54 A0 C4 2E */	rlwinm r0, r5, 0x18, 0x10, 0x17
/* 803E2344 003D80C4  50 A3 C0 0E */	rlwimi r3, r5, 0x18, 0, 7
/* 803E2348 003D80C8  50 A0 46 3E */	rlwimi r0, r5, 8, 0x18, 0x1f
/* 803E234C 003D80CC  7C 60 03 78 */	or r0, r3, r0
/* 803E2350 003D80D0  90 04 01 E8 */	stw r0, 0x1e8(r4)
lbl_803E2354:
/* 803E2354 003D80D4  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803E2358 003D80D8  7F E3 FB 78 */	mr r3, r31
/* 803E235C 003D80DC  A0 BF 00 14 */	lhz r5, 0x14(r31)
/* 803E2360 003D80E0  39 01 00 08 */	addi r8, r1, 8
/* 803E2364 003D80E4  80 84 00 08 */	lwz r4, 8(r4)
/* 803E2368 003D80E8  38 C0 00 00 */	li r6, 0
/* 803E236C 003D80EC  A0 FF 00 00 */	lhz r7, 0(r31)
/* 803E2370 003D80F0  39 20 00 00 */	li r9, 0
/* 803E2374 003D80F4  48 00 6E ED */	bl PFSEC_WriteData
/* 803E2378 003D80F8  2C 03 00 00 */	cmpwi r3, 0
/* 803E237C 003D80FC  7C 7E 1B 78 */	mr r30, r3
/* 803E2380 003D8100  40 82 00 18 */	bne lbl_803E2398
/* 803E2384 003D8104  80 61 00 08 */	lwz r3, 8(r1)
/* 803E2388 003D8108  A0 1F 00 00 */	lhz r0, 0(r31)
/* 803E238C 003D810C  7C 03 00 40 */	cmplw r3, r0
/* 803E2390 003D8110  41 82 00 08 */	beq lbl_803E2398
/* 803E2394 003D8114  3B C0 00 11 */	li r30, 0x11
lbl_803E2398:
/* 803E2398 003D8118  80 81 00 10 */	lwz r4, 0x10(r1)
/* 803E239C 003D811C  7F E3 FB 78 */	mr r3, r31
/* 803E23A0 003D8120  4B FF 81 BD */	bl PFCACHE_FreeDataPage
lbl_803E23A4:
/* 803E23A4 003D8124  7F C3 F3 78 */	mr r3, r30
lbl_803E23A8:
/* 803E23A8 003D8128  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803E23AC 003D812C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803E23B0 003D8130  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803E23B4 003D8134  7C 08 03 A6 */	mtlr r0
/* 803E23B8 003D8138  38 21 00 20 */	addi r1, r1, 0x20
/* 803E23BC 003D813C  4E 80 00 20 */	blr 

.global PFFAT_InitHint
PFFAT_InitHint:
/* 803E23C0 003D8140  38 00 00 00 */	li r0, 0
/* 803E23C4 003D8144  90 03 00 00 */	stw r0, 0(r3)
/* 803E23C8 003D8148  90 03 00 04 */	stw r0, 4(r3)
/* 803E23CC 003D814C  90 03 00 08 */	stw r0, 8(r3)
/* 803E23D0 003D8150  4E 80 00 20 */	blr 

.global PFFAT_ResetFFD
PFFAT_ResetFFD:
/* 803E23D4 003D8154  80 A3 00 30 */	lwz r5, 0x30(r3)
/* 803E23D8 003D8158  38 00 00 01 */	li r0, 1
/* 803E23DC 003D815C  90 83 00 08 */	stw r4, 8(r3)
/* 803E23E0 003D8160  2C 05 00 00 */	cmpwi r5, 0
/* 803E23E4 003D8164  90 03 00 00 */	stw r0, 0(r3)
/* 803E23E8 003D8168  41 82 00 0C */	beq lbl_803E23F4
/* 803E23EC 003D816C  38 00 00 00 */	li r0, 0
/* 803E23F0 003D8170  90 05 00 08 */	stw r0, 8(r5)
lbl_803E23F4:
/* 803E23F4 003D8174  38 00 00 00 */	li r0, 0
/* 803E23F8 003D8178  90 03 00 18 */	stw r0, 0x18(r3)
/* 803E23FC 003D817C  90 03 00 14 */	stw r0, 0x14(r3)
/* 803E2400 003D8180  90 03 00 0C */	stw r0, 0xc(r3)
/* 803E2404 003D8184  90 03 00 10 */	stw r0, 0x10(r3)
/* 803E2408 003D8188  90 03 00 1C */	stw r0, 0x1c(r3)
/* 803E240C 003D818C  38 60 00 00 */	li r3, 0
/* 803E2410 003D8190  4E 80 00 20 */	blr 

.global PFFAT_InitFFD
PFFAT_InitFFD:
/* 803E2414 003D8194  38 00 00 01 */	li r0, 1
/* 803E2418 003D8198  2C 04 00 00 */	cmpwi r4, 0
/* 803E241C 003D819C  90 83 00 30 */	stw r4, 0x30(r3)
/* 803E2420 003D81A0  90 A3 00 34 */	stw r5, 0x34(r3)
/* 803E2424 003D81A4  90 C3 00 08 */	stw r6, 8(r3)
/* 803E2428 003D81A8  90 03 00 00 */	stw r0, 0(r3)
/* 803E242C 003D81AC  41 82 00 0C */	beq lbl_803E2438
/* 803E2430 003D81B0  38 00 00 00 */	li r0, 0
/* 803E2434 003D81B4  90 04 00 08 */	stw r0, 8(r4)
lbl_803E2438:
/* 803E2438 003D81B8  38 00 00 00 */	li r0, 0
/* 803E243C 003D81BC  90 03 00 18 */	stw r0, 0x18(r3)
/* 803E2440 003D81C0  90 03 00 14 */	stw r0, 0x14(r3)
/* 803E2444 003D81C4  90 03 00 0C */	stw r0, 0xc(r3)
/* 803E2448 003D81C8  90 03 00 10 */	stw r0, 0x10(r3)
/* 803E244C 003D81CC  90 03 00 1C */	stw r0, 0x1c(r3)
/* 803E2450 003D81D0  38 60 00 00 */	li r3, 0
/* 803E2454 003D81D4  4E 80 00 20 */	blr 

.global PFFAT_FinalizeFFD
PFFAT_FinalizeFFD:
/* 803E2458 003D81D8  38 00 00 00 */	li r0, 0
/* 803E245C 003D81DC  90 03 00 1C */	stw r0, 0x1c(r3)
/* 803E2460 003D81E0  38 60 00 00 */	li r3, 0
/* 803E2464 003D81E4  4E 80 00 20 */	blr 

