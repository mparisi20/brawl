.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global NETCalcCRC16
NETCalcCRC16:
/* 8038ED50 00384AD0  2C 04 00 00 */	cmpwi r4, 0
/* 8038ED54 00384AD4  3C E0 80 41 */	lis r7, lbl_80415D80@ha
/* 8038ED58 00384AD8  39 00 00 00 */	li r8, 0
/* 8038ED5C 00384ADC  38 E7 5D 80 */	addi r7, r7, lbl_80415D80@l
/* 8038ED60 00384AE0  41 82 01 1C */	beq lbl_8038EE7C
/* 8038ED64 00384AE4  54 80 F0 BF */	rlwinm. r0, r4, 0x1e, 2, 0x1f
/* 8038ED68 00384AE8  7C 09 03 A6 */	mtctr r0
/* 8038ED6C 00384AEC  41 82 00 D4 */	beq lbl_8038EE40
lbl_8038ED70:
/* 8038ED70 00384AF0  89 23 00 00 */	lbz r9, 0(r3)
/* 8038ED74 00384AF4  55 06 E1 3E */	srwi r6, r8, 4
/* 8038ED78 00384AF8  7D 00 4A 78 */	xor r0, r8, r9
/* 8038ED7C 00384AFC  55 25 E1 3E */	srwi r5, r9, 4
/* 8038ED80 00384B00  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038ED84 00384B04  89 23 00 01 */	lbz r9, 1(r3)
/* 8038ED88 00384B08  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038ED8C 00384B0C  7C C6 02 78 */	xor r6, r6, r0
/* 8038ED90 00384B10  7C C0 2A 78 */	xor r0, r6, r5
/* 8038ED94 00384B14  55 25 E1 3E */	srwi r5, r9, 4
/* 8038ED98 00384B18  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038ED9C 00384B1C  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EDA0 00384B20  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EDA4 00384B24  7C C8 02 78 */	xor r8, r6, r0
/* 8038EDA8 00384B28  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EDAC 00384B2C  89 23 00 02 */	lbz r9, 2(r3)
/* 8038EDB0 00384B30  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EDB4 00384B34  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EDB8 00384B38  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EDBC 00384B3C  7C C6 02 78 */	xor r6, r6, r0
/* 8038EDC0 00384B40  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EDC4 00384B44  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EDC8 00384B48  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EDCC 00384B4C  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EDD0 00384B50  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EDD4 00384B54  7C C8 02 78 */	xor r8, r6, r0
/* 8038EDD8 00384B58  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EDDC 00384B5C  89 23 00 03 */	lbz r9, 3(r3)
/* 8038EDE0 00384B60  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EDE4 00384B64  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EDE8 00384B68  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EDEC 00384B6C  38 63 00 04 */	addi r3, r3, 4
/* 8038EDF0 00384B70  7C C6 02 78 */	xor r6, r6, r0
/* 8038EDF4 00384B74  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EDF8 00384B78  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EDFC 00384B7C  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EE00 00384B80  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EE04 00384B84  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EE08 00384B88  7C C8 02 78 */	xor r8, r6, r0
/* 8038EE0C 00384B8C  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EE10 00384B90  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EE14 00384B94  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EE18 00384B98  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EE1C 00384B9C  7C C6 02 78 */	xor r6, r6, r0
/* 8038EE20 00384BA0  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EE24 00384BA4  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EE28 00384BA8  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EE2C 00384BAC  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EE30 00384BB0  7C C8 02 78 */	xor r8, r6, r0
/* 8038EE34 00384BB4  42 00 FF 3C */	bdnz lbl_8038ED70
/* 8038EE38 00384BB8  70 84 00 03 */	andi. r4, r4, 3
/* 8038EE3C 00384BBC  41 82 00 40 */	beq lbl_8038EE7C
lbl_8038EE40:
/* 8038EE40 00384BC0  7C 89 03 A6 */	mtctr r4
lbl_8038EE44:
/* 8038EE44 00384BC4  89 23 00 00 */	lbz r9, 0(r3)
/* 8038EE48 00384BC8  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EE4C 00384BCC  38 63 00 01 */	addi r3, r3, 1
/* 8038EE50 00384BD0  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EE54 00384BD4  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EE58 00384BD8  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EE5C 00384BDC  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EE60 00384BE0  7C C6 02 78 */	xor r6, r6, r0
/* 8038EE64 00384BE4  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EE68 00384BE8  54 00 0E FC */	rlwinm r0, r0, 1, 0x1b, 0x1e
/* 8038EE6C 00384BEC  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EE70 00384BF0  7C 07 02 2E */	lhzx r0, r7, r0
/* 8038EE74 00384BF4  7C C8 02 78 */	xor r8, r6, r0
/* 8038EE78 00384BF8  42 00 FF CC */	bdnz lbl_8038EE44
lbl_8038EE7C:
/* 8038EE7C 00384BFC  55 03 04 3E */	clrlwi r3, r8, 0x10
/* 8038EE80 00384C00  4E 80 00 20 */	blr 

.global NETCalcCRC32
NETCalcCRC32:
/* 8038EE84 00384C04  2C 04 00 00 */	cmpwi r4, 0
/* 8038EE88 00384C08  3C E0 80 41 */	lis r7, lbl_80415DA0@ha
/* 8038EE8C 00384C0C  39 00 FF FF */	li r8, -1
/* 8038EE90 00384C10  38 E7 5D A0 */	addi r7, r7, lbl_80415DA0@l
/* 8038EE94 00384C14  41 82 01 1C */	beq lbl_8038EFB0
/* 8038EE98 00384C18  54 80 F0 BF */	rlwinm. r0, r4, 0x1e, 2, 0x1f
/* 8038EE9C 00384C1C  7C 09 03 A6 */	mtctr r0
/* 8038EEA0 00384C20  41 82 00 D4 */	beq lbl_8038EF74
lbl_8038EEA4:
/* 8038EEA4 00384C24  89 23 00 00 */	lbz r9, 0(r3)
/* 8038EEA8 00384C28  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EEAC 00384C2C  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EEB0 00384C30  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EEB4 00384C34  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EEB8 00384C38  89 23 00 01 */	lbz r9, 1(r3)
/* 8038EEBC 00384C3C  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EEC0 00384C40  7C C6 02 78 */	xor r6, r6, r0
/* 8038EEC4 00384C44  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EEC8 00384C48  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EECC 00384C4C  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EED0 00384C50  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EED4 00384C54  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EED8 00384C58  7C C8 02 78 */	xor r8, r6, r0
/* 8038EEDC 00384C5C  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EEE0 00384C60  89 23 00 02 */	lbz r9, 2(r3)
/* 8038EEE4 00384C64  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EEE8 00384C68  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EEEC 00384C6C  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EEF0 00384C70  7C C6 02 78 */	xor r6, r6, r0
/* 8038EEF4 00384C74  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EEF8 00384C78  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EEFC 00384C7C  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EF00 00384C80  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EF04 00384C84  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EF08 00384C88  7C C8 02 78 */	xor r8, r6, r0
/* 8038EF0C 00384C8C  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EF10 00384C90  89 23 00 03 */	lbz r9, 3(r3)
/* 8038EF14 00384C94  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EF18 00384C98  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EF1C 00384C9C  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EF20 00384CA0  38 63 00 04 */	addi r3, r3, 4
/* 8038EF24 00384CA4  7C C6 02 78 */	xor r6, r6, r0
/* 8038EF28 00384CA8  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EF2C 00384CAC  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EF30 00384CB0  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EF34 00384CB4  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EF38 00384CB8  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EF3C 00384CBC  7C C8 02 78 */	xor r8, r6, r0
/* 8038EF40 00384CC0  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EF44 00384CC4  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EF48 00384CC8  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EF4C 00384CCC  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EF50 00384CD0  7C C6 02 78 */	xor r6, r6, r0
/* 8038EF54 00384CD4  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EF58 00384CD8  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EF5C 00384CDC  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EF60 00384CE0  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EF64 00384CE4  7C C8 02 78 */	xor r8, r6, r0
/* 8038EF68 00384CE8  42 00 FF 3C */	bdnz lbl_8038EEA4
/* 8038EF6C 00384CEC  70 84 00 03 */	andi. r4, r4, 3
/* 8038EF70 00384CF0  41 82 00 40 */	beq lbl_8038EFB0
lbl_8038EF74:
/* 8038EF74 00384CF4  7C 89 03 A6 */	mtctr r4
lbl_8038EF78:
/* 8038EF78 00384CF8  89 23 00 00 */	lbz r9, 0(r3)
/* 8038EF7C 00384CFC  55 06 E1 3E */	srwi r6, r8, 4
/* 8038EF80 00384D00  38 63 00 01 */	addi r3, r3, 1
/* 8038EF84 00384D04  7D 00 4A 78 */	xor r0, r8, r9
/* 8038EF88 00384D08  55 25 E1 3E */	srwi r5, r9, 4
/* 8038EF8C 00384D0C  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EF90 00384D10  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EF94 00384D14  7C C6 02 78 */	xor r6, r6, r0
/* 8038EF98 00384D18  7C C0 2A 78 */	xor r0, r6, r5
/* 8038EF9C 00384D1C  54 00 16 BA */	rlwinm r0, r0, 2, 0x1a, 0x1d
/* 8038EFA0 00384D20  54 C6 E1 3E */	srwi r6, r6, 4
/* 8038EFA4 00384D24  7C 07 00 2E */	lwzx r0, r7, r0
/* 8038EFA8 00384D28  7C C8 02 78 */	xor r8, r6, r0
/* 8038EFAC 00384D2C  42 00 FF CC */	bdnz lbl_8038EF78
lbl_8038EFB0:
/* 8038EFB0 00384D30  7D 03 40 F8 */	nor r3, r8, r8
/* 8038EFB4 00384D34  4E 80 00 20 */	blr 

