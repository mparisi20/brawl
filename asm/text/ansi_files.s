.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global __close_all
__close_all:
/* 803F355C 003E92DC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803F3560 003E92E0  7C 08 02 A6 */	mflr r0
/* 803F3564 003E92E4  90 01 00 24 */	stw r0, 0x24(r1)
/* 803F3568 003E92E8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803F356C 003E92EC  3B E0 00 00 */	li r31, 0
/* 803F3570 003E92F0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803F3574 003E92F4  3B C0 00 03 */	li r30, 3
/* 803F3578 003E92F8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803F357C 003E92FC  3F A0 80 49 */	lis r29, lbl_80493E60@ha
/* 803F3580 003E9300  3B BD 3E 60 */	addi r29, r29, lbl_80493E60@l
/* 803F3584 003E9304  48 00 00 58 */	b lbl_803F35DC
lbl_803F3588:
/* 803F3588 003E9308  80 1D 00 04 */	lwz r0, 4(r29)
/* 803F358C 003E930C  54 00 57 7F */	rlwinm. r0, r0, 0xa, 0x1d, 0x1f
/* 803F3590 003E9310  41 82 00 0C */	beq lbl_803F359C
/* 803F3594 003E9314  7F A3 EB 78 */	mr r3, r29
/* 803F3598 003E9318  48 00 23 01 */	bl fclose
lbl_803F359C:
/* 803F359C 003E931C  7F A3 EB 78 */	mr r3, r29
/* 803F35A0 003E9320  83 BD 00 4C */	lwz r29, 0x4c(r29)
/* 803F35A4 003E9324  88 03 00 0C */	lbz r0, 0xc(r3)
/* 803F35A8 003E9328  2C 00 00 00 */	cmpwi r0, 0
/* 803F35AC 003E932C  41 82 00 0C */	beq lbl_803F35B8
/* 803F35B0 003E9330  4B FF FE 7D */	bl free
/* 803F35B4 003E9334  48 00 00 28 */	b lbl_803F35DC
lbl_803F35B8:
/* 803F35B8 003E9338  80 03 00 04 */	lwz r0, 4(r3)
/* 803F35BC 003E933C  53 C0 B1 D2 */	rlwimi r0, r30, 0x16, 7, 9
/* 803F35C0 003E9340  2C 1D 00 00 */	cmpwi r29, 0
/* 803F35C4 003E9344  90 03 00 04 */	stw r0, 4(r3)
/* 803F35C8 003E9348  41 82 00 14 */	beq lbl_803F35DC
/* 803F35CC 003E934C  88 1D 00 0C */	lbz r0, 0xc(r29)
/* 803F35D0 003E9350  2C 00 00 00 */	cmpwi r0, 0
/* 803F35D4 003E9354  41 82 00 08 */	beq lbl_803F35DC
/* 803F35D8 003E9358  93 E3 00 4C */	stw r31, 0x4c(r3)
lbl_803F35DC:
/* 803F35DC 003E935C  2C 1D 00 00 */	cmpwi r29, 0
/* 803F35E0 003E9360  40 82 FF A8 */	bne lbl_803F3588
/* 803F35E4 003E9364  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803F35E8 003E9368  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803F35EC 003E936C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803F35F0 003E9370  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803F35F4 003E9374  7C 08 03 A6 */	mtlr r0
/* 803F35F8 003E9378  38 21 00 20 */	addi r1, r1, 0x20
/* 803F35FC 003E937C  4E 80 00 20 */	blr 

.global __flush_line_buffered_output_files
__flush_line_buffered_output_files:
/* 803F3600 003E9380  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803F3604 003E9384  7C 08 02 A6 */	mflr r0
/* 803F3608 003E9388  90 01 00 14 */	stw r0, 0x14(r1)
/* 803F360C 003E938C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803F3610 003E9390  3B E0 00 00 */	li r31, 0
/* 803F3614 003E9394  93 C1 00 08 */	stw r30, 8(r1)
/* 803F3618 003E9398  3F C0 80 49 */	lis r30, lbl_80493E60@ha
/* 803F361C 003E939C  3B DE 3E 60 */	addi r30, r30, lbl_80493E60@l
/* 803F3620 003E93A0  48 00 00 40 */	b lbl_803F3660
lbl_803F3624:
/* 803F3624 003E93A4  80 7E 00 04 */	lwz r3, 4(r30)
/* 803F3628 003E93A8  54 60 57 7F */	rlwinm. r0, r3, 0xa, 0x1d, 0x1f
/* 803F362C 003E93AC  41 82 00 30 */	beq lbl_803F365C
/* 803F3630 003E93B0  54 60 3F FF */	rlwinm. r0, r3, 7, 0x1f, 0x1f
/* 803F3634 003E93B4  41 82 00 28 */	beq lbl_803F365C
/* 803F3638 003E93B8  80 1E 00 08 */	lwz r0, 8(r30)
/* 803F363C 003E93BC  54 00 1F 7E */	srwi r0, r0, 0x1d
/* 803F3640 003E93C0  28 00 00 01 */	cmplwi r0, 1
/* 803F3644 003E93C4  40 82 00 18 */	bne lbl_803F365C
/* 803F3648 003E93C8  7F C3 F3 78 */	mr r3, r30
/* 803F364C 003E93CC  48 00 23 09 */	bl fflush
/* 803F3650 003E93D0  2C 03 00 00 */	cmpwi r3, 0
/* 803F3654 003E93D4  41 82 00 08 */	beq lbl_803F365C
/* 803F3658 003E93D8  3B E0 FF FF */	li r31, -1
lbl_803F365C:
/* 803F365C 003E93DC  83 DE 00 4C */	lwz r30, 0x4c(r30)
lbl_803F3660:
/* 803F3660 003E93E0  2C 1E 00 00 */	cmpwi r30, 0
/* 803F3664 003E93E4  40 82 FF C0 */	bne lbl_803F3624
/* 803F3668 003E93E8  7F E3 FB 78 */	mr r3, r31
/* 803F366C 003E93EC  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803F3670 003E93F0  83 C1 00 08 */	lwz r30, 8(r1)
/* 803F3674 003E93F4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803F3678 003E93F8  7C 08 03 A6 */	mtlr r0
/* 803F367C 003E93FC  38 21 00 10 */	addi r1, r1, 0x10
/* 803F3680 003E9400  4E 80 00 20 */	blr 

.global __flush_all
__flush_all:
/* 803F3684 003E9404  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803F3688 003E9408  7C 08 02 A6 */	mflr r0
/* 803F368C 003E940C  90 01 00 14 */	stw r0, 0x14(r1)
/* 803F3690 003E9410  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803F3694 003E9414  3B E0 00 00 */	li r31, 0
/* 803F3698 003E9418  93 C1 00 08 */	stw r30, 8(r1)
/* 803F369C 003E941C  3F C0 80 49 */	lis r30, lbl_80493E60@ha
/* 803F36A0 003E9420  3B DE 3E 60 */	addi r30, r30, lbl_80493E60@l
/* 803F36A4 003E9424  48 00 00 28 */	b lbl_803F36CC
lbl_803F36A8:
/* 803F36A8 003E9428  80 1E 00 04 */	lwz r0, 4(r30)
/* 803F36AC 003E942C  54 00 57 7F */	rlwinm. r0, r0, 0xa, 0x1d, 0x1f
/* 803F36B0 003E9430  41 82 00 18 */	beq lbl_803F36C8
/* 803F36B4 003E9434  7F C3 F3 78 */	mr r3, r30
/* 803F36B8 003E9438  48 00 22 9D */	bl fflush
/* 803F36BC 003E943C  2C 03 00 00 */	cmpwi r3, 0
/* 803F36C0 003E9440  41 82 00 08 */	beq lbl_803F36C8
/* 803F36C4 003E9444  3B E0 FF FF */	li r31, -1
lbl_803F36C8:
/* 803F36C8 003E9448  83 DE 00 4C */	lwz r30, 0x4c(r30)
lbl_803F36CC:
/* 803F36CC 003E944C  2C 1E 00 00 */	cmpwi r30, 0
/* 803F36D0 003E9450  40 82 FF D8 */	bne lbl_803F36A8
/* 803F36D4 003E9454  7F E3 FB 78 */	mr r3, r31
/* 803F36D8 003E9458  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803F36DC 003E945C  83 C1 00 08 */	lwz r30, 8(r1)
/* 803F36E0 003E9460  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803F36E4 003E9464  7C 08 03 A6 */	mtlr r0
/* 803F36E8 003E9468  38 21 00 10 */	addi r1, r1, 0x10
/* 803F36EC 003E946C  4E 80 00 20 */	blr 

