.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global NWC24ReadFriendInfo
NWC24ReadFriendInfo:
/* 803A19D8 00397758  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803A19DC 0039775C  7C 08 02 A6 */	mflr r0
/* 803A19E0 00397760  90 01 00 24 */	stw r0, 0x24(r1)
/* 803A19E4 00397764  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803A19E8 00397768  7C 9F 23 78 */	mr r31, r4
/* 803A19EC 0039776C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803A19F0 00397770  7C 7E 1B 78 */	mr r30, r3
/* 803A19F4 00397774  48 00 02 E9 */	bl NWC24iReadFriendInfoRaw
/* 803A19F8 00397778  2C 03 00 00 */	cmpwi r3, 0
/* 803A19FC 0039777C  41 82 00 08 */	beq lbl_803A1A04
/* 803A1A00 00397780  48 00 00 64 */	b lbl_803A1A64
lbl_803A1A04:
/* 803A1A04 00397784  80 1E 00 00 */	lwz r0, 0(r30)
/* 803A1A08 00397788  28 00 00 01 */	cmplwi r0, 1
/* 803A1A0C 0039778C  40 82 00 14 */	bne lbl_803A1A20
/* 803A1A10 00397790  38 7E 00 48 */	addi r3, r30, 0x48
/* 803A1A14 00397794  38 80 00 00 */	li r4, 0
/* 803A1A18 00397798  38 A0 00 F8 */	li r5, 0xf8
/* 803A1A1C 0039779C  4B FF 5D 2D */	bl Mail_memset
lbl_803A1A20:
/* 803A1A20 003977A0  38 61 00 08 */	addi r3, r1, 8
/* 803A1A24 003977A4  48 00 03 D1 */	bl GetCachedFLHeader
/* 803A1A28 003977A8  2C 03 00 00 */	cmpwi r3, 0
/* 803A1A2C 003977AC  41 82 00 08 */	beq lbl_803A1A34
/* 803A1A30 003977B0  48 00 00 20 */	b lbl_803A1A50
lbl_803A1A34:
/* 803A1A34 003977B4  80 81 00 08 */	lwz r4, 8(r1)
/* 803A1A38 003977B8  57 E3 E8 FA */	rlwinm r3, r31, 0x1d, 3, 0x1d
/* 803A1A3C 003977BC  57 E0 06 FE */	clrlwi r0, r31, 0x1b
/* 803A1A40 003977C0  7C 64 1A 14 */	add r3, r4, r3
/* 803A1A44 003977C4  80 63 00 10 */	lwz r3, 0x10(r3)
/* 803A1A48 003977C8  7C 60 04 30 */	srw r0, r3, r0
/* 803A1A4C 003977CC  54 03 07 FE */	clrlwi r3, r0, 0x1f
lbl_803A1A50:
/* 803A1A50 003977D0  2C 03 00 01 */	cmpwi r3, 1
/* 803A1A54 003977D4  40 82 00 0C */	bne lbl_803A1A60
/* 803A1A58 003977D8  38 00 00 02 */	li r0, 2
/* 803A1A5C 003977DC  90 1E 00 04 */	stw r0, 4(r30)
lbl_803A1A60:
/* 803A1A60 003977E0  38 60 00 00 */	li r3, 0
lbl_803A1A64:
/* 803A1A64 003977E4  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803A1A68 003977E8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803A1A6C 003977EC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803A1A70 003977F0  7C 08 03 A6 */	mtlr r0
/* 803A1A74 003977F4  38 21 00 20 */	addi r1, r1, 0x20
/* 803A1A78 003977F8  4E 80 00 20 */	blr 

.global NWC24GetNumFriendInfos
NWC24GetNumFriendInfos:
/* 803A1A7C 003977FC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803A1A80 00397800  7C 08 02 A6 */	mflr r0
/* 803A1A84 00397804  90 01 00 24 */	stw r0, 0x24(r1)
/* 803A1A88 00397808  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803A1A8C 0039780C  7C 7F 1B 78 */	mr r31, r3
/* 803A1A90 00397810  4B FF 87 D1 */	bl NWC24IsMsgLibOpened
/* 803A1A94 00397814  2C 03 00 00 */	cmpwi r3, 0
/* 803A1A98 00397818  40 82 00 18 */	bne lbl_803A1AB0
/* 803A1A9C 0039781C  4B FF 87 D9 */	bl NWC24IsMsgLibOpenedByTool
/* 803A1AA0 00397820  2C 03 00 00 */	cmpwi r3, 0
/* 803A1AA4 00397824  40 82 00 0C */	bne lbl_803A1AB0
/* 803A1AA8 00397828  38 60 FF F7 */	li r3, -9
/* 803A1AAC 0039782C  48 00 00 28 */	b lbl_803A1AD4
lbl_803A1AB0:
/* 803A1AB0 00397830  38 61 00 08 */	addi r3, r1, 8
/* 803A1AB4 00397834  48 00 03 41 */	bl GetCachedFLHeader
/* 803A1AB8 00397838  2C 03 00 00 */	cmpwi r3, 0
/* 803A1ABC 0039783C  41 82 00 08 */	beq lbl_803A1AC4
/* 803A1AC0 00397840  48 00 00 14 */	b lbl_803A1AD4
lbl_803A1AC4:
/* 803A1AC4 00397844  80 81 00 08 */	lwz r4, 8(r1)
/* 803A1AC8 00397848  38 60 00 00 */	li r3, 0
/* 803A1ACC 0039784C  80 04 00 08 */	lwz r0, 8(r4)
/* 803A1AD0 00397850  90 1F 00 00 */	stw r0, 0(r31)
lbl_803A1AD4:
/* 803A1AD4 00397854  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803A1AD8 00397858  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803A1ADC 0039785C  7C 08 03 A6 */	mtlr r0
/* 803A1AE0 00397860  38 21 00 20 */	addi r1, r1, 0x20
/* 803A1AE4 00397864  4E 80 00 20 */	blr 

.global NWC24GetNumEstFriendInfos
NWC24GetNumEstFriendInfos:
/* 803A1AE8 00397868  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803A1AEC 0039786C  7C 08 02 A6 */	mflr r0
/* 803A1AF0 00397870  90 01 00 24 */	stw r0, 0x24(r1)
/* 803A1AF4 00397874  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803A1AF8 00397878  3B E0 00 00 */	li r31, 0
/* 803A1AFC 0039787C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803A1B00 00397880  7C 7E 1B 78 */	mr r30, r3
/* 803A1B04 00397884  4B FF 87 5D */	bl NWC24IsMsgLibOpened
/* 803A1B08 00397888  2C 03 00 00 */	cmpwi r3, 0
/* 803A1B0C 0039788C  40 82 00 18 */	bne lbl_803A1B24
/* 803A1B10 00397890  4B FF 87 65 */	bl NWC24IsMsgLibOpenedByTool
/* 803A1B14 00397894  2C 03 00 00 */	cmpwi r3, 0
/* 803A1B18 00397898  40 82 00 0C */	bne lbl_803A1B24
/* 803A1B1C 0039789C  38 60 FF F7 */	li r3, -9
/* 803A1B20 003978A0  48 00 00 D8 */	b lbl_803A1BF8
lbl_803A1B24:
/* 803A1B24 003978A4  38 00 00 00 */	li r0, 0
/* 803A1B28 003978A8  38 61 00 08 */	addi r3, r1, 8
/* 803A1B2C 003978AC  90 1E 00 00 */	stw r0, 0(r30)
/* 803A1B30 003978B0  48 00 02 C5 */	bl GetCachedFLHeader
/* 803A1B34 003978B4  2C 03 00 00 */	cmpwi r3, 0
/* 803A1B38 003978B8  41 82 00 08 */	beq lbl_803A1B40
/* 803A1B3C 003978BC  48 00 00 BC */	b lbl_803A1BF8
lbl_803A1B40:
/* 803A1B40 003978C0  80 81 00 08 */	lwz r4, 8(r1)
/* 803A1B44 003978C4  38 A0 00 00 */	li r5, 0
/* 803A1B48 003978C8  38 00 00 04 */	li r0, 4
lbl_803A1B4C:
/* 803A1B4C 003978CC  80 E4 00 10 */	lwz r7, 0x10(r4)
/* 803A1B50 003978D0  38 C0 00 00 */	li r6, 0
/* 803A1B54 003978D4  7C 09 03 A6 */	mtctr r0
lbl_803A1B58:
/* 803A1B58 003978D8  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1B5C 003978DC  41 82 00 08 */	beq lbl_803A1B64
/* 803A1B60 003978E0  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1B64:
/* 803A1B64 003978E4  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1B68 003978E8  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1B6C 003978EC  41 82 00 08 */	beq lbl_803A1B74
/* 803A1B70 003978F0  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1B74:
/* 803A1B74 003978F4  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1B78 003978F8  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1B7C 003978FC  41 82 00 08 */	beq lbl_803A1B84
/* 803A1B80 00397900  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1B84:
/* 803A1B84 00397904  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1B88 00397908  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1B8C 0039790C  41 82 00 08 */	beq lbl_803A1B94
/* 803A1B90 00397910  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1B94:
/* 803A1B94 00397914  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1B98 00397918  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1B9C 0039791C  41 82 00 08 */	beq lbl_803A1BA4
/* 803A1BA0 00397920  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1BA4:
/* 803A1BA4 00397924  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1BA8 00397928  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1BAC 0039792C  41 82 00 08 */	beq lbl_803A1BB4
/* 803A1BB0 00397930  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1BB4:
/* 803A1BB4 00397934  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1BB8 00397938  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1BBC 0039793C  41 82 00 08 */	beq lbl_803A1BC4
/* 803A1BC0 00397940  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1BC4:
/* 803A1BC4 00397944  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1BC8 00397948  54 E3 07 FF */	clrlwi. r3, r7, 0x1f
/* 803A1BCC 0039794C  41 82 00 08 */	beq lbl_803A1BD4
/* 803A1BD0 00397950  3B FF 00 01 */	addi r31, r31, 1
lbl_803A1BD4:
/* 803A1BD4 00397954  54 E7 F8 7E */	srwi r7, r7, 1
/* 803A1BD8 00397958  38 C6 00 07 */	addi r6, r6, 7
/* 803A1BDC 0039795C  42 00 FF 7C */	bdnz lbl_803A1B58
/* 803A1BE0 00397960  38 A5 00 01 */	addi r5, r5, 1
/* 803A1BE4 00397964  38 84 00 04 */	addi r4, r4, 4
/* 803A1BE8 00397968  28 05 00 04 */	cmplwi r5, 4
/* 803A1BEC 0039796C  41 80 FF 60 */	blt lbl_803A1B4C
/* 803A1BF0 00397970  93 FE 00 00 */	stw r31, 0(r30)
/* 803A1BF4 00397974  38 60 00 00 */	li r3, 0
lbl_803A1BF8:
/* 803A1BF8 00397978  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803A1BFC 0039797C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803A1C00 00397980  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803A1C04 00397984  7C 08 03 A6 */	mtlr r0
/* 803A1C08 00397988  38 21 00 20 */	addi r1, r1, 0x20
/* 803A1C0C 0039798C  4E 80 00 20 */	blr 

.global NWC24IsFriendInfoThere
NWC24IsFriendInfoThere:
/* 803A1C10 00397990  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803A1C14 00397994  7C 08 02 A6 */	mflr r0
/* 803A1C18 00397998  90 01 00 24 */	stw r0, 0x24(r1)
/* 803A1C1C 0039799C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803A1C20 003979A0  7C 7F 1B 78 */	mr r31, r3
/* 803A1C24 003979A4  4B FF 86 3D */	bl NWC24IsMsgLibOpened
/* 803A1C28 003979A8  2C 03 00 00 */	cmpwi r3, 0
/* 803A1C2C 003979AC  40 82 00 18 */	bne lbl_803A1C44
/* 803A1C30 003979B0  4B FF 86 45 */	bl NWC24IsMsgLibOpenedByTool
/* 803A1C34 003979B4  2C 03 00 00 */	cmpwi r3, 0
/* 803A1C38 003979B8  40 82 00 0C */	bne lbl_803A1C44
/* 803A1C3C 003979BC  38 60 FF F7 */	li r3, -9
/* 803A1C40 003979C0  48 00 00 4C */	b lbl_803A1C8C
lbl_803A1C44:
/* 803A1C44 003979C4  38 61 00 08 */	addi r3, r1, 8
/* 803A1C48 003979C8  48 00 01 AD */	bl GetCachedFLHeader
/* 803A1C4C 003979CC  2C 03 00 00 */	cmpwi r3, 0
/* 803A1C50 003979D0  41 82 00 08 */	beq lbl_803A1C58
/* 803A1C54 003979D4  48 00 00 38 */	b lbl_803A1C8C
lbl_803A1C58:
/* 803A1C58 003979D8  80 61 00 08 */	lwz r3, 8(r1)
/* 803A1C5C 003979DC  80 03 00 08 */	lwz r0, 8(r3)
/* 803A1C60 003979E0  7C 1F 00 40 */	cmplw r31, r0
/* 803A1C64 003979E4  41 80 00 0C */	blt lbl_803A1C70
/* 803A1C68 003979E8  38 60 FF FD */	li r3, -3
/* 803A1C6C 003979EC  48 00 00 20 */	b lbl_803A1C8C
lbl_803A1C70:
/* 803A1C70 003979F0  57 E0 18 38 */	slwi r0, r31, 3
/* 803A1C74 003979F4  7C 63 02 14 */	add r3, r3, r0
/* 803A1C78 003979F8  80 03 00 40 */	lwz r0, 0x40(r3)
/* 803A1C7C 003979FC  80 63 00 44 */	lwz r3, 0x44(r3)
/* 803A1C80 00397A00  7C 60 03 78 */	or r0, r3, r0
/* 803A1C84 00397A04  30 60 FF FF */	addic r3, r0, -1
/* 803A1C88 00397A08  7C 63 01 10 */	subfe r3, r3, r0
lbl_803A1C8C:
/* 803A1C8C 00397A0C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803A1C90 00397A10  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803A1C94 00397A14  7C 08 03 A6 */	mtlr r0
/* 803A1C98 00397A18  38 21 00 20 */	addi r1, r1, 0x20
/* 803A1C9C 00397A1C  4E 80 00 20 */	blr 

.global NWC24iOpenFriendList
NWC24iOpenFriendList:
/* 803A1CA0 00397A20  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803A1CA4 00397A24  7C 08 02 A6 */	mflr r0
/* 803A1CA8 00397A28  38 80 00 00 */	li r4, 0
/* 803A1CAC 00397A2C  38 A0 03 60 */	li r5, 0x360
/* 803A1CB0 00397A30  90 01 00 14 */	stw r0, 0x14(r1)
/* 803A1CB4 00397A34  80 6D CD 50 */	lwz r3, lbl_805A1170-_SDA_BASE_(r13)
/* 803A1CB8 00397A38  38 63 2A 00 */	addi r3, r3, 0x2a00
/* 803A1CBC 00397A3C  90 61 00 08 */	stw r3, 8(r1)
/* 803A1CC0 00397A40  4B FF 5A 89 */	bl Mail_memset
/* 803A1CC4 00397A44  38 61 00 08 */	addi r3, r1, 8
/* 803A1CC8 00397A48  48 00 01 2D */	bl GetCachedFLHeader
/* 803A1CCC 00397A4C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803A1CD0 00397A50  7C 08 03 A6 */	mtlr r0
/* 803A1CD4 00397A54  38 21 00 10 */	addi r1, r1, 0x10
/* 803A1CD8 00397A58  4E 80 00 20 */	blr 

.global NWC24iReadFriendInfoRaw
NWC24iReadFriendInfoRaw:
/* 803A1CDC 00397A5C  94 21 FF 50 */	stwu r1, -0xb0(r1)
/* 803A1CE0 00397A60  7C 08 02 A6 */	mflr r0
/* 803A1CE4 00397A64  90 01 00 B4 */	stw r0, 0xb4(r1)
/* 803A1CE8 00397A68  93 E1 00 AC */	stw r31, 0xac(r1)
/* 803A1CEC 00397A6C  7C 9F 23 78 */	mr r31, r4
/* 803A1CF0 00397A70  93 C1 00 A8 */	stw r30, 0xa8(r1)
/* 803A1CF4 00397A74  7C 7E 1B 78 */	mr r30, r3
/* 803A1CF8 00397A78  4B FF 85 69 */	bl NWC24IsMsgLibOpened
/* 803A1CFC 00397A7C  2C 03 00 00 */	cmpwi r3, 0
/* 803A1D00 00397A80  40 82 00 18 */	bne lbl_803A1D18
/* 803A1D04 00397A84  4B FF 85 71 */	bl NWC24IsMsgLibOpenedByTool
/* 803A1D08 00397A88  2C 03 00 00 */	cmpwi r3, 0
/* 803A1D0C 00397A8C  40 82 00 0C */	bne lbl_803A1D18
/* 803A1D10 00397A90  38 60 FF F7 */	li r3, -9
/* 803A1D14 00397A94  48 00 00 C8 */	b lbl_803A1DDC
lbl_803A1D18:
/* 803A1D18 00397A98  57 C0 06 FF */	clrlwi. r0, r30, 0x1b
/* 803A1D1C 00397A9C  41 82 00 0C */	beq lbl_803A1D28
/* 803A1D20 00397AA0  38 60 FF E9 */	li r3, -23
/* 803A1D24 00397AA4  48 00 00 B8 */	b lbl_803A1DDC
lbl_803A1D28:
/* 803A1D28 00397AA8  38 61 00 08 */	addi r3, r1, 8
/* 803A1D2C 00397AAC  48 00 00 C9 */	bl GetCachedFLHeader
/* 803A1D30 00397AB0  2C 03 00 00 */	cmpwi r3, 0
/* 803A1D34 00397AB4  41 82 00 08 */	beq lbl_803A1D3C
/* 803A1D38 00397AB8  48 00 00 A4 */	b lbl_803A1DDC
lbl_803A1D3C:
/* 803A1D3C 00397ABC  80 61 00 08 */	lwz r3, 8(r1)
/* 803A1D40 00397AC0  80 03 00 08 */	lwz r0, 8(r3)
/* 803A1D44 00397AC4  7C 1F 00 40 */	cmplw r31, r0
/* 803A1D48 00397AC8  41 80 00 0C */	blt lbl_803A1D54
/* 803A1D4C 00397ACC  38 60 FF FD */	li r3, -3
/* 803A1D50 00397AD0  48 00 00 8C */	b lbl_803A1DDC
lbl_803A1D54:
/* 803A1D54 00397AD4  57 E0 18 38 */	slwi r0, r31, 3
/* 803A1D58 00397AD8  7C 63 02 14 */	add r3, r3, r0
/* 803A1D5C 00397ADC  80 03 00 40 */	lwz r0, 0x40(r3)
/* 803A1D60 00397AE0  80 63 00 44 */	lwz r3, 0x44(r3)
/* 803A1D64 00397AE4  7C 60 03 79 */	or. r0, r3, r0
/* 803A1D68 00397AE8  40 82 00 0C */	bne lbl_803A1D74
/* 803A1D6C 00397AEC  38 60 FF FB */	li r3, -5
/* 803A1D70 00397AF0  48 00 00 6C */	b lbl_803A1DDC
lbl_803A1D74:
/* 803A1D74 00397AF4  80 8D B9 B8 */	lwz r4, lbl_8059FDD8-_SDA_BASE_(r13)
/* 803A1D78 00397AF8  38 61 00 0C */	addi r3, r1, 0xc
/* 803A1D7C 00397AFC  38 A0 00 0A */	li r5, 0xa
/* 803A1D80 00397B00  4B FF 65 AD */	bl NWC24FOpen
/* 803A1D84 00397B04  2C 03 00 00 */	cmpwi r3, 0
/* 803A1D88 00397B08  41 82 00 08 */	beq lbl_803A1D90
/* 803A1D8C 00397B0C  48 00 00 50 */	b lbl_803A1DDC
lbl_803A1D90:
/* 803A1D90 00397B10  1C 9F 01 40 */	mulli r4, r31, 0x140
/* 803A1D94 00397B14  38 61 00 0C */	addi r3, r1, 0xc
/* 803A1D98 00397B18  38 A0 00 00 */	li r5, 0
/* 803A1D9C 00397B1C  38 84 03 60 */	addi r4, r4, 0x360
/* 803A1DA0 00397B20  4B FF 6A 79 */	bl NWC24FSeek
/* 803A1DA4 00397B24  7F C3 F3 78 */	mr r3, r30
/* 803A1DA8 00397B28  38 A1 00 0C */	addi r5, r1, 0xc
/* 803A1DAC 00397B2C  38 80 01 40 */	li r4, 0x140
/* 803A1DB0 00397B30  4B FF 6C 59 */	bl NWC24FRead
/* 803A1DB4 00397B34  7C 7F 1B 78 */	mr r31, r3
/* 803A1DB8 00397B38  38 61 00 0C */	addi r3, r1, 0xc
/* 803A1DBC 00397B3C  4B FF 68 C5 */	bl NWC24FClose
/* 803A1DC0 00397B40  2C 1F 00 00 */	cmpwi r31, 0
/* 803A1DC4 00397B44  41 82 00 08 */	beq lbl_803A1DCC
/* 803A1DC8 00397B48  7F E3 FB 78 */	mr r3, r31
lbl_803A1DCC:
/* 803A1DCC 00397B4C  2C 03 00 00 */	cmpwi r3, 0
/* 803A1DD0 00397B50  41 82 00 08 */	beq lbl_803A1DD8
/* 803A1DD4 00397B54  48 00 00 08 */	b lbl_803A1DDC
lbl_803A1DD8:
/* 803A1DD8 00397B58  38 60 00 00 */	li r3, 0
lbl_803A1DDC:
/* 803A1DDC 00397B5C  80 01 00 B4 */	lwz r0, 0xb4(r1)
/* 803A1DE0 00397B60  83 E1 00 AC */	lwz r31, 0xac(r1)
/* 803A1DE4 00397B64  83 C1 00 A8 */	lwz r30, 0xa8(r1)
/* 803A1DE8 00397B68  7C 08 03 A6 */	mtlr r0
/* 803A1DEC 00397B6C  38 21 00 B0 */	addi r1, r1, 0xb0
/* 803A1DF0 00397B70  4E 80 00 20 */	blr 

.global GetCachedFLHeader
GetCachedFLHeader:
/* 803A1DF4 00397B74  94 21 FF 50 */	stwu r1, -0xb0(r1)
/* 803A1DF8 00397B78  7C 08 02 A6 */	mflr r0
/* 803A1DFC 00397B7C  90 01 00 B4 */	stw r0, 0xb4(r1)
/* 803A1E00 00397B80  93 E1 00 AC */	stw r31, 0xac(r1)
/* 803A1E04 00397B84  93 C1 00 A8 */	stw r30, 0xa8(r1)
/* 803A1E08 00397B88  7C 7E 1B 78 */	mr r30, r3
/* 803A1E0C 00397B8C  80 8D CD 50 */	lwz r4, lbl_805A1170-_SDA_BASE_(r13)
/* 803A1E10 00397B90  38 84 2A 00 */	addi r4, r4, 0x2a00
/* 803A1E14 00397B94  90 83 00 00 */	stw r4, 0(r3)
/* 803A1E18 00397B98  80 64 00 00 */	lwz r3, 0(r4)
/* 803A1E1C 00397B9C  3C 03 A8 9D */	addis r0, r3, 0xa89d
/* 803A1E20 00397BA0  28 00 46 6C */	cmplwi r0, 0x466c
/* 803A1E24 00397BA4  41 82 00 94 */	beq lbl_803A1EB8
/* 803A1E28 00397BA8  80 8D B9 B8 */	lwz r4, lbl_8059FDD8-_SDA_BASE_(r13)
/* 803A1E2C 00397BAC  38 61 00 08 */	addi r3, r1, 8
/* 803A1E30 00397BB0  38 A0 00 02 */	li r5, 2
/* 803A1E34 00397BB4  4B FF 64 F9 */	bl NWC24FOpen
/* 803A1E38 00397BB8  2C 03 00 00 */	cmpwi r3, 0
/* 803A1E3C 00397BBC  41 82 00 08 */	beq lbl_803A1E44
/* 803A1E40 00397BC0  48 00 00 7C */	b lbl_803A1EBC
lbl_803A1E44:
/* 803A1E44 00397BC4  38 61 00 08 */	addi r3, r1, 8
/* 803A1E48 00397BC8  38 80 00 00 */	li r4, 0
/* 803A1E4C 00397BCC  38 A0 00 00 */	li r5, 0
/* 803A1E50 00397BD0  4B FF 69 C9 */	bl NWC24FSeek
/* 803A1E54 00397BD4  80 7E 00 00 */	lwz r3, 0(r30)
/* 803A1E58 00397BD8  38 A1 00 08 */	addi r5, r1, 8
/* 803A1E5C 00397BDC  38 80 03 60 */	li r4, 0x360
/* 803A1E60 00397BE0  4B FF 6B A9 */	bl NWC24FRead
/* 803A1E64 00397BE4  7C 7F 1B 78 */	mr r31, r3
/* 803A1E68 00397BE8  38 61 00 08 */	addi r3, r1, 8
/* 803A1E6C 00397BEC  4B FF 68 15 */	bl NWC24FClose
/* 803A1E70 00397BF0  2C 1F 00 00 */	cmpwi r31, 0
/* 803A1E74 00397BF4  41 82 00 08 */	beq lbl_803A1E7C
/* 803A1E78 00397BF8  7F E3 FB 78 */	mr r3, r31
lbl_803A1E7C:
/* 803A1E7C 00397BFC  2C 03 00 00 */	cmpwi r3, 0
/* 803A1E80 00397C00  41 82 00 08 */	beq lbl_803A1E88
/* 803A1E84 00397C04  48 00 00 38 */	b lbl_803A1EBC
lbl_803A1E88:
/* 803A1E88 00397C08  80 9E 00 00 */	lwz r4, 0(r30)
/* 803A1E8C 00397C0C  80 64 00 00 */	lwz r3, 0(r4)
/* 803A1E90 00397C10  3C 03 A8 9D */	addis r0, r3, 0xa89d
/* 803A1E94 00397C14  28 00 46 6C */	cmplwi r0, 0x466c
/* 803A1E98 00397C18  41 82 00 0C */	beq lbl_803A1EA4
/* 803A1E9C 00397C1C  38 60 FF F2 */	li r3, -14
/* 803A1EA0 00397C20  48 00 00 1C */	b lbl_803A1EBC
lbl_803A1EA4:
/* 803A1EA4 00397C24  80 04 00 04 */	lwz r0, 4(r4)
/* 803A1EA8 00397C28  28 00 00 02 */	cmplwi r0, 2
/* 803A1EAC 00397C2C  41 82 00 0C */	beq lbl_803A1EB8
/* 803A1EB0 00397C30  38 60 FF E5 */	li r3, -27
/* 803A1EB4 00397C34  48 00 00 08 */	b lbl_803A1EBC
lbl_803A1EB8:
/* 803A1EB8 00397C38  38 60 00 00 */	li r3, 0
lbl_803A1EBC:
/* 803A1EBC 00397C3C  80 01 00 B4 */	lwz r0, 0xb4(r1)
/* 803A1EC0 00397C40  83 E1 00 AC */	lwz r31, 0xac(r1)
/* 803A1EC4 00397C44  83 C1 00 A8 */	lwz r30, 0xa8(r1)
/* 803A1EC8 00397C48  7C 08 03 A6 */	mtlr r0
/* 803A1ECC 00397C4C  38 21 00 B0 */	addi r1, r1, 0xb0
/* 803A1ED0 00397C50  4E 80 00 20 */	blr 

