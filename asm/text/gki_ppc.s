.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global GKI_init
GKI_init:
/* 80230314 00226094  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80230318 00226098  7C 08 02 A6 */	mflr r0
/* 8023031C 0022609C  3C A0 00 03 */	lis r5, 0x00028AE0@ha
/* 80230320 002260A0  38 80 00 00 */	li r4, 0
/* 80230324 002260A4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80230328 002260A8  38 A5 8A E0 */	addi r5, r5, 0x00028AE0@l
/* 8023032C 002260AC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80230330 002260B0  93 C1 00 08 */	stw r30, 8(r1)
/* 80230334 002260B4  3F C0 80 50 */	lis r30, lbl_804FD448@ha
/* 80230338 002260B8  38 7E D4 48 */	addi r3, r30, lbl_804FD448@l
/* 8023033C 002260BC  4B DD 41 01 */	bl func_8000443C
/* 80230340 002260C0  4B FF E8 59 */	bl gki_buffer_init
/* 80230344 002260C4  4B FF FA 79 */	bl gki_timers_init
/* 80230348 002260C8  3B FE D4 48 */	addi r31, r30, -11192
/* 8023034C 002260CC  38 80 00 01 */	li r4, 1
/* 80230350 002260D0  3C 7F 00 03 */	addis r3, r31, 3
/* 80230354 002260D4  38 00 00 00 */	li r0, 0
/* 80230358 002260D8  98 83 88 02 */	stb r4, -0x77fe(r3)
/* 8023035C 002260DC  90 03 87 E8 */	stw r0, -0x7818(r3)
/* 80230360 002260E0  90 03 88 48 */	stw r0, -0x77b8(r3)
/* 80230364 002260E4  B0 03 88 0C */	sth r0, -0x77f4(r3)
/* 80230368 002260E8  98 1E D4 48 */	stb r0, -0x2bb8(r30)
/* 8023036C 002260EC  4B FA CB B9 */	bl OSEnableInterrupts
/* 80230370 002260F0  88 1E D4 48 */	lbz r0, -0x2bb8(r30)
/* 80230374 002260F4  54 00 10 3A */	slwi r0, r0, 2
/* 80230378 002260F8  7C 9F 02 14 */	add r4, r31, r0
/* 8023037C 002260FC  90 64 00 04 */	stw r3, 4(r4)
/* 80230380 00226100  88 7E D4 48 */	lbz r3, -0x2bb8(r30)
/* 80230384 00226104  38 03 00 01 */	addi r0, r3, 1
/* 80230388 00226108  98 1E D4 48 */	stb r0, -0x2bb8(r30)
/* 8023038C 0022610C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80230390 00226110  83 C1 00 08 */	lwz r30, 8(r1)
/* 80230394 00226114  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80230398 00226118  7C 08 03 A6 */	mtlr r0
/* 8023039C 0022611C  38 21 00 10 */	addi r1, r1, 0x10
/* 802303A0 00226120  4E 80 00 20 */	blr 

.global GKI_shutdown
GKI_shutdown:
/* 802303A4 00226124  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 802303A8 00226128  7C 08 02 A6 */	mflr r0
/* 802303AC 0022612C  90 01 00 14 */	stw r0, 0x14(r1)
/* 802303B0 00226130  93 E1 00 0C */	stw r31, 0xc(r1)
/* 802303B4 00226134  93 C1 00 08 */	stw r30, 8(r1)
/* 802303B8 00226138  4B FA CB 59 */	bl OSDisableInterrupts
/* 802303BC 0022613C  3F C0 80 50 */	lis r30, lbl_804FD448@ha
/* 802303C0 00226140  38 00 00 00 */	li r0, 0
/* 802303C4 00226144  88 BE D4 48 */	lbz r5, lbl_804FD448@l(r30)
/* 802303C8 00226148  3B FE D4 48 */	addi r31, r30, -11192
/* 802303CC 0022614C  3C 9F 00 03 */	addis r4, r31, 3
/* 802303D0 00226150  54 A5 10 3A */	slwi r5, r5, 2
/* 802303D4 00226154  7C BF 2A 14 */	add r5, r31, r5
/* 802303D8 00226158  90 65 00 04 */	stw r3, 4(r5)
/* 802303DC 0022615C  88 7E D4 48 */	lbz r3, -0x2bb8(r30)
/* 802303E0 00226160  38 63 00 01 */	addi r3, r3, 1
/* 802303E4 00226164  98 7E D4 48 */	stb r3, -0x2bb8(r30)
/* 802303E8 00226168  98 04 88 02 */	stb r0, -0x77fe(r4)
/* 802303EC 0022616C  88 7E D4 48 */	lbz r3, -0x2bb8(r30)
/* 802303F0 00226170  38 63 FF FF */	addi r3, r3, -1
/* 802303F4 00226174  54 60 15 BA */	rlwinm r0, r3, 2, 0x16, 0x1d
/* 802303F8 00226178  98 7E D4 48 */	stb r3, -0x2bb8(r30)
/* 802303FC 0022617C  7C 7F 02 14 */	add r3, r31, r0
/* 80230400 00226180  80 63 00 04 */	lwz r3, 4(r3)
/* 80230404 00226184  4B FA CB 35 */	bl OSRestoreInterrupts
/* 80230408 00226188  48 00 00 20 */	b lbl_80230428
lbl_8023040C:
/* 8023040C 0022618C  88 7E D4 48 */	lbz r3, -0x2bb8(r30)
/* 80230410 00226190  38 63 FF FF */	addi r3, r3, -1
/* 80230414 00226194  54 60 15 BA */	rlwinm r0, r3, 2, 0x16, 0x1d
/* 80230418 00226198  98 7E D4 48 */	stb r3, -0x2bb8(r30)
/* 8023041C 0022619C  7C 7F 02 14 */	add r3, r31, r0
/* 80230420 002261A0  80 63 00 04 */	lwz r3, 4(r3)
/* 80230424 002261A4  4B FA CB 15 */	bl OSRestoreInterrupts
lbl_80230428:
/* 80230428 002261A8  88 1E D4 48 */	lbz r0, -0x2bb8(r30)
/* 8023042C 002261AC  2C 00 00 00 */	cmpwi r0, 0
/* 80230430 002261B0  40 82 FF DC */	bne lbl_8023040C
/* 80230434 002261B4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80230438 002261B8  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8023043C 002261BC  83 C1 00 08 */	lwz r30, 8(r1)
/* 80230440 002261C0  7C 08 03 A6 */	mtlr r0
/* 80230444 002261C4  38 21 00 10 */	addi r1, r1, 0x10
/* 80230448 002261C8  4E 80 00 20 */	blr 

.global GKI_run
GKI_run:
/* 8023044C 002261CC  4E 80 00 20 */	blr 

.global GKI_sched_lock
GKI_sched_lock:
/* 80230450 002261D0  4E 80 00 20 */	blr 

.global GKI_sched_unlock
GKI_sched_unlock:
/* 80230454 002261D4  4E 80 00 20 */	blr 

.global GKI_delay
GKI_delay:
/* 80230458 002261D8  4E 80 00 20 */	blr 

.global GKI_send_event
GKI_send_event:
/* 8023045C 002261DC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80230460 002261E0  7C 08 02 A6 */	mflr r0
/* 80230464 002261E4  28 03 00 08 */	cmplwi r3, 8
/* 80230468 002261E8  90 01 00 14 */	stw r0, 0x14(r1)
/* 8023046C 002261EC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80230470 002261F0  7C 9F 23 78 */	mr r31, r4
/* 80230474 002261F4  93 C1 00 08 */	stw r30, 8(r1)
/* 80230478 002261F8  7C 7E 1B 78 */	mr r30, r3
/* 8023047C 002261FC  41 80 00 0C */	blt lbl_80230488
/* 80230480 00226200  38 60 00 01 */	li r3, 1
/* 80230484 00226204  48 00 00 64 */	b lbl_802304E8
lbl_80230488:
/* 80230488 00226208  4B FA CA 89 */	bl OSDisableInterrupts
/* 8023048C 0022620C  3C E0 80 50 */	lis r7, lbl_804FD448@ha
/* 80230490 00226210  57 C0 0D FC */	rlwinm r0, r30, 1, 0x17, 0x1e
/* 80230494 00226214  88 A7 D4 48 */	lbz r5, lbl_804FD448@l(r7)
/* 80230498 00226218  38 C7 D4 48 */	addi r6, r7, -11192
/* 8023049C 0022621C  3C 86 00 03 */	addis r4, r6, 3
/* 802304A0 00226220  54 A5 10 3A */	slwi r5, r5, 2
/* 802304A4 00226224  7C A6 2A 14 */	add r5, r6, r5
/* 802304A8 00226228  7C 84 02 14 */	add r4, r4, r0
/* 802304AC 0022622C  90 65 00 04 */	stw r3, 4(r5)
/* 802304B0 00226230  88 67 D4 48 */	lbz r3, -0x2bb8(r7)
/* 802304B4 00226234  38 03 00 01 */	addi r0, r3, 1
/* 802304B8 00226238  98 07 D4 48 */	stb r0, -0x2bb8(r7)
/* 802304BC 0022623C  A0 04 88 08 */	lhz r0, -0x77f8(r4)
/* 802304C0 00226240  7C 00 FB 78 */	or r0, r0, r31
/* 802304C4 00226244  B0 04 88 08 */	sth r0, -0x77f8(r4)
/* 802304C8 00226248  88 67 D4 48 */	lbz r3, -0x2bb8(r7)
/* 802304CC 0022624C  38 63 FF FF */	addi r3, r3, -1
/* 802304D0 00226250  54 60 15 BA */	rlwinm r0, r3, 2, 0x16, 0x1d
/* 802304D4 00226254  98 67 D4 48 */	stb r3, -0x2bb8(r7)
/* 802304D8 00226258  7C 66 02 14 */	add r3, r6, r0
/* 802304DC 0022625C  80 63 00 04 */	lwz r3, 4(r3)
/* 802304E0 00226260  4B FA CA 59 */	bl OSRestoreInterrupts
/* 802304E4 00226264  38 60 00 00 */	li r3, 0
lbl_802304E8:
/* 802304E8 00226268  80 01 00 14 */	lwz r0, 0x14(r1)
/* 802304EC 0022626C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 802304F0 00226270  83 C1 00 08 */	lwz r30, 8(r1)
/* 802304F4 00226274  7C 08 03 A6 */	mtlr r0
/* 802304F8 00226278  38 21 00 10 */	addi r1, r1, 0x10
/* 802304FC 0022627C  4E 80 00 20 */	blr 

.global GKI_get_taskid
GKI_get_taskid:
/* 80230500 00226280  38 60 00 02 */	li r3, 2
/* 80230504 00226284  4E 80 00 20 */	blr 

.global GKI_enable
GKI_enable:
/* 80230508 00226288  3C A0 80 50 */	lis r5, lbl_804FD448@ha
/* 8023050C 0022628C  88 85 D4 48 */	lbz r4, lbl_804FD448@l(r5)
/* 80230510 00226290  38 65 D4 48 */	addi r3, r5, -11192
/* 80230514 00226294  38 84 FF FF */	addi r4, r4, -1
/* 80230518 00226298  54 80 15 BA */	rlwinm r0, r4, 2, 0x16, 0x1d
/* 8023051C 0022629C  98 85 D4 48 */	stb r4, -0x2bb8(r5)
/* 80230520 002262A0  7C 63 02 14 */	add r3, r3, r0
/* 80230524 002262A4  80 63 00 04 */	lwz r3, 4(r3)
/* 80230528 002262A8  4B FA CA 10 */	b OSRestoreInterrupts

.global GKI_disable
GKI_disable:
/* 8023052C 002262AC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80230530 002262B0  7C 08 02 A6 */	mflr r0
/* 80230534 002262B4  90 01 00 14 */	stw r0, 0x14(r1)
/* 80230538 002262B8  4B FA C9 D9 */	bl OSDisableInterrupts
/* 8023053C 002262BC  3C A0 80 50 */	lis r5, lbl_804FD448@ha
/* 80230540 002262C0  88 05 D4 48 */	lbz r0, lbl_804FD448@l(r5)
/* 80230544 002262C4  38 85 D4 48 */	addi r4, r5, -11192
/* 80230548 002262C8  54 00 10 3A */	slwi r0, r0, 2
/* 8023054C 002262CC  7C 84 02 14 */	add r4, r4, r0
/* 80230550 002262D0  90 64 00 04 */	stw r3, 4(r4)
/* 80230554 002262D4  88 65 D4 48 */	lbz r3, -0x2bb8(r5)
/* 80230558 002262D8  38 03 00 01 */	addi r0, r3, 1
/* 8023055C 002262DC  98 05 D4 48 */	stb r0, -0x2bb8(r5)
/* 80230560 002262E0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80230564 002262E4  7C 08 03 A6 */	mtlr r0
/* 80230568 002262E8  38 21 00 10 */	addi r1, r1, 0x10
/* 8023056C 002262EC  4E 80 00 20 */	blr 

.global GKI_exception
GKI_exception:
/* 80230570 002262F0  4E 80 00 20 */	blr 

.global GKI_os_malloc
GKI_os_malloc:
/* 80230574 002262F4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80230578 002262F8  7C 08 02 A6 */	mflr r0
/* 8023057C 002262FC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80230580 00226300  4B FF 93 E1 */	bl App_MEMalloc
/* 80230584 00226304  2C 03 00 00 */	cmpwi r3, 0
/* 80230588 00226308  40 82 00 08 */	bne lbl_80230590
/* 8023058C 0022630C  38 60 00 00 */	li r3, 0
lbl_80230590:
/* 80230590 00226310  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80230594 00226314  7C 08 03 A6 */	mtlr r0
/* 80230598 00226318  38 21 00 10 */	addi r1, r1, 0x10
/* 8023059C 0022631C  4E 80 00 20 */	blr 

.global GKI_os_free
GKI_os_free:
/* 802305A0 00226320  4B FF 94 10 */	b App_MEMfree

