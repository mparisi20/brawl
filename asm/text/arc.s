.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global ARCInitHandle
ARCInitHandle:
/* 80210708 00206488  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8021070C 0020648C  7C 08 02 A6 */	mflr r0
/* 80210710 00206490  90 01 00 14 */	stw r0, 0x14(r1)
/* 80210714 00206494  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80210718 00206498  7C 9F 23 78 */	mr r31, r4
/* 8021071C 0020649C  93 C1 00 08 */	stw r30, 8(r1)
/* 80210720 002064A0  7C 7E 1B 78 */	mr r30, r3
/* 80210724 002064A4  80 A3 00 00 */	lwz r5, 0(r3)
/* 80210728 002064A8  3C 05 AA 56 */	addis r0, r5, 0xaa56
/* 8021072C 002064AC  28 00 38 2D */	cmplwi r0, 0x382d
/* 80210730 002064B0  41 82 00 1C */	beq lbl_8021074C
/* 80210734 002064B4  3C A0 80 48 */	lis r5, lbl_8047C538@ha
/* 80210738 002064B8  38 6D A8 90 */	addi r3, r13, lbl_8059ECB0-_SDA_BASE_
/* 8021073C 002064BC  38 A5 C5 38 */	addi r5, r5, lbl_8047C538@l
/* 80210740 002064C0  38 80 00 4A */	li r4, 0x4a
/* 80210744 002064C4  4C C6 31 82 */	crclr 6
/* 80210748 002064C8  4B FC 7F 49 */	bl OSPanic
lbl_8021074C:
/* 8021074C 002064CC  93 DF 00 00 */	stw r30, 0(r31)
/* 80210750 002064D0  38 00 00 00 */	li r0, 0
/* 80210754 002064D4  38 60 00 01 */	li r3, 1
/* 80210758 002064D8  80 9E 00 04 */	lwz r4, 4(r30)
/* 8021075C 002064DC  7C DE 22 14 */	add r6, r30, r4
/* 80210760 002064E0  90 DF 00 04 */	stw r6, 4(r31)
/* 80210764 002064E4  80 9E 00 0C */	lwz r4, 0xc(r30)
/* 80210768 002064E8  7C 9E 22 14 */	add r4, r30, r4
/* 8021076C 002064EC  90 9F 00 08 */	stw r4, 8(r31)
/* 80210770 002064F0  80 A6 00 08 */	lwz r5, 8(r6)
/* 80210774 002064F4  1C 85 00 0C */	mulli r4, r5, 0xc
/* 80210778 002064F8  90 BF 00 0C */	stw r5, 0xc(r31)
/* 8021077C 002064FC  7C 86 22 14 */	add r4, r6, r4
/* 80210780 00206500  90 9F 00 10 */	stw r4, 0x10(r31)
/* 80210784 00206504  80 9E 00 08 */	lwz r4, 8(r30)
/* 80210788 00206508  90 9F 00 14 */	stw r4, 0x14(r31)
/* 8021078C 0020650C  90 1F 00 18 */	stw r0, 0x18(r31)
/* 80210790 00206510  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80210794 00206514  83 C1 00 08 */	lwz r30, 8(r1)
/* 80210798 00206518  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8021079C 0020651C  7C 08 03 A6 */	mtlr r0
/* 802107A0 00206520  38 21 00 10 */	addi r1, r1, 0x10
/* 802107A4 00206524  4E 80 00 20 */	blr 

.global ARCOpen
ARCOpen:
/* 802107A8 00206528  94 21 FF 60 */	stwu r1, -0xa0(r1)
/* 802107AC 0020652C  7C 08 02 A6 */	mflr r0
/* 802107B0 00206530  90 01 00 A4 */	stw r0, 0xa4(r1)
/* 802107B4 00206534  39 61 00 A0 */	addi r11, r1, 0xa0
/* 802107B8 00206538  48 1E 0B 65 */	bl _savegpr_26
/* 802107BC 0020653C  83 83 00 04 */	lwz r28, 4(r3)
/* 802107C0 00206540  7C 7A 1B 78 */	mr r26, r3
/* 802107C4 00206544  7C 9B 23 78 */	mr r27, r4
/* 802107C8 00206548  7C BD 2B 78 */	mr r29, r5
/* 802107CC 0020654C  48 00 02 D1 */	bl ARCConvertPathToEntrynum
/* 802107D0 00206550  2C 03 00 00 */	cmpwi r3, 0
/* 802107D4 00206554  40 80 02 28 */	bge lbl_802109FC
/* 802107D8 00206558  83 BA 00 18 */	lwz r29, 0x18(r26)
/* 802107DC 0020655C  83 9A 00 04 */	lwz r28, 4(r26)
/* 802107E0 00206560  2C 1D 00 00 */	cmpwi r29, 0
/* 802107E4 00206564  40 82 00 0C */	bne lbl_802107F0
/* 802107E8 00206568  38 80 00 00 */	li r4, 0
/* 802107EC 0020656C  48 00 01 98 */	b lbl_80210984
lbl_802107F0:
/* 802107F0 00206570  1C 1D 00 0C */	mulli r0, r29, 0xc
/* 802107F4 00206574  80 FA 00 10 */	lwz r7, 0x10(r26)
/* 802107F8 00206578  7C 7C 02 14 */	add r3, r28, r0
/* 802107FC 0020657C  7C 1C 00 2E */	lwzx r0, r28, r0
/* 80210800 00206580  80 63 00 04 */	lwz r3, 4(r3)
/* 80210804 00206584  54 00 02 3E */	clrlwi r0, r0, 8
/* 80210808 00206588  2C 03 00 00 */	cmpwi r3, 0
/* 8021080C 0020658C  7F C7 02 14 */	add r30, r7, r0
/* 80210810 00206590  40 82 00 0C */	bne lbl_8021081C
/* 80210814 00206594  38 80 00 00 */	li r4, 0
/* 80210818 00206598  48 00 01 10 */	b lbl_80210928
lbl_8021081C:
/* 8021081C 0020659C  1C 03 00 0C */	mulli r0, r3, 0xc
/* 80210820 002065A0  7C 7C 02 14 */	add r3, r28, r0
/* 80210824 002065A4  7C 1C 00 2E */	lwzx r0, r28, r0
/* 80210828 002065A8  80 63 00 04 */	lwz r3, 4(r3)
/* 8021082C 002065AC  54 00 02 3E */	clrlwi r0, r0, 8
/* 80210830 002065B0  2C 03 00 00 */	cmpwi r3, 0
/* 80210834 002065B4  7F E7 02 14 */	add r31, r7, r0
/* 80210838 002065B8  40 82 00 0C */	bne lbl_80210844
/* 8021083C 002065BC  38 80 00 00 */	li r4, 0
/* 80210840 002065C0  48 00 00 8C */	b lbl_802108CC
lbl_80210844:
/* 80210844 002065C4  1C 83 00 0C */	mulli r4, r3, 0xc
/* 80210848 002065C8  7F 43 D3 78 */	mr r3, r26
/* 8021084C 002065CC  38 A1 00 08 */	addi r5, r1, 8
/* 80210850 002065D0  38 C0 00 80 */	li r6, 0x80
/* 80210854 002065D4  7C 1C 20 2E */	lwzx r0, r28, r4
/* 80210858 002065D8  7C 9C 22 14 */	add r4, r28, r4
/* 8021085C 002065DC  80 84 00 04 */	lwz r4, 4(r4)
/* 80210860 002065E0  54 00 02 3E */	clrlwi r0, r0, 8
/* 80210864 002065E4  7F 47 02 14 */	add r26, r7, r0
/* 80210868 002065E8  48 00 04 99 */	bl entryToPath_7687
/* 8021086C 002065EC  28 03 00 80 */	cmplwi r3, 0x80
/* 80210870 002065F0  7C 64 1B 78 */	mr r4, r3
/* 80210874 002065F4  40 82 00 08 */	bne lbl_8021087C
/* 80210878 002065F8  48 00 00 54 */	b lbl_802108CC
lbl_8021087C:
/* 8021087C 002065FC  38 83 00 01 */	addi r4, r3, 1
/* 80210880 00206600  38 A1 00 08 */	addi r5, r1, 8
/* 80210884 00206604  38 00 00 2F */	li r0, 0x2f
/* 80210888 00206608  7C 05 19 AE */	stbx r0, r5, r3
/* 8021088C 0020660C  20 C4 00 80 */	subfic r6, r4, 0x80
/* 80210890 00206610  7C C3 33 78 */	mr r3, r6
/* 80210894 00206614  7C A5 22 14 */	add r5, r5, r4
/* 80210898 00206618  48 00 00 18 */	b lbl_802108B0
lbl_8021089C:
/* 8021089C 0020661C  88 1A 00 00 */	lbz r0, 0(r26)
/* 802108A0 00206620  38 63 FF FF */	addi r3, r3, -1
/* 802108A4 00206624  3B 5A 00 01 */	addi r26, r26, 1
/* 802108A8 00206628  98 05 00 00 */	stb r0, 0(r5)
/* 802108AC 0020662C  38 A5 00 01 */	addi r5, r5, 1
lbl_802108B0:
/* 802108B0 00206630  2C 03 00 00 */	cmpwi r3, 0
/* 802108B4 00206634  41 82 00 10 */	beq lbl_802108C4
/* 802108B8 00206638  88 1A 00 00 */	lbz r0, 0(r26)
/* 802108BC 0020663C  7C 00 07 75 */	extsb. r0, r0
/* 802108C0 00206640  40 82 FF DC */	bne lbl_8021089C
lbl_802108C4:
/* 802108C4 00206644  7C 03 30 50 */	subf r0, r3, r6
/* 802108C8 00206648  7C 84 02 14 */	add r4, r4, r0
lbl_802108CC:
/* 802108CC 0020664C  28 04 00 80 */	cmplwi r4, 0x80
/* 802108D0 00206650  40 82 00 08 */	bne lbl_802108D8
/* 802108D4 00206654  48 00 00 54 */	b lbl_80210928
lbl_802108D8:
/* 802108D8 00206658  38 A4 00 01 */	addi r5, r4, 1
/* 802108DC 0020665C  38 61 00 08 */	addi r3, r1, 8
/* 802108E0 00206660  38 00 00 2F */	li r0, 0x2f
/* 802108E4 00206664  7C 03 21 AE */	stbx r0, r3, r4
/* 802108E8 00206668  20 C5 00 80 */	subfic r6, r5, 0x80
/* 802108EC 0020666C  7C C4 33 78 */	mr r4, r6
/* 802108F0 00206670  7C 63 2A 14 */	add r3, r3, r5
/* 802108F4 00206674  48 00 00 18 */	b ENCiConvertUtf8To32
lbl_802108F8:
/* 802108F8 00206678  88 1F 00 00 */	lbz r0, 0(r31)
/* 802108FC 0020667C  38 84 FF FF */	addi r4, r4, -1
/* 80210900 00206680  3B FF 00 01 */	addi r31, r31, 1
/* 80210904 00206684  98 03 00 00 */	stb r0, 0(r3)
/* 80210908 00206688  38 63 00 01 */	addi r3, r3, 1

