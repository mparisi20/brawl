.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global NWC24iOpenSecretFriendList
NWC24iOpenSecretFriendList:
/* 803A1ED4 00397C54  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803A1ED8 00397C58  7C 08 02 A6 */	mflr r0
/* 803A1EDC 00397C5C  38 80 00 00 */	li r4, 0
/* 803A1EE0 00397C60  38 A0 08 00 */	li r5, 0x800
/* 803A1EE4 00397C64  90 01 00 14 */	stw r0, 0x14(r1)
/* 803A1EE8 00397C68  80 6D CD 50 */	lwz r3, lbl_805A1170-_SDA_BASE_(r13)
/* 803A1EEC 00397C6C  38 63 2E 00 */	addi r3, r3, 0x2e00
/* 803A1EF0 00397C70  90 61 00 08 */	stw r3, 8(r1)
/* 803A1EF4 00397C74  4B FF 58 55 */	bl Mail_memset
/* 803A1EF8 00397C78  38 61 00 08 */	addi r3, r1, 8
/* 803A1EFC 00397C7C  48 00 00 15 */	bl GetCachedSecretFLHeader
/* 803A1F00 00397C80  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803A1F04 00397C84  7C 08 03 A6 */	mtlr r0
/* 803A1F08 00397C88  38 21 00 10 */	addi r1, r1, 0x10
/* 803A1F0C 00397C8C  4E 80 00 20 */	blr 

.global GetCachedSecretFLHeader
GetCachedSecretFLHeader:
/* 803A1F10 00397C90  94 21 FF 50 */	stwu r1, -0xb0(r1)
/* 803A1F14 00397C94  7C 08 02 A6 */	mflr r0
/* 803A1F18 00397C98  90 01 00 B4 */	stw r0, 0xb4(r1)
/* 803A1F1C 00397C9C  93 E1 00 AC */	stw r31, 0xac(r1)
/* 803A1F20 00397CA0  93 C1 00 A8 */	stw r30, 0xa8(r1)
/* 803A1F24 00397CA4  7C 7E 1B 78 */	mr r30, r3
/* 803A1F28 00397CA8  80 8D CD 50 */	lwz r4, lbl_805A1170-_SDA_BASE_(r13)
/* 803A1F2C 00397CAC  38 84 2E 00 */	addi r4, r4, 0x2e00
/* 803A1F30 00397CB0  90 83 00 00 */	stw r4, 0(r3)
/* 803A1F34 00397CB4  80 64 00 00 */	lwz r3, 0(r4)
/* 803A1F38 00397CB8  3C 03 A8 9D */	addis r0, r3, 0xa89d
/* 803A1F3C 00397CBC  28 00 46 73 */	cmplwi r0, 0x4673
/* 803A1F40 00397CC0  41 82 00 94 */	beq lbl_803A1FD4
/* 803A1F44 00397CC4  80 8D B9 C0 */	lwz r4, lbl_8059FDE0-_SDA_BASE_(r13)
/* 803A1F48 00397CC8  38 61 00 08 */	addi r3, r1, 8
/* 803A1F4C 00397CCC  38 A0 00 02 */	li r5, 2
/* 803A1F50 00397CD0  4B FF 63 DD */	bl NWC24FOpen
/* 803A1F54 00397CD4  2C 03 00 00 */	cmpwi r3, 0
/* 803A1F58 00397CD8  41 82 00 08 */	beq lbl_803A1F60
/* 803A1F5C 00397CDC  48 00 00 7C */	b lbl_803A1FD8
lbl_803A1F60:
/* 803A1F60 00397CE0  38 61 00 08 */	addi r3, r1, 8
/* 803A1F64 00397CE4  38 80 00 00 */	li r4, 0
/* 803A1F68 00397CE8  38 A0 00 00 */	li r5, 0
/* 803A1F6C 00397CEC  4B FF 68 AD */	bl NWC24FSeek
/* 803A1F70 00397CF0  80 7E 00 00 */	lwz r3, 0(r30)
/* 803A1F74 00397CF4  38 A1 00 08 */	addi r5, r1, 8
/* 803A1F78 00397CF8  38 80 08 00 */	li r4, 0x800
/* 803A1F7C 00397CFC  4B FF 6A 8D */	bl NWC24FRead
/* 803A1F80 00397D00  7C 7F 1B 78 */	mr r31, r3
/* 803A1F84 00397D04  38 61 00 08 */	addi r3, r1, 8
/* 803A1F88 00397D08  4B FF 66 F9 */	bl NWC24FClose
/* 803A1F8C 00397D0C  2C 1F 00 00 */	cmpwi r31, 0
/* 803A1F90 00397D10  41 82 00 08 */	beq lbl_803A1F98
/* 803A1F94 00397D14  7F E3 FB 78 */	mr r3, r31
lbl_803A1F98:
/* 803A1F98 00397D18  2C 03 00 00 */	cmpwi r3, 0
/* 803A1F9C 00397D1C  41 82 00 08 */	beq lbl_803A1FA4
/* 803A1FA0 00397D20  48 00 00 38 */	b lbl_803A1FD8
lbl_803A1FA4:
/* 803A1FA4 00397D24  80 9E 00 00 */	lwz r4, 0(r30)
/* 803A1FA8 00397D28  80 64 00 00 */	lwz r3, 0(r4)
/* 803A1FAC 00397D2C  3C 03 A8 9D */	addis r0, r3, 0xa89d
/* 803A1FB0 00397D30  28 00 46 73 */	cmplwi r0, 0x4673
/* 803A1FB4 00397D34  41 82 00 0C */	beq lbl_803A1FC0
/* 803A1FB8 00397D38  38 60 FF F2 */	li r3, -14
/* 803A1FBC 00397D3C  48 00 00 1C */	b lbl_803A1FD8
lbl_803A1FC0:
/* 803A1FC0 00397D40  80 04 00 04 */	lwz r0, 4(r4)
/* 803A1FC4 00397D44  28 00 00 02 */	cmplwi r0, 2
/* 803A1FC8 00397D48  41 82 00 0C */	beq lbl_803A1FD4
/* 803A1FCC 00397D4C  38 60 FF E5 */	li r3, -27
/* 803A1FD0 00397D50  48 00 00 08 */	b lbl_803A1FD8
lbl_803A1FD4:
/* 803A1FD4 00397D54  38 60 00 00 */	li r3, 0
lbl_803A1FD8:
/* 803A1FD8 00397D58  80 01 00 B4 */	lwz r0, 0xb4(r1)
/* 803A1FDC 00397D5C  83 E1 00 AC */	lwz r31, 0xac(r1)
/* 803A1FE0 00397D60  83 C1 00 A8 */	lwz r30, 0xa8(r1)
/* 803A1FE4 00397D64  7C 08 03 A6 */	mtlr r0
/* 803A1FE8 00397D68  38 21 00 B0 */	addi r1, r1, 0xb0
/* 803A1FEC 00397D6C  4E 80 00 20 */	blr 

