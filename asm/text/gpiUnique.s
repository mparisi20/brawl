.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gpiProcessRegisterUniqueNick
gpiProcessRegisterUniqueNick:
/* 80372CAC 00368A2C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80372CB0 00368A30  7C 08 02 A6 */	mflr r0
/* 80372CB4 00368A34  90 01 00 34 */	stw r0, 0x34(r1)
/* 80372CB8 00368A38  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 80372CBC 00368A3C  7C BF 2B 78 */	mr r31, r5
/* 80372CC0 00368A40  38 A0 00 01 */	li r5, 1
/* 80372CC4 00368A44  93 C1 00 28 */	stw r30, 0x28(r1)
/* 80372CC8 00368A48  7C 9E 23 78 */	mr r30, r4
/* 80372CCC 00368A4C  7F E4 FB 78 */	mr r4, r31
/* 80372CD0 00368A50  93 A1 00 24 */	stw r29, 0x24(r1)
/* 80372CD4 00368A54  7C 7D 1B 78 */	mr r29, r3
/* 80372CD8 00368A58  48 00 01 45 */	bl gpiCheckForError
/* 80372CDC 00368A5C  2C 03 00 00 */	cmpwi r3, 0
/* 80372CE0 00368A60  41 82 00 0C */	beq lbl_80372CEC
/* 80372CE4 00368A64  38 60 00 04 */	li r3, 4
/* 80372CE8 00368A68  48 00 00 D4 */	b lbl_80372DBC
lbl_80372CEC:
/* 80372CEC 00368A6C  7F E3 FB 78 */	mr r3, r31
/* 80372CF0 00368A70  38 8D B5 40 */	addi r4, r13, lbl_8059F960-_SDA_BASE_
/* 80372CF4 00368A74  38 A0 00 04 */	li r5, 4
/* 80372CF8 00368A78  48 08 78 21 */	bl strncmp
/* 80372CFC 00368A7C  2C 03 00 00 */	cmpwi r3, 0
/* 80372D00 00368A80  41 82 00 30 */	beq lbl_80372D30
/* 80372D04 00368A84  3C A0 80 49 */	lis r5, lbl_8048FB20@ha
/* 80372D08 00368A88  7F A3 EB 78 */	mr r3, r29
/* 80372D0C 00368A8C  38 A5 FB 20 */	addi r5, r5, lbl_8048FB20@l
/* 80372D10 00368A90  38 80 00 01 */	li r4, 1
/* 80372D14 00368A94  48 00 05 7D */	bl gpiSetError
/* 80372D18 00368A98  7F A3 EB 78 */	mr r3, r29
/* 80372D1C 00368A9C  38 80 00 03 */	li r4, 3
/* 80372D20 00368AA0  38 A0 00 01 */	li r5, 1
/* 80372D24 00368AA4  4B FF 7D CD */	bl gpiCallErrorCallback
/* 80372D28 00368AA8  38 60 00 03 */	li r3, 3
/* 80372D2C 00368AAC  48 00 00 90 */	b lbl_80372DBC
lbl_80372D30:
/* 80372D30 00368AB0  80 7E 00 0C */	lwz r3, 0xc(r30)
/* 80372D34 00368AB4  80 1E 00 10 */	lwz r0, 0x10(r30)
/* 80372D38 00368AB8  2C 03 00 00 */	cmpwi r3, 0
/* 80372D3C 00368ABC  90 61 00 10 */	stw r3, 0x10(r1)
/* 80372D40 00368AC0  90 01 00 14 */	stw r0, 0x14(r1)
/* 80372D44 00368AC4  41 82 00 68 */	beq lbl_80372DAC
/* 80372D48 00368AC8  38 60 00 04 */	li r3, 4
/* 80372D4C 00368ACC  4B FE B2 9D */	bl gsimalloc
/* 80372D50 00368AD0  2C 03 00 00 */	cmpwi r3, 0
/* 80372D54 00368AD4  7C 65 1B 78 */	mr r5, r3
/* 80372D58 00368AD8  40 82 00 1C */	bne lbl_80372D74
/* 80372D5C 00368ADC  3C 80 80 49 */	lis r4, lbl_8048FB50@ha
/* 80372D60 00368AE0  7F A3 EB 78 */	mr r3, r29
/* 80372D64 00368AE4  38 84 FB 50 */	addi r4, r4, lbl_8048FB50@l
/* 80372D68 00368AE8  48 00 05 79 */	bl gpiSetErrorString
/* 80372D6C 00368AEC  38 60 00 01 */	li r3, 1
/* 80372D70 00368AF0  48 00 00 4C */	b lbl_80372DBC
lbl_80372D74:
/* 80372D74 00368AF4  38 00 00 00 */	li r0, 0
/* 80372D78 00368AF8  80 81 00 10 */	lwz r4, 0x10(r1)
/* 80372D7C 00368AFC  90 03 00 00 */	stw r0, 0(r3)
/* 80372D80 00368B00  7F A3 EB 78 */	mr r3, r29
/* 80372D84 00368B04  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80372D88 00368B08  7F C6 F3 78 */	mr r6, r30
/* 80372D8C 00368B0C  90 81 00 08 */	stw r4, 8(r1)
/* 80372D90 00368B10  38 81 00 08 */	addi r4, r1, 8
/* 80372D94 00368B14  38 E0 00 00 */	li r7, 0
/* 80372D98 00368B18  90 01 00 0C */	stw r0, 0xc(r1)
/* 80372D9C 00368B1C  4B FF 7E 15 */	bl gpiAddCallback
/* 80372DA0 00368B20  2C 03 00 00 */	cmpwi r3, 0
/* 80372DA4 00368B24  41 82 00 08 */	beq lbl_80372DAC
/* 80372DA8 00368B28  48 00 00 14 */	b lbl_80372DBC
lbl_80372DAC:
/* 80372DAC 00368B2C  7F A3 EB 78 */	mr r3, r29
/* 80372DB0 00368B30  7F C4 F3 78 */	mr r4, r30
/* 80372DB4 00368B34  4B FF C1 31 */	bl gpiRemoveOperation
/* 80372DB8 00368B38  38 60 00 00 */	li r3, 0
lbl_80372DBC:
/* 80372DBC 00368B3C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80372DC0 00368B40  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 80372DC4 00368B44  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 80372DC8 00368B48  83 A1 00 24 */	lwz r29, 0x24(r1)
/* 80372DCC 00368B4C  7C 08 03 A6 */	mtlr r0
/* 80372DD0 00368B50  38 21 00 30 */	addi r1, r1, 0x30
/* 80372DD4 00368B54  4E 80 00 20 */	blr 

