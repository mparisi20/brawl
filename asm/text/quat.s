.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global C_QUATMtx
C_QUATMtx:
/* 801ED1EC 001E2F6C  94 21 FF C0 */	stwu r1, -0x40(r1)
/* 801ED1F0 001E2F70  7C 08 02 A6 */	mflr r0
/* 801ED1F4 001E2F74  90 01 00 44 */	stw r0, 0x44(r1)
/* 801ED1F8 001E2F78  39 61 00 40 */	addi r11, r1, 0x40
/* 801ED1FC 001E2F7C  48 20 41 1D */	bl _savegpr_25
/* 801ED200 001E2F80  C0 64 00 00 */	lfs f3, 0(r4)
/* 801ED204 001E2F84  3C C0 80 41 */	lis r6, lbl_80410004@ha
/* 801ED208 001E2F88  C0 44 00 14 */	lfs f2, 0x14(r4)
/* 801ED20C 001E2F8C  7C 7F 1B 78 */	mr r31, r3
/* 801ED210 001E2F90  84 A6 D4 10 */	lwzu r5, -0x2bf0(r6)
/* 801ED214 001E2F94  7C 99 23 78 */	mr r25, r4
/* 801ED218 001E2F98  EC 23 10 2A */	fadds f1, f3, f2
/* 801ED21C 001E2F9C  C0 04 00 28 */	lfs f0, 0x28(r4)
/* 801ED220 001E2FA0  80 66 00 04 */	lwz r3, lbl_80410004@l(r6)
/* 801ED224 001E2FA4  80 06 00 08 */	lwz r0, 8(r6)
/* 801ED228 001E2FA8  EC 20 08 2A */	fadds f1, f0, f1
/* 801ED22C 001E2FAC  C0 02 A4 84 */	lfs f0, lbl_805A37A4-_SDA2_BASE_(r2)
/* 801ED230 001E2FB0  90 A1 00 14 */	stw r5, 0x14(r1)
/* 801ED234 001E2FB4  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 801ED238 001E2FB8  90 61 00 18 */	stw r3, 0x18(r1)
/* 801ED23C 001E2FBC  90 01 00 1C */	stw r0, 0x1c(r1)
/* 801ED240 001E2FC0  40 81 00 64 */	ble lbl_801ED2A4
/* 801ED244 001E2FC4  C0 02 A4 80 */	lfs f0, lbl_805A37A0-_SDA2_BASE_(r2)
/* 801ED248 001E2FC8  EC 20 08 2A */	fadds f1, f0, f1
/* 801ED24C 001E2FCC  48 21 3B 49 */	bl sqrt
/* 801ED250 001E2FD0  FC E0 08 18 */	frsp f7, f1
/* 801ED254 001E2FD4  C0 C2 A4 88 */	lfs f6, lbl_805A37A8-_SDA2_BASE_(r2)
/* 801ED258 001E2FD8  C0 B9 00 24 */	lfs f5, 0x24(r25)
/* 801ED25C 001E2FDC  C0 99 00 18 */	lfs f4, 0x18(r25)
/* 801ED260 001E2FE0  ED 06 38 24 */	fdivs f8, f6, f7
/* 801ED264 001E2FE4  C0 79 00 08 */	lfs f3, 8(r25)
/* 801ED268 001E2FE8  C0 59 00 20 */	lfs f2, 0x20(r25)
/* 801ED26C 001E2FEC  C0 39 00 10 */	lfs f1, 0x10(r25)
/* 801ED270 001E2FF0  C0 19 00 04 */	lfs f0, 4(r25)
/* 801ED274 001E2FF4  EC 85 20 28 */	fsubs f4, f5, f4
/* 801ED278 001E2FF8  EC 43 10 28 */	fsubs f2, f3, f2
/* 801ED27C 001E2FFC  EC 01 00 28 */	fsubs f0, f1, f0
/* 801ED280 001E3000  EC A6 01 F2 */	fmuls f5, f6, f7
/* 801ED284 001E3004  EC 68 01 32 */	fmuls f3, f8, f4
/* 801ED288 001E3008  EC 28 00 B2 */	fmuls f1, f8, f2
/* 801ED28C 001E300C  EC 08 00 32 */	fmuls f0, f8, f0
/* 801ED290 001E3010  D0 BF 00 0C */	stfs f5, 0xc(r31)
/* 801ED294 001E3014  D0 7F 00 00 */	stfs f3, 0(r31)
/* 801ED298 001E3018  D0 3F 00 04 */	stfs f1, 4(r31)
/* 801ED29C 001E301C  D0 1F 00 08 */	stfs f0, 8(r31)
/* 801ED2A0 001E3020  48 00 01 00 */	b lbl_801ED3A0
lbl_801ED2A4:
/* 801ED2A4 001E3024  FC 02 18 40 */	fcmpo cr0, f2, f3
/* 801ED2A8 001E3028  38 A0 00 00 */	li r5, 0
/* 801ED2AC 001E302C  40 81 00 08 */	ble lbl_801ED2B4
/* 801ED2B0 001E3030  38 A0 00 01 */	li r5, 1
lbl_801ED2B4:
/* 801ED2B4 001E3034  54 A0 20 36 */	slwi r0, r5, 4
/* 801ED2B8 001E3038  54 A3 10 3A */	slwi r3, r5, 2
/* 801ED2BC 001E303C  7C 04 02 14 */	add r0, r4, r0
/* 801ED2C0 001E3040  C0 24 00 28 */	lfs f1, 0x28(r4)
/* 801ED2C4 001E3044  7C 03 04 2E */	lfsx f0, r3, r0
/* 801ED2C8 001E3048  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 801ED2CC 001E304C  40 81 00 08 */	ble lbl_801ED2D4
/* 801ED2D0 001E3050  38 A0 00 02 */	li r5, 2
lbl_801ED2D4:
/* 801ED2D4 001E3054  54 BA 10 3A */	slwi r26, r5, 2
/* 801ED2D8 001E3058  38 61 00 14 */	addi r3, r1, 0x14
/* 801ED2DC 001E305C  7C C3 D0 2E */	lwzx r6, r3, r26
/* 801ED2E0 001E3060  54 A0 20 36 */	slwi r0, r5, 4
/* 801ED2E4 001E3064  7F 24 02 14 */	add r25, r4, r0
/* 801ED2E8 001E3068  C0 02 A4 80 */	lfs f0, lbl_805A37A0-_SDA2_BASE_(r2)
/* 801ED2EC 001E306C  54 DC 10 3A */	slwi r28, r6, 2
/* 801ED2F0 001E3070  54 C0 20 36 */	slwi r0, r6, 4
/* 801ED2F4 001E3074  7C 63 E0 2E */	lwzx r3, r3, r28
/* 801ED2F8 001E3078  7F A4 02 14 */	add r29, r4, r0
/* 801ED2FC 001E307C  7C 7D E4 2E */	lfsx f3, r29, r28
/* 801ED300 001E3080  54 60 20 36 */	slwi r0, r3, 4
/* 801ED304 001E3084  54 7E 10 3A */	slwi r30, r3, 2
/* 801ED308 001E3088  7F 64 02 14 */	add r27, r4, r0
/* 801ED30C 001E308C  7C 39 D4 2E */	lfsx f1, r25, r26
/* 801ED310 001E3090  7C 5B F4 2E */	lfsx f2, r27, r30
/* 801ED314 001E3094  EC 43 10 2A */	fadds f2, f3, f2
/* 801ED318 001E3098  EC 21 10 28 */	fsubs f1, f1, f2
/* 801ED31C 001E309C  EC 20 08 2A */	fadds f1, f0, f1
/* 801ED320 001E30A0  48 21 3A 75 */	bl sqrt
/* 801ED324 001E30A4  FC A0 08 18 */	frsp f5, f1
/* 801ED328 001E30A8  C0 42 A4 88 */	lfs f2, lbl_805A37A8-_SDA2_BASE_(r2)
/* 801ED32C 001E30AC  C0 02 A4 84 */	lfs f0, lbl_805A37A4-_SDA2_BASE_(r2)
/* 801ED330 001E30B0  38 61 00 08 */	addi r3, r1, 8
/* 801ED334 001E30B4  EC 22 01 72 */	fmuls f1, f2, f5
/* 801ED338 001E30B8  FC 00 28 00 */	fcmpu cr0, f0, f5
/* 801ED33C 001E30BC  7C 23 D5 2E */	stfsx f1, r3, r26
/* 801ED340 001E30C0  41 82 00 08 */	beq lbl_801ED348
/* 801ED344 001E30C4  EC A2 28 24 */	fdivs f5, f2, f5
lbl_801ED348:
/* 801ED348 001E30C8  7C 59 E4 2E */	lfsx f2, r25, r28
/* 801ED34C 001E30CC  38 61 00 08 */	addi r3, r1, 8
/* 801ED350 001E30D0  7C 1D D4 2E */	lfsx f0, r29, r26
/* 801ED354 001E30D4  7C 39 F4 2E */	lfsx f1, r25, r30
/* 801ED358 001E30D8  EC 42 00 2A */	fadds f2, f2, f0
/* 801ED35C 001E30DC  7C 1B D4 2E */	lfsx f0, r27, r26
/* 801ED360 001E30E0  7C 9B E4 2E */	lfsx f4, r27, r28
/* 801ED364 001E30E4  EC 01 00 2A */	fadds f0, f1, f0
/* 801ED368 001E30E8  7C 7D F4 2E */	lfsx f3, r29, r30
/* 801ED36C 001E30EC  EC 25 00 B2 */	fmuls f1, f5, f2
/* 801ED370 001E30F0  EC 44 18 28 */	fsubs f2, f4, f3
/* 801ED374 001E30F4  EC 05 00 32 */	fmuls f0, f5, f0
/* 801ED378 001E30F8  7C 23 E5 2E */	stfsx f1, r3, r28
/* 801ED37C 001E30FC  EC 65 00 B2 */	fmuls f3, f5, f2
/* 801ED380 001E3100  7C 03 F5 2E */	stfsx f0, r3, r30
/* 801ED384 001E3104  C0 41 00 08 */	lfs f2, 8(r1)
/* 801ED388 001E3108  C0 21 00 0C */	lfs f1, 0xc(r1)
/* 801ED38C 001E310C  C0 01 00 10 */	lfs f0, 0x10(r1)
/* 801ED390 001E3110  D0 7F 00 0C */	stfs f3, 0xc(r31)
/* 801ED394 001E3114  D0 5F 00 00 */	stfs f2, 0(r31)
/* 801ED398 001E3118  D0 3F 00 04 */	stfs f1, 4(r31)
/* 801ED39C 001E311C  D0 1F 00 08 */	stfs f0, 8(r31)
lbl_801ED3A0:
/* 801ED3A0 001E3120  39 61 00 40 */	addi r11, r1, 0x40
/* 801ED3A4 001E3124  48 20 3F C1 */	bl _restgpr_25
/* 801ED3A8 001E3128  80 01 00 44 */	lwz r0, 0x44(r1)
/* 801ED3AC 001E312C  7C 08 03 A6 */	mtlr r0
/* 801ED3B0 001E3130  38 21 00 40 */	addi r1, r1, 0x40
/* 801ED3B4 001E3134  4E 80 00 20 */	blr 

.global C_QUATSlerp
C_QUATSlerp:
/* 801ED3B8 001E3138  94 21 FF A0 */	stwu r1, -0x60(r1)
/* 801ED3BC 001E313C  7C 08 02 A6 */	mflr r0
/* 801ED3C0 001E3140  90 01 00 64 */	stw r0, 0x64(r1)
/* 801ED3C4 001E3144  DB E1 00 50 */	stfd f31, 0x50(r1)
/* 801ED3C8 001E3148  F3 E1 00 58 */	psq_st f31, 88(r1), 0, qr0
/* 801ED3CC 001E314C  DB C1 00 40 */	stfd f30, 0x40(r1)
/* 801ED3D0 001E3150  F3 C1 00 48 */	psq_st f30, 72(r1), 0, qr0
/* 801ED3D4 001E3154  DB A1 00 30 */	stfd f29, 0x30(r1)
/* 801ED3D8 001E3158  F3 A1 00 38 */	psq_st f29, 56(r1), 0, qr0
/* 801ED3DC 001E315C  DB 81 00 20 */	stfd f28, 0x20(r1)
/* 801ED3E0 001E3160  F3 81 00 28 */	psq_st f28, 40(r1), 0, qr0
/* 801ED3E4 001E3164  FF E0 08 90 */	fmr f31, f1
/* 801ED3E8 001E3168  C0 83 00 00 */	lfs f4, 0(r3)
/* 801ED3EC 001E316C  C0 64 00 00 */	lfs f3, 0(r4)
/* 801ED3F0 001E3170  C0 43 00 04 */	lfs f2, 4(r3)
/* 801ED3F4 001E3174  C0 04 00 04 */	lfs f0, 4(r4)
/* 801ED3F8 001E3178  EC 64 00 F2 */	fmuls f3, f4, f3
/* 801ED3FC 001E317C  C0 83 00 08 */	lfs f4, 8(r3)
/* 801ED400 001E3180  EC 02 00 32 */	fmuls f0, f2, f0
/* 801ED404 001E3184  C0 44 00 08 */	lfs f2, 8(r4)
/* 801ED408 001E3188  C0 C3 00 0C */	lfs f6, 0xc(r3)
/* 801ED40C 001E318C  EC 84 00 B2 */	fmuls f4, f4, f2
/* 801ED410 001E3190  C0 A4 00 0C */	lfs f5, 0xc(r4)
/* 801ED414 001E3194  EC 43 00 2A */	fadds f2, f3, f0
/* 801ED418 001E3198  EC 66 01 72 */	fmuls f3, f6, f5
/* 801ED41C 001E319C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 801ED420 001E31A0  C0 02 A4 84 */	lfs f0, lbl_805A37A4-_SDA2_BASE_(r2)
/* 801ED424 001E31A4  EC 44 10 2A */	fadds f2, f4, f2
/* 801ED428 001E31A8  93 C1 00 18 */	stw r30, 0x18(r1)
/* 801ED42C 001E31AC  C3 C2 A4 80 */	lfs f30, lbl_805A37A0-_SDA2_BASE_(r2)
/* 801ED430 001E31B0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 801ED434 001E31B4  7C 7D 1B 78 */	mr r29, r3
/* 801ED438 001E31B8  EC 43 10 2A */	fadds f2, f3, f2
/* 801ED43C 001E31BC  7C 9E 23 78 */	mr r30, r4
/* 801ED440 001E31C0  7C BF 2B 78 */	mr r31, r5
/* 801ED444 001E31C4  FC 02 00 40 */	fcmpo cr0, f2, f0
/* 801ED448 001E31C8  40 80 00 0C */	bge lbl_801ED454
/* 801ED44C 001E31CC  FC 40 10 50 */	fneg f2, f2
/* 801ED450 001E31D0  FF C0 F0 50 */	fneg f30, f30
lbl_801ED454:
/* 801ED454 001E31D4  C0 02 A4 8C */	lfs f0, lbl_805A37AC-_SDA2_BASE_(r2)
/* 801ED458 001E31D8  FC 02 00 40 */	fcmpo cr0, f2, f0
/* 801ED45C 001E31DC  4C 40 13 82 */	cror 2, 0, 2
/* 801ED460 001E31E0  40 82 00 4C */	bne lbl_801ED4AC
/* 801ED464 001E31E4  FC 20 10 90 */	fmr f1, f2
/* 801ED468 001E31E8  48 21 36 C9 */	bl acos
/* 801ED46C 001E31EC  FF A0 08 18 */	frsp f29, f1
/* 801ED470 001E31F0  FC 20 E8 90 */	fmr f1, f29
/* 801ED474 001E31F4  48 21 35 6D */	bl sin
/* 801ED478 001E31F8  C0 02 A4 80 */	lfs f0, lbl_805A37A0-_SDA2_BASE_(r2)
/* 801ED47C 001E31FC  FF 80 08 18 */	frsp f28, f1
/* 801ED480 001E3200  EC 00 F8 28 */	fsubs f0, f0, f31
/* 801ED484 001E3204  EC 20 07 72 */	fmuls f1, f0, f29
/* 801ED488 001E3208  48 21 35 59 */	bl sin
/* 801ED48C 001E320C  FC 00 08 18 */	frsp f0, f1
/* 801ED490 001E3210  EC 3F 07 72 */	fmuls f1, f31, f29
/* 801ED494 001E3214  EF E0 E0 24 */	fdivs f31, f0, f28
/* 801ED498 001E3218  48 21 35 49 */	bl sin
/* 801ED49C 001E321C  FC 00 08 18 */	frsp f0, f1
/* 801ED4A0 001E3220  EC 00 E0 24 */	fdivs f0, f0, f28
/* 801ED4A4 001E3224  EF DE 00 32 */	fmuls f30, f30, f0
/* 801ED4A8 001E3228  48 00 00 10 */	b lbl_801ED4B8
lbl_801ED4AC:
/* 801ED4AC 001E322C  C0 02 A4 80 */	lfs f0, lbl_805A37A0-_SDA2_BASE_(r2)
/* 801ED4B0 001E3230  EF DE 00 72 */	fmuls f30, f30, f1
/* 801ED4B4 001E3234  EF E0 08 28 */	fsubs f31, f0, f1
lbl_801ED4B8:
/* 801ED4B8 001E3238  C0 1D 00 00 */	lfs f0, 0(r29)
/* 801ED4BC 001E323C  C0 5E 00 00 */	lfs f2, 0(r30)
/* 801ED4C0 001E3240  C0 3D 00 04 */	lfs f1, 4(r29)
/* 801ED4C4 001E3244  EC FF 00 32 */	fmuls f7, f31, f0
/* 801ED4C8 001E3248  C0 1E 00 04 */	lfs f0, 4(r30)
/* 801ED4CC 001E324C  EC DE 00 B2 */	fmuls f6, f30, f2
/* 801ED4D0 001E3250  C0 7D 00 08 */	lfs f3, 8(r29)
/* 801ED4D4 001E3254  EC BF 00 72 */	fmuls f5, f31, f1
/* 801ED4D8 001E3258  EC 9E 00 32 */	fmuls f4, f30, f0
/* 801ED4DC 001E325C  C0 5E 00 08 */	lfs f2, 8(r30)
/* 801ED4E0 001E3260  EC 7F 00 F2 */	fmuls f3, f31, f3
/* 801ED4E4 001E3264  C0 3D 00 0C */	lfs f1, 0xc(r29)
/* 801ED4E8 001E3268  EC C7 30 2A */	fadds f6, f7, f6
/* 801ED4EC 001E326C  C0 1E 00 0C */	lfs f0, 0xc(r30)
/* 801ED4F0 001E3270  EC 5E 00 B2 */	fmuls f2, f30, f2
/* 801ED4F4 001E3274  EC 85 20 2A */	fadds f4, f5, f4
/* 801ED4F8 001E3278  D0 DF 00 00 */	stfs f6, 0(r31)
/* 801ED4FC 001E327C  EC 3F 00 72 */	fmuls f1, f31, f1
/* 801ED500 001E3280  EC 1E 00 32 */	fmuls f0, f30, f0
/* 801ED504 001E3284  EC 43 10 2A */	fadds f2, f3, f2
/* 801ED508 001E3288  D0 9F 00 04 */	stfs f4, 4(r31)
/* 801ED50C 001E328C  EC 01 00 2A */	fadds f0, f1, f0
/* 801ED510 001E3290  D0 5F 00 08 */	stfs f2, 8(r31)
/* 801ED514 001E3294  D0 1F 00 0C */	stfs f0, 0xc(r31)
/* 801ED518 001E3298  E3 E1 00 58 */	psq_l f31, 88(r1), 0, qr0
/* 801ED51C 001E329C  CB E1 00 50 */	lfd f31, 0x50(r1)
/* 801ED520 001E32A0  E3 C1 00 48 */	psq_l f30, 72(r1), 0, qr0
/* 801ED524 001E32A4  CB C1 00 40 */	lfd f30, 0x40(r1)
/* 801ED528 001E32A8  E3 A1 00 38 */	psq_l f29, 56(r1), 0, qr0
/* 801ED52C 001E32AC  CB A1 00 30 */	lfd f29, 0x30(r1)
/* 801ED530 001E32B0  E3 81 00 28 */	psq_l f28, 40(r1), 0, qr0
/* 801ED534 001E32B4  CB 81 00 20 */	lfd f28, 0x20(r1)
/* 801ED538 001E32B8  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 801ED53C 001E32BC  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 801ED540 001E32C0  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 801ED544 001E32C4  80 01 00 64 */	lwz r0, 0x64(r1)
/* 801ED548 001E32C8  7C 08 03 A6 */	mtlr r0
/* 801ED54C 001E32CC  38 21 00 60 */	addi r1, r1, 0x60
/* 801ED550 001E32D0  4E 80 00 20 */	blr 

