.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global sakeStartup
sakeStartup:
/* 8038D394 00383114  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8038D398 00383118  7C 08 02 A6 */	mflr r0
/* 8038D39C 0038311C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8038D3A0 00383120  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8038D3A4 00383124  93 C1 00 08 */	stw r30, 8(r1)
/* 8038D3A8 00383128  7C 7E 1B 78 */	mr r30, r3
/* 8038D3AC 0038312C  80 0D CC 28 */	lwz r0, lbl_805A1048-_SDA_BASE_(r13)
/* 8038D3B0 00383130  2C 00 00 01 */	cmpwi r0, 1
/* 8038D3B4 00383134  41 82 00 0C */	beq lbl_8038D3C0
/* 8038D3B8 00383138  38 60 00 01 */	li r3, 1
/* 8038D3BC 0038313C  48 00 00 48 */	b lbl_8038D404
lbl_8038D3C0:
/* 8038D3C0 00383140  4B FD 14 89 */	bl gsCoreIsShutdown
/* 8038D3C4 00383144  2C 03 00 00 */	cmpwi r3, 0
/* 8038D3C8 00383148  41 82 00 0C */	beq lbl_8038D3D4
/* 8038D3CC 0038314C  38 60 00 02 */	li r3, 2
/* 8038D3D0 00383150  48 00 00 34 */	b lbl_8038D404
lbl_8038D3D4:
/* 8038D3D4 00383154  38 60 00 4C */	li r3, 0x4c
/* 8038D3D8 00383158  4B FD 0C 11 */	bl gsimalloc
/* 8038D3DC 0038315C  2C 03 00 00 */	cmpwi r3, 0
/* 8038D3E0 00383160  7C 7F 1B 78 */	mr r31, r3
/* 8038D3E4 00383164  40 82 00 0C */	bne lbl_8038D3F0
/* 8038D3E8 00383168  38 60 00 03 */	li r3, 3
/* 8038D3EC 0038316C  48 00 00 18 */	b lbl_8038D404
lbl_8038D3F0:
/* 8038D3F0 00383170  38 80 00 00 */	li r4, 0
/* 8038D3F4 00383174  38 A0 00 4C */	li r5, 0x4c
/* 8038D3F8 00383178  4B C7 70 45 */	bl func_8000443C
/* 8038D3FC 0038317C  93 FE 00 00 */	stw r31, 0(r30)
/* 8038D400 00383180  38 60 00 00 */	li r3, 0
lbl_8038D404:
/* 8038D404 00383184  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8038D408 00383188  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8038D40C 0038318C  83 C1 00 08 */	lwz r30, 8(r1)
/* 8038D410 00383190  7C 08 03 A6 */	mtlr r0
/* 8038D414 00383194  38 21 00 10 */	addi r1, r1, 0x10
/* 8038D418 00383198  4E 80 00 20 */	blr 

.global sakeShutdown
sakeShutdown:
/* 8038D41C 0038319C  4B FD 0B F0 */	b gsifree

.global sakeSetGame
sakeSetGame:
/* 8038D420 003831A0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8038D424 003831A4  7C 08 02 A6 */	mflr r0
/* 8038D428 003831A8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8038D42C 003831AC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8038D430 003831B0  7C DF 33 78 */	mr r31, r6
/* 8038D434 003831B4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8038D438 003831B8  7C BE 2B 78 */	mr r30, r5
/* 8038D43C 003831BC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8038D440 003831C0  7C 7D 1B 78 */	mr r29, r3
/* 8038D444 003831C4  38 63 00 04 */	addi r3, r3, 4
/* 8038D448 003831C8  48 06 CE 39 */	bl strcpy
/* 8038D44C 003831CC  7F E4 FB 78 */	mr r4, r31
/* 8038D450 003831D0  38 7D 00 18 */	addi r3, r29, 0x18
/* 8038D454 003831D4  48 06 CE 2D */	bl strcpy
/* 8038D458 003831D8  38 00 00 01 */	li r0, 1
/* 8038D45C 003831DC  93 DD 00 14 */	stw r30, 0x14(r29)
/* 8038D460 003831E0  90 1D 00 00 */	stw r0, 0(r29)
/* 8038D464 003831E4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8038D468 003831E8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8038D46C 003831EC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8038D470 003831F0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8038D474 003831F4  7C 08 03 A6 */	mtlr r0
/* 8038D478 003831F8  38 21 00 20 */	addi r1, r1, 0x20
/* 8038D47C 003831FC  4E 80 00 20 */	blr 

.global sakeSetProfile
sakeSetProfile:
/* 8038D480 00383200  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8038D484 00383204  7C 08 02 A6 */	mflr r0
/* 8038D488 00383208  90 01 00 14 */	stw r0, 0x14(r1)
/* 8038D48C 0038320C  7C 80 23 78 */	mr r0, r4
/* 8038D490 00383210  7C A4 2B 78 */	mr r4, r5
/* 8038D494 00383214  38 A0 00 19 */	li r5, 0x19
/* 8038D498 00383218  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8038D49C 0038321C  7C 7F 1B 78 */	mr r31, r3
/* 8038D4A0 00383220  90 03 00 28 */	stw r0, 0x28(r3)
/* 8038D4A4 00383224  38 63 00 2C */	addi r3, r3, 0x2c
/* 8038D4A8 00383228  4B C7 6E 91 */	bl func_80004338
/* 8038D4AC 0038322C  38 00 00 01 */	li r0, 1
/* 8038D4B0 00383230  90 1F 00 24 */	stw r0, 0x24(r31)
/* 8038D4B4 00383234  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8038D4B8 00383238  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8038D4BC 0038323C  7C 08 03 A6 */	mtlr r0
/* 8038D4C0 00383240  38 21 00 10 */	addi r1, r1, 0x10
/* 8038D4C4 00383244  4E 80 00 20 */	blr 

.global sakeGetStartRequestResult
sakeGetStartRequestResult:
/* 8038D4C8 00383248  80 63 00 48 */	lwz r3, 0x48(r3)
/* 8038D4CC 0038324C  4E 80 00 20 */	blr 

.global sakeCreateRecord
sakeCreateRecord:
/* 8038D4D0 00383250  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8038D4D4 00383254  7C 08 02 A6 */	mflr r0
/* 8038D4D8 00383258  7C C7 33 78 */	mr r7, r6
/* 8038D4DC 0038325C  90 01 00 14 */	stw r0, 0x14(r1)
/* 8038D4E0 00383260  7C A0 2B 78 */	mr r0, r5
/* 8038D4E4 00383264  7C 85 23 78 */	mr r5, r4
/* 8038D4E8 00383268  38 80 00 00 */	li r4, 0
/* 8038D4EC 0038326C  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8038D4F0 00383270  7C 06 03 78 */	mr r6, r0
/* 8038D4F4 00383274  93 C1 00 08 */	stw r30, 8(r1)
/* 8038D4F8 00383278  7C 7E 1B 78 */	mr r30, r3
/* 8038D4FC 0038327C  48 00 02 81 */	bl sakeiInitRequest
/* 8038D500 00383280  2C 03 00 00 */	cmpwi r3, 0
/* 8038D504 00383284  7C 7F 1B 78 */	mr r31, r3
/* 8038D508 00383288  40 82 00 0C */	bne lbl_8038D514
/* 8038D50C 0038328C  3B E0 00 00 */	li r31, 0
/* 8038D510 00383290  48 00 00 20 */	b lbl_8038D530
lbl_8038D514:
/* 8038D514 00383294  48 00 0D 99 */	bl sakeiStartCreateRecordRequest
/* 8038D518 00383298  2C 03 00 00 */	cmpwi r3, 0
/* 8038D51C 0038329C  90 7E 00 48 */	stw r3, 0x48(r30)
/* 8038D520 003832A0  41 82 00 10 */	beq lbl_8038D530
/* 8038D524 003832A4  7F E3 FB 78 */	mr r3, r31
/* 8038D528 003832A8  48 00 03 25 */	bl sakeiFreeRequest
/* 8038D52C 003832AC  3B E0 00 00 */	li r31, 0
lbl_8038D530:
/* 8038D530 003832B0  7F E3 FB 78 */	mr r3, r31
/* 8038D534 003832B4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8038D538 003832B8  83 C1 00 08 */	lwz r30, 8(r1)
/* 8038D53C 003832BC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8038D540 003832C0  7C 08 03 A6 */	mtlr r0
/* 8038D544 003832C4  38 21 00 10 */	addi r1, r1, 0x10
/* 8038D548 003832C8  4E 80 00 20 */	blr 

.global sakeGetFileDownloadURL
sakeGetFileDownloadURL:
/* 8038D54C 003832CC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8038D550 003832D0  7C 08 02 A6 */	mflr r0
/* 8038D554 003832D4  2C 03 00 00 */	cmpwi r3, 0
/* 8038D558 003832D8  7C 6A 1B 78 */	mr r10, r3
/* 8038D55C 003832DC  90 01 00 14 */	stw r0, 0x14(r1)
/* 8038D560 003832E0  7C A6 2B 78 */	mr r6, r5
/* 8038D564 003832E4  41 82 00 24 */	beq lbl_8038D588
/* 8038D568 003832E8  2C 05 00 00 */	cmpwi r5, 0
/* 8038D56C 003832EC  41 82 00 1C */	beq lbl_8038D588
/* 8038D570 003832F0  80 03 00 00 */	lwz r0, 0(r3)
/* 8038D574 003832F4  2C 00 00 00 */	cmpwi r0, 0
/* 8038D578 003832F8  41 82 00 10 */	beq lbl_8038D588
/* 8038D57C 003832FC  80 03 00 24 */	lwz r0, 0x24(r3)
/* 8038D580 00383300  2C 00 00 00 */	cmpwi r0, 0
/* 8038D584 00383304  40 82 00 0C */	bne lbl_8038D590
lbl_8038D588:
/* 8038D588 00383308  38 60 00 00 */	li r3, 0
/* 8038D58C 0038330C  48 00 00 34 */	b lbl_8038D5C0
lbl_8038D590:
/* 8038D590 00383310  3C A0 80 49 */	lis r5, lbl_80490DA0@ha
/* 8038D594 00383314  81 0A 00 14 */	lwz r8, 0x14(r10)
/* 8038D598 00383318  7C C3 33 78 */	mr r3, r6
/* 8038D59C 0038331C  7C 87 23 78 */	mr r7, r4
/* 8038D5A0 00383320  81 2A 00 28 */	lwz r9, 0x28(r10)
/* 8038D5A4 00383324  38 A5 0D A0 */	addi r5, r5, lbl_80490DA0@l
/* 8038D5A8 00383328  38 CA 00 04 */	addi r6, r10, 4
/* 8038D5AC 0038332C  38 80 00 80 */	li r4, 0x80
/* 8038D5B0 00383330  4C C6 31 82 */	crclr 6
/* 8038D5B4 00383334  48 06 B3 71 */	bl snprintf
/* 8038D5B8 00383338  54 60 0F FE */	srwi r0, r3, 0x1f
/* 8038D5BC 0038333C  68 03 00 01 */	xori r3, r0, 1
lbl_8038D5C0:
/* 8038D5C0 00383340  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8038D5C4 00383344  7C 08 03 A6 */	mtlr r0
/* 8038D5C8 00383348  38 21 00 10 */	addi r1, r1, 0x10
/* 8038D5CC 0038334C  4E 80 00 20 */	blr 

.global sakeGetFileUploadURL
sakeGetFileUploadURL:
/* 8038D5D0 00383350  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8038D5D4 00383354  7C 08 02 A6 */	mflr r0
/* 8038D5D8 00383358  2C 03 00 00 */	cmpwi r3, 0
/* 8038D5DC 0038335C  7C 66 1B 78 */	mr r6, r3
/* 8038D5E0 00383360  90 01 00 14 */	stw r0, 0x14(r1)
/* 8038D5E4 00383364  41 82 00 24 */	beq lbl_8038D608
/* 8038D5E8 00383368  2C 04 00 00 */	cmpwi r4, 0
/* 8038D5EC 0038336C  41 82 00 1C */	beq lbl_8038D608
/* 8038D5F0 00383370  80 03 00 00 */	lwz r0, 0(r3)
/* 8038D5F4 00383374  2C 00 00 00 */	cmpwi r0, 0
/* 8038D5F8 00383378  41 82 00 10 */	beq lbl_8038D608
/* 8038D5FC 0038337C  80 03 00 24 */	lwz r0, 0x24(r3)
/* 8038D600 00383380  2C 00 00 00 */	cmpwi r0, 0
/* 8038D604 00383384  40 82 00 0C */	bne lbl_8038D610
lbl_8038D608:
/* 8038D608 00383388  38 60 00 00 */	li r3, 0
/* 8038D60C 0038338C  48 00 00 30 */	b lbl_8038D63C
lbl_8038D610:
/* 8038D610 00383390  3C A0 80 49 */	lis r5, lbl_80490DF4@ha
/* 8038D614 00383394  80 E6 00 14 */	lwz r7, 0x14(r6)
/* 8038D618 00383398  81 06 00 28 */	lwz r8, 0x28(r6)
/* 8038D61C 0038339C  7C 83 23 78 */	mr r3, r4
/* 8038D620 003833A0  38 A5 0D F4 */	addi r5, r5, lbl_80490DF4@l
/* 8038D624 003833A4  38 C6 00 04 */	addi r6, r6, 4
/* 8038D628 003833A8  38 80 00 80 */	li r4, 0x80
/* 8038D62C 003833AC  4C C6 31 82 */	crclr 6
/* 8038D630 003833B0  48 06 B2 F5 */	bl snprintf
/* 8038D634 003833B4  54 60 0F FE */	srwi r0, r3, 0x1f
/* 8038D638 003833B8  68 03 00 01 */	xori r3, r0, 1
lbl_8038D63C:
/* 8038D63C 003833BC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8038D640 003833C0  7C 08 03 A6 */	mtlr r0
/* 8038D644 003833C4  38 21 00 10 */	addi r1, r1, 0x10
/* 8038D648 003833C8  4E 80 00 20 */	blr 

.global sakeGetFileResultFromHeaders
sakeGetFileResultFromHeaders:
/* 8038D64C 003833CC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8038D650 003833D0  7C 08 02 A6 */	mflr r0
/* 8038D654 003833D4  90 01 00 24 */	stw r0, 0x24(r1)
/* 8038D658 003833D8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8038D65C 003833DC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8038D660 003833E0  3F C0 80 49 */	lis r30, lbl_80490E3C@ha
/* 8038D664 003833E4  3B DE 0E 3C */	addi r30, r30, lbl_80490E3C@l
/* 8038D668 003833E8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8038D66C 003833EC  7C 9D 23 78 */	mr r29, r4
/* 8038D670 003833F0  7F C4 F3 78 */	mr r4, r30
/* 8038D674 003833F4  48 06 D1 25 */	bl strstr
/* 8038D678 003833F8  2C 03 00 00 */	cmpwi r3, 0
/* 8038D67C 003833FC  7C 7F 1B 78 */	mr r31, r3
/* 8038D680 00383400  41 82 00 30 */	beq lbl_8038D6B0
/* 8038D684 00383404  7F C3 F3 78 */	mr r3, r30
/* 8038D688 00383408  48 06 2F B9 */	bl strlen
/* 8038D68C 0038340C  7C 7F 1A 14 */	add r3, r31, r3
/* 8038D690 00383410  38 A1 00 08 */	addi r5, r1, 8
/* 8038D694 00383414  38 8D B7 B8 */	addi r4, r13, lbl_8059FBD8-_SDA_BASE_
/* 8038D698 00383418  4C C6 31 82 */	crclr 6
/* 8038D69C 0038341C  48 06 CA 6D */	bl sscanf
/* 8038D6A0 00383420  2C 03 00 01 */	cmpwi r3, 1
/* 8038D6A4 00383424  40 82 00 0C */	bne lbl_8038D6B0
/* 8038D6A8 00383428  38 00 00 01 */	li r0, 1
/* 8038D6AC 0038342C  48 00 00 08 */	b lbl_8038D6B4
lbl_8038D6B0:
/* 8038D6B0 00383430  38 00 00 00 */	li r0, 0
lbl_8038D6B4:
/* 8038D6B4 00383434  2C 00 00 00 */	cmpwi r0, 0
/* 8038D6B8 00383438  40 82 00 0C */	bne lbl_8038D6C4
/* 8038D6BC 0038343C  38 60 00 00 */	li r3, 0
/* 8038D6C0 00383440  48 00 00 1C */	b lbl_8038D6DC
lbl_8038D6C4:
/* 8038D6C4 00383444  80 01 00 08 */	lwz r0, 8(r1)
/* 8038D6C8 00383448  2C 00 00 06 */	cmpwi r0, 6
/* 8038D6CC 0038344C  41 80 00 08 */	blt lbl_8038D6D4
/* 8038D6D0 00383450  38 00 00 06 */	li r0, 6
lbl_8038D6D4:
/* 8038D6D4 00383454  90 1D 00 00 */	stw r0, 0(r29)
/* 8038D6D8 00383458  38 60 00 01 */	li r3, 1
lbl_8038D6DC:
/* 8038D6DC 0038345C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8038D6E0 00383460  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8038D6E4 00383464  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8038D6E8 00383468  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8038D6EC 0038346C  7C 08 03 A6 */	mtlr r0
/* 8038D6F0 00383470  38 21 00 20 */	addi r1, r1, 0x20
/* 8038D6F4 00383474  4E 80 00 20 */	blr 

.global sakeGetFileIdFromHeaders
sakeGetFileIdFromHeaders:
/* 8038D6F8 00383478  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8038D6FC 0038347C  7C 08 02 A6 */	mflr r0
/* 8038D700 00383480  90 01 00 24 */	stw r0, 0x24(r1)
/* 8038D704 00383484  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8038D708 00383488  93 C1 00 18 */	stw r30, 0x18(r1)
/* 8038D70C 0038348C  3F C0 80 49 */	lis r30, lbl_80490E50@ha
/* 8038D710 00383490  3B DE 0E 50 */	addi r30, r30, lbl_80490E50@l
/* 8038D714 00383494  93 A1 00 14 */	stw r29, 0x14(r1)
/* 8038D718 00383498  7C 9D 23 78 */	mr r29, r4
/* 8038D71C 0038349C  7F C4 F3 78 */	mr r4, r30
/* 8038D720 003834A0  48 06 D0 79 */	bl strstr
/* 8038D724 003834A4  2C 03 00 00 */	cmpwi r3, 0
/* 8038D728 003834A8  7C 7F 1B 78 */	mr r31, r3
/* 8038D72C 003834AC  41 82 00 30 */	beq lbl_8038D75C
/* 8038D730 003834B0  7F C3 F3 78 */	mr r3, r30
/* 8038D734 003834B4  48 06 2F 0D */	bl strlen
/* 8038D738 003834B8  7F A5 EB 78 */	mr r5, r29
/* 8038D73C 003834BC  7C 7F 1A 14 */	add r3, r31, r3
/* 8038D740 003834C0  38 8D B7 B8 */	addi r4, r13, lbl_8059FBD8-_SDA_BASE_
/* 8038D744 003834C4  4C C6 31 82 */	crclr 6
/* 8038D748 003834C8  48 06 C9 C1 */	bl sscanf
/* 8038D74C 003834CC  2C 03 00 01 */	cmpwi r3, 1
/* 8038D750 003834D0  40 82 00 0C */	bne lbl_8038D75C
/* 8038D754 003834D4  38 60 00 01 */	li r3, 1
/* 8038D758 003834D8  48 00 00 08 */	b lbl_8038D760
lbl_8038D75C:
/* 8038D75C 003834DC  38 60 00 00 */	li r3, 0
lbl_8038D760:
/* 8038D760 003834E0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8038D764 003834E4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 8038D768 003834E8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 8038D76C 003834EC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8038D770 003834F0  7C 08 03 A6 */	mtlr r0
/* 8038D774 003834F4  38 21 00 20 */	addi r1, r1, 0x20
/* 8038D778 003834F8  4E 80 00 20 */	blr 

