.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global __ntd_get_allocated_mem_size
__ntd_get_allocated_mem_size:
/* 80230C40 002269C0  3C 60 00 01 */	lis r3, 0x00014A78@ha
/* 80230C44 002269C4  38 63 4A 78 */	addi r3, r3, 0x00014A78@l
/* 80230C48 002269C8  4E 80 00 20 */	blr 

.global uusb_CloseDeviceCB
uusb_CloseDeviceCB:
/* 80230C4C 002269CC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80230C50 002269D0  7C 08 02 A6 */	mflr r0
/* 80230C54 002269D4  3C 80 80 52 */	lis r4, lbl_80525F60@ha
/* 80230C58 002269D8  90 01 00 24 */	stw r0, 0x24(r1)
/* 80230C5C 002269DC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80230C60 002269E0  3B E4 5F 60 */	addi r31, r4, lbl_80525F60@l
/* 80230C64 002269E4  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80230C68 002269E8  3B C0 00 00 */	li r30, 0
/* 80230C6C 002269EC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80230C70 002269F0  7C 7D 1B 78 */	mr r29, r3
/* 80230C74 002269F4  93 C4 5F 60 */	stw r30, 0x5f60(r4)
/* 80230C78 002269F8  9B DF 00 10 */	stb r30, 0x10(r31)
/* 80230C7C 002269FC  9B DF 00 11 */	stb r30, 0x11(r31)
/* 80230C80 00226A00  9B DF 00 12 */	stb r30, 0x12(r31)
/* 80230C84 00226A04  9B DF 00 13 */	stb r30, 0x13(r31)
/* 80230C88 00226A08  9B CD C8 E0 */	stb r30, lbl_805A0D00-_SDA_BASE_(r13)
/* 80230C8C 00226A0C  4B FF 7D F5 */	bl IUSB_CloseLib
/* 80230C90 00226A10  4B FF F8 9D */	bl GKI_disable
/* 80230C94 00226A14  38 00 00 05 */	li r0, 5
/* 80230C98 00226A18  9B DF 00 28 */	stb r30, 0x28(r31)
/* 80230C9C 00226A1C  98 1F 00 29 */	stb r0, 0x29(r31)
/* 80230CA0 00226A20  9B CD C8 E1 */	stb r30, lbl_805A0D01-_SDA_BASE_(r13)
/* 80230CA4 00226A24  4B FF F8 65 */	bl GKI_enable
/* 80230CA8 00226A28  81 9F 00 20 */	lwz r12, 0x20(r31)
/* 80230CAC 00226A2C  2C 0C 00 00 */	cmpwi r12, 0
/* 80230CB0 00226A30  41 82 00 14 */	beq lbl_80230CC4
/* 80230CB4 00226A34  7F A4 07 74 */	extsb r4, r29
/* 80230CB8 00226A38  38 60 00 04 */	li r3, 4
/* 80230CBC 00226A3C  7D 89 03 A6 */	mtctr r12
/* 80230CC0 00226A40  4E 80 04 21 */	bctrl 
lbl_80230CC4:
/* 80230CC4 00226A44  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80230CC8 00226A48  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80230CCC 00226A4C  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80230CD0 00226A50  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80230CD4 00226A54  7C 08 03 A6 */	mtlr r0
/* 80230CD8 00226A58  38 21 00 20 */	addi r1, r1, 0x20
/* 80230CDC 00226A5C  4E 80 00 20 */	blr 

.global uusb_ReadIntrDataCB
uusb_ReadIntrDataCB:
/* 80230CE0 00226A60  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80230CE4 00226A64  7C 08 02 A6 */	mflr r0
/* 80230CE8 00226A68  38 A0 00 00 */	li r5, 0
/* 80230CEC 00226A6C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80230CF0 00226A70  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80230CF4 00226A74  3F E0 80 52 */	lis r31, lbl_80525F60@ha
/* 80230CF8 00226A78  3B FF 5F 60 */	addi r31, r31, lbl_80525F60@l
/* 80230CFC 00226A7C  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80230D00 00226A80  7C 9E 23 78 */	mr r30, r4
/* 80230D04 00226A84  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80230D08 00226A88  7C 7D 1B 78 */	mr r29, r3
/* 80230D0C 00226A8C  88 1F 00 29 */	lbz r0, 0x29(r31)
/* 80230D10 00226A90  98 BF 00 2B */	stb r5, 0x2b(r31)
/* 80230D14 00226A94  28 00 00 02 */	cmplwi r0, 2
/* 80230D18 00226A98  41 82 00 20 */	beq lbl_80230D38
/* 80230D1C 00226A9C  7F C3 F3 78 */	mr r3, r30
/* 80230D20 00226AA0  4B FF E3 C1 */	bl GKI_freebuf
/* 80230D24 00226AA4  88 7F 00 1C */	lbz r3, 0x1c(r31)
/* 80230D28 00226AA8  4B FF EF 35 */	bl GKI_delete_pool
/* 80230D2C 00226AAC  38 00 00 FF */	li r0, 0xff
/* 80230D30 00226AB0  98 1F 00 1C */	stb r0, 0x1c(r31)
/* 80230D34 00226AB4  48 00 00 A4 */	b lbl_80230DD8
lbl_80230D38:
/* 80230D38 00226AB8  38 00 00 00 */	li r0, 0
/* 80230D3C 00226ABC  7C 04 00 40 */	cmplw r4, r0
/* 80230D40 00226AC0  41 82 00 94 */	beq lbl_80230DD4
/* 80230D44 00226AC4  2C 03 00 00 */	cmpwi r3, 0
/* 80230D48 00226AC8  41 81 00 10 */	bgt lbl_80230D58
/* 80230D4C 00226ACC  7F C3 F3 78 */	mr r3, r30
/* 80230D50 00226AD0  4B FF E3 91 */	bl GKI_freebuf
/* 80230D54 00226AD4  48 00 00 80 */	b lbl_80230DD4
lbl_80230D58:
/* 80230D58 00226AD8  38 60 00 02 */	li r3, 2
/* 80230D5C 00226ADC  4B FF E2 9D */	bl GKI_getpoolbuf
/* 80230D60 00226AE0  2C 03 00 00 */	cmpwi r3, 0
/* 80230D64 00226AE4  7C 7F 1B 78 */	mr r31, r3
/* 80230D68 00226AE8  40 82 00 10 */	bne lbl_80230D78
/* 80230D6C 00226AEC  7F C3 F3 78 */	mr r3, r30
/* 80230D70 00226AF0  4B FF E3 71 */	bl GKI_freebuf
/* 80230D74 00226AF4  48 00 00 60 */	b lbl_80230DD4
lbl_80230D78:
/* 80230D78 00226AF8  A0 1E 00 04 */	lhz r0, 4(r30)
/* 80230D7C 00226AFC  57 A4 04 3E */	clrlwi r4, r29, 0x10
/* 80230D80 00226B00  38 C0 10 00 */	li r6, 0x1000
/* 80230D84 00226B04  B3 BE 00 02 */	sth r29, 2(r30)
/* 80230D88 00226B08  7C A4 02 14 */	add r5, r4, r0
/* 80230D8C 00226B0C  7F C4 F3 78 */	mr r4, r30
/* 80230D90 00226B10  38 05 00 08 */	addi r0, r5, 8
/* 80230D94 00226B14  B0 DE 00 00 */	sth r6, 0(r30)
/* 80230D98 00226B18  54 05 00 3A */	rlwinm r5, r0, 0, 0, 0x1d
/* 80230D9C 00226B1C  38 A5 00 04 */	addi r5, r5, 4
/* 80230DA0 00226B20  4B DD 35 99 */	bl func_80004338
/* 80230DA4 00226B24  3C A0 80 52 */	lis r5, lbl_80525FC0@ha
/* 80230DA8 00226B28  3C E0 80 23 */	lis r7, bta_ci_hci_msg_handler@ha
/* 80230DAC 00226B2C  38 A5 5F C0 */	addi r5, r5, lbl_80525FC0@l
/* 80230DB0 00226B30  7F E3 FB 78 */	mr r3, r31
/* 80230DB4 00226B34  39 05 10 00 */	addi r8, r5, 0x1000
/* 80230DB8 00226B38  38 E7 18 EC */	addi r7, r7, bta_ci_hci_msg_handler@l
/* 80230DBC 00226B3C  38 80 00 00 */	li r4, 0
/* 80230DC0 00226B40  38 A0 00 00 */	li r5, 0
/* 80230DC4 00226B44  38 C0 00 00 */	li r6, 0
/* 80230DC8 00226B48  4B FA 73 FD */	bl OSSwitchFiberEx
/* 80230DCC 00226B4C  7F C3 F3 78 */	mr r3, r30
/* 80230DD0 00226B50  4B FF E3 11 */	bl GKI_freebuf
lbl_80230DD4:
/* 80230DD4 00226B54  48 00 01 BD */	bl uusb_issue_intr_read
lbl_80230DD8:
/* 80230DD8 00226B58  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80230DDC 00226B5C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80230DE0 00226B60  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80230DE4 00226B64  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80230DE8 00226B68  7C 08 03 A6 */	mtlr r0
/* 80230DEC 00226B6C  38 21 00 20 */	addi r1, r1, 0x20
/* 80230DF0 00226B70  4E 80 00 20 */	blr 

.global uusb_ReadBulkDataCB
uusb_ReadBulkDataCB:
/* 80230DF4 00226B74  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80230DF8 00226B78  7C 08 02 A6 */	mflr r0
/* 80230DFC 00226B7C  90 01 00 24 */	stw r0, 0x24(r1)
/* 80230E00 00226B80  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80230E04 00226B84  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80230E08 00226B88  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 80230E0C 00226B8C  3B DE 5F 60 */	addi r30, r30, lbl_80525F60@l
/* 80230E10 00226B90  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80230E14 00226B94  7C 9D 23 78 */	mr r29, r4
/* 80230E18 00226B98  93 81 00 10 */	stw r28, 0x10(r1)
/* 80230E1C 00226B9C  88 1E 00 29 */	lbz r0, 0x29(r30)
/* 80230E20 00226BA0  28 00 00 02 */	cmplwi r0, 2
/* 80230E24 00226BA4  41 82 00 20 */	beq lbl_80230E44
/* 80230E28 00226BA8  7F A3 EB 78 */	mr r3, r29
/* 80230E2C 00226BAC  4B FF E2 B5 */	bl GKI_freebuf
/* 80230E30 00226BB0  88 7E 00 1D */	lbz r3, 0x1d(r30)
/* 80230E34 00226BB4  4B FF EE 29 */	bl GKI_delete_pool
/* 80230E38 00226BB8  38 00 00 FF */	li r0, 0xff
/* 80230E3C 00226BBC  98 1E 00 1D */	stb r0, 0x1d(r30)
/* 80230E40 00226BC0  48 00 01 30 */	b lbl_80230F70
lbl_80230E44:
/* 80230E44 00226BC4  2C 03 00 00 */	cmpwi r3, 0
/* 80230E48 00226BC8  41 81 00 10 */	bgt lbl_80230E58
/* 80230E4C 00226BCC  7F A3 EB 78 */	mr r3, r29
/* 80230E50 00226BD0  4B FF E2 91 */	bl GKI_freebuf
/* 80230E54 00226BD4  48 00 00 9C */	b lbl_80230EF0
lbl_80230E58:
/* 80230E58 00226BD8  B0 64 00 02 */	sth r3, 2(r4)
/* 80230E5C 00226BDC  38 60 00 03 */	li r3, 3
/* 80230E60 00226BE0  4B FF E1 99 */	bl GKI_getpoolbuf
/* 80230E64 00226BE4  2C 03 00 00 */	cmpwi r3, 0
/* 80230E68 00226BE8  7C 7C 1B 78 */	mr r28, r3
/* 80230E6C 00226BEC  40 82 00 10 */	bne lbl_80230E7C
/* 80230E70 00226BF0  7F A3 EB 78 */	mr r3, r29
/* 80230E74 00226BF4  4B FF E2 6D */	bl GKI_freebuf
/* 80230E78 00226BF8  48 00 00 78 */	b lbl_80230EF0
lbl_80230E7C:
/* 80230E7C 00226BFC  A0 BD 00 02 */	lhz r5, 2(r29)
/* 80230E80 00226C00  7F A4 EB 78 */	mr r4, r29
/* 80230E84 00226C04  A0 1D 00 04 */	lhz r0, 4(r29)
/* 80230E88 00226C08  7C A5 02 14 */	add r5, r5, r0
/* 80230E8C 00226C0C  38 05 00 08 */	addi r0, r5, 8
/* 80230E90 00226C10  54 05 00 3A */	rlwinm r5, r0, 0, 0, 0x1d
/* 80230E94 00226C14  38 A5 00 04 */	addi r5, r5, 4
/* 80230E98 00226C18  4B DD 34 A1 */	bl func_80004338
/* 80230E9C 00226C1C  7F 83 E3 78 */	mr r3, r28
/* 80230EA0 00226C20  48 01 C2 51 */	bl l2cap_link_chk_pkt_start
/* 80230EA4 00226C24  38 00 00 00 */	li r0, 0
/* 80230EA8 00226C28  7C 7C 1B 78 */	mr r28, r3
/* 80230EAC 00226C2C  7C 03 00 40 */	cmplw r3, r0
/* 80230EB0 00226C30  41 82 00 38 */	beq lbl_80230EE8
/* 80230EB4 00226C34  48 01 C4 0D */	bl l2cap_link_chk_pkt_end
/* 80230EB8 00226C38  54 60 06 3F */	clrlwi. r0, r3, 0x18
/* 80230EBC 00226C3C  41 82 00 2C */	beq lbl_80230EE8
/* 80230EC0 00226C40  3C A0 80 52 */	lis r5, lbl_80526FC0@ha
/* 80230EC4 00226C44  3C E0 80 23 */	lis r7, bta_ci_hci_msg_handler@ha
/* 80230EC8 00226C48  38 A5 6F C0 */	addi r5, r5, lbl_80526FC0@l
/* 80230ECC 00226C4C  7F 83 E3 78 */	mr r3, r28
/* 80230ED0 00226C50  39 05 10 00 */	addi r8, r5, 0x1000
/* 80230ED4 00226C54  38 E7 18 EC */	addi r7, r7, bta_ci_hci_msg_handler@l
/* 80230ED8 00226C58  38 80 00 00 */	li r4, 0
/* 80230EDC 00226C5C  38 A0 00 00 */	li r5, 0
/* 80230EE0 00226C60  38 C0 00 00 */	li r6, 0
/* 80230EE4 00226C64  4B FA 72 E1 */	bl OSSwitchFiberEx
lbl_80230EE8:
/* 80230EE8 00226C68  7F A3 EB 78 */	mr r3, r29
/* 80230EEC 00226C6C  4B FF E1 F5 */	bl GKI_freebuf
lbl_80230EF0:
/* 80230EF0 00226C70  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 80230EF4 00226C74  3B FE 5F 60 */	addi r31, r30, lbl_80525F60@l
lbl_80230EF8:
/* 80230EF8 00226C78  88 7F 00 1D */	lbz r3, 0x1d(r31)
/* 80230EFC 00226C7C  4B FF E0 FD */	bl GKI_getpoolbuf
/* 80230F00 00226C80  2C 03 00 00 */	cmpwi r3, 0
/* 80230F04 00226C84  7C 7C 1B 78 */	mr r28, r3
/* 80230F08 00226C88  41 82 FF F0 */	beq lbl_80230EF8
/* 80230F0C 00226C8C  38 80 11 00 */	li r4, 0x1100
/* 80230F10 00226C90  38 03 00 27 */	addi r0, r3, 0x27
/* 80230F14 00226C94  B0 83 00 00 */	sth r4, 0(r3)
/* 80230F18 00226C98  38 80 00 00 */	li r4, 0
/* 80230F1C 00226C9C  54 1D 00 34 */	rlwinm r29, r0, 0, 0, 0x1a
/* 80230F20 00226CA0  38 03 00 08 */	addi r0, r3, 8
/* 80230F24 00226CA4  B0 83 00 02 */	sth r4, 2(r3)
/* 80230F28 00226CA8  7C 00 E8 50 */	subf r0, r0, r29
/* 80230F2C 00226CAC  B0 03 00 04 */	sth r0, 4(r3)
/* 80230F30 00226CB0  4B FF E3 21 */	bl GKI_get_buf_size
/* 80230F34 00226CB4  54 63 04 3E */	clrlwi r3, r3, 0x10
/* 80230F38 00226CB8  A0 1C 00 04 */	lhz r0, 4(r28)
/* 80230F3C 00226CBC  38 A3 FF D8 */	addi r5, r3, -40
/* 80230F40 00226CC0  3C E0 80 23 */	lis r7, uusb_ReadBulkDataCB@ha
/* 80230F44 00226CC4  80 7E 5F 60 */	lwz r3, 0x5f60(r30)
/* 80230F48 00226CC8  7F A6 EB 78 */	mr r6, r29
/* 80230F4C 00226CCC  88 9F 00 11 */	lbz r4, 0x11(r31)
/* 80230F50 00226CD0  7F 88 E3 78 */	mr r8, r28
/* 80230F54 00226CD4  7C A0 28 50 */	subf r5, r0, r5
/* 80230F58 00226CD8  38 E7 0D F4 */	addi r7, r7, uusb_ReadBulkDataCB@l
/* 80230F5C 00226CDC  4B FF 82 ED */	bl IUSB_ReadBlkMsgAsync
/* 80230F60 00226CE0  2C 03 00 00 */	cmpwi r3, 0
/* 80230F64 00226CE4  41 82 00 0C */	beq lbl_80230F70
/* 80230F68 00226CE8  7F 83 E3 78 */	mr r3, r28
/* 80230F6C 00226CEC  4B FF E1 75 */	bl GKI_freebuf
lbl_80230F70:
/* 80230F70 00226CF0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80230F74 00226CF4  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80230F78 00226CF8  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80230F7C 00226CFC  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80230F80 00226D00  83 81 00 10 */	lwz r28, 0x10(r1)
/* 80230F84 00226D04  7C 08 03 A6 */	mtlr r0
/* 80230F88 00226D08  38 21 00 20 */	addi r1, r1, 0x20
/* 80230F8C 00226D0C  4E 80 00 20 */	blr 

.global uusb_issue_intr_read
uusb_issue_intr_read:
/* 80230F90 00226D10  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80230F94 00226D14  7C 08 02 A6 */	mflr r0
/* 80230F98 00226D18  90 01 00 24 */	stw r0, 0x24(r1)
/* 80230F9C 00226D1C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80230FA0 00226D20  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80230FA4 00226D24  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 80230FA8 00226D28  3B FE 5F 60 */	addi r31, r30, lbl_80525F60@l
/* 80230FAC 00226D2C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80230FB0 00226D30  93 81 00 10 */	stw r28, 0x10(r1)
lbl_80230FB4:
/* 80230FB4 00226D34  88 7F 00 1C */	lbz r3, 0x1c(r31)
/* 80230FB8 00226D38  4B FF E0 41 */	bl GKI_getpoolbuf
/* 80230FBC 00226D3C  2C 03 00 00 */	cmpwi r3, 0
/* 80230FC0 00226D40  7C 7D 1B 78 */	mr r29, r3
/* 80230FC4 00226D44  41 82 FF F0 */	beq lbl_80230FB4
/* 80230FC8 00226D48  38 80 10 00 */	li r4, 0x1000
/* 80230FCC 00226D4C  38 03 00 27 */	addi r0, r3, 0x27
/* 80230FD0 00226D50  B0 83 00 00 */	sth r4, 0(r3)
/* 80230FD4 00226D54  38 80 00 00 */	li r4, 0
/* 80230FD8 00226D58  54 1C 00 34 */	rlwinm r28, r0, 0, 0, 0x1a
/* 80230FDC 00226D5C  38 03 00 08 */	addi r0, r3, 8
/* 80230FE0 00226D60  B0 83 00 02 */	sth r4, 2(r3)
/* 80230FE4 00226D64  7C 00 E0 50 */	subf r0, r0, r28
/* 80230FE8 00226D68  B0 03 00 04 */	sth r0, 4(r3)
/* 80230FEC 00226D6C  4B FF E2 65 */	bl GKI_get_buf_size
/* 80230FF0 00226D70  54 63 04 3E */	clrlwi r3, r3, 0x10
/* 80230FF4 00226D74  A0 1D 00 04 */	lhz r0, 4(r29)
/* 80230FF8 00226D78  38 A3 FF D8 */	addi r5, r3, -40
/* 80230FFC 00226D7C  3C E0 80 23 */	lis r7, uusb_ReadIntrDataCB@ha
/* 80231000 00226D80  80 7E 5F 60 */	lwz r3, 0x5f60(r30)
/* 80231004 00226D84  7F 86 E3 78 */	mr r6, r28
/* 80231008 00226D88  88 9F 00 12 */	lbz r4, 0x12(r31)
/* 8023100C 00226D8C  7F A8 EB 78 */	mr r8, r29
/* 80231010 00226D90  7C A0 28 50 */	subf r5, r0, r5
/* 80231014 00226D94  38 E7 0C E0 */	addi r7, r7, uusb_ReadIntrDataCB@l
/* 80231018 00226D98  4B FF 81 BD */	bl IUSB_ReadIntrMsgAsync
/* 8023101C 00226D9C  2C 03 00 00 */	cmpwi r3, 0
/* 80231020 00226DA0  41 82 00 0C */	beq lbl_8023102C
/* 80231024 00226DA4  7F A3 EB 78 */	mr r3, r29
/* 80231028 00226DA8  4B FF E0 B9 */	bl GKI_freebuf
lbl_8023102C:
/* 8023102C 00226DAC  3C 60 80 52 */	lis r3, lbl_80525F60@ha
/* 80231030 00226DB0  38 00 00 01 */	li r0, 1
/* 80231034 00226DB4  38 63 5F 60 */	addi r3, r3, lbl_80525F60@l
/* 80231038 00226DB8  98 03 00 2B */	stb r0, 0x2b(r3)
/* 8023103C 00226DBC  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80231040 00226DC0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80231044 00226DC4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80231048 00226DC8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8023104C 00226DCC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80231050 00226DD0  7C 08 03 A6 */	mtlr r0
/* 80231054 00226DD4  38 21 00 20 */	addi r1, r1, 0x20
/* 80231058 00226DD8  4E 80 00 20 */	blr 

.global uusb_WriteCtrlDataCB
uusb_WriteCtrlDataCB:
/* 8023105C 00226DDC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80231060 00226DE0  7C 08 02 A6 */	mflr r0
/* 80231064 00226DE4  2C 04 00 00 */	cmpwi r4, 0
/* 80231068 00226DE8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8023106C 00226DEC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80231070 00226DF0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80231074 00226DF4  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80231078 00226DF8  41 82 00 28 */	beq lbl_802310A0
/* 8023107C 00226DFC  7C 83 23 78 */	mr r3, r4
/* 80231080 00226E00  4B FF E0 61 */	bl GKI_freebuf
/* 80231084 00226E04  4B FF F4 A9 */	bl GKI_disable
/* 80231088 00226E08  3C 80 80 52 */	lis r4, lbl_80525F60@ha
/* 8023108C 00226E0C  38 84 5F 60 */	addi r4, r4, lbl_80525F60@l
/* 80231090 00226E10  88 64 00 48 */	lbz r3, 0x48(r4)
/* 80231094 00226E14  38 03 FF FF */	addi r0, r3, -1
/* 80231098 00226E18  98 04 00 48 */	stb r0, 0x48(r4)
/* 8023109C 00226E1C  4B FF F4 6D */	bl GKI_enable
lbl_802310A0:
/* 802310A0 00226E20  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 802310A4 00226E24  3B FE 5F 60 */	addi r31, r30, lbl_80525F60@l
/* 802310A8 00226E28  88 1F 00 48 */	lbz r0, 0x48(r31)
/* 802310AC 00226E2C  28 00 00 05 */	cmplwi r0, 5
/* 802310B0 00226E30  40 80 00 7C */	bge lbl_8023112C
/* 802310B4 00226E34  A0 1F 00 44 */	lhz r0, 0x44(r31)
/* 802310B8 00226E38  2C 00 00 00 */	cmpwi r0, 0
/* 802310BC 00226E3C  41 82 00 70 */	beq lbl_8023112C
/* 802310C0 00226E40  38 7F 00 3C */	addi r3, r31, 0x3c
/* 802310C4 00226E44  4B FF E6 B9 */	bl GKI_dequeue
/* 802310C8 00226E48  90 61 00 08 */	stw r3, 8(r1)
/* 802310CC 00226E4C  7C 7D 1B 78 */	mr r29, r3
/* 802310D0 00226E50  3D 40 80 23 */	lis r10, uusb_WriteCtrlDataCB@ha
/* 802310D4 00226E54  38 80 00 20 */	li r4, 0x20
/* 802310D8 00226E58  A0 03 00 04 */	lhz r0, 4(r3)
/* 802310DC 00226E5C  39 4A 10 5C */	addi r10, r10, uusb_WriteCtrlDataCB@l
/* 802310E0 00226E60  80 7E 5F 60 */	lwz r3, 0x5f60(r30)
/* 802310E4 00226E64  38 A0 00 00 */	li r5, 0
/* 802310E8 00226E68  7C DD 02 14 */	add r6, r29, r0
/* 802310EC 00226E6C  A1 1D 00 02 */	lhz r8, 2(r29)
/* 802310F0 00226E70  39 26 00 08 */	addi r9, r6, 8
/* 802310F4 00226E74  38 E0 00 00 */	li r7, 0
/* 802310F8 00226E78  38 C0 00 00 */	li r6, 0
/* 802310FC 00226E7C  4B FF 87 D9 */	bl IUSB_WriteCtrlMsgAsync
/* 80231100 00226E80  2C 03 00 00 */	cmpwi r3, 0
/* 80231104 00226E84  40 80 00 14 */	bge lbl_80231118
/* 80231108 00226E88  7F A4 EB 78 */	mr r4, r29
/* 8023110C 00226E8C  38 7F 00 3C */	addi r3, r31, 0x3c
/* 80231110 00226E90  4B FF E5 2D */	bl GKI_enqueue_head
/* 80231114 00226E94  48 00 00 18 */	b lbl_8023112C
lbl_80231118:
/* 80231118 00226E98  4B FF F4 15 */	bl GKI_disable
/* 8023111C 00226E9C  88 7F 00 48 */	lbz r3, 0x48(r31)
/* 80231120 00226EA0  38 03 00 01 */	addi r0, r3, 1
/* 80231124 00226EA4  98 1F 00 48 */	stb r0, 0x48(r31)
/* 80231128 00226EA8  4B FF F3 E1 */	bl GKI_enable
lbl_8023112C:
/* 8023112C 00226EAC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80231130 00226EB0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80231134 00226EB4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80231138 00226EB8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8023113C 00226EBC  7C 08 03 A6 */	mtlr r0
/* 80231140 00226EC0  38 21 00 20 */	addi r1, r1, 0x20
/* 80231144 00226EC4  4E 80 00 20 */	blr 

.global uusb_WriteBulkDataCB
uusb_WriteBulkDataCB:
/* 80231148 00226EC8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8023114C 00226ECC  7C 08 02 A6 */	mflr r0
/* 80231150 00226ED0  2C 04 00 00 */	cmpwi r4, 0
/* 80231154 00226ED4  90 01 00 24 */	stw r0, 0x24(r1)
/* 80231158 00226ED8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 8023115C 00226EDC  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80231160 00226EE0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80231164 00226EE4  41 82 00 28 */	beq lbl_8023118C
/* 80231168 00226EE8  7C 83 23 78 */	mr r3, r4
/* 8023116C 00226EEC  4B FF DF 75 */	bl GKI_freebuf
/* 80231170 00226EF0  4B FF F3 BD */	bl GKI_disable
/* 80231174 00226EF4  3C 80 80 52 */	lis r4, lbl_80525F60@ha
/* 80231178 00226EF8  38 84 5F 60 */	addi r4, r4, lbl_80525F60@l
/* 8023117C 00226EFC  88 64 00 38 */	lbz r3, 0x38(r4)
/* 80231180 00226F00  38 03 FF FF */	addi r0, r3, -1
/* 80231184 00226F04  98 04 00 38 */	stb r0, 0x38(r4)
/* 80231188 00226F08  4B FF F3 81 */	bl GKI_enable
lbl_8023118C:
/* 8023118C 00226F0C  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 80231190 00226F10  3B FE 5F 60 */	addi r31, r30, lbl_80525F60@l
/* 80231194 00226F14  88 1F 00 38 */	lbz r0, 0x38(r31)
/* 80231198 00226F18  28 00 00 05 */	cmplwi r0, 5
/* 8023119C 00226F1C  40 80 00 70 */	bge lbl_8023120C
/* 802311A0 00226F20  A0 1F 00 34 */	lhz r0, 0x34(r31)
/* 802311A4 00226F24  2C 00 00 00 */	cmpwi r0, 0
/* 802311A8 00226F28  41 82 00 64 */	beq lbl_8023120C
/* 802311AC 00226F2C  38 7F 00 2C */	addi r3, r31, 0x2c
/* 802311B0 00226F30  4B FF E5 CD */	bl GKI_dequeue
/* 802311B4 00226F34  A0 03 00 04 */	lhz r0, 4(r3)
/* 802311B8 00226F38  7C 7D 1B 78 */	mr r29, r3
/* 802311BC 00226F3C  3C E0 80 23 */	lis r7, uusb_WriteBulkDataCB@ha
/* 802311C0 00226F40  80 7E 5F 60 */	lwz r3, 0x5f60(r30)
/* 802311C4 00226F44  7C DD 02 14 */	add r6, r29, r0
/* 802311C8 00226F48  88 9F 00 10 */	lbz r4, 0x10(r31)
/* 802311CC 00226F4C  A0 BD 00 02 */	lhz r5, 2(r29)
/* 802311D0 00226F50  7F A8 EB 78 */	mr r8, r29
/* 802311D4 00226F54  38 E7 11 48 */	addi r7, r7, uusb_WriteBulkDataCB@l
/* 802311D8 00226F58  38 C6 00 08 */	addi r6, r6, 8
/* 802311DC 00226F5C  4B FF 80 E1 */	bl IUSB_WriteBlkMsgAsync
/* 802311E0 00226F60  2C 03 00 00 */	cmpwi r3, 0
/* 802311E4 00226F64  40 80 00 14 */	bge lbl_802311F8
/* 802311E8 00226F68  7F A4 EB 78 */	mr r4, r29
/* 802311EC 00226F6C  38 7F 00 2C */	addi r3, r31, 0x2c
/* 802311F0 00226F70  4B FF E4 4D */	bl GKI_enqueue_head
/* 802311F4 00226F74  48 00 00 18 */	b lbl_8023120C
lbl_802311F8:
/* 802311F8 00226F78  4B FF F3 35 */	bl GKI_disable
/* 802311FC 00226F7C  88 7F 00 38 */	lbz r3, 0x38(r31)
/* 80231200 00226F80  38 03 00 01 */	addi r0, r3, 1
/* 80231204 00226F84  98 1F 00 38 */	stb r0, 0x38(r31)
/* 80231208 00226F88  4B FF F3 01 */	bl GKI_enable
lbl_8023120C:
/* 8023120C 00226F8C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 80231210 00226F90  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80231214 00226F94  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80231218 00226F98  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 8023121C 00226F9C  7C 08 03 A6 */	mtlr r0
/* 80231220 00226FA0  38 21 00 20 */	addi r1, r1, 0x20
/* 80231224 00226FA4  4E 80 00 20 */	blr 

.global UUSB_Register
UUSB_Register:
/* 80231228 00226FA8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8023122C 00226FAC  7C 08 02 A6 */	mflr r0
/* 80231230 00226FB0  38 80 00 00 */	li r4, 0
/* 80231234 00226FB4  38 A0 00 4C */	li r5, 0x4c
/* 80231238 00226FB8  90 01 00 14 */	stw r0, 0x14(r1)
/* 8023123C 00226FBC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80231240 00226FC0  7C 7F 1B 78 */	mr r31, r3
/* 80231244 00226FC4  93 C1 00 08 */	stw r30, 8(r1)
/* 80231248 00226FC8  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 8023124C 00226FCC  38 7E 5F 60 */	addi r3, r30, lbl_80525F60@l
/* 80231250 00226FD0  4B DD 31 ED */	bl func_8000443C
/* 80231254 00226FD4  4B FF F2 D9 */	bl GKI_disable
/* 80231258 00226FD8  3B DE 5F 60 */	addi r30, r30, 0x5f60
/* 8023125C 00226FDC  38 00 00 05 */	li r0, 5
/* 80231260 00226FE0  98 1E 00 29 */	stb r0, 0x29(r30)
/* 80231264 00226FE4  4B FF F2 A5 */	bl GKI_enable
/* 80231268 00226FE8  88 0D C8 E1 */	lbz r0, lbl_805A0D01-_SDA_BASE_(r13)
/* 8023126C 00226FEC  2C 00 00 00 */	cmpwi r0, 0
/* 80231270 00226FF0  40 82 00 14 */	bne lbl_80231284
/* 80231274 00226FF4  38 60 00 00 */	li r3, 0
/* 80231278 00226FF8  38 00 00 01 */	li r0, 1
/* 8023127C 00226FFC  98 7E 00 28 */	stb r3, 0x28(r30)
/* 80231280 00227000  98 0D C8 E1 */	stb r0, lbl_805A0D01-_SDA_BASE_(r13)
lbl_80231284:
/* 80231284 00227004  4B FE 0C A5 */	bl IPCCltInit
/* 80231288 00227008  2C 03 00 00 */	cmpwi r3, 0
/* 8023128C 0022700C  40 82 01 8C */	bne lbl_80231418
/* 80231290 00227010  4B FF 76 F9 */	bl IUSB_OpenLib
/* 80231294 00227014  2C 03 00 00 */	cmpwi r3, 0
/* 80231298 00227018  40 82 01 80 */	bne lbl_80231418
/* 8023129C 0022701C  88 0D C8 EC */	lbz r0, lbl_805A0D0C-_SDA_BASE_(r13)
/* 802312A0 00227020  3C 80 80 52 */	lis r4, lbl_80525F60@ha
/* 802312A4 00227024  38 84 5F 60 */	addi r4, r4, lbl_80525F60@l
/* 802312A8 00227028  28 00 00 01 */	cmplwi r0, 1
/* 802312AC 0022702C  93 E4 00 24 */	stw r31, 0x24(r4)
/* 802312B0 00227030  40 82 00 18 */	bne lbl_802312C8
/* 802312B4 00227034  80 6D C8 F0 */	lwz r3, lbl_805A0D10-_SDA_BASE_(r13)
/* 802312B8 00227038  80 0D C8 F4 */	lwz r0, lbl_805A0D14-_SDA_BASE_(r13)
/* 802312BC 0022703C  90 64 00 14 */	stw r3, 0x14(r4)
/* 802312C0 00227040  90 04 00 18 */	stw r0, 0x18(r4)
/* 802312C4 00227044  48 00 00 14 */	b lbl_802312D8
lbl_802312C8:
/* 802312C8 00227048  38 60 05 7E */	li r3, 0x57e
/* 802312CC 0022704C  38 00 03 05 */	li r0, 0x305
/* 802312D0 00227050  90 64 00 14 */	stw r3, 0x14(r4)
/* 802312D4 00227054  90 04 00 18 */	stw r0, 0x18(r4)
lbl_802312D8:
/* 802312D8 00227058  80 0D C8 E8 */	lwz r0, lbl_805A0D08-_SDA_BASE_(r13)
/* 802312DC 0022705C  3C C0 80 52 */	lis r6, lbl_80525F60@ha
/* 802312E0 00227060  38 C6 5F 60 */	addi r6, r6, lbl_80525F60@l
/* 802312E4 00227064  38 60 00 00 */	li r3, 0
/* 802312E8 00227068  28 00 00 01 */	cmplwi r0, 1
/* 802312EC 0022706C  98 66 00 10 */	stb r3, 0x10(r6)
/* 802312F0 00227070  80 A6 00 18 */	lwz r5, 0x18(r6)
/* 802312F4 00227074  98 66 00 11 */	stb r3, 0x11(r6)
/* 802312F8 00227078  80 06 00 14 */	lwz r0, 0x14(r6)
/* 802312FC 0022707C  98 66 00 12 */	stb r3, 0x12(r6)
/* 80231300 00227080  98 66 00 13 */	stb r3, 0x13(r6)
/* 80231304 00227084  40 82 00 48 */	bne lbl_8023134C
/* 80231308 00227088  80 6D C8 E4 */	lwz r3, lbl_805A0D04-_SDA_BASE_(r13)
/* 8023130C 0022708C  2C 03 00 00 */	cmpwi r3, 0
/* 80231310 00227090  40 82 00 1C */	bne lbl_8023132C
/* 80231314 00227094  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 80231318 00227098  54 A5 04 3E */	clrlwi r5, r5, 0x10
/* 8023131C 0022709C  38 6D A9 80 */	addi r3, r13, lbl_8059EDA0-_SDA_BASE_
/* 80231320 002270A0  4B FF 79 11 */	bl IUSB_OpenDeviceIds
/* 80231324 002270A4  7C 7E 1B 78 */	mr r30, r3
/* 80231328 002270A8  48 00 00 38 */	b lbl_80231360
lbl_8023132C:
/* 8023132C 002270AC  28 03 00 01 */	cmplwi r3, 1
/* 80231330 002270B0  40 82 00 30 */	bne lbl_80231360
/* 80231334 002270B4  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 80231338 002270B8  54 A5 04 3E */	clrlwi r5, r5, 0x10
/* 8023133C 002270BC  38 6D A9 84 */	addi r3, r13, lbl_8059EDA4-_SDA_BASE_
/* 80231340 002270C0  4B FF 78 F1 */	bl IUSB_OpenDeviceIds
/* 80231344 002270C4  7C 7E 1B 78 */	mr r30, r3
/* 80231348 002270C8  48 00 00 18 */	b lbl_80231360
lbl_8023134C:
/* 8023134C 002270CC  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 80231350 002270D0  54 A5 04 3E */	clrlwi r5, r5, 0x10
/* 80231354 002270D4  38 6D A9 84 */	addi r3, r13, lbl_8059EDA4-_SDA_BASE_
/* 80231358 002270D8  4B FF 78 D9 */	bl IUSB_OpenDeviceIds
/* 8023135C 002270DC  7C 7E 1B 78 */	mr r30, r3
lbl_80231360:
/* 80231360 002270E0  2C 1E 00 00 */	cmpwi r30, 0
/* 80231364 002270E4  41 80 00 08 */	blt lbl_8023136C
/* 80231368 002270E8  93 CD A9 7C */	stw r30, lbl_8059ED9C-_SDA_BASE_(r13)
lbl_8023136C:
/* 8023136C 002270EC  2C 1E 00 00 */	cmpwi r30, 0
/* 80231370 002270F0  41 80 00 A8 */	blt lbl_80231418
/* 80231374 002270F4  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 80231378 002270F8  38 60 00 02 */	li r3, 2
/* 8023137C 002270FC  3B DE 5F 60 */	addi r30, r30, lbl_80525F60@l
/* 80231380 00227100  38 80 00 82 */	li r4, 0x82
/* 80231384 00227104  38 00 00 81 */	li r0, 0x81
/* 80231388 00227108  3B E0 00 00 */	li r31, 0
/* 8023138C 0022710C  98 7E 00 10 */	stb r3, 0x10(r30)
/* 80231390 00227110  38 7E 00 2C */	addi r3, r30, 0x2c
/* 80231394 00227114  98 9E 00 11 */	stb r4, 0x11(r30)
/* 80231398 00227118  98 1E 00 12 */	stb r0, 0x12(r30)
/* 8023139C 0022711C  9B FE 00 13 */	stb r31, 0x13(r30)
/* 802313A0 00227120  4B FF DA A5 */	bl GKI_init_q
/* 802313A4 00227124  9B FE 00 38 */	stb r31, 0x38(r30)
/* 802313A8 00227128  38 7E 00 3C */	addi r3, r30, 0x3c
/* 802313AC 0022712C  4B FF DA 99 */	bl GKI_init_q
/* 802313B0 00227130  9B FE 00 48 */	stb r31, 0x48(r30)
/* 802313B4 00227134  38 60 02 94 */	li r3, 0x294
/* 802313B8 00227138  38 80 00 2D */	li r4, 0x2d
/* 802313BC 0022713C  38 A0 00 01 */	li r5, 1
/* 802313C0 00227140  38 C0 00 00 */	li r6, 0
/* 802313C4 00227144  4B FF E5 51 */	bl GKI_create_pool
/* 802313C8 00227148  98 7E 00 1C */	stb r3, 0x1c(r30)
/* 802313CC 0022714C  38 60 07 08 */	li r3, 0x708
/* 802313D0 00227150  38 80 00 1E */	li r4, 0x1e
/* 802313D4 00227154  38 A0 00 01 */	li r5, 1
/* 802313D8 00227158  38 C0 00 00 */	li r6, 0
/* 802313DC 0022715C  4B FF E5 39 */	bl GKI_create_pool
/* 802313E0 00227160  88 1E 00 1C */	lbz r0, 0x1c(r30)
/* 802313E4 00227164  98 7E 00 1D */	stb r3, 0x1d(r30)
/* 802313E8 00227168  28 00 00 FF */	cmplwi r0, 0xff
/* 802313EC 0022716C  41 82 00 2C */	beq lbl_80231418
/* 802313F0 00227170  54 60 06 3E */	clrlwi r0, r3, 0x18
/* 802313F4 00227174  28 00 00 FF */	cmplwi r0, 0xff
/* 802313F8 00227178  40 82 00 08 */	bne lbl_80231400
/* 802313FC 0022717C  48 00 00 1C */	b lbl_80231418
lbl_80231400:
/* 80231400 00227180  4B FF F1 2D */	bl GKI_disable
/* 80231404 00227184  38 00 00 04 */	li r0, 4
/* 80231408 00227188  98 1E 00 29 */	stb r0, 0x29(r30)
/* 8023140C 0022718C  4B FF F0 FD */	bl GKI_enable
/* 80231410 00227190  38 00 00 01 */	li r0, 1
/* 80231414 00227194  90 0D A9 78 */	stw r0, lbl_8059ED98-_SDA_BASE_(r13)
lbl_80231418:
/* 80231418 00227198  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8023141C 0022719C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80231420 002271A0  83 C1 00 08 */	lwz r30, 8(r1)
/* 80231424 002271A4  7C 08 03 A6 */	mtlr r0
/* 80231428 002271A8  38 21 00 10 */	addi r1, r1, 0x10
/* 8023142C 002271AC  4E 80 00 20 */	blr 

.global UUSB_Open
UUSB_Open:
/* 80231430 002271B0  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 80231434 002271B4  7C 08 02 A6 */	mflr r0
/* 80231438 002271B8  90 01 00 24 */	stw r0, 0x24(r1)
/* 8023143C 002271BC  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 80231440 002271C0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 80231444 002271C4  3F C0 80 52 */	lis r30, lbl_80525F60@ha
/* 80231448 002271C8  3B FE 5F 60 */	addi r31, r30, lbl_80525F60@l
/* 8023144C 002271CC  93 A1 00 14 */	stw r29, 0x14(r1)
/* 80231450 002271D0  93 81 00 10 */	stw r28, 0x10(r1)
/* 80231454 002271D4  7C 9C 23 78 */	mr r28, r4
/* 80231458 002271D8  88 1F 00 29 */	lbz r0, 0x29(r31)
/* 8023145C 002271DC  28 00 00 04 */	cmplwi r0, 4
/* 80231460 002271E0  40 82 00 B8 */	bne lbl_80231518
/* 80231464 002271E4  88 1F 00 1C */	lbz r0, 0x1c(r31)
/* 80231468 002271E8  28 00 00 FF */	cmplwi r0, 0xff
/* 8023146C 002271EC  41 82 00 AC */	beq lbl_80231518
/* 80231470 002271F0  88 1F 00 1D */	lbz r0, 0x1d(r31)
/* 80231474 002271F4  28 00 00 FF */	cmplwi r0, 0xff
/* 80231478 002271F8  40 82 00 08 */	bne lbl_80231480
/* 8023147C 002271FC  48 00 00 9C */	b lbl_80231518
lbl_80231480:
/* 80231480 00227200  4B FF F0 AD */	bl GKI_disable
/* 80231484 00227204  38 00 00 02 */	li r0, 2
/* 80231488 00227208  93 9F 00 20 */	stw r28, 0x20(r31)
/* 8023148C 0022720C  98 1F 00 29 */	stb r0, 0x29(r31)
/* 80231490 00227210  4B FF F0 79 */	bl GKI_enable
/* 80231494 00227214  4B FF FA FD */	bl uusb_issue_intr_read
lbl_80231498:
/* 80231498 00227218  88 7F 00 1D */	lbz r3, 0x1d(r31)
/* 8023149C 0022721C  4B FF DB 5D */	bl GKI_getpoolbuf
/* 802314A0 00227220  2C 03 00 00 */	cmpwi r3, 0
/* 802314A4 00227224  7C 7C 1B 78 */	mr r28, r3
/* 802314A8 00227228  41 82 FF F0 */	beq lbl_80231498
/* 802314AC 0022722C  38 80 11 00 */	li r4, 0x1100
/* 802314B0 00227230  38 03 00 27 */	addi r0, r3, 0x27
/* 802314B4 00227234  B0 83 00 00 */	sth r4, 0(r3)
/* 802314B8 00227238  38 80 00 00 */	li r4, 0
/* 802314BC 0022723C  54 1D 00 34 */	rlwinm r29, r0, 0, 0, 0x1a
/* 802314C0 00227240  38 03 00 08 */	addi r0, r3, 8
/* 802314C4 00227244  B0 83 00 02 */	sth r4, 2(r3)
/* 802314C8 00227248  7C 00 E8 50 */	subf r0, r0, r29
/* 802314CC 0022724C  B0 03 00 04 */	sth r0, 4(r3)
/* 802314D0 00227250  4B FF DD 81 */	bl GKI_get_buf_size
/* 802314D4 00227254  54 63 04 3E */	clrlwi r3, r3, 0x10
/* 802314D8 00227258  A0 1C 00 04 */	lhz r0, 4(r28)
/* 802314DC 0022725C  38 A3 FF D8 */	addi r5, r3, -40
/* 802314E0 00227260  3C E0 80 23 */	lis r7, uusb_ReadBulkDataCB@ha
/* 802314E4 00227264  80 7E 5F 60 */	lwz r3, 0x5f60(r30)
/* 802314E8 00227268  7F A6 EB 78 */	mr r6, r29
/* 802314EC 0022726C  88 9F 00 11 */	lbz r4, 0x11(r31)
/* 802314F0 00227270  7F 88 E3 78 */	mr r8, r28
/* 802314F4 00227274  7C A0 28 50 */	subf r5, r0, r5
/* 802314F8 00227278  38 E7 0D F4 */	addi r7, r7, uusb_ReadBulkDataCB@l
/* 802314FC 0022727C  4B FF 7D 4D */	bl IUSB_ReadBlkMsgAsync
/* 80231500 00227280  2C 03 00 00 */	cmpwi r3, 0
/* 80231504 00227284  41 82 00 0C */	beq lbl_80231510
/* 80231508 00227288  7F 83 E3 78 */	mr r3, r28
/* 8023150C 0022728C  4B FF DB D5 */	bl GKI_freebuf
lbl_80231510:
/* 80231510 00227290  38 00 00 00 */	li r0, 0
/* 80231514 00227294  90 0D A9 78 */	stw r0, lbl_8059ED98-_SDA_BASE_(r13)
lbl_80231518:
/* 80231518 00227298  80 01 00 24 */	lwz r0, 0x24(r1)
/* 8023151C 0022729C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 80231520 002272A0  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 80231524 002272A4  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 80231528 002272A8  83 81 00 10 */	lwz r28, 0x10(r1)
/* 8023152C 002272AC  7C 08 03 A6 */	mtlr r0
/* 80231530 002272B0  38 21 00 20 */	addi r1, r1, 0x20
/* 80231534 002272B4  4E 80 00 20 */	blr 

.global UUSB_Read
UUSB_Read:
/* 80231538 002272B8  38 60 00 00 */	li r3, 0
/* 8023153C 002272BC  4E 80 00 20 */	blr 

.global UUSB_Write
UUSB_Write:
/* 80231540 002272C0  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80231544 002272C4  7C 08 02 A6 */	mflr r0
/* 80231548 002272C8  90 01 00 34 */	stw r0, 0x34(r1)
/* 8023154C 002272CC  39 61 00 30 */	addi r11, r1, 0x30
/* 80231550 002272D0  48 1B FD C9 */	bl _savegpr_25
/* 80231554 002272D4  3F A0 80 52 */	lis r29, lbl_80525F60@ha
/* 80231558 002272D8  7C 99 23 78 */	mr r25, r4
/* 8023155C 002272DC  3B DD 5F 60 */	addi r30, r29, lbl_80525F60@l
/* 80231560 002272E0  7C BF 2B 78 */	mr r31, r5
/* 80231564 002272E4  88 1E 00 29 */	lbz r0, 0x29(r30)
/* 80231568 002272E8  3B 80 00 00 */	li r28, 0
/* 8023156C 002272EC  28 00 00 02 */	cmplwi r0, 2
/* 80231570 002272F0  41 82 00 0C */	beq lbl_8023157C
/* 80231574 002272F4  38 60 00 00 */	li r3, 0
/* 80231578 002272F8  48 00 01 C4 */	b lbl_8023173C
lbl_8023157C:
/* 8023157C 002272FC  2C 03 00 02 */	cmpwi r3, 2
/* 80231580 00227300  41 82 00 F0 */	beq lbl_80231670
/* 80231584 00227304  40 80 01 B4 */	bge lbl_80231738
/* 80231588 00227308  2C 03 00 00 */	cmpwi r3, 0
/* 8023158C 0022730C  41 82 00 0C */	beq lbl_80231598
/* 80231590 00227310  48 00 01 A8 */	b lbl_80231738
/* 80231594 00227314  48 00 01 A4 */	b lbl_80231738
lbl_80231598:
/* 80231598 00227318  88 7E 00 1C */	lbz r3, 0x1c(r30)
/* 8023159C 0022731C  4B FF DA 5D */	bl GKI_getpoolbuf
/* 802315A0 00227320  2C 03 00 00 */	cmpwi r3, 0
/* 802315A4 00227324  7C 7A 1B 78 */	mr r26, r3
/* 802315A8 00227328  40 82 00 0C */	bne lbl_802315B4
/* 802315AC 0022732C  38 60 00 00 */	li r3, 0
/* 802315B0 00227330  48 00 01 8C */	b lbl_8023173C
lbl_802315B4:
/* 802315B4 00227334  38 03 00 27 */	addi r0, r3, 0x27
/* 802315B8 00227338  B3 E3 00 02 */	sth r31, 2(r3)
/* 802315BC 0022733C  54 1B 00 34 */	rlwinm r27, r0, 0, 0, 0x1a
/* 802315C0 00227340  7F 24 CB 78 */	mr r4, r25
/* 802315C4 00227344  38 03 00 08 */	addi r0, r3, 8
/* 802315C8 00227348  7F E5 FB 78 */	mr r5, r31
/* 802315CC 0022734C  7C 00 D8 50 */	subf r0, r0, r27
/* 802315D0 00227350  B0 03 00 04 */	sth r0, 4(r3)
/* 802315D4 00227354  7F 63 DB 78 */	mr r3, r27
/* 802315D8 00227358  4B DD 2D 61 */	bl func_80004338
/* 802315DC 0022735C  88 1E 00 48 */	lbz r0, 0x48(r30)
/* 802315E0 00227360  28 00 00 05 */	cmplwi r0, 5
/* 802315E4 00227364  40 80 00 44 */	bge lbl_80231628
/* 802315E8 00227368  A0 1E 00 44 */	lhz r0, 0x44(r30)
/* 802315EC 0022736C  2C 00 00 00 */	cmpwi r0, 0
/* 802315F0 00227370  40 82 00 38 */	bne lbl_80231628
/* 802315F4 00227374  93 41 00 08 */	stw r26, 8(r1)
/* 802315F8 00227378  3D 40 80 23 */	lis r10, uusb_WriteCtrlDataCB@ha
/* 802315FC 0022737C  7F E8 FB 78 */	mr r8, r31
/* 80231600 00227380  7F 69 DB 78 */	mr r9, r27
/* 80231604 00227384  80 7D 5F 60 */	lwz r3, 0x5f60(r29)
/* 80231608 00227388  39 4A 10 5C */	addi r10, r10, uusb_WriteCtrlDataCB@l
/* 8023160C 0022738C  38 80 00 20 */	li r4, 0x20
/* 80231610 00227390  38 A0 00 00 */	li r5, 0
/* 80231614 00227394  38 C0 00 00 */	li r6, 0
/* 80231618 00227398  38 E0 00 00 */	li r7, 0
/* 8023161C 0022739C  4B FF 82 B9 */	bl IUSB_WriteCtrlMsgAsync
/* 80231620 002273A0  7C 7C 1B 78 */	mr r28, r3
/* 80231624 002273A4  48 00 00 20 */	b lbl_80231644
lbl_80231628:
/* 80231628 002273A8  3C 60 80 52 */	lis r3, lbl_80525F60@ha
/* 8023162C 002273AC  7F 44 D3 78 */	mr r4, r26
/* 80231630 002273B0  38 63 5F 60 */	addi r3, r3, lbl_80525F60@l
/* 80231634 002273B4  38 63 00 3C */	addi r3, r3, 0x3c
/* 80231638 002273B8  4B FF DE C9 */	bl GKI_enqueue
/* 8023163C 002273BC  38 60 00 00 */	li r3, 0
/* 80231640 002273C0  48 00 00 FC */	b lbl_8023173C
lbl_80231644:
/* 80231644 002273C4  2C 03 00 00 */	cmpwi r3, 0
/* 80231648 002273C8  41 82 00 10 */	beq lbl_80231658
/* 8023164C 002273CC  7F 43 D3 78 */	mr r3, r26
/* 80231650 002273D0  4B FF DA 91 */	bl GKI_freebuf
/* 80231654 002273D4  48 00 00 E4 */	b lbl_80231738
lbl_80231658:
/* 80231658 002273D8  4B FF EE D5 */	bl GKI_disable
/* 8023165C 002273DC  88 7E 00 48 */	lbz r3, 0x48(r30)
/* 80231660 002273E0  38 03 00 01 */	addi r0, r3, 1
/* 80231664 002273E4  98 1E 00 48 */	stb r0, 0x48(r30)
/* 80231668 002273E8  4B FF EE A1 */	bl GKI_enable
/* 8023166C 002273EC  48 00 00 CC */	b lbl_80231738
lbl_80231670:
/* 80231670 002273F0  88 7E 00 1D */	lbz r3, 0x1d(r30)
/* 80231674 002273F4  4B FF D9 85 */	bl GKI_getpoolbuf
/* 80231678 002273F8  2C 03 00 00 */	cmpwi r3, 0
/* 8023167C 002273FC  7C 7B 1B 78 */	mr r27, r3
/* 80231680 00227400  40 82 00 0C */	bne lbl_8023168C
/* 80231684 00227404  38 60 00 00 */	li r3, 0
/* 80231688 00227408  48 00 00 B4 */	b lbl_8023173C
lbl_8023168C:
/* 8023168C 0022740C  38 03 00 27 */	addi r0, r3, 0x27
/* 80231690 00227410  B3 E3 00 02 */	sth r31, 2(r3)
/* 80231694 00227414  54 1C 00 34 */	rlwinm r28, r0, 0, 0, 0x1a
/* 80231698 00227418  7F 24 CB 78 */	mr r4, r25
/* 8023169C 0022741C  38 03 00 08 */	addi r0, r3, 8
/* 802316A0 00227420  7F E5 FB 78 */	mr r5, r31
/* 802316A4 00227424  7C 00 E0 50 */	subf r0, r0, r28
/* 802316A8 00227428  B0 03 00 04 */	sth r0, 4(r3)
/* 802316AC 0022742C  7F 83 E3 78 */	mr r3, r28
/* 802316B0 00227430  4B DD 2C 89 */	bl func_80004338
/* 802316B4 00227434  88 1E 00 38 */	lbz r0, 0x38(r30)
/* 802316B8 00227438  28 00 00 05 */	cmplwi r0, 5
/* 802316BC 0022743C  40 80 00 38 */	bge lbl_802316F4
/* 802316C0 00227440  A0 1E 00 34 */	lhz r0, 0x34(r30)
/* 802316C4 00227444  2C 00 00 00 */	cmpwi r0, 0
/* 802316C8 00227448  40 82 00 2C */	bne lbl_802316F4
/* 802316CC 0022744C  3C E0 80 23 */	lis r7, uusb_WriteBulkDataCB@ha
/* 802316D0 00227450  80 7D 5F 60 */	lwz r3, 0x5f60(r29)
/* 802316D4 00227454  88 9E 00 10 */	lbz r4, 0x10(r30)
/* 802316D8 00227458  7F E5 FB 78 */	mr r5, r31
/* 802316DC 0022745C  7F 86 E3 78 */	mr r6, r28
/* 802316E0 00227460  7F 68 DB 78 */	mr r8, r27
/* 802316E4 00227464  38 E7 11 48 */	addi r7, r7, uusb_WriteBulkDataCB@l
/* 802316E8 00227468  4B FF 7B D5 */	bl IUSB_WriteBlkMsgAsync
/* 802316EC 0022746C  7C 7C 1B 78 */	mr r28, r3
/* 802316F0 00227470  48 00 00 20 */	b lbl_80231710
lbl_802316F4:
/* 802316F4 00227474  3C 60 80 52 */	lis r3, lbl_80525F60@ha
/* 802316F8 00227478  7F 64 DB 78 */	mr r4, r27
/* 802316FC 0022747C  38 63 5F 60 */	addi r3, r3, lbl_80525F60@l
/* 80231700 00227480  38 63 00 2C */	addi r3, r3, 0x2c
/* 80231704 00227484  4B FF DD FD */	bl GKI_enqueue
/* 80231708 00227488  38 60 00 00 */	li r3, 0
/* 8023170C 0022748C  48 00 00 30 */	b lbl_8023173C
lbl_80231710:
/* 80231710 00227490  2C 03 00 00 */	cmpwi r3, 0
/* 80231714 00227494  41 82 00 10 */	beq lbl_80231724
/* 80231718 00227498  7F 63 DB 78 */	mr r3, r27
/* 8023171C 0022749C  4B FF D9 C5 */	bl GKI_freebuf
/* 80231720 002274A0  48 00 00 18 */	b lbl_80231738
lbl_80231724:
/* 80231724 002274A4  4B FF EE 09 */	bl GKI_disable
/* 80231728 002274A8  88 7E 00 38 */	lbz r3, 0x38(r30)
/* 8023172C 002274AC  38 03 00 01 */	addi r0, r3, 1
/* 80231730 002274B0  98 1E 00 38 */	stb r0, 0x38(r30)
/* 80231734 002274B4  4B FF ED D5 */	bl GKI_enable
lbl_80231738:
/* 80231738 002274B8  57 83 04 3E */	clrlwi r3, r28, 0x10
lbl_8023173C:
/* 8023173C 002274BC  39 61 00 30 */	addi r11, r1, 0x30
/* 80231740 002274C0  48 1B FC 25 */	bl _restgpr_25
/* 80231744 002274C4  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80231748 002274C8  7C 08 03 A6 */	mtlr r0
/* 8023174C 002274CC  38 21 00 30 */	addi r1, r1, 0x30
/* 80231750 002274D0  4E 80 00 20 */	blr 

.global UUSB_Close
UUSB_Close:
/* 80231754 002274D4  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80231758 002274D8  7C 08 02 A6 */	mflr r0
/* 8023175C 002274DC  90 01 00 14 */	stw r0, 0x14(r1)
/* 80231760 002274E0  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80231764 002274E4  4B FF ED C9 */	bl GKI_disable
/* 80231768 002274E8  3C 60 80 52 */	lis r3, lbl_80525F60@ha
/* 8023176C 002274EC  38 00 00 00 */	li r0, 0
/* 80231770 002274F0  3B E3 5F 60 */	addi r31, r3, lbl_80525F60@l
/* 80231774 002274F4  98 1F 00 29 */	stb r0, 0x29(r31)
/* 80231778 002274F8  4B FF ED 91 */	bl GKI_enable
/* 8023177C 002274FC  A0 1F 00 34 */	lhz r0, 0x34(r31)
/* 80231780 00227500  2C 00 00 00 */	cmpwi r0, 0
/* 80231784 00227504  41 82 00 20 */	beq lbl_802317A4
/* 80231788 00227508  48 00 00 10 */	b lbl_80231798
lbl_8023178C:
/* 8023178C 0022750C  38 7F 00 2C */	addi r3, r31, 0x2c
/* 80231790 00227510  4B FF DF ED */	bl GKI_dequeue
/* 80231794 00227514  4B FF D9 4D */	bl GKI_freebuf
lbl_80231798:
/* 80231798 00227518  A0 1F 00 34 */	lhz r0, 0x34(r31)
/* 8023179C 0022751C  2C 00 00 00 */	cmpwi r0, 0
/* 802317A0 00227520  40 82 FF EC */	bne lbl_8023178C
lbl_802317A4:
/* 802317A4 00227524  3C 60 80 52 */	lis r3, lbl_80525F60@ha
/* 802317A8 00227528  3B E3 5F 60 */	addi r31, r3, lbl_80525F60@l
/* 802317AC 0022752C  A0 1F 00 44 */	lhz r0, 0x44(r31)
/* 802317B0 00227530  2C 00 00 00 */	cmpwi r0, 0
/* 802317B4 00227534  41 82 00 20 */	beq lbl_802317D4
/* 802317B8 00227538  48 00 00 10 */	b lbl_802317C8
lbl_802317BC:
/* 802317BC 0022753C  38 7F 00 3C */	addi r3, r31, 0x3c
/* 802317C0 00227540  4B FF DF BD */	bl GKI_dequeue
/* 802317C4 00227544  4B FF D9 1D */	bl GKI_freebuf
lbl_802317C8:
/* 802317C8 00227548  A0 1F 00 44 */	lhz r0, 0x44(r31)
/* 802317CC 0022754C  2C 00 00 00 */	cmpwi r0, 0
/* 802317D0 00227550  40 82 FF EC */	bne lbl_802317BC
lbl_802317D4:
/* 802317D4 00227554  3C 60 80 52 */	lis r3, lbl_80525F60@ha
/* 802317D8 00227558  3C 80 80 23 */	lis r4, uusb_CloseDeviceCB@ha
/* 802317DC 0022755C  80 63 5F 60 */	lwz r3, lbl_80525F60@l(r3)
/* 802317E0 00227560  38 84 0C 4C */	addi r4, r4, uusb_CloseDeviceCB@l
/* 802317E4 00227564  38 A0 00 00 */	li r5, 0
/* 802317E8 00227568  4B FF 75 8D */	bl IUSB_CloseDeviceAsync
/* 802317EC 0022756C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 802317F0 00227570  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 802317F4 00227574  7C 08 03 A6 */	mtlr r0
/* 802317F8 00227578  38 21 00 10 */	addi r1, r1, 0x10
/* 802317FC 0022757C  4E 80 00 20 */	blr 

.global UUSB_Unregister
UUSB_Unregister:
/* 80231800 00227580  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80231804 00227584  7C 08 02 A6 */	mflr r0
/* 80231808 00227588  90 01 00 14 */	stw r0, 0x14(r1)
/* 8023180C 0022758C  4B FF 72 75 */	bl IUSB_CloseLib
/* 80231810 00227590  4B FF ED 1D */	bl GKI_disable
/* 80231814 00227594  3C 60 80 52 */	lis r3, lbl_80525F60@ha
/* 80231818 00227598  38 00 00 00 */	li r0, 0
/* 8023181C 0022759C  38 63 5F 60 */	addi r3, r3, lbl_80525F60@l
/* 80231820 002275A0  38 80 00 05 */	li r4, 5
/* 80231824 002275A4  98 83 00 29 */	stb r4, 0x29(r3)
/* 80231828 002275A8  98 03 00 28 */	stb r0, 0x28(r3)
/* 8023182C 002275AC  98 0D C8 E1 */	stb r0, lbl_805A0D01-_SDA_BASE_(r13)
/* 80231830 002275B0  4B FF EC D9 */	bl GKI_enable
/* 80231834 002275B4  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80231838 002275B8  7C 08 03 A6 */	mtlr r0
/* 8023183C 002275BC  38 21 00 10 */	addi r1, r1, 0x10
/* 80231840 002275C0  4E 80 00 20 */	blr 

