.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global TMCC_JPEGENC_Encode_Image
TMCC_JPEGENC_Encode_Image:
/* 8026A3B8 00260138  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 8026A3BC 0026013C  7C 08 02 A6 */	mflr r0
/* 8026A3C0 00260140  90 01 00 34 */	stw r0, 0x34(r1)
/* 8026A3C4 00260144  BF 21 00 14 */	stmw r25, 0x14(r1)
/* 8026A3C8 00260148  3F 60 00 01 */	lis r27, 0x0000FFD8@ha
/* 8026A3CC 0026014C  38 1B FF D8 */	addi r0, r27, 0x0000FFD8@l
/* 8026A3D0 00260150  3B E3 16 34 */	addi r31, r3, 0x1634
/* 8026A3D4 00260154  7C 7C 1B 78 */	mr r28, r3
/* 8026A3D8 00260158  3B C3 13 7C */	addi r30, r3, 0x137c
/* 8026A3DC 0026015C  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A3E0 00260160  83 A3 15 7C */	lwz r29, 0x157c(r3)
/* 8026A3E4 00260164  7F E3 FB 78 */	mr r3, r31
/* 8026A3E8 00260168  4B FF EF 21 */	bl TMCC_JPEGENC_PutWord
/* 8026A3EC 0026016C  38 1B FF DB */	addi r0, r27, -37
/* 8026A3F0 00260170  7F E3 FB 78 */	mr r3, r31
/* 8026A3F4 00260174  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A3F8 00260178  4B FF EF 11 */	bl TMCC_JPEGENC_PutWord
/* 8026A3FC 0026017C  7F E3 FB 78 */	mr r3, r31
/* 8026A400 00260180  38 80 00 43 */	li r4, 0x43
/* 8026A404 00260184  4B FF EF 05 */	bl TMCC_JPEGENC_PutWord
/* 8026A408 00260188  7F E3 FB 78 */	mr r3, r31
/* 8026A40C 0026018C  38 80 00 00 */	li r4, 0
/* 8026A410 00260190  4B FF EE AD */	bl TMCC_JPEGENC_PutByte
/* 8026A414 00260194  7F BB EB 78 */	mr r27, r29
/* 8026A418 00260198  3B 3C 11 7C */	addi r25, r28, 0x117c
/* 8026A41C 0026019C  3B 40 00 00 */	li r26, 0
lbl_8026A420:
/* 8026A420 002601A0  80 1B 00 00 */	lwz r0, 0(r27)
/* 8026A424 002601A4  7F E3 FB 78 */	mr r3, r31
/* 8026A428 002601A8  54 00 10 3A */	slwi r0, r0, 2
/* 8026A42C 002601AC  7C 19 00 2E */	lwzx r0, r25, r0
/* 8026A430 002601B0  54 04 06 3E */	clrlwi r4, r0, 0x18
/* 8026A434 002601B4  4B FF EE 89 */	bl TMCC_JPEGENC_PutByte
/* 8026A438 002601B8  3B 5A 00 01 */	addi r26, r26, 1
/* 8026A43C 002601BC  3B 7B 00 04 */	addi r27, r27, 4
/* 8026A440 002601C0  2C 1A 00 40 */	cmpwi r26, 0x40
/* 8026A444 002601C4  41 80 FF DC */	blt lbl_8026A420
/* 8026A448 002601C8  3C 80 00 01 */	lis r4, 0x0000FFDB@ha
/* 8026A44C 002601CC  7F E3 FB 78 */	mr r3, r31
/* 8026A450 002601D0  38 04 FF DB */	addi r0, r4, 0x0000FFDB@l
/* 8026A454 002601D4  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A458 002601D8  4B FF EE B1 */	bl TMCC_JPEGENC_PutWord
/* 8026A45C 002601DC  7F E3 FB 78 */	mr r3, r31
/* 8026A460 002601E0  38 80 00 43 */	li r4, 0x43
/* 8026A464 002601E4  4B FF EE A5 */	bl TMCC_JPEGENC_PutWord
/* 8026A468 002601E8  7F E3 FB 78 */	mr r3, r31
/* 8026A46C 002601EC  38 80 00 01 */	li r4, 1
/* 8026A470 002601F0  4B FF EE 4D */	bl TMCC_JPEGENC_PutByte
/* 8026A474 002601F4  3B 60 00 00 */	li r27, 0
lbl_8026A478:
/* 8026A478 002601F8  80 1D 00 00 */	lwz r0, 0(r29)
/* 8026A47C 002601FC  7F E3 FB 78 */	mr r3, r31
/* 8026A480 00260200  54 00 10 3A */	slwi r0, r0, 2
/* 8026A484 00260204  7C 1E 00 2E */	lwzx r0, r30, r0
/* 8026A488 00260208  54 04 06 3E */	clrlwi r4, r0, 0x18
/* 8026A48C 0026020C  4B FF EE 31 */	bl TMCC_JPEGENC_PutByte
/* 8026A490 00260210  3B 7B 00 01 */	addi r27, r27, 1
/* 8026A494 00260214  3B BD 00 04 */	addi r29, r29, 4
/* 8026A498 00260218  2C 1B 00 40 */	cmpwi r27, 0x40
/* 8026A49C 0026021C  41 80 FF DC */	blt lbl_8026A478
/* 8026A4A0 00260220  3F A0 00 01 */	lis r29, 0x0000FFC4@ha
/* 8026A4A4 00260224  7F E3 FB 78 */	mr r3, r31
/* 8026A4A8 00260228  38 1D FF C4 */	addi r0, r29, 0x0000FFC4@l
/* 8026A4AC 0026022C  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A4B0 00260230  4B FF EE 59 */	bl TMCC_JPEGENC_PutWord
/* 8026A4B4 00260234  7F E3 FB 78 */	mr r3, r31
/* 8026A4B8 00260238  38 80 00 1F */	li r4, 0x1f
/* 8026A4BC 0026023C  4B FF EE 4D */	bl TMCC_JPEGENC_PutWord
/* 8026A4C0 00260240  7F E3 FB 78 */	mr r3, r31
/* 8026A4C4 00260244  38 80 00 00 */	li r4, 0
/* 8026A4C8 00260248  4B FF ED F5 */	bl TMCC_JPEGENC_PutByte
/* 8026A4CC 0026024C  80 9C 00 2C */	lwz r4, 0x2c(r28)
/* 8026A4D0 00260250  7F E3 FB 78 */	mr r3, r31
/* 8026A4D4 00260254  38 A0 00 10 */	li r5, 0x10
/* 8026A4D8 00260258  4B FF EE BD */	bl TMCC_JPEGENC_PutString
/* 8026A4DC 0026025C  80 9C 00 30 */	lwz r4, 0x30(r28)
/* 8026A4E0 00260260  7F E3 FB 78 */	mr r3, r31
/* 8026A4E4 00260264  38 A0 00 0C */	li r5, 0xc
/* 8026A4E8 00260268  4B FF EE AD */	bl TMCC_JPEGENC_PutString
/* 8026A4EC 0026026C  38 1D FF C4 */	addi r0, r29, -60
/* 8026A4F0 00260270  7F E3 FB 78 */	mr r3, r31
/* 8026A4F4 00260274  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A4F8 00260278  4B FF EE 11 */	bl TMCC_JPEGENC_PutWord
/* 8026A4FC 0026027C  7F E3 FB 78 */	mr r3, r31
/* 8026A500 00260280  38 80 00 1F */	li r4, 0x1f
/* 8026A504 00260284  4B FF EE 05 */	bl TMCC_JPEGENC_PutWord
/* 8026A508 00260288  7F E3 FB 78 */	mr r3, r31
/* 8026A50C 0026028C  38 80 00 01 */	li r4, 1
/* 8026A510 00260290  4B FF ED AD */	bl TMCC_JPEGENC_PutByte
/* 8026A514 00260294  80 9C 00 34 */	lwz r4, 0x34(r28)
/* 8026A518 00260298  7F E3 FB 78 */	mr r3, r31
/* 8026A51C 0026029C  38 A0 00 10 */	li r5, 0x10
/* 8026A520 002602A0  4B FF EE 75 */	bl TMCC_JPEGENC_PutString
/* 8026A524 002602A4  80 9C 00 38 */	lwz r4, 0x38(r28)
/* 8026A528 002602A8  7F E3 FB 78 */	mr r3, r31
/* 8026A52C 002602AC  38 A0 00 0C */	li r5, 0xc
/* 8026A530 002602B0  4B FF EE 65 */	bl TMCC_JPEGENC_PutString
/* 8026A534 002602B4  38 1D FF C4 */	addi r0, r29, -60
/* 8026A538 002602B8  7F E3 FB 78 */	mr r3, r31
/* 8026A53C 002602BC  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A540 002602C0  4B FF ED C9 */	bl TMCC_JPEGENC_PutWord
/* 8026A544 002602C4  7F E3 FB 78 */	mr r3, r31
/* 8026A548 002602C8  38 80 00 B5 */	li r4, 0xb5
/* 8026A54C 002602CC  4B FF ED BD */	bl TMCC_JPEGENC_PutWord
/* 8026A550 002602D0  7F E3 FB 78 */	mr r3, r31
/* 8026A554 002602D4  38 80 00 10 */	li r4, 0x10
/* 8026A558 002602D8  4B FF ED 65 */	bl TMCC_JPEGENC_PutByte
/* 8026A55C 002602DC  80 9C 00 3C */	lwz r4, 0x3c(r28)
/* 8026A560 002602E0  7F E3 FB 78 */	mr r3, r31
/* 8026A564 002602E4  38 A0 00 10 */	li r5, 0x10
/* 8026A568 002602E8  4B FF EE 2D */	bl TMCC_JPEGENC_PutString
/* 8026A56C 002602EC  80 9C 00 40 */	lwz r4, 0x40(r28)
/* 8026A570 002602F0  7F E3 FB 78 */	mr r3, r31
/* 8026A574 002602F4  38 A0 00 A2 */	li r5, 0xa2
/* 8026A578 002602F8  4B FF EE 1D */	bl TMCC_JPEGENC_PutString
/* 8026A57C 002602FC  38 1D FF C4 */	addi r0, r29, -60
/* 8026A580 00260300  7F E3 FB 78 */	mr r3, r31
/* 8026A584 00260304  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A588 00260308  4B FF ED 81 */	bl TMCC_JPEGENC_PutWord
/* 8026A58C 0026030C  7F E3 FB 78 */	mr r3, r31
/* 8026A590 00260310  38 80 00 B5 */	li r4, 0xb5
/* 8026A594 00260314  4B FF ED 75 */	bl TMCC_JPEGENC_PutWord
/* 8026A598 00260318  7F E3 FB 78 */	mr r3, r31
/* 8026A59C 0026031C  38 80 00 11 */	li r4, 0x11
/* 8026A5A0 00260320  4B FF ED 1D */	bl TMCC_JPEGENC_PutByte
/* 8026A5A4 00260324  80 9C 00 44 */	lwz r4, 0x44(r28)
/* 8026A5A8 00260328  7F E3 FB 78 */	mr r3, r31
/* 8026A5AC 0026032C  38 A0 00 10 */	li r5, 0x10
/* 8026A5B0 00260330  4B FF ED E5 */	bl TMCC_JPEGENC_PutString
/* 8026A5B4 00260334  80 9C 00 48 */	lwz r4, 0x48(r28)
/* 8026A5B8 00260338  7F E3 FB 78 */	mr r3, r31
/* 8026A5BC 0026033C  38 A0 00 A2 */	li r5, 0xa2
/* 8026A5C0 00260340  4B FF ED D5 */	bl TMCC_JPEGENC_PutString
/* 8026A5C4 00260344  80 1C 00 10 */	lwz r0, 0x10(r28)
/* 8026A5C8 00260348  2C 00 00 00 */	cmpwi r0, 0
/* 8026A5CC 0026034C  41 82 00 30 */	beq lbl_8026A5FC
/* 8026A5D0 00260350  38 1D FF DD */	addi r0, r29, -35
/* 8026A5D4 00260354  7F E3 FB 78 */	mr r3, r31
/* 8026A5D8 00260358  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A5DC 0026035C  4B FF ED 2D */	bl TMCC_JPEGENC_PutWord
/* 8026A5E0 00260360  7F E3 FB 78 */	mr r3, r31
/* 8026A5E4 00260364  38 80 00 04 */	li r4, 4
/* 8026A5E8 00260368  4B FF ED 21 */	bl TMCC_JPEGENC_PutWord
/* 8026A5EC 0026036C  80 1C 00 10 */	lwz r0, 0x10(r28)
/* 8026A5F0 00260370  7F E3 FB 78 */	mr r3, r31
/* 8026A5F4 00260374  54 04 04 3E */	clrlwi r4, r0, 0x10
/* 8026A5F8 00260378  4B FF ED 11 */	bl TMCC_JPEGENC_PutWord
lbl_8026A5FC:
/* 8026A5FC 0026037C  7F 83 E3 78 */	mr r3, r28
/* 8026A600 00260380  4B FF FC 8D */	bl TMCC_JPEGENC_Encode_frame
/* 8026A604 00260384  2C 03 00 00 */	cmpwi r3, 0
/* 8026A608 00260388  40 80 00 0C */	bge lbl_8026A614
/* 8026A60C 0026038C  38 60 FF FE */	li r3, -2
/* 8026A610 00260390  48 00 00 08 */	b lbl_8026A618
lbl_8026A614:
/* 8026A614 00260394  38 60 00 00 */	li r3, 0
lbl_8026A618:
/* 8026A618 00260398  BB 21 00 14 */	lmw r25, 0x14(r1)
/* 8026A61C 0026039C  80 01 00 34 */	lwz r0, 0x34(r1)
/* 8026A620 002603A0  7C 08 03 A6 */	mtlr r0
/* 8026A624 002603A4  38 21 00 30 */	addi r1, r1, 0x30
/* 8026A628 002603A8  4E 80 00 20 */	blr 

