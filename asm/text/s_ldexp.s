.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global ldexp
ldexp:
/* 80400778 003F64F8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 8040077C 003F64FC  7C 08 02 A6 */	mflr r0
/* 80400780 003F6500  90 01 00 24 */	stw r0, 0x24(r1)
/* 80400784 003F6504  DB E1 00 18 */	stfd f31, 0x18(r1)
/* 80400788 003F6508  FF E0 08 90 */	fmr f31, f1
/* 8040078C 003F650C  93 E1 00 14 */	stw r31, 0x14(r1)
/* 80400790 003F6510  7C 7F 1B 78 */	mr r31, r3
/* 80400794 003F6514  D8 21 00 08 */	stfd f1, 8(r1)
/* 80400798 003F6518  4B FF 5D 51 */	bl __fpclassifyd
/* 8040079C 003F651C  2C 03 00 02 */	cmpwi r3, 2
/* 804007A0 003F6520  40 81 00 10 */	ble lbl_804007B0
/* 804007A4 003F6524  C8 02 BD B0 */	lfd f0, lbl_805A50D0-_SDA2_BASE_(r2)
/* 804007A8 003F6528  FC 00 F8 00 */	fcmpu cr0, f0, f31
/* 804007AC 003F652C  40 82 00 0C */	bne lbl_804007B8
lbl_804007B0:
/* 804007B0 003F6530  FC 20 F8 90 */	fmr f1, f31
/* 804007B4 003F6534  48 00 01 18 */	b lbl_804008CC
lbl_804007B8:
/* 804007B8 003F6538  80 A1 00 08 */	lwz r5, 8(r1)
/* 804007BC 003F653C  80 61 00 0C */	lwz r3, 0xc(r1)
/* 804007C0 003F6540  54 A4 65 7F */	rlwinm. r4, r5, 0xc, 0x15, 0x1f
/* 804007C4 003F6544  40 82 00 4C */	bne lbl_80400810
/* 804007C8 003F6548  54 A0 00 7E */	clrlwi r0, r5, 1
/* 804007CC 003F654C  7C 60 03 79 */	or. r0, r3, r0
/* 804007D0 003F6550  40 82 00 0C */	bne lbl_804007DC
/* 804007D4 003F6554  FC 20 F8 90 */	fmr f1, f31
/* 804007D8 003F6558  48 00 00 F4 */	b lbl_804008CC
lbl_804007DC:
/* 804007DC 003F655C  C8 02 BD B8 */	lfd f0, lbl_805A50D8-_SDA2_BASE_(r2)
/* 804007E0 003F6560  3C 60 FF FF */	lis r3, 0xFFFF3CB0@ha
/* 804007E4 003F6564  38 03 3C B0 */	addi r0, r3, 0xFFFF3CB0@l
/* 804007E8 003F6568  FF FF 00 32 */	fmul f31, f31, f0
/* 804007EC 003F656C  7C 1F 00 00 */	cmpw r31, r0
/* 804007F0 003F6570  DB E1 00 08 */	stfd f31, 8(r1)
/* 804007F4 003F6574  80 A1 00 08 */	lwz r5, 8(r1)
/* 804007F8 003F6578  54 A3 65 7E */	rlwinm r3, r5, 0xc, 0x15, 0x1f
/* 804007FC 003F657C  38 83 FF CA */	addi r4, r3, -54
/* 80400800 003F6580  40 80 00 10 */	bge lbl_80400810
/* 80400804 003F6584  C8 02 BD C0 */	lfd f0, lbl_805A50E0-_SDA2_BASE_(r2)
/* 80400808 003F6588  FC 20 07 F2 */	fmul f1, f0, f31
/* 8040080C 003F658C  48 00 00 C0 */	b lbl_804008CC
lbl_80400810:
/* 80400810 003F6590  2C 04 07 FF */	cmpwi r4, 0x7ff
/* 80400814 003F6594  40 82 00 0C */	bne lbl_80400820
/* 80400818 003F6598  FC 3F F8 2A */	fadd f1, f31, f31
/* 8040081C 003F659C  48 00 00 B0 */	b lbl_804008CC
lbl_80400820:
/* 80400820 003F65A0  7C 84 FA 14 */	add r4, r4, r31
/* 80400824 003F65A4  2C 04 07 FE */	cmpwi r4, 0x7fe
/* 80400828 003F65A8  40 81 00 1C */	ble lbl_80400844
/* 8040082C 003F65AC  FC 40 F8 90 */	fmr f2, f31
/* 80400830 003F65B0  C8 22 BD C8 */	lfd f1, lbl_805A50E8-_SDA2_BASE_(r2)
/* 80400834 003F65B4  4B FF FC 79 */	bl copysign
/* 80400838 003F65B8  C8 02 BD C8 */	lfd f0, lbl_805A50E8-_SDA2_BASE_(r2)
/* 8040083C 003F65BC  FC 20 00 72 */	fmul f1, f0, f1
/* 80400840 003F65C0  48 00 00 8C */	b lbl_804008CC
lbl_80400844:
/* 80400844 003F65C4  2C 04 00 00 */	cmpwi r4, 0
/* 80400848 003F65C8  40 81 00 1C */	ble lbl_80400864
/* 8040084C 003F65CC  54 A3 03 00 */	rlwinm r3, r5, 0, 0xc, 0
/* 80400850 003F65D0  54 80 A0 16 */	slwi r0, r4, 0x14
/* 80400854 003F65D4  7C 60 03 78 */	or r0, r3, r0
/* 80400858 003F65D8  90 01 00 08 */	stw r0, 8(r1)
/* 8040085C 003F65DC  C8 21 00 08 */	lfd f1, 8(r1)
/* 80400860 003F65E0  48 00 00 6C */	b lbl_804008CC
lbl_80400864:
/* 80400864 003F65E4  2C 04 FF CA */	cmpwi r4, -54
/* 80400868 003F65E8  41 81 00 44 */	bgt lbl_804008AC
/* 8040086C 003F65EC  3C 60 00 01 */	lis r3, 0x0000C350@ha
/* 80400870 003F65F0  38 03 C3 50 */	addi r0, r3, 0x0000C350@l
/* 80400874 003F65F4  7C 1F 00 00 */	cmpw r31, r0
/* 80400878 003F65F8  40 81 00 1C */	ble lbl_80400894
/* 8040087C 003F65FC  FC 40 F8 90 */	fmr f2, f31
/* 80400880 003F6600  C8 22 BD C8 */	lfd f1, lbl_805A50E8-_SDA2_BASE_(r2)
/* 80400884 003F6604  4B FF FC 29 */	bl copysign
/* 80400888 003F6608  C8 02 BD C8 */	lfd f0, lbl_805A50E8-_SDA2_BASE_(r2)
/* 8040088C 003F660C  FC 20 00 72 */	fmul f1, f0, f1
/* 80400890 003F6610  48 00 00 3C */	b lbl_804008CC
lbl_80400894:
/* 80400894 003F6614  FC 40 F8 90 */	fmr f2, f31
/* 80400898 003F6618  C8 22 BD C0 */	lfd f1, lbl_805A50E0-_SDA2_BASE_(r2)
/* 8040089C 003F661C  4B FF FC 11 */	bl copysign
/* 804008A0 003F6620  C8 02 BD C0 */	lfd f0, lbl_805A50E0-_SDA2_BASE_(r2)
/* 804008A4 003F6624  FC 20 00 72 */	fmul f1, f0, f1
/* 804008A8 003F6628  48 00 00 24 */	b lbl_804008CC
lbl_804008AC:
/* 804008AC 003F662C  38 04 00 36 */	addi r0, r4, 0x36
/* 804008B0 003F6630  54 A3 03 00 */	rlwinm r3, r5, 0, 0xc, 0
/* 804008B4 003F6634  54 00 A0 16 */	slwi r0, r0, 0x14
/* 804008B8 003F6638  C8 22 BD D0 */	lfd f1, lbl_805A50F0-_SDA2_BASE_(r2)
/* 804008BC 003F663C  7C 60 03 78 */	or r0, r3, r0
/* 804008C0 003F6640  90 01 00 08 */	stw r0, 8(r1)
/* 804008C4 003F6644  C8 01 00 08 */	lfd f0, 8(r1)
/* 804008C8 003F6648  FC 21 00 32 */	fmul f1, f1, f0
lbl_804008CC:
/* 804008CC 003F664C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 804008D0 003F6650  CB E1 00 18 */	lfd f31, 0x18(r1)
/* 804008D4 003F6654  83 E1 00 14 */	lwz r31, 0x14(r1)
/* 804008D8 003F6658  7C 08 03 A6 */	mtlr r0
/* 804008DC 003F665C  38 21 00 20 */	addi r1, r1, 0x20
/* 804008E0 003F6660  4E 80 00 20 */	blr 

