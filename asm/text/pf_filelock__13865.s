.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global PF_InitLockFile
PF_InitLockFile:
/* 803EBB4C 003E18CC  38 00 00 00 */	li r0, 0
/* 803EBB50 003E18D0  90 0D CE 40 */	stw r0, lbl_805A1260-_SDA_BASE_(r13)
/* 803EBB54 003E18D4  4E 80 00 20 */	blr 

.global PF_UnLockFile
PF_UnLockFile:
/* 803EBB58 003E18D8  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803EBB5C 003E18DC  7C 08 02 A6 */	mflr r0
/* 803EBB60 003E18E0  90 01 00 14 */	stw r0, 0x14(r1)
/* 803EBB64 003E18E4  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803EBB68 003E18E8  7C 7F 1B 78 */	mr r31, r3
/* 803EBB6C 003E18EC  80 83 00 08 */	lwz r4, 8(r3)
/* 803EBB70 003E18F0  80 64 02 88 */	lwz r3, 0x288(r4)
/* 803EBB74 003E18F4  48 00 08 A5 */	bl pfk_release_semaphore
/* 803EBB78 003E18F8  80 7F 00 08 */	lwz r3, 8(r31)
/* 803EBB7C 003E18FC  A0 03 02 7E */	lhz r0, 0x27e(r3)
/* 803EBB80 003E1900  2C 00 00 00 */	cmpwi r0, 0
/* 803EBB84 003E1904  40 82 00 3C */	bne lbl_803EBBC0
/* 803EBB88 003E1908  80 03 02 80 */	lwz r0, 0x280(r3)
/* 803EBB8C 003E190C  2C 00 00 00 */	cmpwi r0, 0
/* 803EBB90 003E1910  40 82 00 30 */	bne lbl_803EBBC0
/* 803EBB94 003E1914  80 0D CE 40 */	lwz r0, lbl_805A1260-_SDA_BASE_(r13)
/* 803EBB98 003E1918  2C 00 00 00 */	cmpwi r0, 0
/* 803EBB9C 003E191C  41 82 00 24 */	beq lbl_803EBBC0
/* 803EBBA0 003E1920  80 63 02 88 */	lwz r3, 0x288(r3)
/* 803EBBA4 003E1924  48 00 07 F1 */	bl pfk_delete_semaphore
/* 803EBBA8 003E1928  80 7F 00 08 */	lwz r3, 8(r31)
/* 803EBBAC 003E192C  38 00 00 00 */	li r0, 0
/* 803EBBB0 003E1930  90 03 02 88 */	stw r0, 0x288(r3)
/* 803EBBB4 003E1934  80 6D CE 40 */	lwz r3, lbl_805A1260-_SDA_BASE_(r13)
/* 803EBBB8 003E1938  38 03 FF FF */	addi r0, r3, -1
/* 803EBBBC 003E193C  90 0D CE 40 */	stw r0, lbl_805A1260-_SDA_BASE_(r13)
lbl_803EBBC0:
/* 803EBBC0 003E1940  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803EBBC4 003E1944  38 60 00 00 */	li r3, 0
/* 803EBBC8 003E1948  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803EBBCC 003E194C  7C 08 03 A6 */	mtlr r0
/* 803EBBD0 003E1950  38 21 00 10 */	addi r1, r1, 0x10
/* 803EBBD4 003E1954  4E 80 00 20 */	blr 

