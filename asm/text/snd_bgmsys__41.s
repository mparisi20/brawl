.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global sndBgmRateSystem$7stopBGM
sndBgmRateSystem$7stopBGM:
/* 800790FC 0006EE7C  80 6D BD B0 */	lwz r3, lbl_805A01D0-_SDA_BASE_(r13)
/* 80079100 0006EE80  4B FF AE 84 */	b sndSystem$7stopBGM

.global sndBgmRateSystem$7prepareBGM
sndBgmRateSystem$7prepareBGM:
/* 80079104 0006EE84  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80079108 0006EE88  7C 08 02 A6 */	mflr r0
/* 8007910C 0006EE8C  90 01 00 14 */	stw r0, 0x14(r1)
/* 80079110 0006EE90  3C 05 00 01 */	addis r0, r5, 1
/* 80079114 0006EE94  28 00 FF FF */	cmplwi r0, 0xffff
/* 80079118 0006EE98  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8007911C 0006EE9C  7C 7F 1B 78 */	mr r31, r3
/* 80079120 0006EEA0  41 82 00 38 */	beq lbl_80079158
/* 80079124 0006EEA4  2C 06 00 00 */	cmpwi r6, 0
/* 80079128 0006EEA8  40 82 00 24 */	bne lbl_8007914C
/* 8007912C 0006EEAC  38 C0 00 00 */	li r6, 0
/* 80079130 0006EEB0  48 00 01 0D */	bl sndBgmRateSystem$7setBgmId
/* 80079134 0006EEB4  2C 03 FF FF */	cmpwi r3, -1
/* 80079138 0006EEB8  40 82 00 0C */	bne lbl_80079144
/* 8007913C 0006EEBC  38 60 FF FF */	li r3, -1
/* 80079140 0006EEC0  48 00 00 70 */	b lbl_800791B0
lbl_80079144:
/* 80079144 0006EEC4  90 7F 01 78 */	stw r3, 0x178(r31)
/* 80079148 0006EEC8  48 00 00 34 */	b lbl_8007917C
lbl_8007914C:
/* 8007914C 0006EECC  90 C3 01 78 */	stw r6, 0x178(r3)
/* 80079150 0006EED0  48 00 00 ED */	bl sndBgmRateSystem$7setBgmId
/* 80079154 0006EED4  48 00 00 28 */	b lbl_8007917C
lbl_80079158:
/* 80079158 0006EED8  2C 04 00 16 */	cmpwi r4, 0x16
/* 8007915C 0006EEDC  40 82 00 20 */	bne lbl_8007917C
/* 80079160 0006EEE0  80 03 01 78 */	lwz r0, 0x178(r3)
/* 80079164 0006EEE4  28 00 27 A9 */	cmplwi r0, 0x27a9
/* 80079168 0006EEE8  41 80 00 14 */	blt lbl_8007917C
/* 8007916C 0006EEEC  28 00 27 B2 */	cmplwi r0, 0x27b2
/* 80079170 0006EEF0  41 81 00 0C */	bgt lbl_8007917C
/* 80079174 0006EEF4  38 00 27 A1 */	li r0, 0x27a1
/* 80079178 0006EEF8  90 03 01 78 */	stw r0, 0x178(r3)
lbl_8007917C:
/* 8007917C 0006EEFC  80 9F 01 78 */	lwz r4, 0x178(r31)
/* 80079180 0006EF00  2C 04 00 00 */	cmpwi r4, 0
/* 80079184 0006EF04  40 82 00 0C */	bne lbl_80079190
/* 80079188 0006EF08  38 60 FF FF */	li r3, -1
/* 8007918C 0006EF0C  48 00 00 24 */	b lbl_800791B0
lbl_80079190:
/* 80079190 0006EF10  80 6D BD B0 */	lwz r3, lbl_805A01D0-_SDA_BASE_(r13)
/* 80079194 0006EF14  38 A0 00 01 */	li r5, 1
/* 80079198 0006EF18  4B FF AE 81 */	bl func_80074018
/* 8007919C 0006EF1C  2C 03 00 00 */	cmpwi r3, 0
/* 800791A0 0006EF20  41 82 00 0C */	beq lbl_800791AC
/* 800791A4 0006EF24  80 7F 01 78 */	lwz r3, 0x178(r31)
/* 800791A8 0006EF28  48 00 00 08 */	b lbl_800791B0
lbl_800791AC:
/* 800791AC 0006EF2C  38 60 FF FF */	li r3, -1
lbl_800791B0:
/* 800791B0 0006EF30  80 01 00 14 */	lwz r0, 0x14(r1)
/* 800791B4 0006EF34  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 800791B8 0006EF38  7C 08 03 A6 */	mtlr r0
/* 800791BC 0006EF3C  38 21 00 10 */	addi r1, r1, 0x10
/* 800791C0 0006EF40  4E 80 00 20 */	blr 

.global sndBgmRateSystem$7isPreparedBGM
sndBgmRateSystem$7isPreparedBGM:
/* 800791C4 0006EF44  7C 64 1B 78 */	mr r4, r3
/* 800791C8 0006EF48  80 6D BD B0 */	lwz r3, lbl_805A01D0-_SDA_BASE_(r13)
/* 800791CC 0006EF4C  80 84 01 78 */	lwz r4, 0x178(r4)
/* 800791D0 0006EF50  4B FF AF B4 */	b sndSystem$7isPreparedBGM

.global sndBgmRateSystem$7startBGM
sndBgmRateSystem$7startBGM:
/* 800791D4 0006EF54  38 00 00 00 */	li r0, 0
/* 800791D8 0006EF58  90 83 01 7C */	stw r4, 0x17c(r3)
/* 800791DC 0006EF5C  7C 85 23 78 */	mr r5, r4
/* 800791E0 0006EF60  80 83 01 78 */	lwz r4, 0x178(r3)
/* 800791E4 0006EF64  90 03 01 80 */	stw r0, 0x180(r3)
/* 800791E8 0006EF68  80 6D BD B0 */	lwz r3, lbl_805A01D0-_SDA_BASE_(r13)
/* 800791EC 0006EF6C  4B FF B0 00 */	b sndSystem$7startBGM

.global sndBgmRateSystem$7getPlayTiming
sndBgmRateSystem$7getPlayTiming:
/* 800791F0 0006EF70  80 63 01 70 */	lwz r3, 0x170(r3)
/* 800791F4 0006EF74  A0 63 00 04 */	lhz r3, 4(r3)
/* 800791F8 0006EF78  4E 80 00 20 */	blr 

.global sndBgmRateSystem$7getBgmTitleDataPlayId
sndBgmRateSystem$7getBgmTitleDataPlayId:
/* 800791FC 0006EF7C  80 03 01 98 */	lwz r0, 0x198(r3)
/* 80079200 0006EF80  38 A0 00 00 */	li r5, 0
/* 80079204 0006EF84  7C 09 03 A6 */	mtctr r0
/* 80079208 0006EF88  28 00 00 00 */	cmplwi r0, 0
/* 8007920C 0006EF8C  40 81 00 28 */	ble lbl_80079234
lbl_80079210:
/* 80079210 0006EF90  80 03 01 94 */	lwz r0, 0x194(r3)
/* 80079214 0006EF94  7C C0 2A 14 */	add r6, r0, r5
/* 80079218 0006EF98  7C 05 00 2E */	lwzx r0, r5, r0
/* 8007921C 0006EF9C  7C 00 20 40 */	cmplw r0, r4
/* 80079220 0006EFA0  40 82 00 0C */	bne lbl_8007922C
/* 80079224 0006EFA4  7C C3 33 78 */	mr r3, r6
/* 80079228 0006EFA8  4E 80 00 20 */	blr 
lbl_8007922C:
/* 8007922C 0006EFAC  38 A5 00 30 */	addi r5, r5, 0x30
/* 80079230 0006EFB0  42 00 FF E0 */	bdnz lbl_80079210
lbl_80079234:
/* 80079234 0006EFB4  38 60 00 00 */	li r3, 0
/* 80079238 0006EFB8  4E 80 00 20 */	blr 

.global sndBgmRateSystem$7setBgmId
sndBgmRateSystem$7setBgmId:
/* 8007923C 0006EFBC  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80079240 0006EFC0  7C 08 02 A6 */	mflr r0
/* 80079244 0006EFC4  90 01 00 34 */	stw r0, 0x34(r1)
/* 80079248 0006EFC8  39 61 00 30 */	addi r11, r1, 0x30
/* 8007924C 0006EFCC  48 37 80 CD */	bl _savegpr_25
/* 80079250 0006EFD0  2C 06 00 00 */	cmpwi r6, 0
/* 80079254 0006EFD4  90 83 01 74 */	stw r4, 0x174(r3)
/* 80079258 0006EFD8  7C 7C 1B 78 */	mr r28, r3
/* 8007925C 0006EFDC  7C 9D 23 78 */	mr r29, r4
/* 80079260 0006EFE0  90 A3 01 84 */	stw r5, 0x184(r3)
/* 80079264 0006EFE4  7C BE 2B 78 */	mr r30, r5
/* 80079268 0006EFE8  7C DF 33 78 */	mr r31, r6
/* 8007926C 0006EFEC  3B 20 00 00 */	li r25, 0
/* 80079270 0006EFF0  40 82 01 28 */	bne lbl_80079398
/* 80079274 0006EFF4  2C 04 00 2C */	cmpwi r4, 0x2c
/* 80079278 0006EFF8  40 82 00 0C */	bne lbl_80079284
/* 8007927C 0006EFFC  38 60 26 F9 */	li r3, 0x26f9
/* 80079280 0006F000  48 00 01 78 */	b lbl_800793F8
lbl_80079284:
/* 80079284 0006F004  54 80 10 3A */	slwi r0, r4, 2
/* 80079288 0006F008  7F 63 02 14 */	add r27, r3, r0
/* 8007928C 0006F00C  80 1B 00 B8 */	lwz r0, 0xb8(r27)
/* 80079290 0006F010  54 1A 18 38 */	slwi r26, r0, 3
/* 80079294 0006F014  48 00 00 28 */	b lbl_800792BC
lbl_80079298:
/* 80079298 0006F018  80 63 00 00 */	lwz r3, 0(r3)
/* 8007929C 0006F01C  4B FD 66 DD */	bl gmCheckBGMIDUseEnable
/* 800792A0 0006F020  2C 03 00 00 */	cmpwi r3, 0
/* 800792A4 0006F024  41 82 00 14 */	beq lbl_800792B8
/* 800792A8 0006F028  80 1C 00 00 */	lwz r0, 0(r28)
/* 800792AC 0006F02C  7C 60 D2 14 */	add r3, r0, r26
/* 800792B0 0006F030  88 03 00 07 */	lbz r0, 7(r3)
/* 800792B4 0006F034  7F 39 02 14 */	add r25, r25, r0
lbl_800792B8:
/* 800792B8 0006F038  3B 5A 00 08 */	addi r26, r26, 8
lbl_800792BC:
/* 800792BC 0006F03C  80 9C 00 00 */	lwz r4, 0(r28)
/* 800792C0 0006F040  7C 64 D2 14 */	add r3, r4, r26
/* 800792C4 0006F044  88 03 00 06 */	lbz r0, 6(r3)
/* 800792C8 0006F048  7C 1D 00 00 */	cmpw r29, r0
/* 800792CC 0006F04C  41 82 FF CC */	beq lbl_80079298
/* 800792D0 0006F050  2C 19 00 00 */	cmpwi r25, 0
/* 800792D4 0006F054  40 82 00 1C */	bne lbl_800792F0
/* 800792D8 0006F058  80 1B 00 B8 */	lwz r0, 0xb8(r27)
/* 800792DC 0006F05C  54 00 18 38 */	slwi r0, r0, 3
/* 800792E0 0006F060  7F E4 00 2E */	lwzx r31, r4, r0
/* 800792E4 0006F064  7C 64 02 14 */	add r3, r4, r0
/* 800792E8 0006F068  90 7C 01 70 */	stw r3, 0x170(r28)
/* 800792EC 0006F06C  48 00 00 88 */	b lbl_80079374
lbl_800792F0:
/* 800792F0 0006F070  7F 23 CB 78 */	mr r3, r25
/* 800792F4 0006F074  4B FC 69 89 */	bl randi
/* 800792F8 0006F078  83 5B 00 B8 */	lwz r26, 0xb8(r27)
/* 800792FC 0006F07C  7C 79 1B 78 */	mr r25, r3
/* 80079300 0006F080  57 5B 18 38 */	slwi r27, r26, 3
/* 80079304 0006F084  48 00 00 5C */	b lbl_80079360
lbl_80079308:
/* 80079308 0006F088  80 63 00 00 */	lwz r3, 0(r3)
/* 8007930C 0006F08C  4B FD 66 6D */	bl gmCheckBGMIDUseEnable
/* 80079310 0006F090  2C 03 00 00 */	cmpwi r3, 0
/* 80079314 0006F094  41 82 00 44 */	beq lbl_80079358
/* 80079318 0006F098  80 9C 00 00 */	lwz r4, 0(r28)
/* 8007931C 0006F09C  7C 64 DA 14 */	add r3, r4, r27
/* 80079320 0006F0A0  88 03 00 07 */	lbz r0, 7(r3)
/* 80079324 0006F0A4  7C 19 00 00 */	cmpw r25, r0
/* 80079328 0006F0A8  40 80 00 2C */	bge lbl_80079354
/* 8007932C 0006F0AC  57 40 18 38 */	slwi r0, r26, 3
/* 80079330 0006F0B0  3C 60 80 45 */	lis r3, lbl_804544F8@ha
/* 80079334 0006F0B4  7F E4 00 6E */	lwzux r31, r4, r0
/* 80079338 0006F0B8  7F 45 D3 78 */	mr r5, r26
/* 8007933C 0006F0BC  38 63 44 F8 */	addi r3, r3, lbl_804544F8@l
/* 80079340 0006F0C0  90 9C 01 70 */	stw r4, 0x170(r28)
/* 80079344 0006F0C4  7F E4 FB 78 */	mr r4, r31
/* 80079348 0006F0C8  4C C6 31 82 */	crclr 6
/* 8007934C 0006F0CC  48 15 F2 B5 */	bl OSReport
/* 80079350 0006F0D0  48 00 00 24 */	b lbl_80079374
lbl_80079354:
/* 80079354 0006F0D4  7F 20 C8 50 */	subf r25, r0, r25
lbl_80079358:
/* 80079358 0006F0D8  3B 7B 00 08 */	addi r27, r27, 8
/* 8007935C 0006F0DC  3B 5A 00 01 */	addi r26, r26, 1
lbl_80079360:
/* 80079360 0006F0E0  80 1C 00 00 */	lwz r0, 0(r28)
/* 80079364 0006F0E4  7C 60 DA 14 */	add r3, r0, r27
/* 80079368 0006F0E8  88 03 00 06 */	lbz r0, 6(r3)
/* 8007936C 0006F0EC  7C 1D 00 00 */	cmpw r29, r0
/* 80079370 0006F0F0  41 82 FF 98 */	beq lbl_80079308
lbl_80079374:
/* 80079374 0006F0F4  2C 1F 27 51 */	cmpwi r31, 0x2751
/* 80079378 0006F0F8  41 82 00 08 */	beq lbl_80079380
/* 8007937C 0006F0FC  48 00 00 14 */	b lbl_80079390
lbl_80079380:
/* 80079380 0006F100  38 1E FF FE */	addi r0, r30, -2
/* 80079384 0006F104  28 00 00 01 */	cmplwi r0, 1
/* 80079388 0006F108  41 81 00 08 */	bgt lbl_80079390
/* 8007938C 0006F10C  3B E0 27 56 */	li r31, 0x2756
lbl_80079390:
/* 80079390 0006F110  7F E3 FB 78 */	mr r3, r31
/* 80079394 0006F114  48 00 00 64 */	b lbl_800793F8
lbl_80079398:
/* 80079398 0006F118  38 A0 00 00 */	li r5, 0
/* 8007939C 0006F11C  54 80 10 3A */	slwi r0, r4, 2
/* 800793A0 0006F120  90 A3 01 70 */	stw r5, 0x170(r3)
/* 800793A4 0006F124  7C A3 02 14 */	add r5, r3, r0
/* 800793A8 0006F128  81 03 00 00 */	lwz r8, 0(r3)
/* 800793AC 0006F12C  81 25 00 B8 */	lwz r9, 0xb8(r5)
/* 800793B0 0006F130  55 20 18 38 */	slwi r0, r9, 3
/* 800793B4 0006F134  7C E8 02 14 */	add r7, r8, r0
/* 800793B8 0006F138  7C E5 3B 78 */	mr r5, r7
/* 800793BC 0006F13C  48 00 00 2C */	b lbl_800793E8
lbl_800793C0:
/* 800793C0 0006F140  80 05 00 00 */	lwz r0, 0(r5)
/* 800793C4 0006F144  7C 06 00 40 */	cmplw r6, r0
/* 800793C8 0006F148  40 82 00 14 */	bne lbl_800793DC
/* 800793CC 0006F14C  55 20 18 38 */	slwi r0, r9, 3
/* 800793D0 0006F150  7C 08 02 14 */	add r0, r8, r0
/* 800793D4 0006F154  90 03 01 70 */	stw r0, 0x170(r3)
/* 800793D8 0006F158  48 00 00 1C */	b lbl_800793F4
lbl_800793DC:
/* 800793DC 0006F15C  38 A5 00 08 */	addi r5, r5, 8
/* 800793E0 0006F160  38 E7 00 08 */	addi r7, r7, 8
/* 800793E4 0006F164  39 29 00 01 */	addi r9, r9, 1
lbl_800793E8:
/* 800793E8 0006F168  88 07 00 06 */	lbz r0, 6(r7)
/* 800793EC 0006F16C  7C 04 00 00 */	cmpw r4, r0
/* 800793F0 0006F170  41 82 FF D0 */	beq lbl_800793C0
lbl_800793F4:
/* 800793F4 0006F174  7F E3 FB 78 */	mr r3, r31
lbl_800793F8:
/* 800793F8 0006F178  39 61 00 30 */	addi r11, r1, 0x30
/* 800793FC 0006F17C  48 37 7F 69 */	bl _restgpr_25
/* 80079400 0006F180  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80079404 0006F184  7C 08 03 A6 */	mtlr r0
/* 80079408 0006F188  38 21 00 30 */	addi r1, r1, 0x30
/* 8007940C 0006F18C  4E 80 00 20 */	blr 

.global sndBgmRateSystem$7getSeriesAndId
sndBgmRateSystem$7getSeriesAndId:
/* 80079410 0006F190  39 60 00 00 */	li r11, 0
/* 80079414 0006F194  7C 68 1B 78 */	mr r8, r3
/* 80079418 0006F198  7C 69 1B 78 */	mr r9, r3
lbl_8007941C:
/* 8007941C 0006F19C  80 09 01 9C */	lwz r0, 0x19c(r9)
/* 80079420 0006F1A0  7D 0A 43 78 */	mr r10, r8
/* 80079424 0006F1A4  39 80 00 00 */	li r12, 0
/* 80079428 0006F1A8  7C 09 03 A6 */	mtctr r0
/* 8007942C 0006F1AC  28 00 00 00 */	cmplwi r0, 0
/* 80079430 0006F1B0  40 81 00 38 */	ble lbl_80079468
lbl_80079434:
/* 80079434 0006F1B4  80 0A 01 FC */	lwz r0, 0x1fc(r10)
/* 80079438 0006F1B8  80 E3 01 94 */	lwz r7, 0x194(r3)
/* 8007943C 0006F1BC  1C 00 00 30 */	mulli r0, r0, 0x30
/* 80079440 0006F1C0  7C 07 00 2E */	lwzx r0, r7, r0
/* 80079444 0006F1C4  7C 04 00 40 */	cmplw r4, r0
/* 80079448 0006F1C8  40 82 00 14 */	bne lbl_8007945C
/* 8007944C 0006F1CC  91 65 00 00 */	stw r11, 0(r5)
/* 80079450 0006F1D0  38 60 00 01 */	li r3, 1
/* 80079454 0006F1D4  91 86 00 00 */	stw r12, 0(r6)
/* 80079458 0006F1D8  4E 80 00 20 */	blr 
lbl_8007945C:
/* 8007945C 0006F1DC  39 4A 00 04 */	addi r10, r10, 4
/* 80079460 0006F1E0  39 8C 00 01 */	addi r12, r12, 1
/* 80079464 0006F1E4  42 00 FF D0 */	bdnz lbl_80079434
lbl_80079468:
/* 80079468 0006F1E8  39 6B 00 01 */	addi r11, r11, 1
/* 8007946C 0006F1EC  39 29 00 04 */	addi r9, r9, 4
/* 80079470 0006F1F0  28 0B 00 18 */	cmplwi r11, 0x18
/* 80079474 0006F1F4  39 08 00 C8 */	addi r8, r8, 0xc8
/* 80079478 0006F1F8  41 80 FF A4 */	blt lbl_8007941C
/* 8007947C 0006F1FC  38 60 00 00 */	li r3, 0
/* 80079480 0006F200  4E 80 00 20 */	blr 

.global sndBgmRateSystem$7getSeriesId
sndBgmRateSystem$7getSeriesId:
/* 80079484 0006F204  38 00 00 04 */	li r0, 4
/* 80079488 0006F208  7C 67 1B 78 */	mr r7, r3
/* 8007948C 0006F20C  39 00 00 00 */	li r8, 0
/* 80079490 0006F210  7C 09 03 A6 */	mtctr r0
lbl_80079494:
/* 80079494 0006F214  80 07 01 FC */	lwz r0, 0x1fc(r7)
/* 80079498 0006F218  80 C3 01 94 */	lwz r6, 0x194(r3)
/* 8007949C 0006F21C  1C 00 00 30 */	mulli r0, r0, 0x30
/* 800794A0 0006F220  7C A6 02 14 */	add r5, r6, r0
/* 800794A4 0006F224  80 05 00 04 */	lwz r0, 4(r5)
/* 800794A8 0006F228  7C 00 20 40 */	cmplw r0, r4
/* 800794AC 0006F22C  40 80 00 9C */	bge lbl_80079548
/* 800794B0 0006F230  80 07 02 C4 */	lwz r0, 0x2c4(r7)
/* 800794B4 0006F234  39 08 00 01 */	addi r8, r8, 1
/* 800794B8 0006F238  1C 00 00 30 */	mulli r0, r0, 0x30
/* 800794BC 0006F23C  7C A6 02 14 */	add r5, r6, r0
/* 800794C0 0006F240  80 05 00 04 */	lwz r0, 4(r5)
/* 800794C4 0006F244  7C 00 20 40 */	cmplw r0, r4
/* 800794C8 0006F248  40 80 00 80 */	bge lbl_80079548
/* 800794CC 0006F24C  80 07 03 8C */	lwz r0, 0x38c(r7)
/* 800794D0 0006F250  39 08 00 01 */	addi r8, r8, 1
/* 800794D4 0006F254  1C 00 00 30 */	mulli r0, r0, 0x30
/* 800794D8 0006F258  7C A6 02 14 */	add r5, r6, r0

