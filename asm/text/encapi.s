.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global TMCCJPEGEncGetQFactor
TMCCJPEGEncGetQFactor:
/* 8026045C 002561DC  94 21 F8 40 */	stwu r1, -0x7c0(r1)
/* 80260460 002561E0  7C 08 02 A6 */	mflr r0
/* 80260464 002561E4  39 80 00 00 */	li r12, 0
/* 80260468 002561E8  3D 60 00 01 */	lis r11, 0x0000FFFF@ha
/* 8026046C 002561EC  90 01 07 C4 */	stw r0, 0x7c4(r1)
/* 80260470 002561F0  38 0B FF FF */	addi r0, r11, 0x0000FFFF@l
/* 80260474 002561F4  7C 05 00 00 */	cmpw r5, r0
/* 80260478 002561F8  93 E1 07 BC */	stw r31, 0x7bc(r1)
/* 8026047C 002561FC  7C 7F 1B 78 */	mr r31, r3
/* 80260480 00256200  93 C1 07 B8 */	stw r30, 0x7b8(r1)
/* 80260484 00256204  7D 5E 53 78 */	mr r30, r10
/* 80260488 00256208  93 A1 07 B4 */	stw r29, 0x7b4(r1)
/* 8026048C 0025620C  7D 3D 4B 78 */	mr r29, r9
/* 80260490 00256210  93 81 07 B0 */	stw r28, 0x7b0(r1)
/* 80260494 00256214  7C 9C 23 78 */	mr r28, r4
/* 80260498 00256218  91 89 00 00 */	stw r12, 0(r9)
/* 8026049C 0025621C  91 8A 00 00 */	stw r12, 0(r10)
/* 802604A0 00256220  41 81 00 1C */	bgt lbl_802604BC
/* 802604A4 00256224  2C 05 00 00 */	cmpwi r5, 0
/* 802604A8 00256228  40 81 00 14 */	ble lbl_802604BC
/* 802604AC 0025622C  7C 06 00 00 */	cmpw r6, r0
/* 802604B0 00256230  41 81 00 0C */	bgt lbl_802604BC
/* 802604B4 00256234  2C 06 00 00 */	cmpwi r6, 0
/* 802604B8 00256238  41 81 00 0C */	bgt lbl_802604C4
lbl_802604BC:
/* 802604BC 0025623C  38 00 FF FF */	li r0, -1
/* 802604C0 00256240  48 00 00 20 */	b lbl_802604E0
lbl_802604C4:
/* 802604C4 00256244  2C 07 00 04 */	cmpwi r7, 4
/* 802604C8 00256248  41 82 00 14 */	beq lbl_802604DC
/* 802604CC 0025624C  2C 07 00 06 */	cmpwi r7, 6
/* 802604D0 00256250  41 82 00 0C */	beq lbl_802604DC
/* 802604D4 00256254  38 00 FF FC */	li r0, -4
/* 802604D8 00256258  48 00 00 08 */	b lbl_802604E0
lbl_802604DC:
/* 802604DC 0025625C  38 00 00 00 */	li r0, 0
lbl_802604E0:
/* 802604E0 00256260  2C 00 00 00 */	cmpwi r0, 0
/* 802604E4 00256264  40 80 00 0C */	bge lbl_802604F0
/* 802604E8 00256268  7C 03 03 78 */	mr r3, r0
/* 802604EC 0025626C  48 00 00 D4 */	b lbl_802605C0
lbl_802604F0:
/* 802604F0 00256270  38 00 00 00 */	li r0, 0
/* 802604F4 00256274  39 40 00 02 */	li r10, 2
/* 802604F8 00256278  39 20 00 01 */	li r9, 1
/* 802604FC 0025627C  B0 A1 00 10 */	sth r5, 0x10(r1)
/* 80260500 00256280  7F 84 E3 78 */	mr r4, r28
/* 80260504 00256284  38 A1 00 08 */	addi r5, r1, 8
/* 80260508 00256288  90 61 00 08 */	stw r3, 8(r1)
/* 8026050C 0025628C  38 61 00 A8 */	addi r3, r1, 0xa8
/* 80260510 00256290  B0 C1 00 12 */	sth r6, 0x12(r1)
/* 80260514 00256294  99 41 00 14 */	stb r10, 0x14(r1)
/* 80260518 00256298  99 21 00 18 */	stb r9, 0x18(r1)
/* 8026051C 0025629C  90 01 00 1C */	stw r0, 0x1c(r1)
/* 80260520 002562A0  B0 01 00 16 */	sth r0, 0x16(r1)
/* 80260524 002562A4  90 E1 00 0C */	stw r7, 0xc(r1)
/* 80260528 002562A8  90 01 00 A4 */	stw r0, 0xa4(r1)
/* 8026052C 002562AC  91 01 00 20 */	stw r8, 0x20(r1)
/* 80260530 002562B0  48 00 C5 B1 */	bl TMCC_JPEGENC_pre_compute
/* 80260534 002562B4  2C 03 00 00 */	cmpwi r3, 0
/* 80260538 002562B8  40 80 00 08 */	bge lbl_80260540
/* 8026053C 002562BC  48 00 00 84 */	b lbl_802605C0
lbl_80260540:
/* 80260540 002562C0  38 00 04 00 */	li r0, 0x400
/* 80260544 002562C4  90 61 00 1C */	stw r3, 0x1c(r1)
/* 80260548 002562C8  28 00 05 B4 */	cmplwi r0, 0x5b4
/* 8026054C 002562CC  93 E1 00 08 */	stw r31, 8(r1)
/* 80260550 002562D0  90 01 00 A4 */	stw r0, 0xa4(r1)
/* 80260554 002562D4  41 80 00 0C */	blt lbl_80260560
/* 80260558 002562D8  38 60 FF 70 */	li r3, -144
/* 8026055C 002562DC  48 00 00 64 */	b lbl_802605C0
lbl_80260560:
/* 80260560 002562E0  7F 85 E3 78 */	mr r5, r28
/* 80260564 002562E4  38 61 00 A8 */	addi r3, r1, 0xa8
/* 80260568 002562E8  38 9F 16 4C */	addi r4, r31, 0x164c
/* 8026056C 002562EC  38 C1 00 08 */	addi r6, r1, 8
/* 80260570 002562F0  48 00 AE 69 */	bl TMCC_JPEG_InitEncoder
/* 80260574 002562F4  2C 03 00 00 */	cmpwi r3, 0
/* 80260578 002562F8  7C 7F 1B 78 */	mr r31, r3
/* 8026057C 002562FC  40 80 00 08 */	bge lbl_80260584
/* 80260580 00256300  48 00 00 40 */	b lbl_802605C0
lbl_80260584:
/* 80260584 00256304  7F E4 FB 78 */	mr r4, r31
/* 80260588 00256308  7F 85 E3 78 */	mr r5, r28
/* 8026058C 0025630C  38 61 00 A8 */	addi r3, r1, 0xa8
/* 80260590 00256310  48 00 AF B5 */	bl TMCC_JPEG_Encoder
/* 80260594 00256314  2C 03 00 00 */	cmpwi r3, 0
/* 80260598 00256318  40 80 00 10 */	bge lbl_802605A8
/* 8026059C 0025631C  2C 03 FF FD */	cmpwi r3, -3
/* 802605A0 00256320  41 82 00 0C */	beq lbl_802605AC
/* 802605A4 00256324  48 00 00 1C */	b lbl_802605C0
lbl_802605A8:
/* 802605A8 00256328  41 81 FF DC */	bgt lbl_80260584
lbl_802605AC:
/* 802605AC 0025632C  80 01 00 BC */	lwz r0, 0xbc(r1)
/* 802605B0 00256330  38 60 00 00 */	li r3, 0
/* 802605B4 00256334  90 1E 00 00 */	stw r0, 0(r30)
/* 802605B8 00256338  80 01 00 B8 */	lwz r0, 0xb8(r1)
/* 802605BC 0025633C  90 1D 00 00 */	stw r0, 0(r29)
lbl_802605C0:
/* 802605C0 00256340  80 01 07 C4 */	lwz r0, 0x7c4(r1)
/* 802605C4 00256344  83 E1 07 BC */	lwz r31, 0x7bc(r1)
/* 802605C8 00256348  83 C1 07 B8 */	lwz r30, 0x7b8(r1)
/* 802605CC 0025634C  83 A1 07 B4 */	lwz r29, 0x7b4(r1)
/* 802605D0 00256350  83 81 07 B0 */	lwz r28, 0x7b0(r1)
/* 802605D4 00256354  7C 08 03 A6 */	mtlr r0
/* 802605D8 00256358  38 21 07 C0 */	addi r1, r1, 0x7c0
/* 802605DC 0025635C  4E 80 00 20 */	blr 

.global TMCCJPEGEncEncode
TMCCJPEGEncEncode:
/* 802605E0 00256360  94 21 F8 30 */	stwu r1, -0x7d0(r1)
/* 802605E4 00256364  7C 08 02 A6 */	mflr r0
/* 802605E8 00256368  90 01 07 D4 */	stw r0, 0x7d4(r1)
/* 802605EC 0025636C  BE E1 07 AC */	stmw r23, 0x7ac(r1)
/* 802605F0 00256370  7C 77 1B 78 */	mr r23, r3
/* 802605F4 00256374  83 C1 07 D8 */	lwz r30, 0x7d8(r1)
/* 802605F8 00256378  7C 98 23 78 */	mr r24, r4
/* 802605FC 0025637C  7C B9 2B 78 */	mr r25, r5
/* 80260600 00256380  7C DA 33 78 */	mr r26, r6
/* 80260604 00256384  7C FB 3B 78 */	mr r27, r7
/* 80260608 00256388  7D 1C 43 78 */	mr r28, r8
/* 8026060C 0025638C  7D 3D 4B 78 */	mr r29, r9
/* 80260610 00256390  7D 5F 53 78 */	mr r31, r10
/* 80260614 00256394  80 6D AA 30 */	lwz r3, lbl_8059EE50-_SDA_BASE_(r13)
/* 80260618 00256398  4B F7 5F 75 */	bl OSRegisterVersion
/* 8026061C 0025639C  38 80 00 00 */	li r4, 0
/* 80260620 002563A0  3C 60 00 01 */	lis r3, 0x0000FFFF@ha
/* 80260624 002563A4  38 03 FF FF */	addi r0, r3, 0x0000FFFF@l
/* 80260628 002563A8  90 9E 00 00 */	stw r4, 0(r30)
/* 8026062C 002563AC  38 60 00 01 */	li r3, 1
/* 80260630 002563B0  7C 19 00 00 */	cmpw r25, r0
/* 80260634 002563B4  98 61 00 18 */	stb r3, 0x18(r1)
/* 80260638 002563B8  41 81 00 1C */	bgt lbl_80260654
/* 8026063C 002563BC  2C 19 00 00 */	cmpwi r25, 0
/* 80260640 002563C0  40 81 00 14 */	ble lbl_80260654
/* 80260644 002563C4  7C 1A 00 00 */	cmpw r26, r0
/* 80260648 002563C8  41 81 00 0C */	bgt lbl_80260654
/* 8026064C 002563CC  2C 1A 00 00 */	cmpwi r26, 0
/* 80260650 002563D0  41 81 00 0C */	bgt lbl_8026065C
lbl_80260654:
/* 80260654 002563D4  38 60 FF FF */	li r3, -1
/* 80260658 002563D8  48 00 00 30 */	b lbl_80260688
lbl_8026065C:
/* 8026065C 002563DC  28 1F 02 5F */	cmplwi r31, 0x25f
/* 80260660 002563E0  40 80 00 0C */	bge lbl_8026066C
/* 80260664 002563E4  38 60 FF FD */	li r3, -3
/* 80260668 002563E8  48 00 00 20 */	b lbl_80260688
lbl_8026066C:
/* 8026066C 002563EC  2C 1B 00 04 */	cmpwi r27, 4
/* 80260670 002563F0  41 82 00 14 */	beq lbl_80260684
/* 80260674 002563F4  2C 1B 00 06 */	cmpwi r27, 6
/* 80260678 002563F8  41 82 00 0C */	beq lbl_80260684
/* 8026067C 002563FC  38 60 FF FC */	li r3, -4
/* 80260680 00256400  48 00 00 08 */	b lbl_80260688
lbl_80260684:
/* 80260684 00256404  38 60 00 00 */	li r3, 0
lbl_80260688:
/* 80260688 00256408  2C 03 00 00 */	cmpwi r3, 0
/* 8026068C 0025640C  40 80 00 08 */	bge lbl_80260694
/* 80260690 00256410  48 00 00 8C */	b lbl_8026071C
lbl_80260694:
/* 80260694 00256414  39 00 00 02 */	li r8, 2
/* 80260698 00256418  38 E0 00 01 */	li r7, 1
/* 8026069C 0025641C  38 00 00 00 */	li r0, 0
/* 802606A0 00256420  B3 21 00 10 */	sth r25, 0x10(r1)
/* 802606A4 00256424  7F A4 EB 78 */	mr r4, r29
/* 802606A8 00256428  7F 05 C3 78 */	mr r5, r24
/* 802606AC 0025642C  B3 41 00 12 */	sth r26, 0x12(r1)
/* 802606B0 00256430  38 61 00 A8 */	addi r3, r1, 0xa8
/* 802606B4 00256434  38 C1 00 08 */	addi r6, r1, 8
/* 802606B8 00256438  99 01 00 14 */	stb r8, 0x14(r1)
/* 802606BC 0025643C  98 E1 00 18 */	stb r7, 0x18(r1)
/* 802606C0 00256440  93 81 00 1C */	stw r28, 0x1c(r1)
/* 802606C4 00256444  B0 01 00 16 */	sth r0, 0x16(r1)
/* 802606C8 00256448  93 61 00 0C */	stw r27, 0xc(r1)
/* 802606CC 0025644C  92 E1 00 08 */	stw r23, 8(r1)
/* 802606D0 00256450  93 E1 00 A4 */	stw r31, 0xa4(r1)
/* 802606D4 00256454  48 00 AD 05 */	bl TMCC_JPEG_InitEncoder
/* 802606D8 00256458  2C 03 00 00 */	cmpwi r3, 0
/* 802606DC 0025645C  7C 7F 1B 78 */	mr r31, r3
/* 802606E0 00256460  40 80 00 08 */	bge lbl_802606E8
/* 802606E4 00256464  48 00 00 38 */	b lbl_8026071C
lbl_802606E8:
/* 802606E8 00256468  7F E4 FB 78 */	mr r4, r31
/* 802606EC 0025646C  7F 05 C3 78 */	mr r5, r24
/* 802606F0 00256470  38 61 00 A8 */	addi r3, r1, 0xa8
/* 802606F4 00256474  48 00 AE 51 */	bl TMCC_JPEG_Encoder
/* 802606F8 00256478  2C 03 00 00 */	cmpwi r3, 0
/* 802606FC 0025647C  40 80 00 10 */	bge lbl_8026070C
/* 80260700 00256480  80 01 00 B8 */	lwz r0, 0xb8(r1)
/* 80260704 00256484  90 1E 00 00 */	stw r0, 0(r30)
/* 80260708 00256488  48 00 00 14 */	b lbl_8026071C
lbl_8026070C:
/* 8026070C 0025648C  41 81 FF DC */	bgt lbl_802606E8
/* 80260710 00256490  80 01 00 B8 */	lwz r0, 0xb8(r1)
/* 80260714 00256494  38 60 00 00 */	li r3, 0
/* 80260718 00256498  90 1E 00 00 */	stw r0, 0(r30)
lbl_8026071C:
/* 8026071C 0025649C  BA E1 07 AC */	lmw r23, 0x7ac(r1)
/* 80260720 002564A0  80 01 07 D4 */	lwz r0, 0x7d4(r1)
/* 80260724 002564A4  7C 08 03 A6 */	mtlr r0
/* 80260728 002564A8  38 21 07 D0 */	addi r1, r1, 0x7d0
/* 8026072C 002564AC  4E 80 00 20 */	blr 

