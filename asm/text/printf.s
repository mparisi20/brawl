.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global parse_format
parse_format:
/* 803F6578 003EC2F8  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803F657C 003EC2FC  7C 08 02 A6 */	mflr r0
/* 803F6580 003EC300  38 E0 00 00 */	li r7, 0
/* 803F6584 003EC304  88 C3 00 01 */	lbz r6, 1(r3)
/* 803F6588 003EC308  90 01 00 34 */	stw r0, 0x34(r1)
/* 803F658C 003EC30C  39 00 00 01 */	li r8, 1
/* 803F6590 003EC310  7C C6 07 74 */	extsb r6, r6
/* 803F6594 003EC314  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 803F6598 003EC318  2C 06 00 25 */	cmpwi r6, 0x25
/* 803F659C 003EC31C  3B E3 00 01 */	addi r31, r3, 1
/* 803F65A0 003EC320  93 C1 00 28 */	stw r30, 0x28(r1)
/* 803F65A4 003EC324  7C BE 2B 78 */	mr r30, r5
/* 803F65A8 003EC328  93 A1 00 24 */	stw r29, 0x24(r1)
/* 803F65AC 003EC32C  7C 9D 23 78 */	mr r29, r4
/* 803F65B0 003EC330  98 E1 00 09 */	stb r7, 9(r1)
/* 803F65B4 003EC334  99 01 00 08 */	stb r8, 8(r1)
/* 803F65B8 003EC338  98 E1 00 0A */	stb r7, 0xa(r1)
/* 803F65BC 003EC33C  98 E1 00 0B */	stb r7, 0xb(r1)
/* 803F65C0 003EC340  98 E1 00 0C */	stb r7, 0xc(r1)
/* 803F65C4 003EC344  90 E1 00 10 */	stw r7, 0x10(r1)
/* 803F65C8 003EC348  90 E1 00 14 */	stw r7, 0x14(r1)
/* 803F65CC 003EC34C  40 82 00 28 */	bne lbl_803F65F4
/* 803F65D0 003EC350  98 C1 00 0D */	stb r6, 0xd(r1)
/* 803F65D4 003EC354  38 7F 00 01 */	addi r3, r31, 1
/* 803F65D8 003EC358  80 81 00 08 */	lwz r4, 8(r1)
/* 803F65DC 003EC35C  80 01 00 0C */	lwz r0, 0xc(r1)
/* 803F65E0 003EC360  90 85 00 00 */	stw r4, 0(r5)
/* 803F65E4 003EC364  90 05 00 04 */	stw r0, 4(r5)
/* 803F65E8 003EC368  90 E5 00 08 */	stw r7, 8(r5)
/* 803F65EC 003EC36C  90 E5 00 0C */	stw r7, 0xc(r5)
/* 803F65F0 003EC370  48 00 05 68 */	b lbl_803F6B58
lbl_803F65F4:
/* 803F65F4 003EC374  3C 80 80 49 */	lis r4, 0x8049
/* 803F65F8 003EC378  38 00 00 02 */	li r0, 2
lbl_803F65FC:
/* 803F65FC 003EC37C  38 A6 FF E0 */	addi r5, r6, -32
/* 803F6600 003EC380  39 20 00 01 */	li r9, 1
/* 803F6604 003EC384  28 05 00 10 */	cmplwi r5, 0x10
/* 803F6608 003EC388  41 81 00 58 */	bgt lbl_803F6660
/* 803F660C 003EC38C  38 64 43 E0 */	addi r3, r4, 0x43e0
/* 803F6610 003EC390  54 A5 10 3A */	slwi r5, r5, 2
/* 803F6614 003EC394  7C 63 28 2E */	lwzx r3, r3, r5
/* 803F6618 003EC398  7C 69 03 A6 */	mtctr r3
/* 803F661C 003EC39C  4E 80 04 20 */	bctr 
/* 803F6620 003EC3A0  98 E1 00 08 */	stb r7, 8(r1)
/* 803F6624 003EC3A4  48 00 00 40 */	b lbl_803F6664
/* 803F6628 003EC3A8  99 01 00 09 */	stb r8, 9(r1)
/* 803F662C 003EC3AC  48 00 00 38 */	b lbl_803F6664
/* 803F6630 003EC3B0  88 61 00 09 */	lbz r3, 9(r1)
/* 803F6634 003EC3B4  28 03 00 01 */	cmplwi r3, 1
/* 803F6638 003EC3B8  41 82 00 2C */	beq lbl_803F6664
/* 803F663C 003EC3BC  98 01 00 09 */	stb r0, 9(r1)
/* 803F6640 003EC3C0  48 00 00 24 */	b lbl_803F6664
/* 803F6644 003EC3C4  99 01 00 0B */	stb r8, 0xb(r1)
/* 803F6648 003EC3C8  48 00 00 1C */	b lbl_803F6664
/* 803F664C 003EC3CC  88 61 00 08 */	lbz r3, 8(r1)
/* 803F6650 003EC3D0  2C 03 00 00 */	cmpwi r3, 0
/* 803F6654 003EC3D4  41 82 00 10 */	beq lbl_803F6664
/* 803F6658 003EC3D8  98 01 00 08 */	stb r0, 8(r1)
/* 803F665C 003EC3DC  48 00 00 08 */	b lbl_803F6664
lbl_803F6660:
/* 803F6660 003EC3E0  39 20 00 00 */	li r9, 0
lbl_803F6664:
/* 803F6664 003EC3E4  2C 09 00 00 */	cmpwi r9, 0
/* 803F6668 003EC3E8  41 82 00 10 */	beq lbl_803F6678
/* 803F666C 003EC3EC  8C DF 00 01 */	lbzu r6, 1(r31)
/* 803F6670 003EC3F0  7C C6 07 74 */	extsb r6, r6
/* 803F6674 003EC3F4  4B FF FF 88 */	b lbl_803F65FC
lbl_803F6678:
/* 803F6678 003EC3F8  2C 06 00 2A */	cmpwi r6, 0x2a
/* 803F667C 003EC3FC  40 82 00 3C */	bne lbl_803F66B8
/* 803F6680 003EC400  7F A3 EB 78 */	mr r3, r29
/* 803F6684 003EC404  38 80 00 01 */	li r4, 1
/* 803F6688 003EC408  4B FF 9F D5 */	bl __va_arg
/* 803F668C 003EC40C  80 03 00 00 */	lwz r0, 0(r3)
/* 803F6690 003EC410  2C 00 00 00 */	cmpwi r0, 0
/* 803F6694 003EC414  90 01 00 10 */	stw r0, 0x10(r1)
/* 803F6698 003EC418  40 80 00 14 */	bge lbl_803F66AC
/* 803F669C 003EC41C  7C 00 00 D0 */	neg r0, r0
/* 803F66A0 003EC420  38 60 00 00 */	li r3, 0
/* 803F66A4 003EC424  98 61 00 08 */	stb r3, 8(r1)
/* 803F66A8 003EC428  90 01 00 10 */	stw r0, 0x10(r1)
lbl_803F66AC:
/* 803F66AC 003EC42C  8C DF 00 01 */	lbzu r6, 1(r31)
/* 803F66B0 003EC430  7C C6 07 74 */	extsb r6, r6
/* 803F66B4 003EC434  48 00 00 70 */	b lbl_803F6724
lbl_803F66B8:
/* 803F66B8 003EC438  3C 60 80 49 */	lis r3, lbl_804942B8@ha
/* 803F66BC 003EC43C  38 63 42 B8 */	addi r3, r3, lbl_804942B8@l
/* 803F66C0 003EC440  80 83 00 38 */	lwz r4, 0x38(r3)
/* 803F66C4 003EC444  48 00 00 20 */	b lbl_803F66E4
lbl_803F66C8:
/* 803F66C8 003EC448  80 01 00 10 */	lwz r0, 0x10(r1)
/* 803F66CC 003EC44C  1C 00 00 0A */	mulli r0, r0, 0xa
/* 803F66D0 003EC450  7C 66 02 14 */	add r3, r6, r0
/* 803F66D4 003EC454  8C DF 00 01 */	lbzu r6, 1(r31)
/* 803F66D8 003EC458  38 03 FF D0 */	addi r0, r3, -48
/* 803F66DC 003EC45C  90 01 00 10 */	stw r0, 0x10(r1)
/* 803F66E0 003EC460  7C C6 07 74 */	extsb r6, r6
lbl_803F66E4:
/* 803F66E4 003EC464  2C 06 00 00 */	cmpwi r6, 0
/* 803F66E8 003EC468  38 00 00 00 */	li r0, 0
/* 803F66EC 003EC46C  41 80 00 0C */	blt lbl_803F66F8
/* 803F66F0 003EC470  2C 06 01 00 */	cmpwi r6, 0x100
/* 803F66F4 003EC474  41 80 00 08 */	blt lbl_803F66FC
lbl_803F66F8:
/* 803F66F8 003EC478  38 00 00 01 */	li r0, 1
lbl_803F66FC:
/* 803F66FC 003EC47C  2C 00 00 00 */	cmpwi r0, 0
/* 803F6700 003EC480  41 82 00 0C */	beq lbl_803F670C
/* 803F6704 003EC484  38 00 00 00 */	li r0, 0
/* 803F6708 003EC488  48 00 00 14 */	b lbl_803F671C
lbl_803F670C:
/* 803F670C 003EC48C  80 64 00 08 */	lwz r3, 8(r4)
/* 803F6710 003EC490  54 C0 08 3C */	slwi r0, r6, 1
/* 803F6714 003EC494  7C 03 02 2E */	lhzx r0, r3, r0
/* 803F6718 003EC498  54 00 07 38 */	rlwinm r0, r0, 0, 0x1c, 0x1c
lbl_803F671C:
/* 803F671C 003EC49C  2C 00 00 00 */	cmpwi r0, 0
/* 803F6720 003EC4A0  40 82 FF A8 */	bne lbl_803F66C8
lbl_803F6724:
/* 803F6724 003EC4A4  80 E1 00 10 */	lwz r7, 0x10(r1)
/* 803F6728 003EC4A8  2C 07 01 FD */	cmpwi r7, 0x1fd
/* 803F672C 003EC4AC  40 81 00 30 */	ble lbl_803F675C
/* 803F6730 003EC4B0  38 00 00 FF */	li r0, 0xff
/* 803F6734 003EC4B4  80 A1 00 08 */	lwz r5, 8(r1)
/* 803F6738 003EC4B8  98 01 00 0D */	stb r0, 0xd(r1)
/* 803F673C 003EC4BC  38 7F 00 01 */	addi r3, r31, 1
/* 803F6740 003EC4C0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803F6744 003EC4C4  80 81 00 0C */	lwz r4, 0xc(r1)
/* 803F6748 003EC4C8  90 BE 00 00 */	stw r5, 0(r30)
/* 803F674C 003EC4CC  90 9E 00 04 */	stw r4, 4(r30)
/* 803F6750 003EC4D0  90 FE 00 08 */	stw r7, 8(r30)
/* 803F6754 003EC4D4  90 1E 00 0C */	stw r0, 0xc(r30)
/* 803F6758 003EC4D8  48 00 04 00 */	b lbl_803F6B58
lbl_803F675C:
/* 803F675C 003EC4DC  2C 06 00 2E */	cmpwi r6, 0x2e
/* 803F6760 003EC4E0  40 82 00 B8 */	bne lbl_803F6818
/* 803F6764 003EC4E4  8C DF 00 01 */	lbzu r6, 1(r31)
/* 803F6768 003EC4E8  38 00 00 01 */	li r0, 1
/* 803F676C 003EC4EC  98 01 00 0A */	stb r0, 0xa(r1)
/* 803F6770 003EC4F0  7C C6 07 74 */	extsb r6, r6
/* 803F6774 003EC4F4  2C 06 00 2A */	cmpwi r6, 0x2a
/* 803F6778 003EC4F8  40 82 00 34 */	bne lbl_803F67AC
/* 803F677C 003EC4FC  7F A3 EB 78 */	mr r3, r29
/* 803F6780 003EC500  38 80 00 01 */	li r4, 1
/* 803F6784 003EC504  4B FF 9E D9 */	bl __va_arg
/* 803F6788 003EC508  80 03 00 00 */	lwz r0, 0(r3)
/* 803F678C 003EC50C  2C 00 00 00 */	cmpwi r0, 0
/* 803F6790 003EC510  90 01 00 14 */	stw r0, 0x14(r1)
/* 803F6794 003EC514  40 80 00 0C */	bge lbl_803F67A0
/* 803F6798 003EC518  38 00 00 00 */	li r0, 0
/* 803F679C 003EC51C  98 01 00 0A */	stb r0, 0xa(r1)
lbl_803F67A0:
/* 803F67A0 003EC520  8C DF 00 01 */	lbzu r6, 1(r31)
/* 803F67A4 003EC524  7C C6 07 74 */	extsb r6, r6
/* 803F67A8 003EC528  48 00 00 70 */	b lbl_803F6818
lbl_803F67AC:
/* 803F67AC 003EC52C  3C 60 80 49 */	lis r3, lbl_804942B8@ha
/* 803F67B0 003EC530  38 63 42 B8 */	addi r3, r3, lbl_804942B8@l
/* 803F67B4 003EC534  80 83 00 38 */	lwz r4, 0x38(r3)
/* 803F67B8 003EC538  48 00 00 20 */	b lbl_803F67D8

.global lbl_803F67BC
lbl_803F67BC:
/* 803F67BC 003EC53C  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803F67C0 003EC540  1C 00 00 0A */	mulli r0, r0, 0xa
/* 803F67C4 003EC544  7C 66 02 14 */	add r3, r6, r0
/* 803F67C8 003EC548  8C DF 00 01 */	lbzu r6, 1(r31)
/* 803F67CC 003EC54C  38 03 FF D0 */	addi r0, r3, -48
/* 803F67D0 003EC550  90 01 00 14 */	stw r0, 0x14(r1)
/* 803F67D4 003EC554  7C C6 07 74 */	extsb r6, r6
lbl_803F67D8:
/* 803F67D8 003EC558  2C 06 00 00 */	cmpwi r6, 0
/* 803F67DC 003EC55C  38 00 00 00 */	li r0, 0
/* 803F67E0 003EC560  41 80 00 0C */	blt lbl_803F67EC

