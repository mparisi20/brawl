.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global gfShutdownManager$7update
gfShutdownManager$7update:
/* 800309F8 00026778  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 800309FC 0002677C  7C 08 02 A6 */	mflr r0
/* 80030A00 00026780  90 01 00 14 */	stw r0, 0x14(r1)
/* 80030A04 00026784  93 E1 00 0C */	stw r31, 0xc(r1)
/* 80030A08 00026788  7C 7F 1B 78 */	mr r31, r3
/* 80030A0C 0002678C  93 C1 00 08 */	stw r30, 8(r1)
/* 80030A10 00026790  80 03 00 F0 */	lwz r0, 0xf0(r3)
/* 80030A14 00026794  2C 00 00 00 */	cmpwi r0, 0
/* 80030A18 00026798  41 82 00 0C */	beq lbl_80030A24
/* 80030A1C 0002679C  38 60 00 00 */	li r3, 0
/* 80030A20 000267A0  48 00 01 30 */	b lbl_80030B50
lbl_80030A24:
/* 80030A24 000267A4  89 03 00 F8 */	lbz r8, 0xf8(r3)
/* 80030A28 000267A8  39 20 00 00 */	li r9, 0
/* 80030A2C 000267AC  38 C5 FF F8 */	addi r6, r5, -8
/* 80030A30 000267B0  38 05 FF F9 */	addi r0, r5, -7
/* 80030A34 000267B4  55 08 06 6E */	rlwinm r8, r8, 0, 0x19, 0x17
/* 80030A38 000267B8  39 40 00 02 */	li r10, 2
/* 80030A3C 000267BC  7C C7 00 34 */	cntlzw r7, r6
/* 80030A40 000267C0  7C 00 00 34 */	cntlzw r0, r0
/* 80030A44 000267C4  55 06 07 74 */	rlwinm r6, r8, 0, 0x1d, 0x1a
/* 80030A48 000267C8  39 00 00 04 */	li r8, 4
/* 80030A4C 000267CC  50 E6 0E 72 */	rlwimi r6, r7, 1, 0x19, 0x19
/* 80030A50 000267D0  2C 05 00 08 */	cmpwi r5, 8
/* 80030A54 000267D4  50 06 06 B4 */	rlwimi r6, r0, 0, 0x1a, 0x1a
/* 80030A58 000267D8  91 43 00 F0 */	stw r10, 0xf0(r3)
/* 80030A5C 000267DC  91 03 00 F4 */	stw r8, 0xf4(r3)
/* 80030A60 000267E0  99 23 00 F9 */	stb r9, 0xf9(r3)
/* 80030A64 000267E4  91 23 01 00 */	stw r9, 0x100(r3)
/* 80030A68 000267E8  98 C3 00 F8 */	stb r6, 0xf8(r3)
/* 80030A6C 000267EC  41 82 00 0C */	beq lbl_80030A78
/* 80030A70 000267F0  2C 05 00 07 */	cmpwi r5, 7
/* 80030A74 000267F4  40 82 00 08 */	bne lbl_80030A7C
lbl_80030A78:
/* 80030A78 000267F8  39 20 00 01 */	li r9, 1
lbl_80030A7C:
/* 80030A7C 000267FC  2C 09 00 00 */	cmpwi r9, 0
/* 80030A80 00026800  41 82 00 08 */	beq lbl_80030A88
/* 80030A84 00026804  38 A0 00 00 */	li r5, 0
lbl_80030A88:
/* 80030A88 00026808  80 03 00 8C */	lwz r0, 0x8c(r3)
/* 80030A8C 0002680C  3B C0 00 00 */	li r30, 0
/* 80030A90 00026810  90 A3 01 04 */	stw r5, 0x104(r3)
/* 80030A94 00026814  2C 00 00 00 */	cmpwi r0, 0
/* 80030A98 00026818  90 83 01 08 */	stw r4, 0x108(r3)
/* 80030A9C 0002681C  93 C3 00 A0 */	stw r30, 0xa0(r3)
/* 80030AA0 00026820  41 82 00 10 */	beq lbl_80030AB0
/* 80030AA4 00026824  7C 03 03 78 */	mr r3, r0
/* 80030AA8 00026828  4B FF 3F A5 */	bl gfHeapManager$7free
/* 80030AAC 0002682C  93 DF 00 8C */	stw r30, 0x8c(r31)
lbl_80030AB0:
/* 80030AB0 00026830  80 7F 00 90 */	lwz r3, 0x90(r31)
/* 80030AB4 00026834  2C 03 00 00 */	cmpwi r3, 0
/* 80030AB8 00026838  41 82 00 10 */	beq lbl_80030AC8
/* 80030ABC 0002683C  4B FF 3F 91 */	bl gfHeapManager$7free
/* 80030AC0 00026840  38 00 00 00 */	li r0, 0
/* 80030AC4 00026844  90 1F 00 90 */	stw r0, 0x90(r31)
lbl_80030AC8:
/* 80030AC8 00026848  80 7F 00 94 */	lwz r3, 0x94(r31)
/* 80030ACC 0002684C  2C 03 00 00 */	cmpwi r3, 0
/* 80030AD0 00026850  41 82 00 10 */	beq lbl_80030AE0
/* 80030AD4 00026854  4B FF 3F 79 */	bl gfHeapManager$7free
/* 80030AD8 00026858  38 00 00 00 */	li r0, 0
/* 80030ADC 0002685C  90 1F 00 94 */	stw r0, 0x94(r31)
lbl_80030AE0:
/* 80030AE0 00026860  80 7F 00 9C */	lwz r3, 0x9c(r31)
/* 80030AE4 00026864  2C 03 00 00 */	cmpwi r3, 0
/* 80030AE8 00026868  41 82 00 14 */	beq lbl_80030AFC
/* 80030AEC 0002686C  38 80 00 01 */	li r4, 1
/* 80030AF0 00026870  48 11 DA 31 */	bl nteExchange$7__dt
/* 80030AF4 00026874  38 00 00 00 */	li r0, 0
/* 80030AF8 00026878  90 1F 00 9C */	stw r0, 0x9c(r31)
lbl_80030AFC:
/* 80030AFC 0002687C  88 1F 00 F8 */	lbz r0, 0xf8(r31)
/* 80030B00 00026880  54 00 D7 FF */	rlwinm. r0, r0, 0x1a, 0x1f, 0x1f
/* 80030B04 00026884  40 82 00 10 */	bne lbl_80030B14
/* 80030B08 00026888  80 1F 01 04 */	lwz r0, 0x104(r31)
/* 80030B0C 0002688C  2C 00 00 04 */	cmpwi r0, 4
/* 80030B10 00026890  40 82 00 10 */	bne lbl_80030B20
lbl_80030B14:
/* 80030B14 00026894  38 00 00 00 */	li r0, 0
/* 80030B18 00026898  90 1F 00 F4 */	stw r0, 0xf4(r31)
/* 80030B1C 0002689C  48 00 00 14 */	b lbl_80030B30
lbl_80030B20:
/* 80030B20 000268A0  2C 00 00 03 */	cmpwi r0, 3
/* 80030B24 000268A4  40 82 00 0C */	bne lbl_80030B30
/* 80030B28 000268A8  38 00 00 02 */	li r0, 2
/* 80030B2C 000268AC  90 1F 00 F4 */	stw r0, 0xf4(r31)
lbl_80030B30:
/* 80030B30 000268B0  3C 60 80 49 */	lis r3, lbl_804953A0@ha
/* 80030B34 000268B4  3C 80 80 49 */	lis r4, lbl_80495390@ha
/* 80030B38 000268B8  38 63 53 A0 */	addi r3, r3, lbl_804953A0@l
/* 80030B3C 000268BC  38 00 00 00 */	li r0, 0
/* 80030B40 000268C0  38 84 53 90 */	addi r4, r4, lbl_80495390@l
/* 80030B44 000268C4  98 03 00 08 */	stb r0, 8(r3)
/* 80030B48 000268C8  38 60 00 01 */	li r3, 1
/* 80030B4C 000268CC  98 04 00 0C */	stb r0, 0xc(r4)
lbl_80030B50:
/* 80030B50 000268D0  80 01 00 14 */	lwz r0, 0x14(r1)
/* 80030B54 000268D4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 80030B58 000268D8  83 C1 00 08 */	lwz r30, 8(r1)
/* 80030B5C 000268DC  7C 08 03 A6 */	mtlr r0
/* 80030B60 000268E0  38 21 00 10 */	addi r1, r1, 0x10
/* 80030B64 000268E4  4E 80 00 20 */	blr 

