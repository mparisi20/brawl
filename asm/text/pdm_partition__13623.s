.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global pdm_part_is_master_boot_sector
pdm_part_is_master_boot_sector:
/* 803D80D8 003CDE58  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803D80DC 003CDE5C  38 00 00 00 */	li r0, 0
/* 803D80E0 003CDE60  93 E1 00 2C */	stw r31, 0x2c(r1)
/* 803D80E4 003CDE64  93 C1 00 28 */	stw r30, 0x28(r1)
/* 803D80E8 003CDE68  90 05 00 00 */	stw r0, 0(r5)
/* 803D80EC 003CDE6C  88 C3 01 FE */	lbz r6, 0x1fe(r3)
/* 803D80F0 003CDE70  28 06 00 55 */	cmplwi r6, 0x55
/* 803D80F4 003CDE74  40 82 00 10 */	bne lbl_803D8104
/* 803D80F8 003CDE78  88 C3 01 FF */	lbz r6, 0x1ff(r3)
/* 803D80FC 003CDE7C  28 06 00 AA */	cmplwi r6, 0xaa
/* 803D8100 003CDE80  41 82 00 0C */	beq lbl_803D810C
lbl_803D8104:
/* 803D8104 003CDE84  38 60 00 02 */	li r3, 2
/* 803D8108 003CDE88  48 00 01 10 */	b lbl_803D8218
lbl_803D810C:
/* 803D810C 003CDE8C  39 20 00 04 */	li r9, 4
/* 803D8110 003CDE90  38 C1 00 18 */	addi r6, r1, 0x18
/* 803D8114 003CDE94  38 E1 00 08 */	addi r7, r1, 8
/* 803D8118 003CDE98  39 00 00 00 */	li r8, 0
/* 803D811C 003CDE9C  39 40 00 01 */	li r10, 1
/* 803D8120 003CDEA0  7D 29 03 A6 */	mtctr r9
lbl_803D8124:
/* 803D8124 003CDEA4  89 23 01 C9 */	lbz r9, 0x1c9(r3)
/* 803D8128 003CDEA8  89 83 01 C8 */	lbz r12, 0x1c8(r3)
/* 803D812C 003CDEAC  89 63 01 C6 */	lbz r11, 0x1c6(r3)
/* 803D8130 003CDEB0  55 3E C0 0E */	slwi r30, r9, 0x18
/* 803D8134 003CDEB4  89 23 01 C7 */	lbz r9, 0x1c7(r3)
/* 803D8138 003CDEB8  55 8C 80 1E */	slwi r12, r12, 0x10
/* 803D813C 003CDEBC  7D 8C 5A 14 */	add r12, r12, r11
/* 803D8140 003CDEC0  8B E3 01 CD */	lbz r31, 0x1cd(r3)
/* 803D8144 003CDEC4  55 2B 40 2E */	slwi r11, r9, 8
/* 803D8148 003CDEC8  89 23 01 CC */	lbz r9, 0x1cc(r3)
/* 803D814C 003CDECC  7D 7E 5A 14 */	add r11, r30, r11
/* 803D8150 003CDED0  57 FF C0 0E */	slwi r31, r31, 0x18
/* 803D8154 003CDED4  7F CC 5A 15 */	add. r30, r12, r11
/* 803D8158 003CDED8  89 63 01 CA */	lbz r11, 0x1ca(r3)
/* 803D815C 003CDEDC  55 2C 80 1E */	slwi r12, r9, 0x10
/* 803D8160 003CDEE0  89 23 01 CB */	lbz r9, 0x1cb(r3)
/* 803D8164 003CDEE4  90 06 00 00 */	stw r0, 0(r6)
/* 803D8168 003CDEE8  7D 6C 5A 14 */	add r11, r12, r11
/* 803D816C 003CDEEC  55 29 40 2E */	slwi r9, r9, 8
/* 803D8170 003CDEF0  7D 3F 4A 14 */	add r9, r31, r9
/* 803D8174 003CDEF4  93 C6 00 00 */	stw r30, 0(r6)
/* 803D8178 003CDEF8  7D 2B 4A 14 */	add r9, r11, r9
/* 803D817C 003CDEFC  91 27 00 00 */	stw r9, 0(r7)
/* 803D8180 003CDF00  41 82 00 20 */	beq lbl_803D81A0
/* 803D8184 003CDF04  81 27 00 00 */	lwz r9, 0(r7)
/* 803D8188 003CDF08  2C 09 00 00 */	cmpwi r9, 0
/* 803D818C 003CDF0C  41 82 00 14 */	beq lbl_803D81A0
/* 803D8190 003CDF10  7D 09 07 35 */	extsh. r9, r8
/* 803D8194 003CDF14  40 82 00 1C */	bne lbl_803D81B0
/* 803D8198 003CDF18  91 45 00 00 */	stw r10, 0(r5)
/* 803D819C 003CDF1C  48 00 00 14 */	b lbl_803D81B0
lbl_803D81A0:
/* 803D81A0 003CDF20  7D 09 07 35 */	extsh. r9, r8
/* 803D81A4 003CDF24  40 82 00 0C */	bne lbl_803D81B0
/* 803D81A8 003CDF28  38 60 00 02 */	li r3, 2
/* 803D81AC 003CDF2C  48 00 00 6C */	b lbl_803D8218
lbl_803D81B0:
/* 803D81B0 003CDF30  39 08 00 01 */	addi r8, r8, 1
/* 803D81B4 003CDF34  38 E7 00 04 */	addi r7, r7, 4
/* 803D81B8 003CDF38  38 63 00 10 */	addi r3, r3, 0x10
/* 803D81BC 003CDF3C  38 C6 00 04 */	addi r6, r6, 4
/* 803D81C0 003CDF40  42 00 FF 64 */	bdnz lbl_803D8124
/* 803D81C4 003CDF44  38 00 00 04 */	li r0, 4
/* 803D81C8 003CDF48  38 C1 00 08 */	addi r6, r1, 8
/* 803D81CC 003CDF4C  38 E1 00 18 */	addi r7, r1, 0x18
/* 803D81D0 003CDF50  39 00 00 00 */	li r8, 0
/* 803D81D4 003CDF54  7C 09 03 A6 */	mtctr r0
lbl_803D81D8:
/* 803D81D8 003CDF58  80 67 00 00 */	lwz r3, 0(r7)
/* 803D81DC 003CDF5C  80 06 00 00 */	lwz r0, 0(r6)
/* 803D81E0 003CDF60  7C 03 02 14 */	add r0, r3, r0
/* 803D81E4 003CDF64  7C 00 20 40 */	cmplw r0, r4
/* 803D81E8 003CDF68  40 81 00 1C */	ble lbl_803D8204
/* 803D81EC 003CDF6C  7D 00 07 35 */	extsh. r0, r8
/* 803D81F0 003CDF70  40 82 00 0C */	bne lbl_803D81FC
/* 803D81F4 003CDF74  38 00 00 00 */	li r0, 0
/* 803D81F8 003CDF78  90 05 00 00 */	stw r0, 0(r5)
lbl_803D81FC:
/* 803D81FC 003CDF7C  38 60 00 02 */	li r3, 2
/* 803D8200 003CDF80  48 00 00 18 */	b lbl_803D8218
lbl_803D8204:
/* 803D8204 003CDF84  39 08 00 01 */	addi r8, r8, 1
/* 803D8208 003CDF88  38 E7 00 04 */	addi r7, r7, 4
/* 803D820C 003CDF8C  38 C6 00 04 */	addi r6, r6, 4
/* 803D8210 003CDF90  42 00 FF C8 */	bdnz lbl_803D81D8
/* 803D8214 003CDF94  38 60 00 00 */	li r3, 0
lbl_803D8218:
/* 803D8218 003CDF98  83 E1 00 2C */	lwz r31, 0x2c(r1)
/* 803D821C 003CDF9C  83 C1 00 28 */	lwz r30, 0x28(r1)
/* 803D8220 003CDFA0  38 21 00 30 */	addi r1, r1, 0x30
/* 803D8224 003CDFA4  4E 80 00 20 */	blr 

.global pdm_part_is_boot_sector
pdm_part_is_boot_sector:
/* 803D8228 003CDFA8  88 83 00 00 */	lbz r4, 0(r3)
/* 803D822C 003CDFAC  38 A0 00 01 */	li r5, 1
/* 803D8230 003CDFB0  28 04 00 EB */	cmplwi r4, 0xeb
/* 803D8234 003CDFB4  40 82 00 10 */	bne lbl_803D8244
/* 803D8238 003CDFB8  88 03 00 02 */	lbz r0, 2(r3)
/* 803D823C 003CDFBC  28 00 00 90 */	cmplwi r0, 0x90
/* 803D8240 003CDFC0  41 82 00 10 */	beq lbl_803D8250
lbl_803D8244:
/* 803D8244 003CDFC4  28 04 00 E9 */	cmplwi r4, 0xe9
/* 803D8248 003CDFC8  41 82 00 08 */	beq lbl_803D8250
/* 803D824C 003CDFCC  38 A0 00 00 */	li r5, 0
lbl_803D8250:
/* 803D8250 003CDFD0  88 03 01 FE */	lbz r0, 0x1fe(r3)
/* 803D8254 003CDFD4  28 00 00 55 */	cmplwi r0, 0x55
/* 803D8258 003CDFD8  40 82 00 10 */	bne lbl_803D8268
/* 803D825C 003CDFDC  88 03 01 FF */	lbz r0, 0x1ff(r3)
/* 803D8260 003CDFE0  28 00 00 AA */	cmplwi r0, 0xaa
/* 803D8264 003CDFE4  41 82 00 08 */	beq lbl_803D826C
lbl_803D8268:
/* 803D8268 003CDFE8  38 A0 00 00 */	li r5, 0
lbl_803D826C:
/* 803D826C 003CDFEC  38 03 00 0B */	addi r0, r3, 0xb
/* 803D8270 003CDFF0  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 803D8274 003CDFF4  41 82 00 14 */	beq lbl_803D8288
/* 803D8278 003CDFF8  88 03 00 0C */	lbz r0, 0xc(r3)
/* 803D827C 003CDFFC  88 83 00 0B */	lbz r4, 0xb(r3)
/* 803D8280 003CE000  50 04 44 2E */	rlwimi r4, r0, 8, 0x10, 0x17
/* 803D8284 003CE004  48 00 00 10 */	b lbl_803D8294
lbl_803D8288:
/* 803D8288 003CE008  A0 03 00 0C */	lhz r0, 0xc(r3)
/* 803D828C 003CE00C  54 04 44 2E */	rlwinm r4, r0, 8, 0x10, 0x17
/* 803D8290 003CE010  50 04 C6 3E */	rlwimi r4, r0, 0x18, 0x18, 0x1f
lbl_803D8294:
/* 803D8294 003CE014  54 80 04 3E */	clrlwi r0, r4, 0x10
/* 803D8298 003CE018  28 00 02 00 */	cmplwi r0, 0x200
/* 803D829C 003CE01C  41 82 00 20 */	beq lbl_803D82BC
/* 803D82A0 003CE020  28 00 04 00 */	cmplwi r0, 0x400
/* 803D82A4 003CE024  41 82 00 18 */	beq lbl_803D82BC
/* 803D82A8 003CE028  28 00 08 00 */	cmplwi r0, 0x800
/* 803D82AC 003CE02C  41 82 00 10 */	beq lbl_803D82BC
/* 803D82B0 003CE030  28 00 10 00 */	cmplwi r0, 0x1000
/* 803D82B4 003CE034  41 82 00 08 */	beq lbl_803D82BC
/* 803D82B8 003CE038  38 A0 00 00 */	li r5, 0
lbl_803D82BC:
/* 803D82BC 003CE03C  88 03 00 0D */	lbz r0, 0xd(r3)
/* 803D82C0 003CE040  28 00 00 01 */	cmplwi r0, 1
/* 803D82C4 003CE044  41 82 00 40 */	beq lbl_803D8304
/* 803D82C8 003CE048  28 00 00 02 */	cmplwi r0, 2
/* 803D82CC 003CE04C  41 82 00 38 */	beq lbl_803D8304
/* 803D82D0 003CE050  28 00 00 04 */	cmplwi r0, 4
/* 803D82D4 003CE054  41 82 00 30 */	beq lbl_803D8304
/* 803D82D8 003CE058  28 00 00 08 */	cmplwi r0, 8
/* 803D82DC 003CE05C  41 82 00 28 */	beq lbl_803D8304
/* 803D82E0 003CE060  28 00 00 10 */	cmplwi r0, 0x10
/* 803D82E4 003CE064  41 82 00 20 */	beq lbl_803D8304
/* 803D82E8 003CE068  28 00 00 20 */	cmplwi r0, 0x20
/* 803D82EC 003CE06C  41 82 00 18 */	beq lbl_803D8304
/* 803D82F0 003CE070  28 00 00 40 */	cmplwi r0, 0x40
/* 803D82F4 003CE074  41 82 00 10 */	beq lbl_803D8304
/* 803D82F8 003CE078  28 00 00 80 */	cmplwi r0, 0x80
/* 803D82FC 003CE07C  41 82 00 08 */	beq lbl_803D8304
/* 803D8300 003CE080  38 A0 00 00 */	li r5, 0
lbl_803D8304:
/* 803D8304 003CE084  88 03 00 15 */	lbz r0, 0x15(r3)
/* 803D8308 003CE088  28 00 00 F0 */	cmplwi r0, 0xf0
/* 803D830C 003CE08C  41 82 00 48 */	beq lbl_803D8354
/* 803D8310 003CE090  28 00 00 F8 */	cmplwi r0, 0xf8
/* 803D8314 003CE094  41 82 00 40 */	beq lbl_803D8354
/* 803D8318 003CE098  28 00 00 F9 */	cmplwi r0, 0xf9
/* 803D831C 003CE09C  41 82 00 38 */	beq lbl_803D8354
/* 803D8320 003CE0A0  28 00 00 FA */	cmplwi r0, 0xfa
/* 803D8324 003CE0A4  41 82 00 30 */	beq lbl_803D8354
/* 803D8328 003CE0A8  28 00 00 FB */	cmplwi r0, 0xfb
/* 803D832C 003CE0AC  41 82 00 28 */	beq lbl_803D8354
/* 803D8330 003CE0B0  28 00 00 FC */	cmplwi r0, 0xfc
/* 803D8334 003CE0B4  41 82 00 20 */	beq lbl_803D8354
/* 803D8338 003CE0B8  28 00 00 FD */	cmplwi r0, 0xfd
/* 803D833C 003CE0BC  41 82 00 18 */	beq lbl_803D8354
/* 803D8340 003CE0C0  28 00 00 FE */	cmplwi r0, 0xfe
/* 803D8344 003CE0C4  41 82 00 10 */	beq lbl_803D8354
/* 803D8348 003CE0C8  28 00 00 FF */	cmplwi r0, 0xff
/* 803D834C 003CE0CC  41 82 00 08 */	beq lbl_803D8354
/* 803D8350 003CE0D0  38 A0 00 00 */	li r5, 0
lbl_803D8354:
/* 803D8354 003CE0D4  7C A3 2B 78 */	mr r3, r5
/* 803D8358 003CE0D8  4E 80 00 20 */	blr 

.global pdm_part_get_start_sector
pdm_part_get_start_sector:
/* 803D835C 003CE0DC  54 2B 06 FE */	clrlwi r11, r1, 0x1b
/* 803D8360 003CE0E0  7C 2C 0B 78 */	mr r12, r1
/* 803D8364 003CE0E4  21 6B FD 20 */	subfic r11, r11, -736
/* 803D8368 003CE0E8  7C 21 59 6E */	stwux r1, r1, r11
/* 803D836C 003CE0EC  7C 08 02 A6 */	mflr r0
/* 803D8370 003CE0F0  7D 8B 63 78 */	mr r11, r12
/* 803D8374 003CE0F4  90 0C 00 04 */	stw r0, 4(r12)
/* 803D8378 003CE0F8  48 01 8F 75 */	bl _savegpr_14
/* 803D837C 003CE0FC  39 C0 00 00 */	li r14, 0
/* 803D8380 003CE100  80 A3 00 04 */	lwz r5, 4(r3)
/* 803D8384 003CE104  91 C3 00 0C */	stw r14, 0xc(r3)
/* 803D8388 003CE108  7C 7E 1B 78 */	mr r30, r3
/* 803D838C 003CE10C  83 E3 00 08 */	lwz r31, 8(r3)
/* 803D8390 003CE110  38 81 00 60 */	addi r4, r1, 0x60
/* 803D8394 003CE114  80 05 00 18 */	lwz r0, 0x18(r5)
/* 803D8398 003CE118  39 01 00 20 */	addi r8, r1, 0x20
/* 803D839C 003CE11C  38 C0 00 01 */	li r6, 1
/* 803D83A0 003CE120  38 E0 02 00 */	li r7, 0x200
/* 803D83A4 003CE124  90 03 00 10 */	stw r0, 0x10(r3)
/* 803D83A8 003CE128  7C A3 2B 78 */	mr r3, r5
/* 803D83AC 003CE12C  38 A0 00 00 */	li r5, 0
/* 803D83B0 003CE130  4B FF FA 19 */	bl pdm_disk_physical_read
/* 803D83B4 003CE134  2C 03 00 00 */	cmpwi r3, 0
/* 803D83B8 003CE138  41 82 00 08 */	beq lbl_803D83C0
/* 803D83BC 003CE13C  48 00 03 D4 */	b lbl_803D8790
lbl_803D83C0:
/* 803D83C0 003CE140  80 9E 00 04 */	lwz r4, 4(r30)
/* 803D83C4 003CE144  38 61 00 60 */	addi r3, r1, 0x60
/* 803D83C8 003CE148  38 A1 00 24 */	addi r5, r1, 0x24
/* 803D83CC 003CE14C  80 84 00 18 */	lwz r4, 0x18(r4)
/* 803D83D0 003CE150  4B FF FD 09 */	bl pdm_part_is_master_boot_sector
/* 803D83D4 003CE154  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D83D8 003CE158  2C 00 00 00 */	cmpwi r0, 0
/* 803D83DC 003CE15C  41 82 03 90 */	beq lbl_803D876C
/* 803D83E0 003CE160  88 A1 02 38 */	lbz r5, 0x238(r1)
/* 803D83E4 003CE164  3B 81 00 38 */	addi r28, r1, 0x38
/* 803D83E8 003CE168  88 81 02 28 */	lbz r4, 0x228(r1)
/* 803D83EC 003CE16C  3B A1 00 28 */	addi r29, r1, 0x28
/* 803D83F0 003CE170  54 B0 80 1E */	slwi r16, r5, 0x10
/* 803D83F4 003CE174  88 A1 02 48 */	lbz r5, 0x248(r1)
/* 803D83F8 003CE178  88 61 02 27 */	lbz r3, 0x227(r1)
/* 803D83FC 003CE17C  54 97 80 1E */	slwi r23, r4, 0x10
/* 803D8400 003CE180  54 B2 80 1E */	slwi r18, r5, 0x10
/* 803D8404 003CE184  88 A1 02 58 */	lbz r5, 0x258(r1)
/* 803D8408 003CE188  54 7B 40 2E */	slwi r27, r3, 8
/* 803D840C 003CE18C  88 81 02 37 */	lbz r4, 0x237(r1)
/* 803D8410 003CE190  88 61 02 49 */	lbz r3, 0x249(r1)
/* 803D8414 003CE194  54 B6 80 1E */	slwi r22, r5, 0x10
/* 803D8418 003CE198  88 A1 02 2C */	lbz r5, 0x22c(r1)
/* 803D841C 003CE19C  54 8F 40 2E */	slwi r15, r4, 8
/* 803D8420 003CE1A0  88 81 02 47 */	lbz r4, 0x247(r1)
/* 803D8424 003CE1A4  54 71 C0 0E */	slwi r17, r3, 0x18
/* 803D8428 003CE1A8  88 61 02 59 */	lbz r3, 0x259(r1)
/* 803D842C 003CE1AC  54 BA 80 1E */	slwi r26, r5, 0x10
/* 803D8430 003CE1B0  88 A1 02 3C */	lbz r5, 0x23c(r1)
/* 803D8434 003CE1B4  54 94 40 2E */	slwi r20, r4, 8
/* 803D8438 003CE1B8  88 81 02 57 */	lbz r4, 0x257(r1)
/* 803D843C 003CE1BC  54 75 C0 0E */	slwi r21, r3, 0x18
/* 803D8440 003CE1C0  88 61 02 2D */	lbz r3, 0x22d(r1)
/* 803D8444 003CE1C4  54 AA 80 1E */	slwi r10, r5, 0x10
/* 803D8448 003CE1C8  88 A1 02 4C */	lbz r5, 0x24c(r1)
/* 803D844C 003CE1CC  54 98 40 2E */	slwi r24, r4, 8
/* 803D8450 003CE1D0  88 81 02 2B */	lbz r4, 0x22b(r1)
/* 803D8454 003CE1D4  54 79 C0 0E */	slwi r25, r3, 0x18
/* 803D8458 003CE1D8  88 61 02 3D */	lbz r3, 0x23d(r1)
/* 803D845C 003CE1DC  54 A6 80 1E */	slwi r6, r5, 0x10
/* 803D8460 003CE1E0  54 8C 40 2E */	slwi r12, r4, 8
/* 803D8464 003CE1E4  88 A1 02 5C */	lbz r5, 0x25c(r1)
/* 803D8468 003CE1E8  88 81 02 3B */	lbz r4, 0x23b(r1)
/* 803D846C 003CE1EC  54 6B C0 0E */	slwi r11, r3, 0x18
/* 803D8470 003CE1F0  88 61 02 4D */	lbz r3, 0x24d(r1)
/* 803D8474 003CE1F4  54 A5 80 1E */	slwi r5, r5, 0x10
/* 803D8478 003CE1F8  88 01 02 29 */	lbz r0, 0x229(r1)
/* 803D847C 003CE1FC  54 88 40 2E */	slwi r8, r4, 8
/* 803D8480 003CE200  90 A1 02 64 */	stw r5, 0x264(r1)
/* 803D8484 003CE204  54 67 C0 0E */	slwi r7, r3, 0x18
/* 803D8488 003CE208  54 09 C0 0E */	slwi r9, r0, 0x18
/* 803D848C 003CE20C  88 A1 02 36 */	lbz r5, 0x236(r1)
/* 803D8490 003CE210  88 81 02 4B */	lbz r4, 0x24b(r1)
/* 803D8494 003CE214  7D 29 DA 14 */	add r9, r9, r27
/* 803D8498 003CE218  88 61 02 5D */	lbz r3, 0x25d(r1)
/* 803D849C 003CE21C  7E 10 2A 14 */	add r16, r16, r5
/* 803D84A0 003CE220  88 01 02 39 */	lbz r0, 0x239(r1)
/* 803D84A4 003CE224  54 84 40 2E */	slwi r4, r4, 8
/* 803D84A8 003CE228  88 A1 02 4A */	lbz r5, 0x24a(r1)
/* 803D84AC 003CE22C  54 63 C0 0E */	slwi r3, r3, 0x18
/* 803D84B0 003CE230  54 00 C0 0E */	slwi r0, r0, 0x18
/* 803D84B4 003CE234  90 61 02 60 */	stw r3, 0x260(r1)
/* 803D84B8 003CE238  7D E0 7A 14 */	add r15, r0, r15
/* 803D84BC 003CE23C  88 61 02 26 */	lbz r3, 0x226(r1)
/* 803D84C0 003CE240  7D F0 7A 14 */	add r15, r16, r15
/* 803D84C4 003CE244  89 C1 02 5B */	lbz r14, 0x25b(r1)
/* 803D84C8 003CE248  7C 77 1A 14 */	add r3, r23, r3
/* 803D84CC 003CE24C  8A 61 02 46 */	lbz r19, 0x246(r1)
/* 803D84D0 003CE250  7C 63 4A 14 */	add r3, r3, r9
/* 803D84D4 003CE254  89 21 02 3A */	lbz r9, 0x23a(r1)
/* 803D84D8 003CE258  7E 52 9A 14 */	add r18, r18, r19
/* 803D84DC 003CE25C  7E 11 A2 14 */	add r16, r17, r20
/* 803D84E0 003CE260  7E 32 82 14 */	add r17, r18, r16
/* 803D84E4 003CE264  8A E1 02 56 */	lbz r23, 0x256(r1)
/* 803D84E8 003CE268  8B 61 02 2A */	lbz r27, 0x22a(r1)
/* 803D84EC 003CE26C  7D 4A 4A 14 */	add r10, r10, r9
/* 803D84F0 003CE270  7C A6 2A 14 */	add r5, r6, r5
/* 803D84F4 003CE274  7C 87 22 14 */	add r4, r7, r4
/* 803D84F8 003CE278  7C A5 22 14 */	add r5, r5, r4
/* 803D84FC 003CE27C  7D 2B 42 14 */	add r9, r11, r8
/* 803D8500 003CE280  7C CA 4A 14 */	add r6, r10, r9
/* 803D8504 003CE284  88 01 02 5A */	lbz r0, 0x25a(r1)
/* 803D8508 003CE288  80 81 02 64 */	lwz r4, 0x264(r1)
/* 803D850C 003CE28C  55 CE 40 2E */	slwi r14, r14, 8
/* 803D8510 003CE290  7E 16 BA 14 */	add r16, r22, r23
/* 803D8514 003CE294  7E 75 C2 14 */	add r19, r21, r24
/* 803D8518 003CE298  7C 84 02 14 */	add r4, r4, r0
/* 803D851C 003CE29C  80 01 02 60 */	lwz r0, 0x260(r1)
/* 803D8520 003CE2A0  7D 10 9A 14 */	add r8, r16, r19
/* 803D8524 003CE2A4  7E 5A DA 14 */	add r18, r26, r27
/* 803D8528 003CE2A8  7C 00 72 14 */	add r0, r0, r14
/* 803D852C 003CE2AC  7D 99 62 14 */	add r12, r25, r12
/* 803D8530 003CE2B0  7D 72 62 14 */	add r11, r18, r12
/* 803D8534 003CE2B4  90 61 00 38 */	stw r3, 0x38(r1)
/* 803D8538 003CE2B8  7C 04 02 14 */	add r0, r4, r0
/* 803D853C 003CE2BC  39 C0 00 00 */	li r14, 0
/* 803D8540 003CE2C0  91 E1 00 3C */	stw r15, 0x3c(r1)
/* 803D8544 003CE2C4  3A 40 00 00 */	li r18, 0
/* 803D8548 003CE2C8  92 21 00 40 */	stw r17, 0x40(r1)
/* 803D854C 003CE2CC  91 01 00 44 */	stw r8, 0x44(r1)
/* 803D8550 003CE2D0  91 61 00 28 */	stw r11, 0x28(r1)
/* 803D8554 003CE2D4  90 C1 00 2C */	stw r6, 0x2c(r1)
/* 803D8558 003CE2D8  90 A1 00 30 */	stw r5, 0x30(r1)
/* 803D855C 003CE2DC  90 01 00 34 */	stw r0, 0x34(r1)
lbl_803D8560:
/* 803D8560 003CE2E0  56 40 13 BA */	rlwinm r0, r18, 2, 0xe, 0x1d
/* 803D8564 003CE2E4  7D FC 00 2E */	lwzx r15, r28, r0
/* 803D8568 003CE2E8  7E 7D 00 2E */	lwzx r19, r29, r0
/* 803D856C 003CE2EC  2C 0F 00 00 */	cmpwi r15, 0
/* 803D8570 003CE2F0  41 82 00 0C */	beq lbl_803D857C
/* 803D8574 003CE2F4  2C 13 00 00 */	cmpwi r19, 0
/* 803D8578 003CE2F8  40 82 00 0C */	bne lbl_803D8584
lbl_803D857C:
/* 803D857C 003CE2FC  38 60 00 07 */	li r3, 7
/* 803D8580 003CE300  48 00 02 10 */	b lbl_803D8790
lbl_803D8584:
/* 803D8584 003CE304  80 7E 00 04 */	lwz r3, 4(r30)
/* 803D8588 003CE308  7D E5 7B 78 */	mr r5, r15
/* 803D858C 003CE30C  38 81 00 60 */	addi r4, r1, 0x60
/* 803D8590 003CE310  39 01 00 20 */	addi r8, r1, 0x20
/* 803D8594 003CE314  38 C0 00 01 */	li r6, 1
/* 803D8598 003CE318  38 E0 02 00 */	li r7, 0x200
/* 803D859C 003CE31C  4B FF F8 2D */	bl pdm_disk_physical_read
/* 803D85A0 003CE320  2C 03 00 00 */	cmpwi r3, 0
/* 803D85A4 003CE324  41 82 00 08 */	beq lbl_803D85AC
/* 803D85A8 003CE328  48 00 01 E8 */	b lbl_803D8790
lbl_803D85AC:
/* 803D85AC 003CE32C  80 9E 00 04 */	lwz r4, 4(r30)
/* 803D85B0 003CE330  38 61 00 60 */	addi r3, r1, 0x60
/* 803D85B4 003CE334  38 A1 00 24 */	addi r5, r1, 0x24
/* 803D85B8 003CE338  80 84 00 18 */	lwz r4, 0x18(r4)
/* 803D85BC 003CE33C  4B FF FB 1D */	bl pdm_part_is_master_boot_sector
/* 803D85C0 003CE340  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D85C4 003CE344  2C 00 00 00 */	cmpwi r0, 0
/* 803D85C8 003CE348  41 82 01 7C */	beq lbl_803D8744
/* 803D85CC 003CE34C  56 40 13 BA */	rlwinm r0, r18, 2, 0xe, 0x1d
/* 803D85D0 003CE350  3A 20 00 00 */	li r17, 0
/* 803D85D4 003CE354  7E 1C 00 2E */	lwzx r16, r28, r0
/* 803D85D8 003CE358  7E 0F 83 78 */	mr r15, r16
/* 803D85DC 003CE35C  48 00 01 58 */	b lbl_803D8734
lbl_803D85E0:
/* 803D85E0 003CE360  56 20 04 3F */	clrlwi. r0, r17, 0x10
/* 803D85E4 003CE364  40 82 00 A0 */	bne lbl_803D8684
/* 803D85E8 003CE368  88 61 02 28 */	lbz r3, 0x228(r1)
/* 803D85EC 003CE36C  38 81 00 60 */	addi r4, r1, 0x60
/* 803D85F0 003CE370  88 A1 02 29 */	lbz r5, 0x229(r1)
/* 803D85F4 003CE374  39 01 00 20 */	addi r8, r1, 0x20
/* 803D85F8 003CE378  88 01 02 27 */	lbz r0, 0x227(r1)
/* 803D85FC 003CE37C  54 69 80 1E */	slwi r9, r3, 0x10
/* 803D8600 003CE380  88 61 02 26 */	lbz r3, 0x226(r1)
/* 803D8604 003CE384  54 AA C0 0E */	slwi r10, r5, 0x18
/* 803D8608 003CE388  54 07 40 2E */	slwi r7, r0, 8
/* 803D860C 003CE38C  88 A1 02 2C */	lbz r5, 0x22c(r1)
/* 803D8610 003CE390  7C 69 1A 14 */	add r3, r9, r3
/* 803D8614 003CE394  88 01 02 2B */	lbz r0, 0x22b(r1)
/* 803D8618 003CE398  7D 2F 1A 14 */	add r9, r15, r3
/* 803D861C 003CE39C  7D 4A 3A 14 */	add r10, r10, r7
/* 803D8620 003CE3A0  88 C1 02 2D */	lbz r6, 0x22d(r1)
/* 803D8624 003CE3A4  54 A5 80 1E */	slwi r5, r5, 0x10
/* 803D8628 003CE3A8  88 61 02 2A */	lbz r3, 0x22a(r1)
/* 803D862C 003CE3AC  54 00 40 2E */	slwi r0, r0, 8
/* 803D8630 003CE3B0  54 C7 C0 0E */	slwi r7, r6, 0x18
/* 803D8634 003CE3B4  7D EA 4A 14 */	add r15, r10, r9
/* 803D8638 003CE3B8  7C C5 1A 14 */	add r6, r5, r3
/* 803D863C 003CE3BC  80 7E 00 04 */	lwz r3, 4(r30)
/* 803D8640 003CE3C0  7C 07 02 14 */	add r0, r7, r0
/* 803D8644 003CE3C4  7D E5 7B 78 */	mr r5, r15
/* 803D8648 003CE3C8  7E 66 02 14 */	add r19, r6, r0
/* 803D864C 003CE3CC  38 C0 00 01 */	li r6, 1
/* 803D8650 003CE3D0  38 E0 02 00 */	li r7, 0x200
/* 803D8654 003CE3D4  4B FF F7 75 */	bl pdm_disk_physical_read
/* 803D8658 003CE3D8  2C 03 00 00 */	cmpwi r3, 0
/* 803D865C 003CE3DC  41 82 00 08 */	beq lbl_803D8664
/* 803D8660 003CE3E0  48 00 01 30 */	b lbl_803D8790
lbl_803D8664:
/* 803D8664 003CE3E4  7C 1F 70 40 */	cmplw r31, r14
/* 803D8668 003CE3E8  40 82 00 14 */	bne lbl_803D867C
/* 803D866C 003CE3EC  91 FE 00 0C */	stw r15, 0xc(r30)
/* 803D8670 003CE3F0  38 60 00 00 */	li r3, 0
/* 803D8674 003CE3F4  92 7E 00 10 */	stw r19, 0x10(r30)
/* 803D8678 003CE3F8  48 00 01 18 */	b lbl_803D8790
lbl_803D867C:
/* 803D867C 003CE3FC  39 CE 00 01 */	addi r14, r14, 1
/* 803D8680 003CE400  48 00 00 B0 */	b lbl_803D8730
lbl_803D8684:
/* 803D8684 003CE404  88 61 02 38 */	lbz r3, 0x238(r1)
/* 803D8688 003CE408  88 A1 02 39 */	lbz r5, 0x239(r1)
/* 803D868C 003CE40C  88 01 02 37 */	lbz r0, 0x237(r1)
/* 803D8690 003CE410  54 64 80 1E */	slwi r4, r3, 0x10
/* 803D8694 003CE414  88 61 02 36 */	lbz r3, 0x236(r1)
/* 803D8698 003CE418  54 A7 C0 0E */	slwi r7, r5, 0x18
/* 803D869C 003CE41C  54 06 40 2E */	slwi r6, r0, 8
/* 803D86A0 003CE420  88 A1 02 3D */	lbz r5, 0x23d(r1)
/* 803D86A4 003CE424  7C 64 1A 14 */	add r3, r4, r3
/* 803D86A8 003CE428  88 81 02 3C */	lbz r4, 0x23c(r1)
/* 803D86AC 003CE42C  88 01 02 3B */	lbz r0, 0x23b(r1)
/* 803D86B0 003CE430  7C E7 32 14 */	add r7, r7, r6
/* 803D86B4 003CE434  7C D0 1A 14 */	add r6, r16, r3
/* 803D86B8 003CE438  88 61 02 3A */	lbz r3, 0x23a(r1)
/* 803D86BC 003CE43C  54 84 80 1E */	slwi r4, r4, 0x10
/* 803D86C0 003CE440  54 A5 C0 0E */	slwi r5, r5, 0x18
/* 803D86C4 003CE444  54 00 40 2E */	slwi r0, r0, 8
/* 803D86C8 003CE448  7D E7 32 15 */	add. r15, r7, r6
/* 803D86CC 003CE44C  7C 64 1A 14 */	add r3, r4, r3
/* 803D86D0 003CE450  7C 05 02 14 */	add r0, r5, r0
/* 803D86D4 003CE454  7E 63 02 14 */	add r19, r3, r0
/* 803D86D8 003CE458  41 82 00 84 */	beq lbl_803D875C
/* 803D86DC 003CE45C  2C 13 00 00 */	cmpwi r19, 0
/* 803D86E0 003CE460  41 82 00 7C */	beq lbl_803D875C
/* 803D86E4 003CE464  80 7E 00 04 */	lwz r3, 4(r30)
/* 803D86E8 003CE468  7D E5 7B 78 */	mr r5, r15
/* 803D86EC 003CE46C  38 81 00 60 */	addi r4, r1, 0x60
/* 803D86F0 003CE470  39 01 00 20 */	addi r8, r1, 0x20
/* 803D86F4 003CE474  38 C0 00 01 */	li r6, 1
/* 803D86F8 003CE478  38 E0 02 00 */	li r7, 0x200
/* 803D86FC 003CE47C  4B FF F6 CD */	bl pdm_disk_physical_read
/* 803D8700 003CE480  2C 03 00 00 */	cmpwi r3, 0
/* 803D8704 003CE484  41 82 00 08 */	beq lbl_803D870C
/* 803D8708 003CE488  48 00 00 88 */	b lbl_803D8790
lbl_803D870C:
/* 803D870C 003CE48C  80 9E 00 04 */	lwz r4, 4(r30)
/* 803D8710 003CE490  38 61 00 60 */	addi r3, r1, 0x60
/* 803D8714 003CE494  38 A1 00 24 */	addi r5, r1, 0x24
/* 803D8718 003CE498  80 84 00 18 */	lwz r4, 0x18(r4)
/* 803D871C 003CE49C  4B FF F9 BD */	bl pdm_part_is_master_boot_sector
/* 803D8720 003CE4A0  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D8724 003CE4A4  2C 00 00 00 */	cmpwi r0, 0
/* 803D8728 003CE4A8  41 82 00 34 */	beq lbl_803D875C
/* 803D872C 003CE4AC  3A 20 00 00 */	li r17, 0
lbl_803D8730:
/* 803D8730 003CE4B0  3A 31 00 01 */	addi r17, r17, 1
lbl_803D8734:
/* 803D8734 003CE4B4  56 20 04 3E */	clrlwi r0, r17, 0x10
/* 803D8738 003CE4B8  28 00 00 02 */	cmplwi r0, 2
/* 803D873C 003CE4BC  41 80 FE A4 */	blt lbl_803D85E0
/* 803D8740 003CE4C0  48 00 00 1C */	b lbl_803D875C
lbl_803D8744:
/* 803D8744 003CE4C4  7C 1F 70 40 */	cmplw r31, r14
/* 803D8748 003CE4C8  40 82 00 10 */	bne lbl_803D8758
/* 803D874C 003CE4CC  91 FE 00 0C */	stw r15, 0xc(r30)
/* 803D8750 003CE4D0  92 7E 00 10 */	stw r19, 0x10(r30)
/* 803D8754 003CE4D4  48 00 00 38 */	b lbl_803D878C
lbl_803D8758:
/* 803D8758 003CE4D8  39 CE 00 01 */	addi r14, r14, 1
lbl_803D875C:
/* 803D875C 003CE4DC  3A 52 00 01 */	addi r18, r18, 1
/* 803D8760 003CE4E0  28 12 00 04 */	cmplwi r18, 4
/* 803D8764 003CE4E4  41 80 FD FC */	blt lbl_803D8560
/* 803D8768 003CE4E8  48 00 00 24 */	b lbl_803D878C
lbl_803D876C:
/* 803D876C 003CE4EC  28 1F 00 02 */	cmplwi r31, 2
/* 803D8770 003CE4F0  41 80 00 0C */	blt lbl_803D877C
/* 803D8774 003CE4F4  38 60 00 07 */	li r3, 7
/* 803D8778 003CE4F8  48 00 00 18 */	b lbl_803D8790
lbl_803D877C:
/* 803D877C 003CE4FC  91 DE 00 0C */	stw r14, 0xc(r30)
/* 803D8780 003CE500  80 7E 00 04 */	lwz r3, 4(r30)
/* 803D8784 003CE504  80 03 00 18 */	lwz r0, 0x18(r3)
/* 803D8788 003CE508  90 1E 00 10 */	stw r0, 0x10(r30)
lbl_803D878C:
/* 803D878C 003CE50C  38 60 00 00 */	li r3, 0
lbl_803D8790:
/* 803D8790 003CE510  81 41 00 00 */	lwz r10, 0(r1)
/* 803D8794 003CE514  7D 4B 53 78 */	mr r11, r10
/* 803D8798 003CE518  48 01 8B A1 */	bl _restgpr_14
/* 803D879C 003CE51C  80 0A 00 04 */	lwz r0, 4(r10)
/* 803D87A0 003CE520  7C 08 03 A6 */	mtlr r0
/* 803D87A4 003CE524  7D 41 53 78 */	mr r1, r10
/* 803D87A8 003CE528  4E 80 00 20 */	blr 

.global pdm_part_chg_ltop
pdm_part_chg_ltop:
/* 803D87AC 003CE52C  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803D87B0 003CE530  7C 08 02 A6 */	mflr r0
/* 803D87B4 003CE534  90 01 00 24 */	stw r0, 0x24(r1)
/* 803D87B8 003CE538  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803D87BC 003CE53C  7C BF 2B 78 */	mr r31, r5
/* 803D87C0 003CE540  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803D87C4 003CE544  7C 9E 23 78 */	mr r30, r4
/* 803D87C8 003CE548  38 81 00 08 */	addi r4, r1, 8
/* 803D87CC 003CE54C  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803D87D0 003CE550  7C 7D 1B 78 */	mr r29, r3
/* 803D87D4 003CE554  80 63 00 04 */	lwz r3, 4(r3)
/* 803D87D8 003CE558  4B FF F3 69 */	bl pdm_disk_get_media_bps
/* 803D87DC 003CE55C  A0 01 00 08 */	lhz r0, 8(r1)
/* 803D87E0 003CE560  7C 1F 00 40 */	cmplw r31, r0
/* 803D87E4 003CE564  40 82 00 10 */	bne lbl_803D87F4
/* 803D87E8 003CE568  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 803D87EC 003CE56C  7C 7E 02 14 */	add r3, r30, r0
/* 803D87F0 003CE570  48 00 00 6C */	b lbl_803D885C
lbl_803D87F4:
/* 803D87F4 003CE574  54 03 BE 7E */	rlwinm r3, r0, 0x17, 0x19, 0x1f
/* 803D87F8 003CE578  80 1D 00 0C */	lwz r0, 0xc(r29)
/* 803D87FC 003CE57C  28 03 00 02 */	cmplwi r3, 2
/* 803D8800 003CE580  40 82 00 0C */	bne lbl_803D880C
/* 803D8804 003CE584  54 00 08 3C */	slwi r0, r0, 1
/* 803D8808 003CE588  48 00 00 20 */	b lbl_803D8828
lbl_803D880C:
/* 803D880C 003CE58C  28 03 00 04 */	cmplwi r3, 4
/* 803D8810 003CE590  40 82 00 0C */	bne lbl_803D881C
/* 803D8814 003CE594  54 00 10 3A */	slwi r0, r0, 2
/* 803D8818 003CE598  48 00 00 10 */	b lbl_803D8828
lbl_803D881C:
/* 803D881C 003CE59C  28 03 00 08 */	cmplwi r3, 8
/* 803D8820 003CE5A0  40 82 00 08 */	bne lbl_803D8828
/* 803D8824 003CE5A4  54 00 18 38 */	slwi r0, r0, 3
lbl_803D8828:
/* 803D8828 003CE5A8  57 E3 BE 7E */	rlwinm r3, r31, 0x17, 0x19, 0x1f
/* 803D882C 003CE5AC  28 03 00 02 */	cmplwi r3, 2
/* 803D8830 003CE5B0  40 82 00 0C */	bne lbl_803D883C
/* 803D8834 003CE5B4  54 00 F8 7E */	srwi r0, r0, 1
/* 803D8838 003CE5B8  48 00 00 20 */	b lbl_803D8858
lbl_803D883C:
/* 803D883C 003CE5BC  28 03 00 04 */	cmplwi r3, 4
/* 803D8840 003CE5C0  40 82 00 0C */	bne lbl_803D884C
/* 803D8844 003CE5C4  54 00 F0 BE */	srwi r0, r0, 2
/* 803D8848 003CE5C8  48 00 00 10 */	b lbl_803D8858
lbl_803D884C:
/* 803D884C 003CE5CC  28 03 00 08 */	cmplwi r3, 8
/* 803D8850 003CE5D0  40 82 00 08 */	bne lbl_803D8858
/* 803D8854 003CE5D4  54 00 E8 FE */	srwi r0, r0, 3
lbl_803D8858:
/* 803D8858 003CE5D8  7C 7E 02 14 */	add r3, r30, r0
lbl_803D885C:
/* 803D885C 003CE5DC  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D8860 003CE5E0  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803D8864 003CE5E4  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803D8868 003CE5E8  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803D886C 003CE5EC  7C 08 03 A6 */	mtlr r0
/* 803D8870 003CE5F0  38 21 00 20 */	addi r1, r1, 0x20
/* 803D8874 003CE5F4  4E 80 00 20 */	blr 

.global pdm_part_get_partition
pdm_part_get_partition:
/* 803D8878 003CE5F8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803D887C 003CE5FC  7C 08 02 A6 */	mflr r0
/* 803D8880 003CE600  90 01 00 24 */	stw r0, 0x24(r1)
/* 803D8884 003CE604  39 61 00 20 */	addi r11, r1, 0x20
/* 803D8888 003CE608  48 01 8A 95 */	bl _savegpr_26
/* 803D888C 003CE60C  38 00 00 00 */	li r0, 0
/* 803D8890 003CE610  3C C0 80 56 */	lis r6, lbl_805639C0@ha
/* 803D8894 003CE614  90 05 00 00 */	stw r0, 0(r5)
/* 803D8898 003CE618  7C 7D 1B 78 */	mr r29, r3
/* 803D889C 003CE61C  7C 9E 23 78 */	mr r30, r4
/* 803D88A0 003CE620  7C BF 2B 78 */	mr r31, r5
/* 803D88A4 003CE624  A0 06 39 C0 */	lhz r0, lbl_805639C0@l(r6)
/* 803D88A8 003CE628  28 00 00 1A */	cmplwi r0, 0x1a
/* 803D88AC 003CE62C  41 80 00 0C */	blt lbl_803D88B8
/* 803D88B0 003CE630  38 60 00 0A */	li r3, 0xa
/* 803D88B4 003CE634  48 00 00 BC */	b lbl_803D8970
lbl_803D88B8:
/* 803D88B8 003CE638  38 00 00 0D */	li r0, 0xd
/* 803D88BC 003CE63C  38 86 39 C0 */	addi r4, r6, 0x39c0
/* 803D88C0 003CE640  38 A0 00 00 */	li r5, 0
/* 803D88C4 003CE644  7C 09 03 A6 */	mtctr r0
lbl_803D88C8:
/* 803D88C8 003CE648  54 A0 04 3E */	clrlwi r0, r5, 0x10
/* 803D88CC 003CE64C  1C 00 00 28 */	mulli r0, r0, 0x28
/* 803D88D0 003CE650  7C 64 02 14 */	add r3, r4, r0
/* 803D88D4 003CE654  80 03 06 1C */	lwz r0, 0x61c(r3)
/* 803D88D8 003CE658  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 803D88DC 003CE65C  41 82 00 28 */	beq lbl_803D8904
/* 803D88E0 003CE660  38 A5 00 01 */	addi r5, r5, 1
/* 803D88E4 003CE664  54 A0 04 3E */	clrlwi r0, r5, 0x10
/* 803D88E8 003CE668  1C 00 00 28 */	mulli r0, r0, 0x28
/* 803D88EC 003CE66C  7C 64 02 14 */	add r3, r4, r0
/* 803D88F0 003CE670  80 03 06 1C */	lwz r0, 0x61c(r3)
/* 803D88F4 003CE674  54 00 07 FF */	clrlwi. r0, r0, 0x1f
/* 803D88F8 003CE678  41 82 00 0C */	beq lbl_803D8904
/* 803D88FC 003CE67C  38 A5 00 01 */	addi r5, r5, 1
/* 803D8900 003CE680  42 00 FF C8 */	bdnz lbl_803D88C8
lbl_803D8904:
/* 803D8904 003CE684  54 A0 04 3E */	clrlwi r0, r5, 0x10
/* 803D8908 003CE688  28 00 00 1A */	cmplwi r0, 0x1a
/* 803D890C 003CE68C  40 82 00 0C */	bne lbl_803D8918
/* 803D8910 003CE690  38 60 00 0A */	li r3, 0xa
/* 803D8914 003CE694  48 00 00 5C */	b lbl_803D8970
lbl_803D8918:
/* 803D8918 003CE698  1F 40 00 28 */	mulli r26, r0, 0x28
/* 803D891C 003CE69C  3F 60 80 56 */	lis r27, lbl_805639C0@ha
/* 803D8920 003CE6A0  7F A3 EB 78 */	mr r3, r29
/* 803D8924 003CE6A4  3B 9B 39 C0 */	addi r28, r27, lbl_805639C0@l
/* 803D8928 003CE6A8  7C 9C D2 14 */	add r4, r28, r26
/* 803D892C 003CE6AC  38 84 06 1C */	addi r4, r4, 0x61c
/* 803D8930 003CE6B0  4B FF F1 D5 */	bl pdm_disk_set_disk
/* 803D8934 003CE6B4  2C 03 00 00 */	cmpwi r3, 0
/* 803D8938 003CE6B8  41 82 00 08 */	beq lbl_803D8940
/* 803D893C 003CE6BC  48 00 00 34 */	b lbl_803D8970
lbl_803D8940:
/* 803D8940 003CE6C0  A0 BB 39 C0 */	lhz r5, 0x39c0(r27)
/* 803D8944 003CE6C4  7C 9C D2 14 */	add r4, r28, r26
/* 803D8948 003CE6C8  38 C4 06 1C */	addi r6, r4, 0x61c
/* 803D894C 003CE6CC  38 60 00 00 */	li r3, 0
/* 803D8950 003CE6D0  38 05 00 01 */	addi r0, r5, 1
/* 803D8954 003CE6D4  B0 1B 39 C0 */	sth r0, 0x39c0(r27)
/* 803D8958 003CE6D8  80 04 06 1C */	lwz r0, 0x61c(r4)
/* 803D895C 003CE6DC  60 00 00 01 */	ori r0, r0, 1
/* 803D8960 003CE6E0  90 04 06 1C */	stw r0, 0x61c(r4)
/* 803D8964 003CE6E4  93 A4 06 20 */	stw r29, 0x620(r4)
/* 803D8968 003CE6E8  93 C4 06 24 */	stw r30, 0x624(r4)
/* 803D896C 003CE6EC  90 DF 00 00 */	stw r6, 0(r31)
lbl_803D8970:
/* 803D8970 003CE6F0  39 61 00 20 */	addi r11, r1, 0x20
/* 803D8974 003CE6F4  48 01 89 F5 */	bl _restgpr_26
/* 803D8978 003CE6F8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D897C 003CE6FC  7C 08 03 A6 */	mtlr r0
/* 803D8980 003CE700  38 21 00 20 */	addi r1, r1, 0x20
/* 803D8984 003CE704  4E 80 00 20 */	blr 

.global pdm_part_is_attached_partition
pdm_part_is_attached_partition:
/* 803D8988 003CE708  80 03 00 00 */	lwz r0, 0(r3)
/* 803D898C 003CE70C  54 03 F7 FE */	rlwinm r3, r0, 0x1e, 0x1f, 0x1f
/* 803D8990 003CE710  4E 80 00 20 */	blr 

.global pdm_part_set_driver_error_code
pdm_part_set_driver_error_code:
/* 803D8994 003CE714  90 83 00 14 */	stw r4, 0x14(r3)
/* 803D8998 003CE718  4E 80 00 20 */	blr 

.global pdm_part_get_driver_error_code
pdm_part_get_driver_error_code:
/* 803D899C 003CE71C  80 63 00 14 */	lwz r3, 0x14(r3)
/* 803D89A0 003CE720  4E 80 00 20 */	blr 

.global pdm_part_get_media_attribute
pdm_part_get_media_attribute:
/* 803D89A4 003CE724  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803D89A8 003CE728  7C 08 02 A6 */	mflr r0
/* 803D89AC 003CE72C  90 01 00 14 */	stw r0, 0x14(r1)
/* 803D89B0 003CE730  80 63 00 04 */	lwz r3, 4(r3)
/* 803D89B4 003CE734  4B FF F1 5D */	bl pdm_disk_get_media_attribute
/* 803D89B8 003CE738  7C 03 00 D0 */	neg r0, r3
/* 803D89BC 003CE73C  7C 00 1B 78 */	or r0, r0, r3
/* 803D89C0 003CE740  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 803D89C4 003CE744  7C 63 00 38 */	and r3, r3, r0
/* 803D89C8 003CE748  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803D89CC 003CE74C  7C 08 03 A6 */	mtlr r0
/* 803D89D0 003CE750  38 21 00 10 */	addi r1, r1, 0x10
/* 803D89D4 003CE754  4E 80 00 20 */	blr 

.global pdm_part_init
pdm_part_init:
/* 803D89D8 003CE758  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803D89DC 003CE75C  7C 08 02 A6 */	mflr r0
/* 803D89E0 003CE760  90 01 00 14 */	stw r0, 0x14(r1)
/* 803D89E4 003CE764  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803D89E8 003CE768  7C 7F 1B 78 */	mr r31, r3
/* 803D89EC 003CE76C  80 03 00 00 */	lwz r0, 0(r3)
/* 803D89F0 003CE770  54 00 07 7B */	rlwinm. r0, r0, 0, 0x1d, 0x1d
/* 803D89F4 003CE774  40 82 00 30 */	bne lbl_803D8A24
/* 803D89F8 003CE778  80 63 00 04 */	lwz r3, 4(r3)
/* 803D89FC 003CE77C  7F E4 FB 78 */	mr r4, r31
/* 803D8A00 003CE780  4B FF F1 05 */	bl pdm_disk_set_disk
/* 803D8A04 003CE784  2C 03 00 00 */	cmpwi r3, 0
/* 803D8A08 003CE788  41 82 00 08 */	beq lbl_803D8A10
/* 803D8A0C 003CE78C  48 00 00 30 */	b lbl_803D8A3C
lbl_803D8A10:
/* 803D8A10 003CE790  80 7F 00 04 */	lwz r3, 4(r31)
/* 803D8A14 003CE794  4B FF F1 3D */	bl pdm_disk_init
/* 803D8A18 003CE798  2C 03 00 00 */	cmpwi r3, 0
/* 803D8A1C 003CE79C  41 82 00 10 */	beq lbl_803D8A2C
/* 803D8A20 003CE7A0  48 00 00 1C */	b lbl_803D8A3C
lbl_803D8A24:
/* 803D8A24 003CE7A4  38 60 00 0B */	li r3, 0xb
/* 803D8A28 003CE7A8  48 00 00 14 */	b lbl_803D8A3C
lbl_803D8A2C:
/* 803D8A2C 003CE7AC  80 1F 00 00 */	lwz r0, 0(r31)
/* 803D8A30 003CE7B0  38 60 00 00 */	li r3, 0
/* 803D8A34 003CE7B4  60 00 00 04 */	ori r0, r0, 4
/* 803D8A38 003CE7B8  90 1F 00 00 */	stw r0, 0(r31)
lbl_803D8A3C:
/* 803D8A3C 003CE7BC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803D8A40 003CE7C0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803D8A44 003CE7C4  7C 08 03 A6 */	mtlr r0
/* 803D8A48 003CE7C8  38 21 00 10 */	addi r1, r1, 0x10
/* 803D8A4C 003CE7CC  4E 80 00 20 */	blr 

.global pdm_part_mount
pdm_part_mount:
/* 803D8A50 003CE7D0  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803D8A54 003CE7D4  7C 08 02 A6 */	mflr r0
/* 803D8A58 003CE7D8  90 01 00 14 */	stw r0, 0x14(r1)
/* 803D8A5C 003CE7DC  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803D8A60 003CE7E0  93 C1 00 08 */	stw r30, 8(r1)
/* 803D8A64 003CE7E4  7C 7E 1B 78 */	mr r30, r3
/* 803D8A68 003CE7E8  80 03 00 00 */	lwz r0, 0(r3)
/* 803D8A6C 003CE7EC  54 00 07 39 */	rlwinm. r0, r0, 0, 0x1c, 0x1c
/* 803D8A70 003CE7F0  40 82 00 58 */	bne lbl_803D8AC8
/* 803D8A74 003CE7F4  80 63 00 04 */	lwz r3, 4(r3)
/* 803D8A78 003CE7F8  7F C4 F3 78 */	mr r4, r30
/* 803D8A7C 003CE7FC  4B FF F0 89 */	bl pdm_disk_set_disk
/* 803D8A80 003CE800  2C 03 00 00 */	cmpwi r3, 0
/* 803D8A84 003CE804  41 82 00 08 */	beq lbl_803D8A8C
/* 803D8A88 003CE808  48 00 00 5C */	b lbl_803D8AE4
lbl_803D8A8C:
/* 803D8A8C 003CE80C  80 7E 00 04 */	lwz r3, 4(r30)
/* 803D8A90 003CE810  4B FF F1 71 */	bl pdm_disk_mount
/* 803D8A94 003CE814  2C 03 00 00 */	cmpwi r3, 0
/* 803D8A98 003CE818  41 82 00 08 */	beq lbl_803D8AA0
/* 803D8A9C 003CE81C  48 00 00 48 */	b lbl_803D8AE4
lbl_803D8AA0:
/* 803D8AA0 003CE820  7F C3 F3 78 */	mr r3, r30
/* 803D8AA4 003CE824  4B FF F8 B9 */	bl pdm_part_get_start_sector
/* 803D8AA8 003CE828  2C 03 00 00 */	cmpwi r3, 0
/* 803D8AAC 003CE82C  7C 7F 1B 78 */	mr r31, r3
/* 803D8AB0 003CE830  41 82 00 20 */	beq lbl_803D8AD0
/* 803D8AB4 003CE834  80 7E 00 04 */	lwz r3, 4(r30)
/* 803D8AB8 003CE838  38 80 00 00 */	li r4, 0
/* 803D8ABC 003CE83C  4B FF F5 15 */	bl pdm_disk_unmount
/* 803D8AC0 003CE840  7F E3 FB 78 */	mr r3, r31
/* 803D8AC4 003CE844  48 00 00 20 */	b lbl_803D8AE4
lbl_803D8AC8:
/* 803D8AC8 003CE848  38 60 00 0C */	li r3, 0xc
/* 803D8ACC 003CE84C  48 00 00 18 */	b lbl_803D8AE4
lbl_803D8AD0:
/* 803D8AD0 003CE850  80 1E 00 00 */	lwz r0, 0(r30)
/* 803D8AD4 003CE854  38 60 00 00 */	li r3, 0
/* 803D8AD8 003CE858  54 00 07 FA */	rlwinm r0, r0, 0, 0x1f, 0x1d
/* 803D8ADC 003CE85C  60 00 00 08 */	ori r0, r0, 8
/* 803D8AE0 003CE860  90 1E 00 00 */	stw r0, 0(r30)
lbl_803D8AE4:
/* 803D8AE4 003CE864  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803D8AE8 003CE868  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803D8AEC 003CE86C  83 C1 00 08 */	lwz r30, 8(r1)
/* 803D8AF0 003CE870  7C 08 03 A6 */	mtlr r0
/* 803D8AF4 003CE874  38 21 00 10 */	addi r1, r1, 0x10
/* 803D8AF8 003CE878  4E 80 00 20 */	blr 

.global pdm_part_format
pdm_part_format:
/* 803D8AFC 003CE87C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 803D8B00 003CE880  7C 08 02 A6 */	mflr r0
/* 803D8B04 003CE884  90 01 00 14 */	stw r0, 0x14(r1)
/* 803D8B08 003CE888  93 E1 00 0C */	stw r31, 0xc(r1)
/* 803D8B0C 003CE88C  7C 9F 23 78 */	mr r31, r4
/* 803D8B10 003CE890  93 C1 00 08 */	stw r30, 8(r1)
/* 803D8B14 003CE894  7C 7E 1B 78 */	mr r30, r3
/* 803D8B18 003CE898  7F C4 F3 78 */	mr r4, r30
/* 803D8B1C 003CE89C  80 63 00 04 */	lwz r3, 4(r3)
/* 803D8B20 003CE8A0  4B FF EF E5 */	bl pdm_disk_set_disk
/* 803D8B24 003CE8A4  2C 03 00 00 */	cmpwi r3, 0
/* 803D8B28 003CE8A8  41 82 00 08 */	beq lbl_803D8B30
/* 803D8B2C 003CE8AC  48 00 00 20 */	b lbl_803D8B4C
lbl_803D8B30:
/* 803D8B30 003CE8B0  80 7E 00 04 */	lwz r3, 4(r30)
/* 803D8B34 003CE8B4  7F E4 FB 78 */	mr r4, r31
/* 803D8B38 003CE8B8  4B FF F1 F1 */	bl pdm_disk_format
/* 803D8B3C 003CE8BC  7C 03 00 D0 */	neg r0, r3
/* 803D8B40 003CE8C0  7C 00 1B 78 */	or r0, r0, r3
/* 803D8B44 003CE8C4  7C 00 FE 70 */	srawi r0, r0, 0x1f
/* 803D8B48 003CE8C8  7C 63 00 38 */	and r3, r3, r0
lbl_803D8B4C:
/* 803D8B4C 003CE8CC  80 01 00 14 */	lwz r0, 0x14(r1)
/* 803D8B50 003CE8D0  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 803D8B54 003CE8D4  83 C1 00 08 */	lwz r30, 8(r1)
/* 803D8B58 003CE8D8  7C 08 03 A6 */	mtlr r0
/* 803D8B5C 003CE8DC  38 21 00 10 */	addi r1, r1, 0x10
/* 803D8B60 003CE8E0  4E 80 00 20 */	blr 

.global pdm_part_logical_read
pdm_part_logical_read:
/* 803D8B64 003CE8E4  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803D8B68 003CE8E8  7C 08 02 A6 */	mflr r0
/* 803D8B6C 003CE8EC  90 01 00 24 */	stw r0, 0x24(r1)
/* 803D8B70 003CE8F0  39 61 00 20 */	addi r11, r1, 0x20
/* 803D8B74 003CE8F4  48 01 87 A9 */	bl _savegpr_26
/* 803D8B78 003CE8F8  81 23 00 00 */	lwz r9, 0(r3)
/* 803D8B7C 003CE8FC  7C 7A 1B 78 */	mr r26, r3
/* 803D8B80 003CE900  7C 9B 23 78 */	mr r27, r4
/* 803D8B84 003CE904  7C BC 2B 78 */	mr r28, r5
/* 803D8B88 003CE908  55 20 07 38 */	rlwinm r0, r9, 0, 0x1c, 0x1c
/* 803D8B8C 003CE90C  7C DD 33 78 */	mr r29, r6
/* 803D8B90 003CE910  28 00 00 08 */	cmplwi r0, 8
/* 803D8B94 003CE914  7C FE 3B 78 */	mr r30, r7
/* 803D8B98 003CE918  7D 1F 43 78 */	mr r31, r8
/* 803D8B9C 003CE91C  40 82 00 10 */	bne lbl_803D8BAC
/* 803D8BA0 003CE920  55 20 07 BC */	rlwinm r0, r9, 0, 0x1e, 0x1e
/* 803D8BA4 003CE924  28 00 00 02 */	cmplwi r0, 2
/* 803D8BA8 003CE928  40 82 00 0C */	bne lbl_803D8BB4
lbl_803D8BAC:
/* 803D8BAC 003CE92C  38 60 00 0F */	li r3, 0xf
/* 803D8BB0 003CE930  48 00 00 80 */	b lbl_803D8C30
lbl_803D8BB4:
/* 803D8BB4 003CE934  80 63 00 04 */	lwz r3, 4(r3)
/* 803D8BB8 003CE938  7F 44 D3 78 */	mr r4, r26
/* 803D8BBC 003CE93C  4B FF EF 49 */	bl pdm_disk_set_disk
/* 803D8BC0 003CE940  2C 03 00 00 */	cmpwi r3, 0
/* 803D8BC4 003CE944  41 82 00 08 */	beq lbl_803D8BCC
/* 803D8BC8 003CE948  48 00 00 68 */	b lbl_803D8C30
lbl_803D8BCC:
/* 803D8BCC 003CE94C  80 1A 00 10 */	lwz r0, 0x10(r26)
/* 803D8BD0 003CE950  7C 00 E0 40 */	cmplw r0, r28
/* 803D8BD4 003CE954  41 81 00 0C */	bgt lbl_803D8BE0
/* 803D8BD8 003CE958  38 60 00 12 */	li r3, 0x12
/* 803D8BDC 003CE95C  48 00 00 54 */	b lbl_803D8C30
lbl_803D8BE0:
/* 803D8BE0 003CE960  7C 7C EA 14 */	add r3, r28, r29
/* 803D8BE4 003CE964  7C 00 18 40 */	cmplw r0, r3
/* 803D8BE8 003CE968  40 80 00 0C */	bge lbl_803D8BF4
/* 803D8BEC 003CE96C  7C 00 18 50 */	subf r0, r0, r3
/* 803D8BF0 003CE970  7F A0 E8 50 */	subf r29, r0, r29
lbl_803D8BF4:
/* 803D8BF4 003CE974  7F 43 D3 78 */	mr r3, r26
/* 803D8BF8 003CE978  7F 84 E3 78 */	mr r4, r28
/* 803D8BFC 003CE97C  7F C5 F3 78 */	mr r5, r30
/* 803D8C00 003CE980  4B FF FB AD */	bl pdm_part_chg_ltop
/* 803D8C04 003CE984  7C 65 1B 78 */	mr r5, r3
/* 803D8C08 003CE988  80 7A 00 04 */	lwz r3, 4(r26)
/* 803D8C0C 003CE98C  7F 64 DB 78 */	mr r4, r27
/* 803D8C10 003CE990  7F A6 EB 78 */	mr r6, r29
/* 803D8C14 003CE994  7F C7 F3 78 */	mr r7, r30
/* 803D8C18 003CE998  7F E8 FB 78 */	mr r8, r31
/* 803D8C1C 003CE99C  4B FF F1 AD */	bl pdm_disk_physical_read
/* 803D8C20 003CE9A0  2C 03 00 00 */	cmpwi r3, 0
/* 803D8C24 003CE9A4  41 82 00 08 */	beq lbl_803D8C2C
/* 803D8C28 003CE9A8  48 00 00 08 */	b lbl_803D8C30
lbl_803D8C2C:
/* 803D8C2C 003CE9AC  38 60 00 00 */	li r3, 0
lbl_803D8C30:
/* 803D8C30 003CE9B0  39 61 00 20 */	addi r11, r1, 0x20
/* 803D8C34 003CE9B4  48 01 87 35 */	bl _restgpr_26
/* 803D8C38 003CE9B8  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D8C3C 003CE9BC  7C 08 03 A6 */	mtlr r0
/* 803D8C40 003CE9C0  38 21 00 20 */	addi r1, r1, 0x20
/* 803D8C44 003CE9C4  4E 80 00 20 */	blr 

.global pdm_part_logical_write
pdm_part_logical_write:
/* 803D8C48 003CE9C8  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803D8C4C 003CE9CC  7C 08 02 A6 */	mflr r0
/* 803D8C50 003CE9D0  90 01 00 24 */	stw r0, 0x24(r1)
/* 803D8C54 003CE9D4  39 61 00 20 */	addi r11, r1, 0x20
/* 803D8C58 003CE9D8  48 01 86 C5 */	bl _savegpr_26
/* 803D8C5C 003CE9DC  81 23 00 00 */	lwz r9, 0(r3)
/* 803D8C60 003CE9E0  7C 7A 1B 78 */	mr r26, r3
/* 803D8C64 003CE9E4  7C 9B 23 78 */	mr r27, r4
/* 803D8C68 003CE9E8  7C BC 2B 78 */	mr r28, r5
/* 803D8C6C 003CE9EC  55 20 07 38 */	rlwinm r0, r9, 0, 0x1c, 0x1c
/* 803D8C70 003CE9F0  7C DD 33 78 */	mr r29, r6
/* 803D8C74 003CE9F4  28 00 00 08 */	cmplwi r0, 8
/* 803D8C78 003CE9F8  7C FE 3B 78 */	mr r30, r7
/* 803D8C7C 003CE9FC  7D 1F 43 78 */	mr r31, r8
/* 803D8C80 003CEA00  40 82 00 10 */	bne lbl_803D8C90
/* 803D8C84 003CEA04  55 20 07 BC */	rlwinm r0, r9, 0, 0x1e, 0x1e
/* 803D8C88 003CEA08  28 00 00 02 */	cmplwi r0, 2
/* 803D8C8C 003CEA0C  40 82 00 0C */	bne lbl_803D8C98
lbl_803D8C90:
/* 803D8C90 003CEA10  38 60 00 0F */	li r3, 0xf
/* 803D8C94 003CEA14  48 00 00 80 */	b lbl_803D8D14
lbl_803D8C98:
/* 803D8C98 003CEA18  80 63 00 04 */	lwz r3, 4(r3)
/* 803D8C9C 003CEA1C  7F 44 D3 78 */	mr r4, r26
/* 803D8CA0 003CEA20  4B FF EE 65 */	bl pdm_disk_set_disk
/* 803D8CA4 003CEA24  2C 03 00 00 */	cmpwi r3, 0
/* 803D8CA8 003CEA28  41 82 00 08 */	beq lbl_803D8CB0
/* 803D8CAC 003CEA2C  48 00 00 68 */	b lbl_803D8D14
lbl_803D8CB0:
/* 803D8CB0 003CEA30  80 1A 00 10 */	lwz r0, 0x10(r26)
/* 803D8CB4 003CEA34  7C 00 E0 40 */	cmplw r0, r28
/* 803D8CB8 003CEA38  41 81 00 0C */	bgt lbl_803D8CC4
/* 803D8CBC 003CEA3C  38 60 00 12 */	li r3, 0x12
/* 803D8CC0 003CEA40  48 00 00 54 */	b lbl_803D8D14
lbl_803D8CC4:
/* 803D8CC4 003CEA44  7C 7C EA 14 */	add r3, r28, r29
/* 803D8CC8 003CEA48  7C 00 18 40 */	cmplw r0, r3
/* 803D8CCC 003CEA4C  40 80 00 0C */	bge lbl_803D8CD8
/* 803D8CD0 003CEA50  7C 00 18 50 */	subf r0, r0, r3
/* 803D8CD4 003CEA54  7F A0 E8 50 */	subf r29, r0, r29
lbl_803D8CD8:
/* 803D8CD8 003CEA58  7F 43 D3 78 */	mr r3, r26
/* 803D8CDC 003CEA5C  7F 84 E3 78 */	mr r4, r28
/* 803D8CE0 003CEA60  7F C5 F3 78 */	mr r5, r30
/* 803D8CE4 003CEA64  4B FF FA C9 */	bl pdm_part_chg_ltop
/* 803D8CE8 003CEA68  7C 65 1B 78 */	mr r5, r3
/* 803D8CEC 003CEA6C  80 7A 00 04 */	lwz r3, 4(r26)
/* 803D8CF0 003CEA70  7F 64 DB 78 */	mr r4, r27
/* 803D8CF4 003CEA74  7F A6 EB 78 */	mr r6, r29
/* 803D8CF8 003CEA78  7F C7 F3 78 */	mr r7, r30
/* 803D8CFC 003CEA7C  7F E8 FB 78 */	mr r8, r31
/* 803D8D00 003CEA80  4B FF F1 CD */	bl pdm_disk_physical_write
/* 803D8D04 003CEA84  2C 03 00 00 */	cmpwi r3, 0
/* 803D8D08 003CEA88  41 82 00 08 */	beq lbl_803D8D10
/* 803D8D0C 003CEA8C  48 00 00 08 */	b lbl_803D8D14
lbl_803D8D10:
/* 803D8D10 003CEA90  38 60 00 00 */	li r3, 0
lbl_803D8D14:
/* 803D8D14 003CEA94  39 61 00 20 */	addi r11, r1, 0x20
/* 803D8D18 003CEA98  48 01 86 51 */	bl _restgpr_26
/* 803D8D1C 003CEA9C  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D8D20 003CEAA0  7C 08 03 A6 */	mtlr r0
/* 803D8D24 003CEAA4  38 21 00 20 */	addi r1, r1, 0x20
/* 803D8D28 003CEAA8  4E 80 00 20 */	blr 

.global pdm_part_unmount
pdm_part_unmount:
/* 803D8D2C 003CEAAC  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803D8D30 003CEAB0  7C 08 02 A6 */	mflr r0
/* 803D8D34 003CEAB4  90 01 00 24 */	stw r0, 0x24(r1)
/* 803D8D38 003CEAB8  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803D8D3C 003CEABC  3B E0 00 00 */	li r31, 0
/* 803D8D40 003CEAC0  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803D8D44 003CEAC4  7C 9E 23 78 */	mr r30, r4
/* 803D8D48 003CEAC8  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803D8D4C 003CEACC  7C 7D 1B 78 */	mr r29, r3
/* 803D8D50 003CEAD0  80 03 00 00 */	lwz r0, 0(r3)
/* 803D8D54 003CEAD4  54 00 07 39 */	rlwinm. r0, r0, 0, 0x1c, 0x1c
/* 803D8D58 003CEAD8  41 82 00 38 */	beq lbl_803D8D90
/* 803D8D5C 003CEADC  80 63 00 04 */	lwz r3, 4(r3)
/* 803D8D60 003CEAE0  7F A4 EB 78 */	mr r4, r29
/* 803D8D64 003CEAE4  4B FF ED A1 */	bl pdm_disk_set_disk
/* 803D8D68 003CEAE8  2C 03 00 00 */	cmpwi r3, 0
/* 803D8D6C 003CEAEC  41 82 00 08 */	beq lbl_803D8D74
/* 803D8D70 003CEAF0  48 00 00 48 */	b lbl_803D8DB8
lbl_803D8D74:
/* 803D8D74 003CEAF4  80 7D 00 04 */	lwz r3, 4(r29)
/* 803D8D78 003CEAF8  7F C4 F3 78 */	mr r4, r30
/* 803D8D7C 003CEAFC  4B FF F2 55 */	bl pdm_disk_unmount
/* 803D8D80 003CEB00  2C 03 00 00 */	cmpwi r3, 0
/* 803D8D84 003CEB04  41 82 00 10 */	beq lbl_803D8D94
/* 803D8D88 003CEB08  7C 7F 1B 78 */	mr r31, r3
/* 803D8D8C 003CEB0C  48 00 00 08 */	b lbl_803D8D94
lbl_803D8D90:
/* 803D8D90 003CEB10  3B E0 00 0E */	li r31, 0xe
lbl_803D8D94:
/* 803D8D94 003CEB14  2C 1F 00 00 */	cmpwi r31, 0
/* 803D8D98 003CEB18  41 82 00 0C */	beq lbl_803D8DA4
/* 803D8D9C 003CEB1C  28 1E 00 01 */	cmplwi r30, 1
/* 803D8DA0 003CEB20  40 82 00 14 */	bne lbl_803D8DB4
lbl_803D8DA4:
/* 803D8DA4 003CEB24  80 1D 00 00 */	lwz r0, 0(r29)
/* 803D8DA8 003CEB28  54 00 07 FA */	rlwinm r0, r0, 0, 0x1f, 0x1d
/* 803D8DAC 003CEB2C  54 00 07 76 */	rlwinm r0, r0, 0, 0x1d, 0x1b
/* 803D8DB0 003CEB30  90 1D 00 00 */	stw r0, 0(r29)
lbl_803D8DB4:
/* 803D8DB4 003CEB34  7F E3 FB 78 */	mr r3, r31
lbl_803D8DB8:
/* 803D8DB8 003CEB38  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D8DBC 003CEB3C  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803D8DC0 003CEB40  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803D8DC4 003CEB44  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803D8DC8 003CEB48  7C 08 03 A6 */	mtlr r0
/* 803D8DCC 003CEB4C  38 21 00 20 */	addi r1, r1, 0x20
/* 803D8DD0 003CEB50  4E 80 00 20 */	blr 

.global pdm_part_register_callback
pdm_part_register_callback:
/* 803D8DD4 003CEB54  80 04 00 00 */	lwz r0, 0(r4)
/* 803D8DD8 003CEB58  90 03 00 20 */	stw r0, 0x20(r3)
/* 803D8DDC 003CEB5C  80 04 00 04 */	lwz r0, 4(r4)
/* 803D8DE0 003CEB60  90 03 00 24 */	stw r0, 0x24(r3)
/* 803D8DE4 003CEB64  38 60 00 00 */	li r3, 0
/* 803D8DE8 003CEB68  4E 80 00 20 */	blr 

.global pdm_part_unregister_callback
pdm_part_unregister_callback:
/* 803D8DEC 003CEB6C  38 00 00 00 */	li r0, 0
/* 803D8DF0 003CEB70  90 03 00 20 */	stw r0, 0x20(r3)
/* 803D8DF4 003CEB74  90 03 00 24 */	stw r0, 0x24(r3)
/* 803D8DF8 003CEB78  38 60 00 00 */	li r3, 0
/* 803D8DFC 003CEB7C  4E 80 00 20 */	blr 

.global pdm_part_set_change_media_state
pdm_part_set_change_media_state:
/* 803D8E00 003CEB80  94 21 FF E0 */	stwu r1, -0x20(r1)
/* 803D8E04 003CEB84  7C 08 02 A6 */	mflr r0
/* 803D8E08 003CEB88  90 01 00 24 */	stw r0, 0x24(r1)
/* 803D8E0C 003CEB8C  93 E1 00 1C */	stw r31, 0x1c(r1)
/* 803D8E10 003CEB90  3F E0 80 56 */	lis r31, lbl_805639C0@ha
/* 803D8E14 003CEB94  3B FF 39 C0 */	addi r31, r31, lbl_805639C0@l
/* 803D8E18 003CEB98  93 C1 00 18 */	stw r30, 0x18(r1)
/* 803D8E1C 003CEB9C  3B C0 00 00 */	li r30, 0
/* 803D8E20 003CEBA0  93 A1 00 14 */	stw r29, 0x14(r1)
/* 803D8E24 003CEBA4  7C 9D 23 78 */	mr r29, r4
/* 803D8E28 003CEBA8  93 81 00 10 */	stw r28, 0x10(r1)
/* 803D8E2C 003CEBAC  7C 7C 1B 78 */	mr r28, r3
lbl_803D8E30:
/* 803D8E30 003CEBB0  57 C0 04 3E */	clrlwi r0, r30, 0x10
/* 803D8E34 003CEBB4  1C 00 00 28 */	mulli r0, r0, 0x28
/* 803D8E38 003CEBB8  7C BF 02 14 */	add r5, r31, r0
/* 803D8E3C 003CEBBC  80 85 06 1C */	lwz r4, 0x61c(r5)
/* 803D8E40 003CEBC0  38 65 06 1C */	addi r3, r5, 0x61c
/* 803D8E44 003CEBC4  54 80 07 FF */	clrlwi. r0, r4, 0x1f
/* 803D8E48 003CEBC8  41 82 00 4C */	beq lbl_803D8E94
/* 803D8E4C 003CEBCC  80 05 06 20 */	lwz r0, 0x620(r5)
/* 803D8E50 003CEBD0  7C 00 E0 40 */	cmplw r0, r28
/* 803D8E54 003CEBD4  40 82 00 40 */	bne lbl_803D8E94
/* 803D8E58 003CEBD8  60 80 00 02 */	ori r0, r4, 2
/* 803D8E5C 003CEBDC  2C 1D 00 00 */	cmpwi r29, 0
/* 803D8E60 003CEBE0  90 03 00 00 */	stw r0, 0(r3)
/* 803D8E64 003CEBE4  40 82 00 1C */	bne lbl_803D8E80
/* 803D8E68 003CEBE8  81 85 06 40 */	lwz r12, 0x640(r5)
/* 803D8E6C 003CEBEC  2C 0C 00 00 */	cmpwi r12, 0
/* 803D8E70 003CEBF0  41 82 00 10 */	beq lbl_803D8E80
/* 803D8E74 003CEBF4  7D 89 03 A6 */	mtctr r12
/* 803D8E78 003CEBF8  4E 80 04 21 */	bctrl 
/* 803D8E7C 003CEBFC  48 00 00 18 */	b lbl_803D8E94
lbl_803D8E80:
/* 803D8E80 003CEC00  81 85 06 3C */	lwz r12, 0x63c(r5)
/* 803D8E84 003CEC04  2C 0C 00 00 */	cmpwi r12, 0
/* 803D8E88 003CEC08  41 82 00 0C */	beq lbl_803D8E94
/* 803D8E8C 003CEC0C  7D 89 03 A6 */	mtctr r12
/* 803D8E90 003CEC10  4E 80 04 21 */	bctrl 
lbl_803D8E94:
/* 803D8E94 003CEC14  3B DE 00 01 */	addi r30, r30, 1
/* 803D8E98 003CEC18  28 1E 00 1A */	cmplwi r30, 0x1a
/* 803D8E9C 003CEC1C  41 80 FF 94 */	blt lbl_803D8E30
/* 803D8EA0 003CEC20  80 01 00 24 */	lwz r0, 0x24(r1)
/* 803D8EA4 003CEC24  83 E1 00 1C */	lwz r31, 0x1c(r1)
/* 803D8EA8 003CEC28  83 C1 00 18 */	lwz r30, 0x18(r1)
/* 803D8EAC 003CEC2C  83 A1 00 14 */	lwz r29, 0x14(r1)
/* 803D8EB0 003CEC30  83 81 00 10 */	lwz r28, 0x10(r1)
/* 803D8EB4 003CEC34  7C 08 03 A6 */	mtlr r0
/* 803D8EB8 003CEC38  38 21 00 20 */	addi r1, r1, 0x20
/* 803D8EBC 003CEC3C  4E 80 00 20 */	blr 

