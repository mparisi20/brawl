.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global SOGetSockOpt
SOGetSockOpt:
/* 803A84F0 0039E270  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803A84F4 0039E274  7C 08 02 A6 */	mflr r0
/* 803A84F8 0039E278  90 01 00 34 */	stw r0, 0x34(r1)
/* 803A84FC 0039E27C  39 61 00 30 */	addi r11, r1, 0x30
/* 803A8500 0039E280  48 04 8E 1D */	bl _savegpr_26
/* 803A8504 0039E284  7C 7A 1B 78 */	mr r26, r3
/* 803A8508 0039E288  7C 9B 23 78 */	mr r27, r4
/* 803A850C 0039E28C  7C BF 2B 78 */	mr r31, r5
/* 803A8510 0039E290  7C DC 33 78 */	mr r28, r6
/* 803A8514 0039E294  7C FD 3B 78 */	mr r29, r7
/* 803A8518 0039E298  38 81 00 08 */	addi r4, r1, 8
/* 803A851C 0039E29C  38 60 00 00 */	li r3, 0
/* 803A8520 0039E2A0  4B FF E3 3D */	bl SOiPrepare
/* 803A8524 0039E2A4  2C 03 00 00 */	cmpwi r3, 0
/* 803A8528 0039E2A8  40 82 00 B4 */	bne lbl_803A85DC
/* 803A852C 0039E2AC  38 60 00 0C */	li r3, 0xc
/* 803A8530 0039E2B0  38 80 00 20 */	li r4, 0x20
/* 803A8534 0039E2B4  4B FF E2 0D */	bl SOiAlloc
/* 803A8538 0039E2B8  2C 03 00 00 */	cmpwi r3, 0
/* 803A853C 0039E2BC  7C 7E 1B 78 */	mr r30, r3
/* 803A8540 0039E2C0  40 82 00 0C */	bne lbl_803A854C
/* 803A8544 0039E2C4  3B E0 FF CF */	li r31, -49
/* 803A8548 0039E2C8  48 00 00 88 */	b lbl_803A85D0
lbl_803A854C:
/* 803A854C 0039E2CC  93 43 00 00 */	stw r26, 0(r3)
/* 803A8550 0039E2D0  7F C7 F3 78 */	mr r7, r30
/* 803A8554 0039E2D4  38 80 00 08 */	li r4, 8
/* 803A8558 0039E2D8  38 A0 00 00 */	li r5, 0
/* 803A855C 0039E2DC  93 63 00 04 */	stw r27, 4(r3)
/* 803A8560 0039E2E0  38 C0 00 00 */	li r6, 0
/* 803A8564 0039E2E4  39 00 00 18 */	li r8, 0x18
/* 803A8568 0039E2E8  93 E3 00 08 */	stw r31, 8(r3)
/* 803A856C 0039E2EC  80 61 00 08 */	lwz r3, 8(r1)
/* 803A8570 0039E2F0  4B E6 A7 D1 */	bl IOS_Ioctl
/* 803A8574 0039E2F4  2C 03 00 00 */	cmpwi r3, 0
/* 803A8578 0039E2F8  7C 7F 1B 78 */	mr r31, r3
/* 803A857C 0039E2FC  41 80 00 44 */	blt lbl_803A85C0
/* 803A8580 0039E300  2C 1D 00 00 */	cmpwi r29, 0
/* 803A8584 0039E304  41 82 00 3C */	beq lbl_803A85C0
/* 803A8588 0039E308  80 BE 00 0C */	lwz r5, 0xc(r30)
/* 803A858C 0039E30C  80 1D 00 00 */	lwz r0, 0(r29)
/* 803A8590 0039E310  7C 00 28 00 */	cmpw r0, r5
/* 803A8594 0039E314  41 80 00 24 */	blt lbl_803A85B8
/* 803A8598 0039E318  2C 1C 00 00 */	cmpwi r28, 0
/* 803A859C 0039E31C  41 82 00 10 */	beq lbl_803A85AC
/* 803A85A0 0039E320  7F 83 E3 78 */	mr r3, r28
/* 803A85A4 0039E324  38 9E 00 10 */	addi r4, r30, 0x10
/* 803A85A8 0039E328  4B C5 BD 91 */	bl memcpy
lbl_803A85AC:
/* 803A85AC 0039E32C  80 1E 00 0C */	lwz r0, 0xc(r30)
/* 803A85B0 0039E330  90 1D 00 00 */	stw r0, 0(r29)
/* 803A85B4 0039E334  48 00 00 0C */	b lbl_803A85C0
lbl_803A85B8:
/* 803A85B8 0039E338  90 BD 00 00 */	stw r5, 0(r29)
/* 803A85BC 0039E33C  3B E0 FF E4 */	li r31, -28
lbl_803A85C0:
/* 803A85C0 0039E340  7F C4 F3 78 */	mr r4, r30
/* 803A85C4 0039E344  38 60 00 0C */	li r3, 0xc
/* 803A85C8 0039E348  38 A0 00 20 */	li r5, 0x20
/* 803A85CC 0039E34C  4B FF E2 5D */	bl SOiFree
lbl_803A85D0:
/* 803A85D0 0039E350  7F E4 FB 78 */	mr r4, r31
/* 803A85D4 0039E354  38 60 00 00 */	li r3, 0
/* 803A85D8 0039E358  4B FF E3 6D */	bl SOiConclude
lbl_803A85DC:
/* 803A85DC 0039E35C  39 61 00 30 */	addi r11, r1, 0x30
/* 803A85E0 0039E360  48 04 8D 89 */	bl _restgpr_26
/* 803A85E4 0039E364  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803A85E8 0039E368  7C 08 03 A6 */	mtlr r0
/* 803A85EC 0039E36C  38 21 00 30 */	addi r1, r1, 0x30
/* 803A85F0 0039E370  4E 80 00 20 */	blr 

.global SOSetSockOpt
SOSetSockOpt:
/* 803A85F4 0039E374  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803A85F8 0039E378  7C 08 02 A6 */	mflr r0
/* 803A85FC 0039E37C  90 01 00 34 */	stw r0, 0x34(r1)
/* 803A8600 0039E380  39 61 00 30 */	addi r11, r1, 0x30
/* 803A8604 0039E384  48 04 8D 19 */	bl _savegpr_26
/* 803A8608 0039E388  7C 7A 1B 78 */	mr r26, r3
/* 803A860C 0039E38C  7C 9B 23 78 */	mr r27, r4
/* 803A8610 0039E390  7C BC 2B 78 */	mr r28, r5
/* 803A8614 0039E394  7C DD 33 78 */	mr r29, r6
/* 803A8618 0039E398  7C FF 3B 78 */	mr r31, r7
/* 803A861C 0039E39C  38 81 00 08 */	addi r4, r1, 8
/* 803A8620 0039E3A0  38 60 00 00 */	li r3, 0
/* 803A8624 0039E3A4  4B FF E2 39 */	bl SOiPrepare
/* 803A8628 0039E3A8  2C 03 00 00 */	cmpwi r3, 0
/* 803A862C 0039E3AC  40 82 00 B4 */	bne lbl_803A86E0
/* 803A8630 0039E3B0  2C 1F 00 00 */	cmpwi r31, 0
/* 803A8634 0039E3B4  41 80 00 0C */	blt lbl_803A8640
/* 803A8638 0039E3B8  2C 1F 00 14 */	cmpwi r31, 0x14
/* 803A863C 0039E3BC  40 81 00 0C */	ble lbl_803A8648
lbl_803A8640:
/* 803A8640 0039E3C0  3B E0 FF E4 */	li r31, -28
/* 803A8644 0039E3C4  48 00 00 90 */	b lbl_803A86D4
lbl_803A8648:
/* 803A8648 0039E3C8  38 60 00 0C */	li r3, 0xc
/* 803A864C 0039E3CC  38 80 00 40 */	li r4, 0x40
/* 803A8650 0039E3D0  4B FF E0 F1 */	bl SOiAlloc
/* 803A8654 0039E3D4  2C 03 00 00 */	cmpwi r3, 0
/* 803A8658 0039E3D8  7C 7E 1B 78 */	mr r30, r3
/* 803A865C 0039E3DC  40 82 00 0C */	bne lbl_803A8668
/* 803A8660 0039E3E0  3B E0 FF CF */	li r31, -49
/* 803A8664 0039E3E4  48 00 00 70 */	b lbl_803A86D4
lbl_803A8668:
/* 803A8668 0039E3E8  93 43 00 00 */	stw r26, 0(r3)
/* 803A866C 0039E3EC  2C 1D 00 00 */	cmpwi r29, 0
/* 803A8670 0039E3F0  93 63 00 04 */	stw r27, 4(r3)
/* 803A8674 0039E3F4  93 83 00 08 */	stw r28, 8(r3)
/* 803A8678 0039E3F8  93 E3 00 0C */	stw r31, 0xc(r3)
/* 803A867C 0039E3FC  41 82 00 18 */	beq lbl_803A8694
/* 803A8680 0039E400  7F A4 EB 78 */	mr r4, r29
/* 803A8684 0039E404  7F E5 FB 78 */	mr r5, r31
/* 803A8688 0039E408  38 63 00 10 */	addi r3, r3, 0x10
/* 803A868C 0039E40C  4B C5 BC AD */	bl memcpy
/* 803A8690 0039E410  48 00 00 14 */	b lbl_803A86A4
lbl_803A8694:
/* 803A8694 0039E414  7F E5 FB 78 */	mr r5, r31
/* 803A8698 0039E418  38 80 00 00 */	li r4, 0
/* 803A869C 0039E41C  38 63 00 10 */	addi r3, r3, 0x10
/* 803A86A0 0039E420  4B C5 BD 9D */	bl func_8000443C
lbl_803A86A4:
/* 803A86A4 0039E424  80 61 00 08 */	lwz r3, 8(r1)
/* 803A86A8 0039E428  7F C5 F3 78 */	mr r5, r30
/* 803A86AC 0039E42C  38 80 00 09 */	li r4, 9
/* 803A86B0 0039E430  38 C0 00 24 */	li r6, 0x24
/* 803A86B4 0039E434  38 E0 00 00 */	li r7, 0
/* 803A86B8 0039E438  39 00 00 00 */	li r8, 0
/* 803A86BC 0039E43C  4B E6 A6 85 */	bl IOS_Ioctl
/* 803A86C0 0039E440  7C 7F 1B 78 */	mr r31, r3
/* 803A86C4 0039E444  7F C4 F3 78 */	mr r4, r30
/* 803A86C8 0039E448  38 60 00 0C */	li r3, 0xc
/* 803A86CC 0039E44C  38 A0 00 40 */	li r5, 0x40
/* 803A86D0 0039E450  4B FF E1 59 */	bl SOiFree
lbl_803A86D4:
/* 803A86D4 0039E454  7F E4 FB 78 */	mr r4, r31
/* 803A86D8 0039E458  38 60 00 00 */	li r3, 0
/* 803A86DC 0039E45C  4B FF E2 69 */	bl SOiConclude
lbl_803A86E0:
/* 803A86E0 0039E460  39 61 00 30 */	addi r11, r1, 0x30
/* 803A86E4 0039E464  48 04 8C 85 */	bl _restgpr_26
/* 803A86E8 0039E468  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803A86EC 0039E46C  7C 08 03 A6 */	mtlr r0
/* 803A86F0 0039E470  38 21 00 30 */	addi r1, r1, 0x30
/* 803A86F4 0039E474  4E 80 00 20 */	blr 

.global SOGetInterfaceOpt
SOGetInterfaceOpt:
/* 803A86F8 0039E478  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 803A86FC 0039E47C  7C 08 02 A6 */	mflr r0
/* 803A8700 0039E480  90 01 00 34 */	stw r0, 0x34(r1)
/* 803A8704 0039E484  39 61 00 30 */	addi r11, r1, 0x30
/* 803A8708 0039E488  48 04 8C 11 */	bl _savegpr_25
/* 803A870C 0039E48C  7C 9A 23 78 */	mr r26, r4
/* 803A8710 0039E490  7C B9 2B 78 */	mr r25, r5
/* 803A8714 0039E494  7C DE 33 78 */	mr r30, r6
/* 803A8718 0039E498  7C FF 3B 78 */	mr r31, r7
/* 803A871C 0039E49C  38 81 00 0C */	addi r4, r1, 0xc
/* 803A8720 0039E4A0  38 A1 00 08 */	addi r5, r1, 8
/* 803A8724 0039E4A4  38 60 00 00 */	li r3, 0
/* 803A8728 0039E4A8  4B FF E2 79 */	bl SOiPrepareTempRm
/* 803A872C 0039E4AC  2C 03 00 00 */	cmpwi r3, 0
/* 803A8730 0039E4B0  40 82 01 8C */	bne lbl_803A88BC
/* 803A8734 0039E4B4  38 19 EF FF */	addi r0, r25, -4097
/* 803A8738 0039E4B8  28 00 00 01 */	cmplwi r0, 1
/* 803A873C 0039E4BC  41 81 00 0C */	bgt lbl_803A8748
/* 803A8740 0039E4C0  3B 80 FF E4 */	li r28, -28
/* 803A8744 0039E4C4  48 00 01 68 */	b lbl_803A88AC
lbl_803A8748:
/* 803A8748 0039E4C8  2C 1F 00 00 */	cmpwi r31, 0
/* 803A874C 0039E4CC  38 60 00 00 */	li r3, 0
/* 803A8750 0039E4D0  41 82 00 10 */	beq lbl_803A8760
/* 803A8754 0039E4D4  80 1F 00 00 */	lwz r0, 0(r31)
/* 803A8758 0039E4D8  2C 00 00 00 */	cmpwi r0, 0
/* 803A875C 0039E4DC  40 80 00 08 */	bge lbl_803A8764
lbl_803A8760:
/* 803A8760 0039E4E0  38 60 00 01 */	li r3, 1
lbl_803A8764:
/* 803A8764 0039E4E4  2C 03 00 00 */	cmpwi r3, 0
/* 803A8768 0039E4E8  41 82 00 0C */	beq lbl_803A8774
/* 803A876C 0039E4EC  38 60 00 00 */	li r3, 0
/* 803A8770 0039E4F0  48 00 00 08 */	b lbl_803A8778
lbl_803A8774:
/* 803A8774 0039E4F4  80 7F 00 00 */	lwz r3, 0(r31)
lbl_803A8778:
/* 803A8778 0039E4F8  38 03 00 7F */	addi r0, r3, 0x7f
/* 803A877C 0039E4FC  38 60 00 0C */	li r3, 0xc
/* 803A8780 0039E500  54 1D 00 34 */	rlwinm r29, r0, 0, 0, 0x1a
/* 803A8784 0039E504  7F A4 EB 78 */	mr r4, r29
/* 803A8788 0039E508  4B FF DF B9 */	bl SOiAlloc
/* 803A878C 0039E50C  2C 03 00 00 */	cmpwi r3, 0
/* 803A8790 0039E510  7C 7B 1B 78 */	mr r27, r3
/* 803A8794 0039E514  40 82 00 0C */	bne lbl_803A87A0
/* 803A8798 0039E518  3B 80 FF CF */	li r28, -49
/* 803A879C 0039E51C  48 00 01 10 */	b lbl_803A88AC
lbl_803A87A0:
/* 803A87A0 0039E520  93 43 00 20 */	stw r26, 0x20(r3)
/* 803A87A4 0039E524  38 A3 00 20 */	addi r5, r3, 0x20
/* 803A87A8 0039E528  2C 1F 00 00 */	cmpwi r31, 0
/* 803A87AC 0039E52C  38 80 00 00 */	li r4, 0
/* 803A87B0 0039E530  3B 45 00 20 */	addi r26, r5, 0x20
/* 803A87B4 0039E534  93 23 00 24 */	stw r25, 0x24(r3)
/* 803A87B8 0039E538  3B 3A 00 20 */	addi r25, r26, 0x20
/* 803A87BC 0039E53C  41 82 00 10 */	beq lbl_803A87CC
/* 803A87C0 0039E540  80 1F 00 00 */	lwz r0, 0(r31)
/* 803A87C4 0039E544  2C 00 00 00 */	cmpwi r0, 0
/* 803A87C8 0039E548  40 80 00 08 */	bge lbl_803A87D0
lbl_803A87CC:
/* 803A87CC 0039E54C  38 80 00 01 */	li r4, 1
lbl_803A87D0:
/* 803A87D0 0039E550  2C 04 00 00 */	cmpwi r4, 0
/* 803A87D4 0039E554  41 82 00 0C */	beq lbl_803A87E0
/* 803A87D8 0039E558  38 00 00 00 */	li r0, 0
/* 803A87DC 0039E55C  48 00 00 08 */	b lbl_803A87E4
lbl_803A87E0:
/* 803A87E0 0039E560  80 1F 00 00 */	lwz r0, 0(r31)
lbl_803A87E4:
/* 803A87E4 0039E564  90 1A 00 00 */	stw r0, 0(r26)
/* 803A87E8 0039E568  38 00 00 08 */	li r0, 8
/* 803A87EC 0039E56C  2C 1F 00 00 */	cmpwi r31, 0
/* 803A87F0 0039E570  38 80 00 00 */	li r4, 0
/* 803A87F4 0039E574  90 A3 00 00 */	stw r5, 0(r3)
/* 803A87F8 0039E578  90 03 00 04 */	stw r0, 4(r3)
/* 803A87FC 0039E57C  93 23 00 08 */	stw r25, 8(r3)
/* 803A8800 0039E580  41 82 00 10 */	beq lbl_803A8810
/* 803A8804 0039E584  80 1F 00 00 */	lwz r0, 0(r31)
/* 803A8808 0039E588  2C 00 00 00 */	cmpwi r0, 0
/* 803A880C 0039E58C  40 80 00 08 */	bge lbl_803A8814
lbl_803A8810:
/* 803A8810 0039E590  38 80 00 01 */	li r4, 1
lbl_803A8814:
/* 803A8814 0039E594  2C 04 00 00 */	cmpwi r4, 0
/* 803A8818 0039E598  41 82 00 0C */	beq lbl_803A8824
/* 803A881C 0039E59C  38 00 00 00 */	li r0, 0
/* 803A8820 0039E5A0  48 00 00 08 */	b lbl_803A8828
lbl_803A8824:
/* 803A8824 0039E5A4  80 1F 00 00 */	lwz r0, 0(r31)
lbl_803A8828:
/* 803A8828 0039E5A8  90 03 00 0C */	stw r0, 0xc(r3)
/* 803A882C 0039E5AC  38 00 00 04 */	li r0, 4
/* 803A8830 0039E5B0  7F 67 DB 78 */	mr r7, r27
/* 803A8834 0039E5B4  38 80 00 1C */	li r4, 0x1c
/* 803A8838 0039E5B8  93 43 00 10 */	stw r26, 0x10(r3)
/* 803A883C 0039E5BC  38 A0 00 01 */	li r5, 1
/* 803A8840 0039E5C0  38 C0 00 02 */	li r6, 2
/* 803A8844 0039E5C4  90 03 00 14 */	stw r0, 0x14(r3)
/* 803A8848 0039E5C8  80 61 00 0C */	lwz r3, 0xc(r1)
/* 803A884C 0039E5CC  4B E6 A8 45 */	bl IOS_Ioctlv
/* 803A8850 0039E5D0  2C 03 00 00 */	cmpwi r3, 0
/* 803A8854 0039E5D4  7C 7C 1B 78 */	mr r28, r3
/* 803A8858 0039E5D8  41 80 00 44 */	blt lbl_803A889C
/* 803A885C 0039E5DC  2C 1F 00 00 */	cmpwi r31, 0
/* 803A8860 0039E5E0  41 82 00 3C */	beq lbl_803A889C
/* 803A8864 0039E5E4  80 BA 00 00 */	lwz r5, 0(r26)
/* 803A8868 0039E5E8  80 1F 00 00 */	lwz r0, 0(r31)
/* 803A886C 0039E5EC  7C 00 28 00 */	cmpw r0, r5
/* 803A8870 0039E5F0  41 80 00 24 */	blt lbl_803A8894
/* 803A8874 0039E5F4  2C 1E 00 00 */	cmpwi r30, 0
/* 803A8878 0039E5F8  41 82 00 10 */	beq lbl_803A8888
/* 803A887C 0039E5FC  7F C3 F3 78 */	mr r3, r30
/* 803A8880 0039E600  7F 24 CB 78 */	mr r4, r25
/* 803A8884 0039E604  4B C5 BA B5 */	bl memcpy
lbl_803A8888:
/* 803A8888 0039E608  80 1A 00 00 */	lwz r0, 0(r26)
/* 803A888C 0039E60C  90 1F 00 00 */	stw r0, 0(r31)
/* 803A8890 0039E610  48 00 00 0C */	b lbl_803A889C
lbl_803A8894:
/* 803A8894 0039E614  90 BF 00 00 */	stw r5, 0(r31)
/* 803A8898 0039E618  3B 80 FF E4 */	li r28, -28
lbl_803A889C:
/* 803A889C 0039E61C  7F 64 DB 78 */	mr r4, r27
/* 803A88A0 0039E620  7F A5 EB 78 */	mr r5, r29
/* 803A88A4 0039E624  38 60 00 0C */	li r3, 0xc
/* 803A88A8 0039E628  4B FF DF 81 */	bl SOiFree
lbl_803A88AC:
/* 803A88AC 0039E62C  80 A1 00 08 */	lwz r5, 8(r1)
/* 803A88B0 0039E630  7F 84 E3 78 */	mr r4, r28
/* 803A88B4 0039E634  38 60 00 00 */	li r3, 0
/* 803A88B8 0039E638  4B FF E3 C1 */	bl SOiConcludeTempRm
lbl_803A88BC:
/* 803A88BC 0039E63C  39 61 00 30 */	addi r11, r1, 0x30
/* 803A88C0 0039E640  48 04 8A A5 */	bl _restgpr_25
/* 803A88C4 0039E644  80 01 00 34 */	lwz r0, 0x34(r1)
/* 803A88C8 0039E648  7C 08 03 A6 */	mtlr r0
/* 803A88CC 0039E64C  38 21 00 30 */	addi r1, r1, 0x30
/* 803A88D0 0039E650  4E 80 00 20 */	blr 

