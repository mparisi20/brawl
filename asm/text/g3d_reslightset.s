.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global nw4r3g3d11ResLightSetFQ34nw4r3g3d9$7Bind
nw4r3g3d11ResLightSetFQ34nw4r3g3d9$7Bind:
/* 80195D64 0018BAE4  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 80195D68 0018BAE8  7C 08 02 A6 */	mflr r0
/* 80195D6C 0018BAEC  90 01 00 34 */	stw r0, 0x34(r1)
/* 80195D70 0018BAF0  39 61 00 30 */	addi r11, r1, 0x30
/* 80195D74 0018BAF4  48 25 B5 A1 */	bl _savegpr_24
/* 80195D78 0018BAF8  83 23 00 00 */	lwz r25, 0(r3)
/* 80195D7C 0018BAFC  7C 7C 1B 78 */	mr r28, r3
/* 80195D80 0018BB00  7C 9D 23 78 */	mr r29, r4
/* 80195D84 0018BB04  3B E0 00 00 */	li r31, 0
/* 80195D88 0018BB08  80 19 00 14 */	lwz r0, 0x14(r25)
/* 80195D8C 0018BB0C  3B C0 00 00 */	li r30, 0
/* 80195D90 0018BB10  2C 00 00 00 */	cmpwi r0, 0
/* 80195D94 0018BB14  41 82 00 8C */	beq lbl_80195E20
/* 80195D98 0018BB18  7F A3 EB 78 */	mr r3, r29
/* 80195D9C 0018BB1C  48 00 0A AD */	bl nw4r3g3d9ResAnmScnCFv$7HasResAnmAmbLight
/* 80195DA0 0018BB20  2C 03 00 00 */	cmpwi r3, 0
/* 80195DA4 0018BB24  41 82 00 7C */	beq lbl_80195E20
/* 80195DA8 0018BB28  80 9C 00 00 */	lwz r4, 0(r28)
/* 80195DAC 0018BB2C  38 60 00 01 */	li r3, 1
/* 80195DB0 0018BB30  3B E0 00 01 */	li r31, 1
/* 80195DB4 0018BB34  80 04 00 14 */	lwz r0, 0x14(r4)
/* 80195DB8 0018BB38  2C 00 00 00 */	cmpwi r0, 0
/* 80195DBC 0018BB3C  41 82 00 14 */	beq lbl_80195DD0
/* 80195DC0 0018BB40  A0 04 00 18 */	lhz r0, 0x18(r4)
/* 80195DC4 0018BB44  28 00 FF FF */	cmplwi r0, 0xffff
/* 80195DC8 0018BB48  40 82 00 08 */	bne lbl_80195DD0
/* 80195DCC 0018BB4C  38 60 00 00 */	li r3, 0
lbl_80195DD0:
/* 80195DD0 0018BB50  2C 03 00 00 */	cmpwi r3, 0
/* 80195DD4 0018BB54  40 82 00 48 */	bne lbl_80195E1C
/* 80195DD8 0018BB58  80 04 00 14 */	lwz r0, 0x14(r4)
/* 80195DDC 0018BB5C  2C 00 00 00 */	cmpwi r0, 0
/* 80195DE0 0018BB60  41 82 00 10 */	beq lbl_80195DF0
/* 80195DE4 0018BB64  7C 64 02 14 */	add r3, r4, r0
/* 80195DE8 0018BB68  38 03 FF FC */	addi r0, r3, -4
/* 80195DEC 0018BB6C  48 00 00 08 */	b lbl_80195DF4
lbl_80195DF0:
/* 80195DF0 0018BB70  38 00 00 00 */	li r0, 0
lbl_80195DF4:
/* 80195DF4 0018BB74  90 01 00 0C */	stw r0, 0xc(r1)
/* 80195DF8 0018BB78  7F A3 EB 78 */	mr r3, r29
/* 80195DFC 0018BB7C  38 81 00 0C */	addi r4, r1, 0xc
/* 80195E00 0018BB80  48 00 0B E9 */	bl nw4r3g3d9ResAnmScnCFQ34nw4r3g3d7Re$7GetResAnmAmbLight
/* 80195E04 0018BB84  2C 03 00 00 */	cmpwi r3, 0
/* 80195E08 0018BB88  41 82 00 18 */	beq lbl_80195E20
/* 80195E0C 0018BB8C  80 03 00 0C */	lwz r0, 0xc(r3)
/* 80195E10 0018BB90  3B C0 00 01 */	li r30, 1
/* 80195E14 0018BB94  B0 19 00 18 */	sth r0, 0x18(r25)
/* 80195E18 0018BB98  48 00 00 08 */	b lbl_80195E20
lbl_80195E1C:
/* 80195E1C 0018BB9C  3B C0 00 01 */	li r30, 1
lbl_80195E20:
/* 80195E20 0018BBA0  7F A3 EB 78 */	mr r3, r29
/* 80195E24 0018BBA4  48 00 0A 85 */	bl nw4r3g3d9ResAnmScnCFv$7HasResAnmLight
/* 80195E28 0018BBA8  2C 03 00 00 */	cmpwi r3, 0
/* 80195E2C 0018BBAC  41 82 00 80 */	beq lbl_80195EAC
/* 80195E30 0018BBB0  80 7C 00 00 */	lwz r3, 0(r28)
/* 80195E34 0018BBB4  3B 59 00 3C */	addi r26, r25, 0x3c
/* 80195E38 0018BBB8  3B 00 00 00 */	li r24, 0
/* 80195E3C 0018BBBC  3B 20 00 00 */	li r25, 0
/* 80195E40 0018BBC0  8B 63 00 1A */	lbz r27, 0x1a(r3)
/* 80195E44 0018BBC4  7F FF DA 14 */	add r31, r31, r27
/* 80195E48 0018BBC8  48 00 00 5C */	b lbl_80195EA4
lbl_80195E4C:
/* 80195E4C 0018BBCC  A0 1A 00 00 */	lhz r0, 0(r26)
/* 80195E50 0018BBD0  28 00 FF FF */	cmplwi r0, 0xffff
/* 80195E54 0018BBD4  41 82 00 0C */	beq lbl_80195E60
/* 80195E58 0018BBD8  3B DE 00 01 */	addi r30, r30, 1
/* 80195E5C 0018BBDC  48 00 00 3C */	b lbl_80195E98
lbl_80195E60:
/* 80195E60 0018BBE0  80 BC 00 00 */	lwz r5, 0(r28)
/* 80195E64 0018BBE4  7F A3 EB 78 */	mr r3, r29
/* 80195E68 0018BBE8  38 81 00 08 */	addi r4, r1, 8
/* 80195E6C 0018BBEC  38 A5 00 1C */	addi r5, r5, 0x1c
/* 80195E70 0018BBF0  7C 05 C8 2E */	lwzx r0, r5, r25
/* 80195E74 0018BBF4  7C A5 02 14 */	add r5, r5, r0
/* 80195E78 0018BBF8  38 05 FF FC */	addi r0, r5, -4
/* 80195E7C 0018BBFC  90 01 00 08 */	stw r0, 8(r1)
/* 80195E80 0018BC00  48 00 0D 1D */	bl nw4r3g3d9ResAnmScnCFQ34nw4r3g3d7Re$7GetResAnmLight
/* 80195E84 0018BC04  2C 03 00 00 */	cmpwi r3, 0
/* 80195E88 0018BC08  41 82 00 10 */	beq lbl_80195E98
/* 80195E8C 0018BC0C  80 03 00 0C */	lwz r0, 0xc(r3)
/* 80195E90 0018BC10  3B DE 00 01 */	addi r30, r30, 1
/* 80195E94 0018BC14  B0 1A 00 00 */	sth r0, 0(r26)
lbl_80195E98:
/* 80195E98 0018BC18  3B 5A 00 02 */	addi r26, r26, 2
/* 80195E9C 0018BC1C  3B 39 00 04 */	addi r25, r25, 4
/* 80195EA0 0018BC20  3B 18 00 01 */	addi r24, r24, 1
lbl_80195EA4:
/* 80195EA4 0018BC24  7C 18 D8 40 */	cmplw r24, r27
/* 80195EA8 0018BC28  41 80 FF A4 */	blt lbl_80195E4C
lbl_80195EAC:
/* 80195EAC 0018BC2C  7C 1E F8 50 */	subf r0, r30, r31
/* 80195EB0 0018BC30  39 61 00 30 */	addi r11, r1, 0x30
/* 80195EB4 0018BC34  7C 00 00 34 */	cntlzw r0, r0
/* 80195EB8 0018BC38  54 03 D9 7E */	srwi r3, r0, 5
/* 80195EBC 0018BC3C  48 25 B4 A5 */	bl _restgpr_24
/* 80195EC0 0018BC40  80 01 00 34 */	lwz r0, 0x34(r1)
/* 80195EC4 0018BC44  7C 08 03 A6 */	mtlr r0
/* 80195EC8 0018BC48  38 21 00 30 */	addi r1, r1, 0x30
/* 80195ECC 0018BC4C  4E 80 00 20 */	blr 

.global nw4r3g3d11ResLightSetFv$7Release
nw4r3g3d11ResLightSetFv$7Release:
/* 80195ED0 0018BC50  3C 80 00 01 */	lis r4, 0x0000FFFF@ha
/* 80195ED4 0018BC54  80 A3 00 00 */	lwz r5, 0(r3)
/* 80195ED8 0018BC58  38 64 FF FF */	addi r3, r4, 0x0000FFFF@l
/* 80195EDC 0018BC5C  38 C0 00 00 */	li r6, 0
/* 80195EE0 0018BC60  B0 65 00 18 */	sth r3, 0x18(r5)
/* 80195EE4 0018BC64  7C A4 2B 78 */	mr r4, r5
/* 80195EE8 0018BC68  48 00 00 10 */	b lbl_80195EF8
lbl_80195EEC:
/* 80195EEC 0018BC6C  B0 64 00 3C */	sth r3, 0x3c(r4)
/* 80195EF0 0018BC70  38 84 00 02 */	addi r4, r4, 2
/* 80195EF4 0018BC74  38 C6 00 01 */	addi r6, r6, 1
lbl_80195EF8:
/* 80195EF8 0018BC78  88 05 00 1A */	lbz r0, 0x1a(r5)
/* 80195EFC 0018BC7C  7C 06 00 40 */	cmplw r6, r0
/* 80195F00 0018BC80  41 80 FF EC */	blt lbl_80195EEC
/* 80195F04 0018BC84  4E 80 00 20 */	blr 

