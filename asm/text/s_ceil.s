.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global ceil
ceil:
/* 8040036C 003F60EC  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 80400370 003F60F0  D8 21 00 08 */	stfd f1, 8(r1)
/* 80400374 003F60F4  80 A1 00 08 */	lwz r5, 8(r1)
/* 80400378 003F60F8  80 C1 00 0C */	lwz r6, 0xc(r1)
/* 8040037C 003F60FC  54 A3 65 7E */	rlwinm r3, r5, 0xc, 0x15, 0x1f
/* 80400380 003F6100  38 E3 FC 01 */	addi r7, r3, -1023
/* 80400384 003F6104  2C 87 00 14 */	cmpwi cr1, r7, 0x14
/* 80400388 003F6108  40 84 00 94 */	bge cr1, lbl_8040041C
/* 8040038C 003F610C  2C 07 00 00 */	cmpwi r7, 0
/* 80400390 003F6110  40 80 00 40 */	bge lbl_804003D0
/* 80400394 003F6114  C8 42 BD 80 */	lfd f2, lbl_805A50A0-_SDA2_BASE_(r2)
/* 80400398 003F6118  C8 02 BD 88 */	lfd f0, lbl_805A50A8-_SDA2_BASE_(r2)
/* 8040039C 003F611C  FC 22 08 2A */	fadd f1, f2, f1
/* 804003A0 003F6120  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 804003A4 003F6124  40 81 00 F4 */	ble lbl_80400498
/* 804003A8 003F6128  2C 05 00 00 */	cmpwi r5, 0
/* 804003AC 003F612C  40 80 00 10 */	bge lbl_804003BC
/* 804003B0 003F6130  3C A0 80 00 */	lis r5, 0x8000
/* 804003B4 003F6134  38 C0 00 00 */	li r6, 0
/* 804003B8 003F6138  48 00 00 E0 */	b lbl_80400498
lbl_804003BC:
/* 804003BC 003F613C  7C A0 33 79 */	or. r0, r5, r6
/* 804003C0 003F6140  41 82 00 D8 */	beq lbl_80400498
/* 804003C4 003F6144  3C A0 3F F0 */	lis r5, 0x3ff0
/* 804003C8 003F6148  38 C0 00 00 */	li r6, 0
/* 804003CC 003F614C  48 00 00 CC */	b lbl_80400498
lbl_804003D0:
/* 804003D0 003F6150  3C 60 00 10 */	lis r3, 0x000FFFFF@ha
/* 804003D4 003F6154  38 03 FF FF */	addi r0, r3, 0x000FFFFF@l
/* 804003D8 003F6158  7C 04 3E 30 */	sraw r4, r0, r7
/* 804003DC 003F615C  7C A0 20 38 */	and r0, r5, r4
/* 804003E0 003F6160  7C C0 03 79 */	or. r0, r6, r0
/* 804003E4 003F6164  40 82 00 08 */	bne lbl_804003EC
/* 804003E8 003F6168  48 00 00 BC */	b lbl_804004A4
lbl_804003EC:
/* 804003EC 003F616C  C8 42 BD 80 */	lfd f2, lbl_805A50A0-_SDA2_BASE_(r2)
/* 804003F0 003F6170  C8 02 BD 88 */	lfd f0, lbl_805A50A8-_SDA2_BASE_(r2)
/* 804003F4 003F6174  FC 22 08 2A */	fadd f1, f2, f1
/* 804003F8 003F6178  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 804003FC 003F617C  40 81 00 9C */	ble lbl_80400498
/* 80400400 003F6180  2C 05 00 00 */	cmpwi r5, 0
/* 80400404 003F6184  40 81 00 0C */	ble lbl_80400410
/* 80400408 003F6188  7C 60 3E 30 */	sraw r0, r3, r7
/* 8040040C 003F618C  7C A5 02 14 */	add r5, r5, r0
lbl_80400410:
/* 80400410 003F6190  7C A5 20 78 */	andc r5, r5, r4
/* 80400414 003F6194  38 C0 00 00 */	li r6, 0
/* 80400418 003F6198  48 00 00 80 */	b lbl_80400498
lbl_8040041C:
/* 8040041C 003F619C  2C 07 00 33 */	cmpwi r7, 0x33
/* 80400420 003F61A0  40 81 00 14 */	ble lbl_80400434
/* 80400424 003F61A4  2C 07 04 00 */	cmpwi r7, 0x400
/* 80400428 003F61A8  40 82 00 7C */	bne lbl_804004A4
/* 8040042C 003F61AC  FC 21 08 2A */	fadd f1, f1, f1
/* 80400430 003F61B0  48 00 00 74 */	b lbl_804004A4
lbl_80400434:
/* 80400434 003F61B4  38 07 FF EC */	addi r0, r7, -20
/* 80400438 003F61B8  38 60 FF FF */	li r3, -1
/* 8040043C 003F61BC  7C 64 04 30 */	srw r4, r3, r0
/* 80400440 003F61C0  7C C0 20 39 */	and. r0, r6, r4
/* 80400444 003F61C4  40 82 00 08 */	bne lbl_8040044C
/* 80400448 003F61C8  48 00 00 5C */	b lbl_804004A4
lbl_8040044C:
/* 8040044C 003F61CC  C8 42 BD 80 */	lfd f2, lbl_805A50A0-_SDA2_BASE_(r2)
/* 80400450 003F61D0  C8 02 BD 88 */	lfd f0, lbl_805A50A8-_SDA2_BASE_(r2)
/* 80400454 003F61D4  FC 22 08 2A */	fadd f1, f2, f1
/* 80400458 003F61D8  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8040045C 003F61DC  40 81 00 3C */	ble lbl_80400498
/* 80400460 003F61E0  2C 05 00 00 */	cmpwi r5, 0
/* 80400464 003F61E4  40 81 00 30 */	ble lbl_80400494
/* 80400468 003F61E8  40 86 00 0C */	bne cr1, lbl_80400474
/* 8040046C 003F61EC  38 A5 00 01 */	addi r5, r5, 1
/* 80400470 003F61F0  48 00 00 24 */	b lbl_80400494
lbl_80400474:
/* 80400474 003F61F4  20 07 00 34 */	subfic r0, r7, 0x34
/* 80400478 003F61F8  38 60 00 01 */	li r3, 1
/* 8040047C 003F61FC  7C 60 00 30 */	slw r0, r3, r0
/* 80400480 003F6200  7C 06 02 14 */	add r0, r6, r0
/* 80400484 003F6204  7C 00 30 40 */	cmplw r0, r6
/* 80400488 003F6208  40 80 00 08 */	bge lbl_80400490
/* 8040048C 003F620C  38 A5 00 01 */	addi r5, r5, 1
lbl_80400490:
/* 80400490 003F6210  7C 06 03 78 */	mr r6, r0
lbl_80400494:
/* 80400494 003F6214  7C C6 20 78 */	andc r6, r6, r4
lbl_80400498:
/* 80400498 003F6218  90 A1 00 08 */	stw r5, 8(r1)
/* 8040049C 003F621C  90 C1 00 0C */	stw r6, 0xc(r1)
/* 804004A0 003F6220  C8 21 00 08 */	lfd f1, 8(r1)
lbl_804004A4:
/* 804004A4 003F6224  38 21 00 10 */	addi r1, r1, 0x10
/* 804004A8 003F6228  4E 80 00 20 */	blr 

