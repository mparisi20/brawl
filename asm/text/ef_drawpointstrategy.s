.include "macros.inc"

.section .text, "ax"  # 0x8000C860 - 0x804064E0

.global nw4r2ef17DrawPointStrategyFv$7__ct
nw4r2ef17DrawPointStrategyFv$7__ct:
/* 8017B10C 00170E8C  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 8017B110 00170E90  7C 08 02 A6 */	mflr r0
/* 8017B114 00170E94  90 01 00 14 */	stw r0, 0x14(r1)
/* 8017B118 00170E98  93 E1 00 0C */	stw r31, 0xc(r1)
/* 8017B11C 00170E9C  7C 7F 1B 78 */	mr r31, r3
/* 8017B120 00170EA0  4B FF 96 B9 */	bl nw4r2ef16DrawStrategyImplFv$7__ct
/* 8017B124 00170EA4  3C 80 80 46 */	lis r4, lbl_80465530@ha
/* 8017B128 00170EA8  7F E3 FB 78 */	mr r3, r31
/* 8017B12C 00170EAC  38 84 55 30 */	addi r4, r4, lbl_80465530@l
/* 8017B130 00170EB0  90 9F 00 00 */	stw r4, 0(r31)
/* 8017B134 00170EB4  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 8017B138 00170EB8  80 01 00 14 */	lwz r0, 0x14(r1)
/* 8017B13C 00170EBC  7C 08 03 A6 */	mtlr r0
/* 8017B140 00170EC0  38 21 00 10 */	addi r1, r1, 0x10
/* 8017B144 00170EC4  4E 80 00 20 */	blr 

.global nw4r2ef17DrawPointStrategyFRCQ34nw$7Draw
nw4r2ef17DrawPointStrategyFRCQ34nw$7Draw:
/* 8017B148 00170EC8  94 21 FF 40 */	stwu r1, -0xc0(r1)
/* 8017B14C 00170ECC  7C 08 02 A6 */	mflr r0
/* 8017B150 00170ED0  90 01 00 C4 */	stw r0, 0xc4(r1)
/* 8017B154 00170ED4  DB E1 00 B0 */	stfd f31, 0xb0(r1)
/* 8017B158 00170ED8  F3 E1 00 B8 */	psq_st f31, 184(r1), 0, qr0
/* 8017B15C 00170EDC  DB C1 00 A0 */	stfd f30, 0xa0(r1)
/* 8017B160 00170EE0  F3 C1 00 A8 */	psq_st f30, 168(r1), 0, qr0
/* 8017B164 00170EE4  39 61 00 A0 */	addi r11, r1, 0xa0
/* 8017B168 00170EE8  48 27 61 A5 */	bl _savegpr_22
/* 8017B16C 00170EEC  80 C5 00 24 */	lwz r6, 0x24(r5)
/* 8017B170 00170EF0  7C 7D 1B 78 */	mr r29, r3
/* 8017B174 00170EF4  7C 9E 23 78 */	mr r30, r4
/* 8017B178 00170EF8  7C BF 2B 78 */	mr r31, r5
/* 8017B17C 00170EFC  3B 66 00 9C */	addi r27, r6, 0x9c
/* 8017B180 00170F00  7F 64 DB 78 */	mr r4, r27
/* 8017B184 00170F04  4B FF 99 65 */	bl nw4r2ef16DrawStrategyImplFRCQ34nw4$7InitTexture
/* 8017B188 00170F08  7F A3 EB 78 */	mr r3, r29
/* 8017B18C 00170F0C  7F 64 DB 78 */	mr r4, r27
/* 8017B190 00170F10  7F C5 F3 78 */	mr r5, r30
/* 8017B194 00170F14  4B FF 99 C5 */	bl nw4r2ef16DrawStrategyImplFRCQ34nw4$7InitTev
/* 8017B198 00170F18  7F A3 EB 78 */	mr r3, r29
/* 8017B19C 00170F1C  7F E4 FB 78 */	mr r4, r31
/* 8017B1A0 00170F20  7F 65 DB 78 */	mr r5, r27
/* 8017B1A4 00170F24  7F C6 F3 78 */	mr r6, r30
/* 8017B1A8 00170F28  4B FF 9C 91 */	bl nw4r2ef16DrawStrategyImplFPQ34nw4r$7InitColor
/* 8017B1AC 00170F2C  38 60 00 00 */	li r3, 0
/* 8017B1B0 00170F30  38 80 00 01 */	li r4, 1
/* 8017B1B4 00170F34  38 A0 00 01 */	li r5, 1
/* 8017B1B8 00170F38  48 07 61 79 */	bl GXEnableTexOffsets
/* 8017B1BC 00170F3C  48 07 49 55 */	bl GXClearVtxDesc
/* 8017B1C0 00170F40  38 60 00 09 */	li r3, 9
/* 8017B1C4 00170F44  38 80 00 01 */	li r4, 1
/* 8017B1C8 00170F48  48 07 40 B9 */	bl GXSetVtxDesc
/* 8017B1CC 00170F4C  88 1D 00 AE */	lbz r0, 0xae(r29)
/* 8017B1D0 00170F50  2C 00 00 00 */	cmpwi r0, 0
/* 8017B1D4 00170F54  41 82 00 10 */	beq lbl_8017B1E4
/* 8017B1D8 00170F58  38 60 00 0D */	li r3, 0xd
/* 8017B1DC 00170F5C  38 80 00 01 */	li r4, 1
/* 8017B1E0 00170F60  48 07 40 A1 */	bl GXSetVtxDesc
lbl_8017B1E4:
/* 8017B1E4 00170F64  38 60 00 00 */	li r3, 0
/* 8017B1E8 00170F68  38 80 00 09 */	li r4, 9
/* 8017B1EC 00170F6C  38 A0 00 01 */	li r5, 1
/* 8017B1F0 00170F70  38 C0 00 04 */	li r6, 4
/* 8017B1F4 00170F74  38 E0 00 00 */	li r7, 0
/* 8017B1F8 00170F78  48 07 49 4D */	bl GXSetVtxAttrFmt
/* 8017B1FC 00170F7C  38 60 00 00 */	li r3, 0
/* 8017B200 00170F80  38 80 00 0D */	li r4, 0xd
/* 8017B204 00170F84  38 A0 00 01 */	li r5, 1
/* 8017B208 00170F88  38 C0 00 04 */	li r6, 4
/* 8017B20C 00170F8C  38 E0 00 00 */	li r7, 0
/* 8017B210 00170F90  48 07 49 35 */	bl GXSetVtxAttrFmt
/* 8017B214 00170F94  38 60 00 00 */	li r3, 0
/* 8017B218 00170F98  48 07 A0 CD */	bl GXSetCurrentMtx
/* 8017B21C 00170F9C  80 BF 00 24 */	lwz r5, 0x24(r31)
/* 8017B220 00170FA0  7F E3 FB 78 */	mr r3, r31
/* 8017B224 00170FA4  38 81 00 40 */	addi r4, r1, 0x40
/* 8017B228 00170FA8  3B 45 00 9C */	addi r26, r5, 0x9c
/* 8017B22C 00170FAC  4B FF 2C 1D */	bl nw4r2ef15ParticleManagerFPQ34nw4r4$7CalcGlobalMtx
/* 8017B230 00170FB0  7F C3 F3 78 */	mr r3, r30
/* 8017B234 00170FB4  38 81 00 40 */	addi r4, r1, 0x40
/* 8017B238 00170FB8  38 A1 00 10 */	addi r5, r1, 0x10
/* 8017B23C 00170FBC  48 07 0F 7D */	bl PSMTXConcat
/* 8017B240 00170FC0  38 61 00 10 */	addi r3, r1, 0x10
/* 8017B244 00170FC4  38 80 00 00 */	li r4, 0
/* 8017B248 00170FC8  48 07 9F 95 */	bl GXLoadPosMtxImm
/* 8017B24C 00170FCC  81 9D 00 00 */	lwz r12, 0(r29)
/* 8017B250 00170FD0  7F A3 EB 78 */	mr r3, r29
/* 8017B254 00170FD4  A0 1A 00 00 */	lhz r0, 0(r26)
/* 8017B258 00170FD8  81 8C 00 10 */	lwz r12, 0x10(r12)
/* 8017B25C 00170FDC  54 04 05 28 */	rlwinm r4, r0, 0, 0x14, 0x14
/* 8017B260 00170FE0  7D 89 03 A6 */	mtctr r12
/* 8017B264 00170FE4  4E 80 04 21 */	bctrl 
/* 8017B268 00170FE8  81 9D 00 00 */	lwz r12, 0(r29)
/* 8017B26C 00170FEC  7C 7B 1B 78 */	mr r27, r3
/* 8017B270 00170FF0  A0 1A 00 00 */	lhz r0, 0(r26)
/* 8017B274 00170FF4  7F A3 EB 78 */	mr r3, r29
/* 8017B278 00170FF8  81 8C 00 14 */	lwz r12, 0x14(r12)
/* 8017B27C 00170FFC  54 04 05 28 */	rlwinm r4, r0, 0, 0x14, 0x14
/* 8017B280 00171000  7D 89 03 A6 */	mtctr r12
/* 8017B284 00171004  4E 80 04 21 */	bctrl 
/* 8017B288 00171008  7F 6C DB 78 */	mr r12, r27
/* 8017B28C 0017100C  7C 79 1B 78 */	mr r25, r3
/* 8017B290 00171010  7F E3 FB 78 */	mr r3, r31
/* 8017B294 00171014  3B 00 00 00 */	li r24, 0
/* 8017B298 00171018  3A E0 00 01 */	li r23, 1
/* 8017B29C 0017101C  7D 89 03 A6 */	mtctr r12
/* 8017B2A0 00171020  4E 80 04 21 */	bctrl 
/* 8017B2A4 00171024  C3 E2 9D 0C */	lfs f31, lbl_805A302C-_SDA2_BASE_(r2)
/* 8017B2A8 00171028  7C 76 1B 78 */	mr r22, r3
/* 8017B2AC 0017102C  C3 C2 9D 08 */	lfs f30, lbl_805A3028-_SDA2_BASE_(r2)
/* 8017B2B0 00171030  3F 80 CC 01 */	lis r28, 0xcc01
/* 8017B2B4 00171034  48 00 01 1C */	b lbl_8017B3D0
lbl_8017B2B8:
/* 8017B2B8 00171038  C0 36 00 30 */	lfs f1, 0x30(r22)
/* 8017B2BC 0017103C  C0 16 00 38 */	lfs f0, 0x38(r22)
/* 8017B2C0 00171040  80 76 00 C8 */	lwz r3, 0xc8(r22)
/* 8017B2C4 00171044  EC 21 00 32 */	fmuls f1, f1, f0
/* 8017B2C8 00171048  C0 03 00 58 */	lfs f0, 0x58(r3)
/* 8017B2CC 0017104C  EC 21 00 32 */	fmuls f1, f1, f0
/* 8017B2D0 00171050  FC 01 F0 40 */	fcmpo cr0, f1, f30
/* 8017B2D4 00171054  D0 21 00 08 */	stfs f1, 8(r1)
/* 8017B2D8 00171058  41 80 00 E0 */	blt lbl_8017B3B8
/* 8017B2DC 0017105C  C0 0D A4 B0 */	lfs f0, lbl_8059E8D0-_SDA_BASE_(r13)
/* 8017B2E0 00171060  FC 01 00 40 */	fcmpo cr0, f1, f0
/* 8017B2E4 00171064  40 80 00 0C */	bge lbl_8017B2F0
/* 8017B2E8 00171068  38 61 00 08 */	addi r3, r1, 8
/* 8017B2EC 0017106C  48 00 00 08 */	b lbl_8017B2F4
lbl_8017B2F0:
/* 8017B2F0 00171070  38 6D A4 B0 */	addi r3, r13, lbl_8059E8D0-_SDA_BASE_
lbl_8017B2F4:
/* 8017B2F4 00171074  C0 03 00 00 */	lfs f0, 0(r3)
/* 8017B2F8 00171078  EC 1F 00 32 */	fmuls f0, f31, f0
/* 8017B2FC 0017107C  FC 00 00 1E */	fctiwz f0, f0
/* 8017B300 00171080  D8 01 00 70 */	stfd f0, 0x70(r1)
/* 8017B304 00171084  80 81 00 74 */	lwz r4, 0x74(r1)
/* 8017B308 00171088  54 83 06 3F */	clrlwi. r3, r4, 0x18
/* 8017B30C 0017108C  41 82 00 AC */	beq lbl_8017B3B8
/* 8017B310 00171090  57 00 06 3E */	clrlwi r0, r24, 0x18
/* 8017B314 00171094  7C 00 18 40 */	cmplw r0, r3
/* 8017B318 00171098  41 82 00 30 */	beq lbl_8017B348
/* 8017B31C 0017109C  7C 98 23 78 */	mr r24, r4
/* 8017B320 001710A0  38 80 00 05 */	li r4, 5
/* 8017B324 001710A4  48 07 5F D9 */	bl GXSetPointSize
/* 8017B328 001710A8  7F A3 EB 78 */	mr r3, r29
/* 8017B32C 001710AC  7E C4 B3 78 */	mr r4, r22
/* 8017B330 001710B0  7F 45 D3 78 */	mr r5, r26
/* 8017B334 001710B4  7F C6 F3 78 */	mr r6, r30
/* 8017B338 001710B8  7E E7 BB 78 */	mr r7, r23
/* 8017B33C 001710BC  39 00 00 01 */	li r8, 1
/* 8017B340 001710C0  4B FF 9D A9 */	bl nw4r2ef16DrawStrategyImplFPQ34nw4r$7SetupGP
/* 8017B344 001710C4  48 00 00 20 */	b lbl_8017B364
lbl_8017B348:
/* 8017B348 001710C8  7F A3 EB 78 */	mr r3, r29
/* 8017B34C 001710CC  7E C4 B3 78 */	mr r4, r22
/* 8017B350 001710D0  7F 45 D3 78 */	mr r5, r26
/* 8017B354 001710D4  7F C6 F3 78 */	mr r6, r30
/* 8017B358 001710D8  7E E7 BB 78 */	mr r7, r23
/* 8017B35C 001710DC  39 00 00 00 */	li r8, 0
/* 8017B360 001710E0  4B FF 9D 89 */	bl nw4r2ef16DrawStrategyImplFPQ34nw4r$7SetupGP
lbl_8017B364:
/* 8017B364 001710E4  88 DD 00 AE */	lbz r6, 0xae(r29)
/* 8017B368 001710E8  3A E0 00 00 */	li r23, 0
/* 8017B36C 001710EC  38 60 00 B8 */	li r3, 0xb8
/* 8017B370 001710F0  38 80 00 00 */	li r4, 0
/* 8017B374 001710F4  7C 06 00 D0 */	neg r0, r6
/* 8017B378 001710F8  38 A0 00 01 */	li r5, 1
/* 8017B37C 001710FC  7C 00 33 78 */	or r0, r0, r6
/* 8017B380 00171100  54 1B 0F FE */	srwi r27, r0, 0x1f
/* 8017B384 00171104  48 07 5D 05 */	bl GXBegin
/* 8017B388 00171108  C0 56 00 B4 */	lfs f2, 0xb4(r22)
/* 8017B38C 0017110C  2C 1B 00 00 */	cmpwi r27, 0
/* 8017B390 00171110  C0 36 00 B0 */	lfs f1, 0xb0(r22)
/* 8017B394 00171114  C0 16 00 AC */	lfs f0, 0xac(r22)
/* 8017B398 00171118  D0 1C 80 00 */	stfs f0, -0x8000(r28)
/* 8017B39C 0017111C  D0 3C 80 00 */	stfs f1, -0x8000(r28)
/* 8017B3A0 00171120  D0 5C 80 00 */	stfs f2, -0x8000(r28)
/* 8017B3A4 00171124  41 82 00 14 */	beq lbl_8017B3B8
/* 8017B3A8 00171128  C0 02 9D 10 */	lfs f0, lbl_805A3030-_SDA2_BASE_(r2)
/* 8017B3AC 0017112C  D0 1C 80 00 */	stfs f0, -0x8000(r28)
/* 8017B3B0 00171130  C0 02 9D 10 */	lfs f0, lbl_805A3030-_SDA2_BASE_(r2)
/* 8017B3B4 00171134  D0 1C 80 00 */	stfs f0, -0x8000(r28)
lbl_8017B3B8:
/* 8017B3B8 00171138  7F 2C CB 78 */	mr r12, r25
/* 8017B3BC 0017113C  7F E3 FB 78 */	mr r3, r31
/* 8017B3C0 00171140  7E C4 B3 78 */	mr r4, r22
/* 8017B3C4 00171144  7D 89 03 A6 */	mtctr r12
/* 8017B3C8 00171148  4E 80 04 21 */	bctrl 
/* 8017B3CC 0017114C  7C 76 1B 78 */	mr r22, r3
lbl_8017B3D0:
/* 8017B3D0 00171150  2C 16 00 00 */	cmpwi r22, 0
/* 8017B3D4 00171154  40 82 FE E4 */	bne lbl_8017B2B8
/* 8017B3D8 00171158  E3 E1 00 B8 */	psq_l f31, 184(r1), 0, qr0
/* 8017B3DC 0017115C  CB E1 00 B0 */	lfd f31, 0xb0(r1)
/* 8017B3E0 00171160  E3 C1 00 A8 */	psq_l f30, 168(r1), 0, qr0
/* 8017B3E4 00171164  39 61 00 A0 */	addi r11, r1, 0xa0
/* 8017B3E8 00171168  CB C1 00 A0 */	lfd f30, 0xa0(r1)
/* 8017B3EC 0017116C  48 27 5F 6D */	bl _restgpr_22
/* 8017B3F0 00171170  80 01 00 C4 */	lwz r0, 0xc4(r1)
/* 8017B3F4 00171174  7C 08 03 A6 */	mtlr r0
/* 8017B3F8 00171178  38 21 00 C0 */	addi r1, r1, 0xc0
/* 8017B3FC 0017117C  4E 80 00 20 */	blr 

